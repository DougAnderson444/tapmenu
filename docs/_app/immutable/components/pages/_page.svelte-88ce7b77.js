var Hk=Object.defineProperty;var Wk=(t,e,n)=>e in t?Hk(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var po=(t,e,n)=>(Wk(t,typeof e!="symbol"?e+"":e,n),n);import{S as To,i as Ao,s as fo,J as yl,K as bl,m as jn,h as qt,n as un,b as Kn,H as In,C as jr,k as Rn,q as Ho,l as zn,r as Wo,L as Xg,M as eo,N as G0,O as Wy,a as no,e as _a,c as ro,f as tr,g as dd,t as gr,d as fd,x as ya,y as ba,P as $g,z as xa,A as wa,Q as qg,R as Uk,o as Ef,B as Vk,T as Sh,U as Kk,D as Uy,V as Qg,W as e1,X as Gk,E as Vy,F as Ky,G as Gy,Y as Yk,v as Pc,Z as Jk,u as Yy,_ as Xk,p as pd,$ as $k,a0 as Jy,a1 as qk,a2 as Qk}from"../../chunks/index-4668e8f9.js";function e3(t){let e,n;return{c(){e=yl("svg"),n=yl("path"),this.h()},l(r){e=bl(r,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var i=jn(e);n=bl(i,"path",{fill:!0,d:!0}),jn(n).forEach(qt),i.forEach(qt),this.h()},h(){un(n,"fill","currentColor"),un(n,"d","M10.59 13.41c.41.39.41 1.03 0 1.42c-.39.39-1.03.39-1.42 0a5.003 5.003 0 0 1 0-7.07l3.54-3.54a5.003 5.003 0 0 1 7.07 0a5.003 5.003 0 0 1 0 7.07l-1.49 1.49c.01-.82-.12-1.64-.4-2.42l.47-.48a2.982 2.982 0 0 0 0-4.24a2.982 2.982 0 0 0-4.24 0l-3.53 3.53a2.982 2.982 0 0 0 0 4.24m2.82-4.24c.39-.39 1.03-.39 1.42 0a5.003 5.003 0 0 1 0 7.07l-3.54 3.54a5.003 5.003 0 0 1-7.07 0a5.003 5.003 0 0 1 0-7.07l1.49-1.49c-.01.82.12 1.64.4 2.43l-.47.47a2.982 2.982 0 0 0 0 4.24a2.982 2.982 0 0 0 4.24 0l3.53-3.53a2.982 2.982 0 0 0 0-4.24a.973.973 0 0 1 0-1.42Z"),un(e,"xmlns","http://www.w3.org/2000/svg"),un(e,"width","1em"),un(e,"height","1em"),un(e,"viewBox","0 0 24 24")},m(r,i){Kn(r,e,i),In(e,n)},p:jr,i:jr,o:jr,d(r){r&&qt(e)}}}class t3 extends To{constructor(e){super(),Ao(this,e,null,e3,fo,{})}}function n3(t){let e,n;return{c(){e=yl("svg"),n=yl("path"),this.h()},l(r){e=bl(r,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var i=jn(e);n=bl(i,"path",{fill:!0,d:!0}),jn(n).forEach(qt),i.forEach(qt),this.h()},h(){un(n,"fill","currentColor"),un(n,"d","M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86l-3 3.87L9 13.14L6 17h12l-3.86-5.14z"),un(e,"xmlns","http://www.w3.org/2000/svg"),un(e,"width","1em"),un(e,"height","1em"),un(e,"viewBox","0 0 24 24")},m(r,i){Kn(r,e,i),In(e,n)},p:jr,i:jr,o:jr,d(r){r&&qt(e)}}}class r3 extends To{constructor(e){super(),Ao(this,e,null,n3,fo,{})}}function i3(t){let e,n;return{c(){e=yl("svg"),n=yl("path"),this.h()},l(r){e=bl(r,"svg",{xmlns:!0,width:!0,height:!0,viewBox:!0});var i=jn(e);n=bl(i,"path",{fill:!0,d:!0}),jn(n).forEach(qt),i.forEach(qt),this.h()},h(){un(n,"fill","currentColor"),un(n,"d","M16 9v8h-2V9h-4V7h10v2h-4zM8 5v12H6V5H0V3h15v2H8z"),un(e,"xmlns","http://www.w3.org/2000/svg"),un(e,"width","1em"),un(e,"height","1em"),un(e,"viewBox","0 0 20 20")},m(r,i){Kn(r,e,i),In(e,n)},p:jr,i:jr,o:jr,d(r){r&&qt(e)}}}class o3 extends To{constructor(e){super(),Ao(this,e,null,i3,fo,{})}}function a3(t){let e,n,r,i,o,s,c;return{c(){e=Rn("div"),n=Rn("form"),r=Rn("input"),i=Rn("button"),o=Ho("Go"),this.h()},l(u){e=zn(u,"DIV",{class:!0});var x=jn(e);n=zn(x,"FORM",{});var O=jn(n);r=zn(O,"INPUT",{type:!0,class:!0}),i=zn(O,"BUTTON",{class:!0});var Y=jn(i);o=Wo(Y,"Go"),Y.forEach(qt),O.forEach(qt),x.forEach(qt),this.h()},h(){un(r,"type","text"),un(r,"class","rounded p-1 text-black"),un(i,"class","m-1"),un(e,"class","bg-neutral-800 text-white rounded-md shadow-md px-4 py-2")},m(u,x){Kn(u,e,x),In(e,n),In(n,r),Xg(r,t[0]),In(n,i),In(i,o),s||(c=[eo(r,"input",t[3]),eo(i,"click",t[1])],s=!0)},p(u,[x]){x&1&&r.value!==u[0]&&Xg(r,u[0])},i:jr,o:jr,d(u){u&&qt(e),s=!1,G0(c)}}}function s3(t,e,n){const r=Wy();let{previousUrl:i="https://"}=e,o=i;const s=u=>r("value",o);function c(){o=this.value,n(0,o)}return t.$$set=u=>{"previousUrl"in u&&n(2,i=u.previousUrl)},[o,s,i,c]}class l3 extends To{constructor(e){super(),Ao(this,e,s3,a3,fo,{previousUrl:2})}}async function Xy(){return new Promise((t,e)=>{const n=document.createElement("input");n.type="file",n.accept="image/*",n.onchange=async r=>{try{const i=await c3(r);t(i)}catch(i){e("Error getting image",i)}},n.click()})}async function c3(t){const e=t.target.files[0];return await u3(e)}function u3(t){return new Promise((e,n)=>{const r=new FileReader;r.readAsDataURL(t),r.onload=()=>{e(r.result)},r.onerror=i=>{n(i)}})}function t1(t){let e,n,r,i,o,s,c,u,x,O,Y,b,m,a,v,E,h,f;return r=new o3({}),x=new t3({}),b=new r3({}),{c(){e=Rn("div"),n=Rn("button"),ya(r.$$.fragment),i=no(),o=Rn("button"),s=Ho("B"),c=no(),u=Rn("button"),ya(x.$$.fragment),O=no(),Y=Rn("button"),ya(b.$$.fragment),m=no(),a=Rn("input"),this.h()},l(D){e=zn(D,"DIV",{class:!0});var k=jn(e);n=zn(k,"BUTTON",{class:!0});var R=jn(n);ba(r.$$.fragment,R),R.forEach(qt),i=ro(k),o=zn(k,"BUTTON",{class:!0});var d=jn(o);s=Wo(d,"B"),d.forEach(qt),c=ro(k),u=zn(k,"BUTTON",{class:!0});var Z=jn(u);ba(x.$$.fragment,Z),Z.forEach(qt),O=ro(k),Y=zn(k,"BUTTON",{class:!0});var B=jn(Y);ba(b.$$.fragment,B),B.forEach(qt),m=ro(k),a=zn(k,"INPUT",{type:!0,class:!0}),k.forEach(qt),this.h()},h(){un(n,"class","text-xl svelte-1pskarh"),$g(n,"active",t[0].isActive("heading",{level:1})),un(o,"class","text-lg font-semibold p-2 leading-tight svelte-1pskarh"),un(u,"class","p-2 svelte-1pskarh"),un(Y,"class","p-2 svelte-1pskarh"),un(a,"type","color"),un(a,"class","w-7 svelte-1pskarh"),a.value=v=t[0].getAttributes("textStyle").color,un(e,"class","bg-neutral-800 text-white rounded-md shadow-md px-4 py-2 svelte-1pskarh")},m(D,k){Kn(D,e,k),In(e,n),xa(r,n,null),In(e,i),In(e,o),In(o,s),In(e,c),In(e,u),xa(x,u,null),In(e,O),In(e,Y),xa(b,Y,null),In(e,m),In(e,a),E=!0,h||(f=[eo(n,"click",t[5]),eo(o,"click",t[3]),eo(u,"click",t[7]),eo(Y,"click",t[4]),eo(a,"input",t[6])],h=!0)},p(D,k){(!E||k&1)&&$g(n,"active",D[0].isActive("heading",{level:1})),(!E||k&1&&v!==(v=D[0].getAttributes("textStyle").color))&&(a.value=v)},i(D){E||(tr(r.$$.fragment,D),tr(x.$$.fragment,D),tr(b.$$.fragment,D),E=!0)},o(D){gr(r.$$.fragment,D),gr(x.$$.fragment,D),gr(b.$$.fragment,D),E=!1},d(D){D&&qt(e),wa(r),wa(x),wa(b),h=!1,G0(f)}}}function n1(t){let e,n;return e=new l3({props:{previousUrl:t[0].getAttributes("link").href}}),e.$on("value",t[2]),{c(){ya(e.$$.fragment)},l(r){ba(e.$$.fragment,r)},m(r,i){xa(e,r,i),n=!0},p(r,i){const o={};i&1&&(o.previousUrl=r[0].getAttributes("link").href),e.$set(o)},i(r){n||(tr(e.$$.fragment,r),n=!0)},o(r){gr(e.$$.fragment,r),n=!1},d(r){wa(e,r)}}}function d3(t){let e,n,r,i=!t[1]&&t1(t),o=t[1]&&t[0]&&n1(t);return{c(){i&&i.c(),e=no(),o&&o.c(),n=_a()},l(s){i&&i.l(s),e=ro(s),o&&o.l(s),n=_a()},m(s,c){i&&i.m(s,c),Kn(s,e,c),o&&o.m(s,c),Kn(s,n,c),r=!0},p(s,[c]){s[1]?i&&(dd(),gr(i,1,1,()=>{i=null}),fd()):i?(i.p(s,c),c&2&&tr(i,1)):(i=t1(s),i.c(),tr(i,1),i.m(e.parentNode,e)),s[1]&&s[0]?o?(o.p(s,c),c&3&&tr(o,1)):(o=n1(s),o.c(),tr(o,1),o.m(n.parentNode,n)):o&&(dd(),gr(o,1,1,()=>{o=null}),fd())},i(s){r||(tr(i),tr(o),r=!0)},o(s){gr(i),gr(o),r=!1},d(s){i&&i.d(s),s&&qt(e),o&&o.d(s),s&&qt(n)}}}function f3(t,e,n){let{editor:r}=e;r.on("transaction",({editor:Y,transaction:b})=>n(1,i=!1));let i=!1;const o=Y=>{const b=Y.detail;if(b===""){r.chain().focus().extendMarkRange("link").unsetLink().run();return}r.chain().focus().extendMarkRange("link").setLink({href:b}).run(),n(1,i=!1)},s=()=>r.chain().focus().toggleBold().run();async function c(){const Y=await Xy();Y&&r.chain().focus().setImage({src:Y}).run()}const u=()=>r.chain().focus().toggleHeading({level:1}).run(),x=Y=>r.chain().focus().setColor(Y.target.value).run(),O=Y=>n(1,i=!i);return t.$$set=Y=>{"editor"in Y&&n(0,r=Y.editor)},[r,i,o,s,c,u,x,O]}let p3=class extends To{constructor(e){super(),Ao(this,e,f3,d3,fo,{editor:0})}};function Tr(t){this.content=t}Tr.prototype={constructor:Tr,find:function(t){for(var e=0;e<this.content.length;e+=2)if(this.content[e]===t)return e;return-1},get:function(t){var e=this.find(t);return e==-1?void 0:this.content[e+1]},update:function(t,e,n){var r=n&&n!=t?this.remove(n):this,i=r.find(t),o=r.content.slice();return i==-1?o.push(n||t,e):(o[i+1]=e,n&&(o[i]=n)),new Tr(o)},remove:function(t){var e=this.find(t);if(e==-1)return this;var n=this.content.slice();return n.splice(e,2),new Tr(n)},addToStart:function(t,e){return new Tr([t,e].concat(this.remove(t).content))},addToEnd:function(t,e){var n=this.remove(t).content.slice();return n.push(t,e),new Tr(n)},addBefore:function(t,e,n){var r=this.remove(e),i=r.content.slice(),o=r.find(t);return i.splice(o==-1?i.length:o,0,e,n),new Tr(i)},forEach:function(t){for(var e=0;e<this.content.length;e+=2)t(this.content[e],this.content[e+1])},prepend:function(t){return t=Tr.from(t),t.size?new Tr(t.content.concat(this.subtract(t).content)):this},append:function(t){return t=Tr.from(t),t.size?new Tr(this.subtract(t).content.concat(t.content)):this},subtract:function(t){var e=this;t=Tr.from(t);for(var n=0;n<t.content.length;n+=2)e=e.remove(t.content[n]);return e},toObject:function(){var t={};return this.forEach(function(e,n){t[e]=n}),t},get size(){return this.content.length>>1}};Tr.from=function(t){if(t instanceof Tr)return t;var e=[];if(t)for(var n in t)e.push(n,t[n]);return new Tr(e)};function $y(t,e,n){for(let r=0;;r++){if(r==t.childCount||r==e.childCount)return t.childCount==e.childCount?null:n;let i=t.child(r),o=e.child(r);if(i==o){n+=i.nodeSize;continue}if(!i.sameMarkup(o))return n;if(i.isText&&i.text!=o.text){for(let s=0;i.text[s]==o.text[s];s++)n++;return n}if(i.content.size||o.content.size){let s=$y(i.content,o.content,n+1);if(s!=null)return s}n+=i.nodeSize}}function qy(t,e,n,r){for(let i=t.childCount,o=e.childCount;;){if(i==0||o==0)return i==o?null:{a:n,b:r};let s=t.child(--i),c=e.child(--o),u=s.nodeSize;if(s==c){n-=u,r-=u;continue}if(!s.sameMarkup(c))return{a:n,b:r};if(s.isText&&s.text!=c.text){let x=0,O=Math.min(s.text.length,c.text.length);for(;x<O&&s.text[s.text.length-x-1]==c.text[c.text.length-x-1];)x++,n--,r--;return{a:n,b:r}}if(s.content.size||c.content.size){let x=qy(s.content,c.content,n-1,r-1);if(x)return x}n-=u,r-=u}}class xt{constructor(e,n){if(this.content=e,this.size=n||0,n==null)for(let r=0;r<e.length;r++)this.size+=e[r].nodeSize}nodesBetween(e,n,r,i=0,o){for(let s=0,c=0;c<n;s++){let u=this.content[s],x=c+u.nodeSize;if(x>e&&r(u,i+c,o||null,s)!==!1&&u.content.size){let O=c+1;u.nodesBetween(Math.max(0,e-O),Math.min(u.content.size,n-O),r,i+O)}c=x}}descendants(e){this.nodesBetween(0,this.size,e)}textBetween(e,n,r,i){let o="",s=!0;return this.nodesBetween(e,n,(c,u)=>{c.isText?(o+=c.text.slice(Math.max(e,u)-u,n-u),s=!r):c.isLeaf?(i?o+=typeof i=="function"?i(c):i:c.type.spec.leafText&&(o+=c.type.spec.leafText(c)),s=!r):!s&&c.isBlock&&(o+=r,s=!0)},0),o}append(e){if(!e.size)return this;if(!this.size)return e;let n=this.lastChild,r=e.firstChild,i=this.content.slice(),o=0;for(n.isText&&n.sameMarkup(r)&&(i[i.length-1]=n.withText(n.text+r.text),o=1);o<e.content.length;o++)i.push(e.content[o]);return new xt(i,this.size+e.size)}cut(e,n=this.size){if(e==0&&n==this.size)return this;let r=[],i=0;if(n>e)for(let o=0,s=0;s<n;o++){let c=this.content[o],u=s+c.nodeSize;u>e&&((s<e||u>n)&&(c.isText?c=c.cut(Math.max(0,e-s),Math.min(c.text.length,n-s)):c=c.cut(Math.max(0,e-s-1),Math.min(c.content.size,n-s-1))),r.push(c),i+=c.nodeSize),s=u}return new xt(r,i)}cutByIndex(e,n){return e==n?xt.empty:e==0&&n==this.content.length?this:new xt(this.content.slice(e,n))}replaceChild(e,n){let r=this.content[e];if(r==n)return this;let i=this.content.slice(),o=this.size+n.nodeSize-r.nodeSize;return i[e]=n,new xt(i,o)}addToStart(e){return new xt([e].concat(this.content),this.size+e.nodeSize)}addToEnd(e){return new xt(this.content.concat(e),this.size+e.nodeSize)}eq(e){if(this.content.length!=e.content.length)return!1;for(let n=0;n<this.content.length;n++)if(!this.content[n].eq(e.content[n]))return!1;return!0}get firstChild(){return this.content.length?this.content[0]:null}get lastChild(){return this.content.length?this.content[this.content.length-1]:null}get childCount(){return this.content.length}child(e){let n=this.content[e];if(!n)throw new RangeError("Index "+e+" out of range for "+this);return n}maybeChild(e){return this.content[e]||null}forEach(e){for(let n=0,r=0;n<this.content.length;n++){let i=this.content[n];e(i,r,n),r+=i.nodeSize}}findDiffStart(e,n=0){return $y(this,e,n)}findDiffEnd(e,n=this.size,r=e.size){return qy(this,e,n,r)}findIndex(e,n=-1){if(e==0)return Cu(0,e);if(e==this.size)return Cu(this.content.length,e);if(e>this.size||e<0)throw new RangeError(`Position ${e} outside of fragment (${this})`);for(let r=0,i=0;;r++){let o=this.child(r),s=i+o.nodeSize;if(s>=e)return s==e||n>0?Cu(r+1,s):Cu(r,i);i=s}}toString(){return"<"+this.toStringInner()+">"}toStringInner(){return this.content.join(", ")}toJSON(){return this.content.length?this.content.map(e=>e.toJSON()):null}static fromJSON(e,n){if(!n)return xt.empty;if(!Array.isArray(n))throw new RangeError("Invalid input for Fragment.fromJSON");return new xt(n.map(e.nodeFromJSON))}static fromArray(e){if(!e.length)return xt.empty;let n,r=0;for(let i=0;i<e.length;i++){let o=e[i];r+=o.nodeSize,i&&o.isText&&e[i-1].sameMarkup(o)?(n||(n=e.slice(0,i)),n[n.length-1]=o.withText(n[n.length-1].text+o.text)):n&&n.push(o)}return new xt(n||e,r)}static from(e){if(!e)return xt.empty;if(e instanceof xt)return e;if(Array.isArray(e))return this.fromArray(e);if(e.attrs)return new xt([e],e.nodeSize);throw new RangeError("Can not convert "+e+" to a Fragment"+(e.nodesBetween?" (looks like multiple versions of prosemirror-model were loaded)":""))}}xt.empty=new xt([],0);const xp={index:0,offset:0};function Cu(t,e){return xp.index=t,xp.offset=e,xp}function hd(t,e){if(t===e)return!0;if(!(t&&typeof t=="object")||!(e&&typeof e=="object"))return!1;let n=Array.isArray(t);if(Array.isArray(e)!=n)return!1;if(n){if(t.length!=e.length)return!1;for(let r=0;r<t.length;r++)if(!hd(t[r],e[r]))return!1}else{for(let r in t)if(!(r in e)||!hd(t[r],e[r]))return!1;for(let r in e)if(!(r in t))return!1}return!0}let Ln=class Ch{constructor(e,n){this.type=e,this.attrs=n}addToSet(e){let n,r=!1;for(let i=0;i<e.length;i++){let o=e[i];if(this.eq(o))return e;if(this.type.excludes(o.type))n||(n=e.slice(0,i));else{if(o.type.excludes(this.type))return e;!r&&o.type.rank>this.type.rank&&(n||(n=e.slice(0,i)),n.push(this),r=!0),n&&n.push(o)}}return n||(n=e.slice()),r||n.push(this),n}removeFromSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return e.slice(0,n).concat(e.slice(n+1));return e}isInSet(e){for(let n=0;n<e.length;n++)if(this.eq(e[n]))return!0;return!1}eq(e){return this==e||this.type==e.type&&hd(this.attrs,e.attrs)}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Mark.fromJSON");let r=e.marks[n.type];if(!r)throw new RangeError(`There is no mark type ${n.type} in this schema`);return r.create(n.attrs)}static sameSet(e,n){if(e==n)return!0;if(e.length!=n.length)return!1;for(let r=0;r<e.length;r++)if(!e[r].eq(n[r]))return!1;return!0}static setFrom(e){if(!e||Array.isArray(e)&&e.length==0)return Ch.none;if(e instanceof Ch)return[e];let n=e.slice();return n.sort((r,i)=>r.type.rank-i.type.rank),n}};Ln.none=[];class md extends Error{}class Lt{constructor(e,n,r){this.content=e,this.openStart=n,this.openEnd=r}get size(){return this.content.size-this.openStart-this.openEnd}insertAt(e,n){let r=eb(this.content,e+this.openStart,n);return r&&new Lt(r,this.openStart,this.openEnd)}removeBetween(e,n){return new Lt(Qy(this.content,e+this.openStart,n+this.openStart),this.openStart,this.openEnd)}eq(e){return this.content.eq(e.content)&&this.openStart==e.openStart&&this.openEnd==e.openEnd}toString(){return this.content+"("+this.openStart+","+this.openEnd+")"}toJSON(){if(!this.content.size)return null;let e={content:this.content.toJSON()};return this.openStart>0&&(e.openStart=this.openStart),this.openEnd>0&&(e.openEnd=this.openEnd),e}static fromJSON(e,n){if(!n)return Lt.empty;let r=n.openStart||0,i=n.openEnd||0;if(typeof r!="number"||typeof i!="number")throw new RangeError("Invalid input for Slice.fromJSON");return new Lt(xt.fromJSON(e,n.content),r,i)}static maxOpen(e,n=!0){let r=0,i=0;for(let o=e.firstChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.firstChild)r++;for(let o=e.lastChild;o&&!o.isLeaf&&(n||!o.type.spec.isolating);o=o.lastChild)i++;return new Lt(e,r,i)}}Lt.empty=new Lt(xt.empty,0,0);function Qy(t,e,n){let{index:r,offset:i}=t.findIndex(e),o=t.maybeChild(r),{index:s,offset:c}=t.findIndex(n);if(i==e||o.isText){if(c!=n&&!t.child(s).isText)throw new RangeError("Removing non-flat range");return t.cut(0,e).append(t.cut(n))}if(r!=s)throw new RangeError("Removing non-flat range");return t.replaceChild(r,o.copy(Qy(o.content,e-i-1,n-i-1)))}function eb(t,e,n,r){let{index:i,offset:o}=t.findIndex(e),s=t.maybeChild(i);if(o==e||s.isText)return r&&!r.canReplace(i,i,n)?null:t.cut(0,e).append(n).append(t.cut(e));let c=eb(s.content,e-o-1,n);return c&&t.replaceChild(i,s.copy(c))}function h3(t,e,n){if(n.openStart>t.depth)throw new md("Inserted content deeper than insertion position");if(t.depth-n.openStart!=e.depth-n.openEnd)throw new md("Inconsistent open depths");return tb(t,e,n,0)}function tb(t,e,n,r){let i=t.index(r),o=t.node(r);if(i==e.index(r)&&r<t.depth-n.openStart){let s=tb(t,e,n,r+1);return o.copy(o.content.replaceChild(i,s))}else if(n.content.size)if(!n.openStart&&!n.openEnd&&t.depth==r&&e.depth==r){let s=t.parent,c=s.content;return cs(s,c.cut(0,t.parentOffset).append(n.content).append(c.cut(e.parentOffset)))}else{let{start:s,end:c}=m3(n,t);return cs(o,rb(t,s,c,e,r))}else return cs(o,gd(t,e,r))}function nb(t,e){if(!e.type.compatibleContent(t.type))throw new md("Cannot join "+e.type.name+" onto "+t.type.name)}function Dh(t,e,n){let r=t.node(n);return nb(r,e.node(n)),r}function ls(t,e){let n=e.length-1;n>=0&&t.isText&&t.sameMarkup(e[n])?e[n]=t.withText(e[n].text+t.text):e.push(t)}function hc(t,e,n,r){let i=(e||t).node(n),o=0,s=e?e.index(n):i.childCount;t&&(o=t.index(n),t.depth>n?o++:t.textOffset&&(ls(t.nodeAfter,r),o++));for(let c=o;c<s;c++)ls(i.child(c),r);e&&e.depth==n&&e.textOffset&&ls(e.nodeBefore,r)}function cs(t,e){return t.type.checkContent(e),t.copy(e)}function rb(t,e,n,r,i){let o=t.depth>i&&Dh(t,e,i+1),s=r.depth>i&&Dh(n,r,i+1),c=[];return hc(null,t,i,c),o&&s&&e.index(i)==n.index(i)?(nb(o,s),ls(cs(o,rb(t,e,n,r,i+1)),c)):(o&&ls(cs(o,gd(t,e,i+1)),c),hc(e,n,i,c),s&&ls(cs(s,gd(n,r,i+1)),c)),hc(r,null,i,c),new xt(c)}function gd(t,e,n){let r=[];if(hc(null,t,n,r),t.depth>n){let i=Dh(t,e,n+1);ls(cs(i,gd(t,e,n+1)),r)}return hc(e,null,n,r),new xt(r)}function m3(t,e){let n=e.depth-t.openStart,i=e.node(n).copy(t.content);for(let o=n-1;o>=0;o--)i=e.node(o).copy(xt.from(i));return{start:i.resolveNoCache(t.openStart+n),end:i.resolveNoCache(i.content.size-t.openEnd-n)}}class Lc{constructor(e,n,r){this.pos=e,this.path=n,this.parentOffset=r,this.depth=n.length/3-1}resolveDepth(e){return e==null?this.depth:e<0?this.depth+e:e}get parent(){return this.node(this.depth)}get doc(){return this.node(0)}node(e){return this.path[this.resolveDepth(e)*3]}index(e){return this.path[this.resolveDepth(e)*3+1]}indexAfter(e){return e=this.resolveDepth(e),this.index(e)+(e==this.depth&&!this.textOffset?0:1)}start(e){return e=this.resolveDepth(e),e==0?0:this.path[e*3-1]+1}end(e){return e=this.resolveDepth(e),this.start(e)+this.node(e).content.size}before(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position before the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]}after(e){if(e=this.resolveDepth(e),!e)throw new RangeError("There is no position after the top-level node");return e==this.depth+1?this.pos:this.path[e*3-1]+this.path[e*3].nodeSize}get textOffset(){return this.pos-this.path[this.path.length-1]}get nodeAfter(){let e=this.parent,n=this.index(this.depth);if(n==e.childCount)return null;let r=this.pos-this.path[this.path.length-1],i=e.child(n);return r?e.child(n).cut(r):i}get nodeBefore(){let e=this.index(this.depth),n=this.pos-this.path[this.path.length-1];return n?this.parent.child(e).cut(0,n):e==0?null:this.parent.child(e-1)}posAtIndex(e,n){n=this.resolveDepth(n);let r=this.path[n*3],i=n==0?0:this.path[n*3-1]+1;for(let o=0;o<e;o++)i+=r.child(o).nodeSize;return i}marks(){let e=this.parent,n=this.index();if(e.content.size==0)return Ln.none;if(this.textOffset)return e.child(n).marks;let r=e.maybeChild(n-1),i=e.maybeChild(n);if(!r){let c=r;r=i,i=c}let o=r.marks;for(var s=0;s<o.length;s++)o[s].type.spec.inclusive===!1&&(!i||!o[s].isInSet(i.marks))&&(o=o[s--].removeFromSet(o));return o}marksAcross(e){let n=this.parent.maybeChild(this.index());if(!n||!n.isInline)return null;let r=n.marks,i=e.parent.maybeChild(e.index());for(var o=0;o<r.length;o++)r[o].type.spec.inclusive===!1&&(!i||!r[o].isInSet(i.marks))&&(r=r[o--].removeFromSet(r));return r}sharedDepth(e){for(let n=this.depth;n>0;n--)if(this.start(n)<=e&&this.end(n)>=e)return n;return 0}blockRange(e=this,n){if(e.pos<this.pos)return e.blockRange(this);for(let r=this.depth-(this.parent.inlineContent||this.pos==e.pos?1:0);r>=0;r--)if(e.pos<=this.end(r)&&(!n||n(this.node(r))))return new vd(this,e,r);return null}sameParent(e){return this.pos-this.parentOffset==e.pos-e.parentOffset}max(e){return e.pos>this.pos?e:this}min(e){return e.pos<this.pos?e:this}toString(){let e="";for(let n=1;n<=this.depth;n++)e+=(e?"/":"")+this.node(n).type.name+"_"+this.index(n-1);return e+":"+this.parentOffset}static resolve(e,n){if(!(n>=0&&n<=e.content.size))throw new RangeError("Position "+n+" out of range");let r=[],i=0,o=n;for(let s=e;;){let{index:c,offset:u}=s.content.findIndex(o),x=o-u;if(r.push(s,c,i+u),!x||(s=s.child(c),s.isText))break;o=x-1,i+=u+1}return new Lc(n,r,o)}static resolveCached(e,n){for(let i=0;i<wp.length;i++){let o=wp[i];if(o.pos==n&&o.doc==e)return o}let r=wp[kp]=Lc.resolve(e,n);return kp=(kp+1)%g3,r}}let wp=[],kp=0,g3=12;class vd{constructor(e,n,r){this.$from=e,this.$to=n,this.depth=r}get start(){return this.$from.before(this.depth+1)}get end(){return this.$to.after(this.depth+1)}get parent(){return this.$from.node(this.depth)}get startIndex(){return this.$from.index(this.depth)}get endIndex(){return this.$to.indexAfter(this.depth)}}const v3=Object.create(null);let us=class Oh{constructor(e,n,r,i=Ln.none){this.type=e,this.attrs=n,this.marks=i,this.content=r||xt.empty}get nodeSize(){return this.isLeaf?1:2+this.content.size}get childCount(){return this.content.childCount}child(e){return this.content.child(e)}maybeChild(e){return this.content.maybeChild(e)}forEach(e){this.content.forEach(e)}nodesBetween(e,n,r,i=0){this.content.nodesBetween(e,n,r,i,this)}descendants(e){this.nodesBetween(0,this.content.size,e)}get textContent(){return this.isLeaf&&this.type.spec.leafText?this.type.spec.leafText(this):this.textBetween(0,this.content.size,"")}textBetween(e,n,r,i){return this.content.textBetween(e,n,r,i)}get firstChild(){return this.content.firstChild}get lastChild(){return this.content.lastChild}eq(e){return this==e||this.sameMarkup(e)&&this.content.eq(e.content)}sameMarkup(e){return this.hasMarkup(e.type,e.attrs,e.marks)}hasMarkup(e,n,r){return this.type==e&&hd(this.attrs,n||e.defaultAttrs||v3)&&Ln.sameSet(this.marks,r||Ln.none)}copy(e=null){return e==this.content?this:new Oh(this.type,this.attrs,e,this.marks)}mark(e){return e==this.marks?this:new Oh(this.type,this.attrs,this.content,e)}cut(e,n=this.content.size){return e==0&&n==this.content.size?this:this.copy(this.content.cut(e,n))}slice(e,n=this.content.size,r=!1){if(e==n)return Lt.empty;let i=this.resolve(e),o=this.resolve(n),s=r?0:i.sharedDepth(n),c=i.start(s),x=i.node(s).content.cut(i.pos-c,o.pos-c);return new Lt(x,i.depth-s,o.depth-s)}replace(e,n,r){return h3(this.resolve(e),this.resolve(n),r)}nodeAt(e){for(let n=this;;){let{index:r,offset:i}=n.content.findIndex(e);if(n=n.maybeChild(r),!n)return null;if(i==e||n.isText)return n;e-=i+1}}childAfter(e){let{index:n,offset:r}=this.content.findIndex(e);return{node:this.content.maybeChild(n),index:n,offset:r}}childBefore(e){if(e==0)return{node:null,index:0,offset:0};let{index:n,offset:r}=this.content.findIndex(e);if(r<e)return{node:this.content.child(n),index:n,offset:r};let i=this.content.child(n-1);return{node:i,index:n-1,offset:r-i.nodeSize}}resolve(e){return Lc.resolveCached(this,e)}resolveNoCache(e){return Lc.resolve(this,e)}rangeHasMark(e,n,r){let i=!1;return n>e&&this.nodesBetween(e,n,o=>(r.isInSet(o.marks)&&(i=!0),!i)),i}get isBlock(){return this.type.isBlock}get isTextblock(){return this.type.isTextblock}get inlineContent(){return this.type.inlineContent}get isInline(){return this.type.isInline}get isText(){return this.type.isText}get isLeaf(){return this.type.isLeaf}get isAtom(){return this.type.isAtom}toString(){if(this.type.spec.toDebugString)return this.type.spec.toDebugString(this);let e=this.type.name;return this.content.size&&(e+="("+this.content.toStringInner()+")"),ib(this.marks,e)}contentMatchAt(e){let n=this.type.contentMatch.matchFragment(this.content,0,e);if(!n)throw new Error("Called contentMatchAt on a node with invalid content");return n}canReplace(e,n,r=xt.empty,i=0,o=r.childCount){let s=this.contentMatchAt(e).matchFragment(r,i,o),c=s&&s.matchFragment(this.content,n);if(!c||!c.validEnd)return!1;for(let u=i;u<o;u++)if(!this.type.allowsMarks(r.child(u).marks))return!1;return!0}canReplaceWith(e,n,r,i){if(i&&!this.type.allowsMarks(i))return!1;let o=this.contentMatchAt(e).matchType(r),s=o&&o.matchFragment(this.content,n);return s?s.validEnd:!1}canAppend(e){return e.content.size?this.canReplace(this.childCount,this.childCount,e.content):this.type.compatibleContent(e.type)}check(){this.type.checkContent(this.content);let e=Ln.none;for(let n=0;n<this.marks.length;n++)e=this.marks[n].addToSet(e);if(!Ln.sameSet(e,this.marks))throw new RangeError(`Invalid collection of marks for node ${this.type.name}: ${this.marks.map(n=>n.type.name)}`);this.content.forEach(n=>n.check())}toJSON(){let e={type:this.type.name};for(let n in this.attrs){e.attrs=this.attrs;break}return this.content.size&&(e.content=this.content.toJSON()),this.marks.length&&(e.marks=this.marks.map(n=>n.toJSON())),e}static fromJSON(e,n){if(!n)throw new RangeError("Invalid input for Node.fromJSON");let r=null;if(n.marks){if(!Array.isArray(n.marks))throw new RangeError("Invalid mark data for Node.fromJSON");r=n.marks.map(e.markFromJSON)}if(n.type=="text"){if(typeof n.text!="string")throw new RangeError("Invalid text node in JSON");return e.text(n.text,r)}let i=xt.fromJSON(e,n.content);return e.nodeType(n.type).create(n.attrs,i,r)}};us.prototype.text=void 0;class yd extends us{constructor(e,n,r,i){if(super(e,n,null,i),!r)throw new RangeError("Empty text nodes are not allowed");this.text=r}toString(){return this.type.spec.toDebugString?this.type.spec.toDebugString(this):ib(this.marks,JSON.stringify(this.text))}get textContent(){return this.text}textBetween(e,n){return this.text.slice(e,n)}get nodeSize(){return this.text.length}mark(e){return e==this.marks?this:new yd(this.type,this.attrs,this.text,e)}withText(e){return e==this.text?this:new yd(this.type,this.attrs,e,this.marks)}cut(e=0,n=this.text.length){return e==0&&n==this.text.length?this:this.withText(this.text.slice(e,n))}eq(e){return this.sameMarkup(e)&&this.text==e.text}toJSON(){let e=super.toJSON();return e.text=this.text,e}}function ib(t,e){for(let n=t.length-1;n>=0;n--)e=t[n].type.name+"("+e+")";return e}class gs{constructor(e){this.validEnd=e,this.next=[],this.wrapCache=[]}static parse(e,n){let r=new y3(e,n);if(r.next==null)return gs.empty;let i=ob(r);r.next&&r.err("Unexpected trailing text");let o=C3(S3(i));return D3(o,r),o}matchType(e){for(let n=0;n<this.next.length;n++)if(this.next[n].type==e)return this.next[n].next;return null}matchFragment(e,n=0,r=e.childCount){let i=this;for(let o=n;i&&o<r;o++)i=i.matchType(e.child(o).type);return i}get inlineContent(){return this.next.length!=0&&this.next[0].type.isInline}get defaultType(){for(let e=0;e<this.next.length;e++){let{type:n}=this.next[e];if(!(n.isText||n.hasRequiredAttrs()))return n}return null}compatible(e){for(let n=0;n<this.next.length;n++)for(let r=0;r<e.next.length;r++)if(this.next[n].type==e.next[r].type)return!0;return!1}fillBefore(e,n=!1,r=0){let i=[this];function o(s,c){let u=s.matchFragment(e,r);if(u&&(!n||u.validEnd))return xt.from(c.map(x=>x.createAndFill()));for(let x=0;x<s.next.length;x++){let{type:O,next:Y}=s.next[x];if(!(O.isText||O.hasRequiredAttrs())&&i.indexOf(Y)==-1){i.push(Y);let b=o(Y,c.concat(O));if(b)return b}}return null}return o(this,[])}findWrapping(e){for(let r=0;r<this.wrapCache.length;r+=2)if(this.wrapCache[r]==e)return this.wrapCache[r+1];let n=this.computeWrapping(e);return this.wrapCache.push(e,n),n}computeWrapping(e){let n=Object.create(null),r=[{match:this,type:null,via:null}];for(;r.length;){let i=r.shift(),o=i.match;if(o.matchType(e)){let s=[];for(let c=i;c.type;c=c.via)s.push(c.type);return s.reverse()}for(let s=0;s<o.next.length;s++){let{type:c,next:u}=o.next[s];!c.isLeaf&&!c.hasRequiredAttrs()&&!(c.name in n)&&(!i.type||u.validEnd)&&(r.push({match:c.contentMatch,type:c,via:i}),n[c.name]=!0)}}return null}get edgeCount(){return this.next.length}edge(e){if(e>=this.next.length)throw new RangeError(`There's no ${e}th edge in this content match`);return this.next[e]}toString(){let e=[];function n(r){e.push(r);for(let i=0;i<r.next.length;i++)e.indexOf(r.next[i].next)==-1&&n(r.next[i].next)}return n(this),e.map((r,i)=>{let o=i+(r.validEnd?"*":" ")+" ";for(let s=0;s<r.next.length;s++)o+=(s?", ":"")+r.next[s].type.name+"->"+e.indexOf(r.next[s].next);return o}).join(`
`)}}gs.empty=new gs(!0);class y3{constructor(e,n){this.string=e,this.nodeTypes=n,this.inline=null,this.pos=0,this.tokens=e.split(/\s*(?=\b|\W|$)/),this.tokens[this.tokens.length-1]==""&&this.tokens.pop(),this.tokens[0]==""&&this.tokens.shift()}get next(){return this.tokens[this.pos]}eat(e){return this.next==e&&(this.pos++||!0)}err(e){throw new SyntaxError(e+" (in content expression '"+this.string+"')")}}function ob(t){let e=[];do e.push(b3(t));while(t.eat("|"));return e.length==1?e[0]:{type:"choice",exprs:e}}function b3(t){let e=[];do e.push(x3(t));while(t.next&&t.next!=")"&&t.next!="|");return e.length==1?e[0]:{type:"seq",exprs:e}}function x3(t){let e=E3(t);for(;;)if(t.eat("+"))e={type:"plus",expr:e};else if(t.eat("*"))e={type:"star",expr:e};else if(t.eat("?"))e={type:"opt",expr:e};else if(t.eat("{"))e=w3(t,e);else break;return e}function r1(t){/\D/.test(t.next)&&t.err("Expected number, got '"+t.next+"'");let e=Number(t.next);return t.pos++,e}function w3(t,e){let n=r1(t),r=n;return t.eat(",")&&(t.next!="}"?r=r1(t):r=-1),t.eat("}")||t.err("Unclosed braced range"),{type:"range",min:n,max:r,expr:e}}function k3(t,e){let n=t.nodeTypes,r=n[e];if(r)return[r];let i=[];for(let o in n){let s=n[o];s.groups.indexOf(e)>-1&&i.push(s)}return i.length==0&&t.err("No node type or group '"+e+"' found"),i}function E3(t){if(t.eat("(")){let e=ob(t);return t.eat(")")||t.err("Missing closing paren"),e}else if(/\W/.test(t.next))t.err("Unexpected token '"+t.next+"'");else{let e=k3(t,t.next).map(n=>(t.inline==null?t.inline=n.isInline:t.inline!=n.isInline&&t.err("Mixing inline and block content"),{type:"name",value:n}));return t.pos++,e.length==1?e[0]:{type:"choice",exprs:e}}}function S3(t){let e=[[]];return i(o(t,0),n()),e;function n(){return e.push([])-1}function r(s,c,u){let x={term:u,to:c};return e[s].push(x),x}function i(s,c){s.forEach(u=>u.to=c)}function o(s,c){if(s.type=="choice")return s.exprs.reduce((u,x)=>u.concat(o(x,c)),[]);if(s.type=="seq")for(let u=0;;u++){let x=o(s.exprs[u],c);if(u==s.exprs.length-1)return x;i(x,c=n())}else if(s.type=="star"){let u=n();return r(c,u),i(o(s.expr,u),u),[r(u)]}else if(s.type=="plus"){let u=n();return i(o(s.expr,c),u),i(o(s.expr,u),u),[r(u)]}else{if(s.type=="opt")return[r(c)].concat(o(s.expr,c));if(s.type=="range"){let u=c;for(let x=0;x<s.min;x++){let O=n();i(o(s.expr,u),O),u=O}if(s.max==-1)i(o(s.expr,u),u);else for(let x=s.min;x<s.max;x++){let O=n();r(u,O),i(o(s.expr,u),O),u=O}return[r(u)]}else{if(s.type=="name")return[r(c,void 0,s.value)];throw new Error("Unknown expr type")}}}}function ab(t,e){return e-t}function i1(t,e){let n=[];return r(e),n.sort(ab);function r(i){let o=t[i];if(o.length==1&&!o[0].term)return r(o[0].to);n.push(i);for(let s=0;s<o.length;s++){let{term:c,to:u}=o[s];!c&&n.indexOf(u)==-1&&r(u)}}}function C3(t){let e=Object.create(null);return n(i1(t,0));function n(r){let i=[];r.forEach(s=>{t[s].forEach(({term:c,to:u})=>{if(!c)return;let x;for(let O=0;O<i.length;O++)i[O][0]==c&&(x=i[O][1]);i1(t,u).forEach(O=>{x||i.push([c,x=[]]),x.indexOf(O)==-1&&x.push(O)})})});let o=e[r.join(",")]=new gs(r.indexOf(t.length-1)>-1);for(let s=0;s<i.length;s++){let c=i[s][1].sort(ab);o.next.push({type:i[s][0],next:e[c.join(",")]||n(c)})}return o}}function D3(t,e){for(let n=0,r=[t];n<r.length;n++){let i=r[n],o=!i.validEnd,s=[];for(let c=0;c<i.next.length;c++){let{type:u,next:x}=i.next[c];s.push(u.name),o&&!(u.isText||u.hasRequiredAttrs())&&(o=!1),r.indexOf(x)==-1&&r.push(x)}o&&e.err("Only non-generatable nodes ("+s.join(", ")+") in a required position (see https://prosemirror.net/docs/guide/#generatable)")}}function sb(t){let e=Object.create(null);for(let n in t){let r=t[n];if(!r.hasDefault)return null;e[n]=r.default}return e}function lb(t,e){let n=Object.create(null);for(let r in t){let i=e&&e[r];if(i===void 0){let o=t[r];if(o.hasDefault)i=o.default;else throw new RangeError("No value supplied for attribute "+r)}n[r]=i}return n}function cb(t){let e=Object.create(null);if(t)for(let n in t)e[n]=new O3(t[n]);return e}let o1=class ub{constructor(e,n,r){this.name=e,this.schema=n,this.spec=r,this.markSet=null,this.groups=r.group?r.group.split(" "):[],this.attrs=cb(r.attrs),this.defaultAttrs=sb(this.attrs),this.contentMatch=null,this.inlineContent=null,this.isBlock=!(r.inline||e=="text"),this.isText=e=="text"}get isInline(){return!this.isBlock}get isTextblock(){return this.isBlock&&this.inlineContent}get isLeaf(){return this.contentMatch==gs.empty}get isAtom(){return this.isLeaf||!!this.spec.atom}get whitespace(){return this.spec.whitespace||(this.spec.code?"pre":"normal")}hasRequiredAttrs(){for(let e in this.attrs)if(this.attrs[e].isRequired)return!0;return!1}compatibleContent(e){return this==e||this.contentMatch.compatible(e.contentMatch)}computeAttrs(e){return!e&&this.defaultAttrs?this.defaultAttrs:lb(this.attrs,e)}create(e=null,n,r){if(this.isText)throw new Error("NodeType.create can't construct text nodes");return new us(this,this.computeAttrs(e),xt.from(n),Ln.setFrom(r))}createChecked(e=null,n,r){return n=xt.from(n),this.checkContent(n),new us(this,this.computeAttrs(e),n,Ln.setFrom(r))}createAndFill(e=null,n,r){if(e=this.computeAttrs(e),n=xt.from(n),n.size){let s=this.contentMatch.fillBefore(n);if(!s)return null;n=s.append(n)}let i=this.contentMatch.matchFragment(n),o=i&&i.fillBefore(xt.empty,!0);return o?new us(this,e,n.append(o),Ln.setFrom(r)):null}validContent(e){let n=this.contentMatch.matchFragment(e);if(!n||!n.validEnd)return!1;for(let r=0;r<e.childCount;r++)if(!this.allowsMarks(e.child(r).marks))return!1;return!0}checkContent(e){if(!this.validContent(e))throw new RangeError(`Invalid content for node ${this.name}: ${e.toString().slice(0,50)}`)}allowsMarkType(e){return this.markSet==null||this.markSet.indexOf(e)>-1}allowsMarks(e){if(this.markSet==null)return!0;for(let n=0;n<e.length;n++)if(!this.allowsMarkType(e[n].type))return!1;return!0}allowedMarks(e){if(this.markSet==null)return e;let n;for(let r=0;r<e.length;r++)this.allowsMarkType(e[r].type)?n&&n.push(e[r]):n||(n=e.slice(0,r));return n?n.length?n:Ln.none:e}static compile(e,n){let r=Object.create(null);e.forEach((o,s)=>r[o]=new ub(o,n,s));let i=n.spec.topNode||"doc";if(!r[i])throw new RangeError("Schema is missing its top node type ('"+i+"')");if(!r.text)throw new RangeError("Every schema needs a 'text' type");for(let o in r.text.attrs)throw new RangeError("The text node type should not have attributes");return r}};class O3{constructor(e){this.hasDefault=Object.prototype.hasOwnProperty.call(e,"default"),this.default=e.default}get isRequired(){return!this.hasDefault}}class Sf{constructor(e,n,r,i){this.name=e,this.rank=n,this.schema=r,this.spec=i,this.attrs=cb(i.attrs),this.excluded=null;let o=sb(this.attrs);this.instance=o?new Ln(this,o):null}create(e=null){return!e&&this.instance?this.instance:new Ln(this,lb(this.attrs,e))}static compile(e,n){let r=Object.create(null),i=0;return e.forEach((o,s)=>r[o]=new Sf(o,i++,n,s)),r}removeFromSet(e){for(var n=0;n<e.length;n++)e[n].type==this&&(e=e.slice(0,n).concat(e.slice(n+1)),n--);return e}isInSet(e){for(let n=0;n<e.length;n++)if(e[n].type==this)return e[n]}excludes(e){return this.excluded.indexOf(e)>-1}}class M3{constructor(e){this.cached=Object.create(null);let n=this.spec={};for(let i in e)n[i]=e[i];n.nodes=Tr.from(e.nodes),n.marks=Tr.from(e.marks||{}),this.nodes=o1.compile(this.spec.nodes,this),this.marks=Sf.compile(this.spec.marks,this);let r=Object.create(null);for(let i in this.nodes){if(i in this.marks)throw new RangeError(i+" can not be both a node and a mark");let o=this.nodes[i],s=o.spec.content||"",c=o.spec.marks;o.contentMatch=r[s]||(r[s]=gs.parse(s,this.nodes)),o.inlineContent=o.contentMatch.inlineContent,o.markSet=c=="_"?null:c?a1(this,c.split(" ")):c==""||!o.inlineContent?[]:null}for(let i in this.marks){let o=this.marks[i],s=o.spec.excludes;o.excluded=s==null?[o]:s==""?[]:a1(this,s.split(" "))}this.nodeFromJSON=this.nodeFromJSON.bind(this),this.markFromJSON=this.markFromJSON.bind(this),this.topNodeType=this.nodes[this.spec.topNode||"doc"],this.cached.wrappings=Object.create(null)}node(e,n=null,r,i){if(typeof e=="string")e=this.nodeType(e);else if(e instanceof o1){if(e.schema!=this)throw new RangeError("Node type from different schema used ("+e.name+")")}else throw new RangeError("Invalid node type: "+e);return e.createChecked(n,r,i)}text(e,n){let r=this.nodes.text;return new yd(r,r.defaultAttrs,e,Ln.setFrom(n))}mark(e,n){return typeof e=="string"&&(e=this.marks[e]),e.create(n)}nodeFromJSON(e){return us.fromJSON(this,e)}markFromJSON(e){return Ln.fromJSON(this,e)}nodeType(e){let n=this.nodes[e];if(!n)throw new RangeError("Unknown node type: "+e);return n}}function a1(t,e){let n=[];for(let r=0;r<e.length;r++){let i=e[r],o=t.marks[i],s=o;if(o)n.push(o);else for(let c in t.marks){let u=t.marks[c];(i=="_"||u.spec.group&&u.spec.group.split(" ").indexOf(i)>-1)&&n.push(s=u)}if(!s)throw new SyntaxError("Unknown mark type: '"+e[r]+"'")}return n}let Y0=class Mh{constructor(e,n){this.schema=e,this.rules=n,this.tags=[],this.styles=[],n.forEach(r=>{r.tag?this.tags.push(r):r.style&&this.styles.push(r)}),this.normalizeLists=!this.tags.some(r=>{if(!/^(ul|ol)\b/.test(r.tag)||!r.node)return!1;let i=e.nodes[r.node];return i.contentMatch.matchType(i)})}parse(e,n={}){let r=new l1(this,n,!1);return r.addAll(e,n.from,n.to),r.finish()}parseSlice(e,n={}){let r=new l1(this,n,!0);return r.addAll(e,n.from,n.to),Lt.maxOpen(r.finish())}matchTag(e,n,r){for(let i=r?this.tags.indexOf(r)+1:0;i<this.tags.length;i++){let o=this.tags[i];if(I3(e,o.tag)&&(o.namespace===void 0||e.namespaceURI==o.namespace)&&(!o.context||n.matchesContext(o.context))){if(o.getAttrs){let s=o.getAttrs(e);if(s===!1)continue;o.attrs=s||void 0}return o}}}matchStyle(e,n,r,i){for(let o=i?this.styles.indexOf(i)+1:0;o<this.styles.length;o++){let s=this.styles[o],c=s.style;if(!(c.indexOf(e)!=0||s.context&&!r.matchesContext(s.context)||c.length>e.length&&(c.charCodeAt(e.length)!=61||c.slice(e.length+1)!=n))){if(s.getAttrs){let u=s.getAttrs(n);if(u===!1)continue;s.attrs=u||void 0}return s}}}static schemaRules(e){let n=[];function r(i){let o=i.priority==null?50:i.priority,s=0;for(;s<n.length;s++){let c=n[s];if((c.priority==null?50:c.priority)<o)break}n.splice(s,0,i)}for(let i in e.marks){let o=e.marks[i].spec.parseDOM;o&&o.forEach(s=>{r(s=c1(s)),s.mark||s.ignore||s.clearMark||(s.mark=i)})}for(let i in e.nodes){let o=e.nodes[i].spec.parseDOM;o&&o.forEach(s=>{r(s=c1(s)),s.node||s.ignore||s.mark||(s.node=i)})}return n}static fromSchema(e){return e.cached.domParser||(e.cached.domParser=new Mh(e,Mh.schemaRules(e)))}};const db={address:!0,article:!0,aside:!0,blockquote:!0,canvas:!0,dd:!0,div:!0,dl:!0,fieldset:!0,figcaption:!0,figure:!0,footer:!0,form:!0,h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,header:!0,hgroup:!0,hr:!0,li:!0,noscript:!0,ol:!0,output:!0,p:!0,pre:!0,section:!0,table:!0,tfoot:!0,ul:!0},T3={head:!0,noscript:!0,object:!0,script:!0,style:!0,title:!0},fb={ol:!0,ul:!0},bd=1,xd=2,mc=4;function s1(t,e,n){return e!=null?(e?bd:0)|(e==="full"?xd:0):t&&t.whitespace=="pre"?bd|xd:n&~mc}class Du{constructor(e,n,r,i,o,s,c){this.type=e,this.attrs=n,this.marks=r,this.pendingMarks=i,this.solid=o,this.options=c,this.content=[],this.activeMarks=Ln.none,this.stashMarks=[],this.match=s||(c&mc?null:e.contentMatch)}findWrapping(e){if(!this.match){if(!this.type)return[];let n=this.type.contentMatch.fillBefore(xt.from(e));if(n)this.match=this.type.contentMatch.matchFragment(n);else{let r=this.type.contentMatch,i;return(i=r.findWrapping(e.type))?(this.match=r,i):null}}return this.match.findWrapping(e.type)}finish(e){if(!(this.options&bd)){let r=this.content[this.content.length-1],i;if(r&&r.isText&&(i=/[ \t\r\n\u000c]+$/.exec(r.text))){let o=r;r.text.length==i[0].length?this.content.pop():this.content[this.content.length-1]=o.withText(o.text.slice(0,o.text.length-i[0].length))}}let n=xt.from(this.content);return!e&&this.match&&(n=n.append(this.match.fillBefore(xt.empty,!0))),this.type?this.type.create(this.attrs,n,this.marks):n}popFromStashMark(e){for(let n=this.stashMarks.length-1;n>=0;n--)if(e.eq(this.stashMarks[n]))return this.stashMarks.splice(n,1)[0]}applyPending(e){for(let n=0,r=this.pendingMarks;n<r.length;n++){let i=r[n];(this.type?this.type.allowsMarkType(i.type):_3(i.type,e))&&!i.isInSet(this.activeMarks)&&(this.activeMarks=i.addToSet(this.activeMarks),this.pendingMarks=i.removeFromSet(this.pendingMarks))}}inlineContext(e){return this.type?this.type.inlineContent:this.content.length?this.content[0].isInline:e.parentNode&&!db.hasOwnProperty(e.parentNode.nodeName.toLowerCase())}}class l1{constructor(e,n,r){this.parser=e,this.options=n,this.isOpen=r,this.open=0;let i=n.topNode,o,s=s1(null,n.preserveWhitespace,0)|(r?mc:0);i?o=new Du(i.type,i.attrs,Ln.none,Ln.none,!0,n.topMatch||i.type.contentMatch,s):r?o=new Du(null,null,Ln.none,Ln.none,!0,null,s):o=new Du(e.schema.topNodeType,null,Ln.none,Ln.none,!0,null,s),this.nodes=[o],this.find=n.findPositions,this.needsBlock=!1}get top(){return this.nodes[this.open]}addDOM(e){if(e.nodeType==3)this.addTextNode(e);else if(e.nodeType==1){let n=e.getAttribute("style");if(!n)this.addElement(e);else{let r=this.readStyles(j3(n));if(!r)return;let[i,o]=r,s=this.top;for(let c=0;c<o.length;c++)this.removePendingMark(o[c],s);for(let c=0;c<i.length;c++)this.addPendingMark(i[c]);this.addElement(e);for(let c=0;c<i.length;c++)this.removePendingMark(i[c],s);for(let c=0;c<o.length;c++)this.addPendingMark(o[c])}}}addTextNode(e){let n=e.nodeValue,r=this.top;if(r.options&xd||r.inlineContext(e)||/[^ \t\r\n\u000c]/.test(n)){if(r.options&bd)r.options&xd?n=n.replace(/\r\n?/g,`
`):n=n.replace(/\r?\n|\r/g," ");else if(n=n.replace(/[ \t\r\n\u000c]+/g," "),/^[ \t\r\n\u000c]/.test(n)&&this.open==this.nodes.length-1){let i=r.content[r.content.length-1],o=e.previousSibling;(!i||o&&o.nodeName=="BR"||i.isText&&/[ \t\r\n\u000c]$/.test(i.text))&&(n=n.slice(1))}n&&this.insertNode(this.parser.schema.text(n)),this.findInText(e)}else this.findInside(e)}addElement(e,n){let r=e.nodeName.toLowerCase(),i;fb.hasOwnProperty(r)&&this.parser.normalizeLists&&A3(e);let o=this.options.ruleFromNode&&this.options.ruleFromNode(e)||(i=this.parser.matchTag(e,this,n));if(o?o.ignore:T3.hasOwnProperty(r))this.findInside(e),this.ignoreFallback(e);else if(!o||o.skip||o.closeParent){o&&o.closeParent?this.open=Math.max(0,this.open-1):o&&o.skip.nodeType&&(e=o.skip);let s,c=this.top,u=this.needsBlock;if(db.hasOwnProperty(r))c.content.length&&c.content[0].isInline&&this.open&&(this.open--,c=this.top),s=!0,c.type||(this.needsBlock=!0);else if(!e.firstChild){this.leafFallback(e);return}this.addAll(e),s&&this.sync(c),this.needsBlock=u}else this.addElementByRule(e,o,o.consuming===!1?i:void 0)}leafFallback(e){e.nodeName=="BR"&&this.top.type&&this.top.type.inlineContent&&this.addTextNode(e.ownerDocument.createTextNode(`
`))}ignoreFallback(e){e.nodeName=="BR"&&(!this.top.type||!this.top.type.inlineContent)&&this.findPlace(this.parser.schema.text("-"))}readStyles(e){let n=Ln.none,r=Ln.none;e:for(let i=0;i<e.length;i+=2)for(let o=void 0;;){let s=this.parser.matchStyle(e[i],e[i+1],this,o);if(!s)continue e;if(s.ignore)return null;if(s.clearMark?this.top.pendingMarks.forEach(c=>{s.clearMark(c)&&(r=c.addToSet(r))}):n=this.parser.schema.marks[s.mark].create(s.attrs).addToSet(n),s.consuming===!1)o=s;else break}return[n,r]}addElementByRule(e,n,r){let i,o,s;n.node?(o=this.parser.schema.nodes[n.node],o.isLeaf?this.insertNode(o.create(n.attrs))||this.leafFallback(e):i=this.enter(o,n.attrs||null,n.preserveWhitespace)):(s=this.parser.schema.marks[n.mark].create(n.attrs),this.addPendingMark(s));let c=this.top;if(o&&o.isLeaf)this.findInside(e);else if(r)this.addElement(e,r);else if(n.getContent)this.findInside(e),n.getContent(e,this.parser.schema).forEach(u=>this.insertNode(u));else{let u=e;typeof n.contentElement=="string"?u=e.querySelector(n.contentElement):typeof n.contentElement=="function"?u=n.contentElement(e):n.contentElement&&(u=n.contentElement),this.findAround(e,u,!0),this.addAll(u)}i&&this.sync(c)&&this.open--,s&&this.removePendingMark(s,c)}addAll(e,n,r){let i=n||0;for(let o=n?e.childNodes[n]:e.firstChild,s=r==null?null:e.childNodes[r];o!=s;o=o.nextSibling,++i)this.findAtPoint(e,i),this.addDOM(o);this.findAtPoint(e,i)}findPlace(e){let n,r;for(let i=this.open;i>=0;i--){let o=this.nodes[i],s=o.findWrapping(e);if(s&&(!n||n.length>s.length)&&(n=s,r=o,!s.length)||o.solid)break}if(!n)return!1;this.sync(r);for(let i=0;i<n.length;i++)this.enterInner(n[i],null,!1);return!0}insertNode(e){if(e.isInline&&this.needsBlock&&!this.top.type){let n=this.textblockFromContext();n&&this.enterInner(n)}if(this.findPlace(e)){this.closeExtra();let n=this.top;n.applyPending(e.type),n.match&&(n.match=n.match.matchType(e.type));let r=n.activeMarks;for(let i=0;i<e.marks.length;i++)(!n.type||n.type.allowsMarkType(e.marks[i].type))&&(r=e.marks[i].addToSet(r));return n.content.push(e.mark(r)),!0}return!1}enter(e,n,r){let i=this.findPlace(e.create(n));return i&&this.enterInner(e,n,!0,r),i}enterInner(e,n=null,r=!1,i){this.closeExtra();let o=this.top;o.applyPending(e),o.match=o.match&&o.match.matchType(e);let s=s1(e,i,o.options);o.options&mc&&o.content.length==0&&(s|=mc),this.nodes.push(new Du(e,n,o.activeMarks,o.pendingMarks,r,null,s)),this.open++}closeExtra(e=!1){let n=this.nodes.length-1;if(n>this.open){for(;n>this.open;n--)this.nodes[n-1].content.push(this.nodes[n].finish(e));this.nodes.length=this.open+1}}finish(){return this.open=0,this.closeExtra(this.isOpen),this.nodes[0].finish(this.isOpen||this.options.topOpen)}sync(e){for(let n=this.open;n>=0;n--)if(this.nodes[n]==e)return this.open=n,!0;return!1}get currentPos(){this.closeExtra();let e=0;for(let n=this.open;n>=0;n--){let r=this.nodes[n].content;for(let i=r.length-1;i>=0;i--)e+=r[i].nodeSize;n&&e++}return e}findAtPoint(e,n){if(this.find)for(let r=0;r<this.find.length;r++)this.find[r].node==e&&this.find[r].offset==n&&(this.find[r].pos=this.currentPos)}findInside(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].pos==null&&e.nodeType==1&&e.contains(this.find[n].node)&&(this.find[n].pos=this.currentPos)}findAround(e,n,r){if(e!=n&&this.find)for(let i=0;i<this.find.length;i++)this.find[i].pos==null&&e.nodeType==1&&e.contains(this.find[i].node)&&n.compareDocumentPosition(this.find[i].node)&(r?2:4)&&(this.find[i].pos=this.currentPos)}findInText(e){if(this.find)for(let n=0;n<this.find.length;n++)this.find[n].node==e&&(this.find[n].pos=this.currentPos-(e.nodeValue.length-this.find[n].offset))}matchesContext(e){if(e.indexOf("|")>-1)return e.split(/\s*\|\s*/).some(this.matchesContext,this);let n=e.split("/"),r=this.options.context,i=!this.isOpen&&(!r||r.parent.type==this.nodes[0].type),o=-(r?r.depth+1:0)+(i?0:1),s=(c,u)=>{for(;c>=0;c--){let x=n[c];if(x==""){if(c==n.length-1||c==0)continue;for(;u>=o;u--)if(s(c-1,u))return!0;return!1}else{let O=u>0||u==0&&i?this.nodes[u].type:r&&u>=o?r.node(u-o).type:null;if(!O||O.name!=x&&O.groups.indexOf(x)==-1)return!1;u--}}return!0};return s(n.length-1,this.open)}textblockFromContext(){let e=this.options.context;if(e)for(let n=e.depth;n>=0;n--){let r=e.node(n).contentMatchAt(e.indexAfter(n)).defaultType;if(r&&r.isTextblock&&r.defaultAttrs)return r}for(let n in this.parser.schema.nodes){let r=this.parser.schema.nodes[n];if(r.isTextblock&&r.defaultAttrs)return r}}addPendingMark(e){let n=P3(e,this.top.pendingMarks);n&&this.top.stashMarks.push(n),this.top.pendingMarks=e.addToSet(this.top.pendingMarks)}removePendingMark(e,n){for(let r=this.open;r>=0;r--){let i=this.nodes[r];if(i.pendingMarks.lastIndexOf(e)>-1)i.pendingMarks=e.removeFromSet(i.pendingMarks);else{i.activeMarks=e.removeFromSet(i.activeMarks);let s=i.popFromStashMark(e);s&&i.type&&i.type.allowsMarkType(s.type)&&(i.activeMarks=s.addToSet(i.activeMarks))}if(i==n)break}}}function A3(t){for(let e=t.firstChild,n=null;e;e=e.nextSibling){let r=e.nodeType==1?e.nodeName.toLowerCase():null;r&&fb.hasOwnProperty(r)&&n?(n.appendChild(e),e=n):r=="li"?n=e:r&&(n=null)}}function I3(t,e){return(t.matches||t.msMatchesSelector||t.webkitMatchesSelector||t.mozMatchesSelector).call(t,e)}function j3(t){let e=/\s*([\w-]+)\s*:\s*([^;]+)/g,n,r=[];for(;n=e.exec(t);)r.push(n[1],n[2].trim());return r}function c1(t){let e={};for(let n in t)e[n]=t[n];return e}function _3(t,e){let n=e.schema.nodes;for(let r in n){let i=n[r];if(!i.allowsMarkType(t))continue;let o=[],s=c=>{o.push(c);for(let u=0;u<c.edgeCount;u++){let{type:x,next:O}=c.edge(u);if(x==e||o.indexOf(O)<0&&s(O))return!0}};if(s(i.contentMatch))return!0}}function P3(t,e){for(let n=0;n<e.length;n++)if(t.eq(e[n]))return e[n]}class wo{constructor(e,n){this.nodes=e,this.marks=n}serializeFragment(e,n={},r){r||(r=Ep(n).createDocumentFragment());let i=r,o=[];return e.forEach(s=>{if(o.length||s.marks.length){let c=0,u=0;for(;c<o.length&&u<s.marks.length;){let x=s.marks[u];if(!this.marks[x.type.name]){u++;continue}if(!x.eq(o[c][0])||x.type.spec.spanning===!1)break;c++,u++}for(;c<o.length;)i=o.pop()[1];for(;u<s.marks.length;){let x=s.marks[u++],O=this.serializeMark(x,s.isInline,n);O&&(o.push([x,i]),i.appendChild(O.dom),i=O.contentDOM||O.dom)}}i.appendChild(this.serializeNodeInner(s,n))}),r}serializeNodeInner(e,n){let{dom:r,contentDOM:i}=wo.renderSpec(Ep(n),this.nodes[e.type.name](e));if(i){if(e.isLeaf)throw new RangeError("Content hole not allowed in a leaf node spec");this.serializeFragment(e.content,n,i)}return r}serializeNode(e,n={}){let r=this.serializeNodeInner(e,n);for(let i=e.marks.length-1;i>=0;i--){let o=this.serializeMark(e.marks[i],e.isInline,n);o&&((o.contentDOM||o.dom).appendChild(r),r=o.dom)}return r}serializeMark(e,n,r={}){let i=this.marks[e.type.name];return i&&wo.renderSpec(Ep(r),i(e,n))}static renderSpec(e,n,r=null){if(typeof n=="string")return{dom:e.createTextNode(n)};if(n.nodeType!=null)return{dom:n};if(n.dom&&n.dom.nodeType!=null)return n;let i=n[0],o=i.indexOf(" ");o>0&&(r=i.slice(0,o),i=i.slice(o+1));let s,c=r?e.createElementNS(r,i):e.createElement(i),u=n[1],x=1;if(u&&typeof u=="object"&&u.nodeType==null&&!Array.isArray(u)){x=2;for(let O in u)if(u[O]!=null){let Y=O.indexOf(" ");Y>0?c.setAttributeNS(O.slice(0,Y),O.slice(Y+1),u[O]):c.setAttribute(O,u[O])}}for(let O=x;O<n.length;O++){let Y=n[O];if(Y===0){if(O<n.length-1||O>x)throw new RangeError("Content hole must be the only child of its parent node");return{dom:c,contentDOM:c}}else{let{dom:b,contentDOM:m}=wo.renderSpec(e,Y,r);if(c.appendChild(b),m){if(s)throw new RangeError("Multiple content holes");s=m}}}return{dom:c,contentDOM:s}}static fromSchema(e){return e.cached.domSerializer||(e.cached.domSerializer=new wo(this.nodesFromSchema(e),this.marksFromSchema(e)))}static nodesFromSchema(e){let n=u1(e.nodes);return n.text||(n.text=r=>r.text),n}static marksFromSchema(e){return u1(e.marks)}}function u1(t){let e={};for(let n in t){let r=t[n].spec.toDOM;r&&(e[n]=r)}return e}function Ep(t){return t.document||window.document}const pb=65535,hb=Math.pow(2,16);function L3(t,e){return t+e*hb}function d1(t){return t&pb}function N3(t){return(t-(t&pb))/hb}const mb=1,gb=2,Yu=4,vb=8;class Th{constructor(e,n,r){this.pos=e,this.delInfo=n,this.recover=r}get deleted(){return(this.delInfo&vb)>0}get deletedBefore(){return(this.delInfo&(mb|Yu))>0}get deletedAfter(){return(this.delInfo&(gb|Yu))>0}get deletedAcross(){return(this.delInfo&Yu)>0}}class Li{constructor(e,n=!1){if(this.ranges=e,this.inverted=n,!e.length&&Li.empty)return Li.empty}recover(e){let n=0,r=d1(e);if(!this.inverted)for(let i=0;i<r;i++)n+=this.ranges[i*3+2]-this.ranges[i*3+1];return this.ranges[r*3]+n+N3(e)}mapResult(e,n=1){return this._map(e,n,!1)}map(e,n=1){return this._map(e,n,!0)}_map(e,n,r){let i=0,o=this.inverted?2:1,s=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?i:0);if(u>e)break;let x=this.ranges[c+o],O=this.ranges[c+s],Y=u+x;if(e<=Y){let b=x?e==u?-1:e==Y?1:n:n,m=u+i+(b<0?0:O);if(r)return m;let a=e==(n<0?u:Y)?null:L3(c/3,e-u),v=e==u?gb:e==Y?mb:Yu;return(n<0?e!=u:e!=Y)&&(v|=vb),new Th(m,v,a)}i+=O-x}return r?e+i:new Th(e+i,0,null)}touches(e,n){let r=0,i=d1(n),o=this.inverted?2:1,s=this.inverted?1:2;for(let c=0;c<this.ranges.length;c+=3){let u=this.ranges[c]-(this.inverted?r:0);if(u>e)break;let x=this.ranges[c+o],O=u+x;if(e<=O&&c==i*3)return!0;r+=this.ranges[c+s]-x}return!1}forEach(e){let n=this.inverted?2:1,r=this.inverted?1:2;for(let i=0,o=0;i<this.ranges.length;i+=3){let s=this.ranges[i],c=s-(this.inverted?o:0),u=s+(this.inverted?0:o),x=this.ranges[i+n],O=this.ranges[i+r];e(c,c+x,u,u+O),o+=O-x}}invert(){return new Li(this.ranges,!this.inverted)}toString(){return(this.inverted?"-":"")+JSON.stringify(this.ranges)}static offset(e){return e==0?Li.empty:new Li(e<0?[0,-e,0]:[0,0,e])}}Li.empty=new Li([]);class ll{constructor(e=[],n,r=0,i=e.length){this.maps=e,this.mirror=n,this.from=r,this.to=i}slice(e=0,n=this.maps.length){return new ll(this.maps,this.mirror,e,n)}copy(){return new ll(this.maps.slice(),this.mirror&&this.mirror.slice(),this.from,this.to)}appendMap(e,n){this.to=this.maps.push(e),n!=null&&this.setMirror(this.maps.length-1,n)}appendMapping(e){for(let n=0,r=this.maps.length;n<e.maps.length;n++){let i=e.getMirror(n);this.appendMap(e.maps[n],i!=null&&i<n?r+i:void 0)}}getMirror(e){if(this.mirror){for(let n=0;n<this.mirror.length;n++)if(this.mirror[n]==e)return this.mirror[n+(n%2?-1:1)]}}setMirror(e,n){this.mirror||(this.mirror=[]),this.mirror.push(e,n)}appendMappingInverted(e){for(let n=e.maps.length-1,r=this.maps.length+e.maps.length;n>=0;n--){let i=e.getMirror(n);this.appendMap(e.maps[n].invert(),i!=null&&i>n?r-i-1:void 0)}}invert(){let e=new ll;return e.appendMappingInverted(this),e}map(e,n=1){if(this.mirror)return this._map(e,n,!0);for(let r=this.from;r<this.to;r++)e=this.maps[r].map(e,n);return e}mapResult(e,n=1){return this._map(e,n,!1)}_map(e,n,r){let i=0;for(let o=this.from;o<this.to;o++){let s=this.maps[o],c=s.mapResult(e,n);if(c.recover!=null){let u=this.getMirror(o);if(u!=null&&u>o&&u<this.to){o=u,e=this.maps[u].recover(c.recover);continue}}i|=c.delInfo,e=c.pos}return r?e:new Th(e,i,null)}}const Sp=Object.create(null);class fi{getMap(){return Li.empty}merge(e){return null}static fromJSON(e,n){if(!n||!n.stepType)throw new RangeError("Invalid input for Step.fromJSON");let r=Sp[n.stepType];if(!r)throw new RangeError(`No step type ${n.stepType} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Sp)throw new RangeError("Duplicate use of step JSON ID "+e);return Sp[e]=n,n.prototype.jsonID=e,n}}class vr{constructor(e,n){this.doc=e,this.failed=n}static ok(e){return new vr(e,null)}static fail(e){return new vr(null,e)}static fromReplace(e,n,r,i){try{return vr.ok(e.replace(n,r,i))}catch(o){if(o instanceof md)return vr.fail(o.message);throw o}}}function J0(t,e,n){let r=[];for(let i=0;i<t.childCount;i++){let o=t.child(i);o.content.size&&(o=o.copy(J0(o.content,e,o))),o.isInline&&(o=e(o,n,i)),r.push(o)}return xt.fromArray(r)}class pa extends fi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=e.resolve(this.from),i=r.node(r.sharedDepth(this.to)),o=new Lt(J0(n.content,(s,c)=>!s.isAtom||!c.type.allowsMarkType(this.mark.type)?s:s.mark(this.mark.addToSet(s.marks)),i),n.openStart,n.openEnd);return vr.fromReplace(e,this.from,this.to,o)}invert(){return new ko(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new pa(n.pos,r.pos,this.mark)}merge(e){return e instanceof pa&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new pa(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"addMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for AddMarkStep.fromJSON");return new pa(n.from,n.to,e.markFromJSON(n.mark))}}fi.jsonID("addMark",pa);class ko extends fi{constructor(e,n,r){super(),this.from=e,this.to=n,this.mark=r}apply(e){let n=e.slice(this.from,this.to),r=new Lt(J0(n.content,i=>i.mark(this.mark.removeFromSet(i.marks)),e),n.openStart,n.openEnd);return vr.fromReplace(e,this.from,this.to,r)}invert(){return new pa(this.from,this.to,this.mark)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deleted&&r.deleted||n.pos>=r.pos?null:new ko(n.pos,r.pos,this.mark)}merge(e){return e instanceof ko&&e.mark.eq(this.mark)&&this.from<=e.to&&this.to>=e.from?new ko(Math.min(this.from,e.from),Math.max(this.to,e.to),this.mark):null}toJSON(){return{stepType:"removeMark",mark:this.mark.toJSON(),from:this.from,to:this.to}}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for RemoveMarkStep.fromJSON");return new ko(n.from,n.to,e.markFromJSON(n.mark))}}fi.jsonID("removeMark",ko);class ha extends fi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return vr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.addToSet(n.marks));return vr.fromReplace(e,this.pos,this.pos+1,new Lt(xt.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);if(n){let r=this.mark.addToSet(n.marks);if(r.length==n.marks.length){for(let i=0;i<n.marks.length;i++)if(!n.marks[i].isInSet(r))return new ha(this.pos,n.marks[i]);return new ha(this.pos,this.mark)}}return new xl(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ha(n.pos,this.mark)}toJSON(){return{stepType:"addNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for AddNodeMarkStep.fromJSON");return new ha(n.pos,e.markFromJSON(n.mark))}}fi.jsonID("addNodeMark",ha);class xl extends fi{constructor(e,n){super(),this.pos=e,this.mark=n}apply(e){let n=e.nodeAt(this.pos);if(!n)return vr.fail("No node at mark step's position");let r=n.type.create(n.attrs,null,this.mark.removeFromSet(n.marks));return vr.fromReplace(e,this.pos,this.pos+1,new Lt(xt.from(r),0,n.isLeaf?0:1))}invert(e){let n=e.nodeAt(this.pos);return!n||!this.mark.isInSet(n.marks)?this:new ha(this.pos,this.mark)}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new xl(n.pos,this.mark)}toJSON(){return{stepType:"removeNodeMark",pos:this.pos,mark:this.mark.toJSON()}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for RemoveNodeMarkStep.fromJSON");return new xl(n.pos,e.markFromJSON(n.mark))}}fi.jsonID("removeNodeMark",xl);class Hr extends fi{constructor(e,n,r,i=!1){super(),this.from=e,this.to=n,this.slice=r,this.structure=i}apply(e){return this.structure&&Ah(e,this.from,this.to)?vr.fail("Structure replace would overwrite content"):vr.fromReplace(e,this.from,this.to,this.slice)}getMap(){return new Li([this.from,this.to-this.from,this.slice.size])}invert(e){return new Hr(this.from,this.from+this.slice.size,e.slice(this.from,this.to))}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1);return n.deletedAcross&&r.deletedAcross?null:new Hr(n.pos,Math.max(n.pos,r.pos),this.slice)}merge(e){if(!(e instanceof Hr)||e.structure||this.structure)return null;if(this.from+this.slice.size==e.from&&!this.slice.openEnd&&!e.slice.openStart){let n=this.slice.size+e.slice.size==0?Lt.empty:new Lt(this.slice.content.append(e.slice.content),this.slice.openStart,e.slice.openEnd);return new Hr(this.from,this.to+(e.to-e.from),n,this.structure)}else if(e.to==this.from&&!this.slice.openStart&&!e.slice.openEnd){let n=this.slice.size+e.slice.size==0?Lt.empty:new Lt(e.slice.content.append(this.slice.content),e.slice.openStart,this.slice.openEnd);return new Hr(e.from,this.to,n,this.structure)}else return null}toJSON(){let e={stepType:"replace",from:this.from,to:this.to};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number")throw new RangeError("Invalid input for ReplaceStep.fromJSON");return new Hr(n.from,n.to,Lt.fromJSON(e,n.slice),!!n.structure)}}fi.jsonID("replace",Hr);class Er extends fi{constructor(e,n,r,i,o,s,c=!1){super(),this.from=e,this.to=n,this.gapFrom=r,this.gapTo=i,this.slice=o,this.insert=s,this.structure=c}apply(e){if(this.structure&&(Ah(e,this.from,this.gapFrom)||Ah(e,this.gapTo,this.to)))return vr.fail("Structure gap-replace would overwrite content");let n=e.slice(this.gapFrom,this.gapTo);if(n.openStart||n.openEnd)return vr.fail("Gap is not a flat range");let r=this.slice.insertAt(this.insert,n.content);return r?vr.fromReplace(e,this.from,this.to,r):vr.fail("Content does not fit in gap")}getMap(){return new Li([this.from,this.gapFrom-this.from,this.insert,this.gapTo,this.to-this.gapTo,this.slice.size-this.insert])}invert(e){let n=this.gapTo-this.gapFrom;return new Er(this.from,this.from+this.slice.size+n,this.from+this.insert,this.from+this.insert+n,e.slice(this.from,this.to).removeBetween(this.gapFrom-this.from,this.gapTo-this.from),this.gapFrom-this.from,this.structure)}map(e){let n=e.mapResult(this.from,1),r=e.mapResult(this.to,-1),i=e.map(this.gapFrom,-1),o=e.map(this.gapTo,1);return n.deletedAcross&&r.deletedAcross||i<n.pos||o>r.pos?null:new Er(n.pos,r.pos,i,o,this.slice,this.insert,this.structure)}toJSON(){let e={stepType:"replaceAround",from:this.from,to:this.to,gapFrom:this.gapFrom,gapTo:this.gapTo,insert:this.insert};return this.slice.size&&(e.slice=this.slice.toJSON()),this.structure&&(e.structure=!0),e}static fromJSON(e,n){if(typeof n.from!="number"||typeof n.to!="number"||typeof n.gapFrom!="number"||typeof n.gapTo!="number"||typeof n.insert!="number")throw new RangeError("Invalid input for ReplaceAroundStep.fromJSON");return new Er(n.from,n.to,n.gapFrom,n.gapTo,Lt.fromJSON(e,n.slice),n.insert,!!n.structure)}}fi.jsonID("replaceAround",Er);function Ah(t,e,n){let r=t.resolve(e),i=n-e,o=r.depth;for(;i>0&&o>0&&r.indexAfter(o)==r.node(o).childCount;)o--,i--;if(i>0){let s=r.node(o).maybeChild(r.indexAfter(o));for(;i>0;){if(!s||s.isLeaf)return!0;s=s.firstChild,i--}}return!1}function R3(t,e,n,r){let i=[],o=[],s,c;t.doc.nodesBetween(e,n,(u,x,O)=>{if(!u.isInline)return;let Y=u.marks;if(!r.isInSet(Y)&&O.type.allowsMarkType(r.type)){let b=Math.max(x,e),m=Math.min(x+u.nodeSize,n),a=r.addToSet(Y);for(let v=0;v<Y.length;v++)Y[v].isInSet(a)||(s&&s.to==b&&s.mark.eq(Y[v])?s.to=m:i.push(s=new ko(b,m,Y[v])));c&&c.to==b?c.to=m:o.push(c=new pa(b,m,r))}}),i.forEach(u=>t.step(u)),o.forEach(u=>t.step(u))}function z3(t,e,n,r){let i=[],o=0;t.doc.nodesBetween(e,n,(s,c)=>{if(!s.isInline)return;o++;let u=null;if(r instanceof Sf){let x=s.marks,O;for(;O=r.isInSet(x);)(u||(u=[])).push(O),x=O.removeFromSet(x)}else r?r.isInSet(s.marks)&&(u=[r]):u=s.marks;if(u&&u.length){let x=Math.min(c+s.nodeSize,n);for(let O=0;O<u.length;O++){let Y=u[O],b;for(let m=0;m<i.length;m++){let a=i[m];a.step==o-1&&Y.eq(i[m].style)&&(b=a)}b?(b.to=x,b.step=o):i.push({style:Y,from:Math.max(c,e),to:x,step:o})}}}),i.forEach(s=>t.step(new ko(s.from,s.to,s.style)))}function B3(t,e,n,r=n.contentMatch){let i=t.doc.nodeAt(e),o=[],s=e+1;for(let c=0;c<i.childCount;c++){let u=i.child(c),x=s+u.nodeSize,O=r.matchType(u.type);if(!O)o.push(new Hr(s,x,Lt.empty));else{r=O;for(let Y=0;Y<u.marks.length;Y++)n.allowsMarkType(u.marks[Y].type)||t.step(new ko(s,x,u.marks[Y]))}s=x}if(!r.validEnd){let c=r.fillBefore(xt.empty,!0);t.replace(s,s,new Lt(c,0,0))}for(let c=o.length-1;c>=0;c--)t.step(o[c])}function Z3(t,e,n){return(e==0||t.canReplace(e,t.childCount))&&(n==t.childCount||t.canReplace(0,n))}function zl(t){let n=t.parent.content.cutByIndex(t.startIndex,t.endIndex);for(let r=t.depth;;--r){let i=t.$from.node(r),o=t.$from.index(r),s=t.$to.indexAfter(r);if(r<t.depth&&i.canReplace(o,s,n))return r;if(r==0||i.type.spec.isolating||!Z3(i,o,s))break}return null}function F3(t,e,n){let{$from:r,$to:i,depth:o}=e,s=r.before(o+1),c=i.after(o+1),u=s,x=c,O=xt.empty,Y=0;for(let a=o,v=!1;a>n;a--)v||r.index(a)>0?(v=!0,O=xt.from(r.node(a).copy(O)),Y++):u--;let b=xt.empty,m=0;for(let a=o,v=!1;a>n;a--)v||i.after(a+1)<i.end(a)?(v=!0,b=xt.from(i.node(a).copy(b)),m++):x++;t.step(new Er(u,x,s,c,new Lt(O.append(b),Y,m),O.size-Y,!0))}function X0(t,e,n=null,r=t){let i=H3(t,e),o=i&&W3(r,e);return o?i.map(f1).concat({type:e,attrs:n}).concat(o.map(f1)):null}function f1(t){return{type:t,attrs:null}}function H3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.contentMatchAt(r).findWrapping(e);if(!o)return null;let s=o.length?o[0]:e;return n.canReplaceWith(r,i,s)?o:null}function W3(t,e){let{parent:n,startIndex:r,endIndex:i}=t,o=n.child(r),s=e.contentMatch.findWrapping(o.type);if(!s)return null;let u=(s.length?s[s.length-1]:e).contentMatch;for(let x=r;u&&x<i;x++)u=u.matchType(n.child(x).type);return!u||!u.validEnd?null:s}function U3(t,e,n){let r=xt.empty;for(let s=n.length-1;s>=0;s--){if(r.size){let c=n[s].type.contentMatch.matchFragment(r);if(!c||!c.validEnd)throw new RangeError("Wrapper type given to Transform.wrap does not form valid content of its parent wrapper")}r=xt.from(n[s].type.create(n[s].attrs,r))}let i=e.start,o=e.end;t.step(new Er(i,o,i,o,new Lt(r,0,0),n.length,!0))}function V3(t,e,n,r,i){if(!r.isTextblock)throw new RangeError("Type given to setBlockType should be a textblock");let o=t.steps.length;t.doc.nodesBetween(e,n,(s,c)=>{if(s.isTextblock&&!s.hasMarkup(r,i)&&K3(t.doc,t.mapping.slice(o).map(c),r)){t.clearIncompatible(t.mapping.slice(o).map(c,1),r);let u=t.mapping.slice(o),x=u.map(c,1),O=u.map(c+s.nodeSize,1);return t.step(new Er(x,O,x+1,O-1,new Lt(xt.from(r.create(i,null,s.marks)),0,0),1,!0)),!1}})}function K3(t,e,n){let r=t.resolve(e),i=r.index();return r.parent.canReplaceWith(i,i+1,n)}function G3(t,e,n,r,i){let o=t.doc.nodeAt(e);if(!o)throw new RangeError("No node at given position");n||(n=o.type);let s=n.create(r,null,i||o.marks);if(o.isLeaf)return t.replaceWith(e,e+o.nodeSize,s);if(!n.validContent(o.content))throw new RangeError("Invalid content for node type "+n.name);t.step(new Er(e,e+o.nodeSize,e+1,e+o.nodeSize-1,new Lt(xt.from(s),0,0),1,!0))}function cl(t,e,n=1,r){let i=t.resolve(e),o=i.depth-n,s=r&&r[r.length-1]||i.parent;if(o<0||i.parent.type.spec.isolating||!i.parent.canReplace(i.index(),i.parent.childCount)||!s.type.validContent(i.parent.content.cutByIndex(i.index(),i.parent.childCount)))return!1;for(let x=i.depth-1,O=n-2;x>o;x--,O--){let Y=i.node(x),b=i.index(x);if(Y.type.spec.isolating)return!1;let m=Y.content.cutByIndex(b,Y.childCount),a=r&&r[O]||Y;if(a!=Y&&(m=m.replaceChild(0,a.type.create(a.attrs))),!Y.canReplace(b+1,Y.childCount)||!a.type.validContent(m))return!1}let c=i.indexAfter(o),u=r&&r[0];return i.node(o).canReplaceWith(c,c,u?u.type:i.node(o+1).type)}function Y3(t,e,n=1,r){let i=t.doc.resolve(e),o=xt.empty,s=xt.empty;for(let c=i.depth,u=i.depth-n,x=n-1;c>u;c--,x--){o=xt.from(i.node(c).copy(o));let O=r&&r[x];s=xt.from(O?O.type.create(O.attrs,s):i.node(c).copy(s))}t.step(new Hr(e,e,new Lt(o.append(s),n,n),!0))}function za(t,e){let n=t.resolve(e),r=n.index();return yb(n.nodeBefore,n.nodeAfter)&&n.parent.canReplace(r,r+1)}function yb(t,e){return!!(t&&e&&!t.isLeaf&&t.canAppend(e))}function bb(t,e,n=-1){let r=t.resolve(e);for(let i=r.depth;;i--){let o,s,c=r.index(i);if(i==r.depth?(o=r.nodeBefore,s=r.nodeAfter):n>0?(o=r.node(i+1),c++,s=r.node(i).maybeChild(c)):(o=r.node(i).maybeChild(c-1),s=r.node(i+1)),o&&!o.isTextblock&&yb(o,s)&&r.node(i).canReplace(c,c+1))return e;if(i==0)break;e=n<0?r.before(i):r.after(i)}}function J3(t,e,n){let r=new Hr(e-n,e+n,Lt.empty,!0);t.step(r)}function X3(t,e,n){let r=t.resolve(e);if(r.parent.canReplaceWith(r.index(),r.index(),n))return e;if(r.parentOffset==0)for(let i=r.depth-1;i>=0;i--){let o=r.index(i);if(r.node(i).canReplaceWith(o,o,n))return r.before(i+1);if(o>0)return null}if(r.parentOffset==r.parent.content.size)for(let i=r.depth-1;i>=0;i--){let o=r.indexAfter(i);if(r.node(i).canReplaceWith(o,o,n))return r.after(i+1);if(o<r.node(i).childCount)return null}return null}function xb(t,e,n){let r=t.resolve(e);if(!n.content.size)return e;let i=n.content;for(let o=0;o<n.openStart;o++)i=i.firstChild.content;for(let o=1;o<=(n.openStart==0&&n.size?2:1);o++)for(let s=r.depth;s>=0;s--){let c=s==r.depth?0:r.pos<=(r.start(s+1)+r.end(s+1))/2?-1:1,u=r.index(s)+(c>0?1:0),x=r.node(s),O=!1;if(o==1)O=x.canReplace(u,u,i);else{let Y=x.contentMatchAt(u).findWrapping(i.firstChild.type);O=Y&&x.canReplaceWith(u,u,Y[0])}if(O)return c==0?r.pos:c<0?r.before(s+1):r.after(s+1)}return null}function $0(t,e,n=e,r=Lt.empty){if(e==n&&!r.size)return null;let i=t.resolve(e),o=t.resolve(n);return wb(i,o,r)?new Hr(e,n,r):new $3(i,o,r).fit()}function wb(t,e,n){return!n.openStart&&!n.openEnd&&t.start()==e.start()&&t.parent.canReplace(t.index(),e.index(),n.content)}class $3{constructor(e,n,r){this.$from=e,this.$to=n,this.unplaced=r,this.frontier=[],this.placed=xt.empty;for(let i=0;i<=e.depth;i++){let o=e.node(i);this.frontier.push({type:o.type,match:o.contentMatchAt(e.indexAfter(i))})}for(let i=e.depth;i>0;i--)this.placed=xt.from(e.node(i).copy(this.placed))}get depth(){return this.frontier.length-1}fit(){for(;this.unplaced.size;){let x=this.findFittable();x?this.placeNodes(x):this.openMore()||this.dropNode()}let e=this.mustMoveInline(),n=this.placed.size-this.depth-this.$from.depth,r=this.$from,i=this.close(e<0?this.$to:r.doc.resolve(e));if(!i)return null;let o=this.placed,s=r.depth,c=i.depth;for(;s&&c&&o.childCount==1;)o=o.firstChild.content,s--,c--;let u=new Lt(o,s,c);return e>-1?new Er(r.pos,e,this.$to.pos,this.$to.end(),u,n):u.size||r.pos!=this.$to.pos?new Hr(r.pos,i.pos,u):null}findFittable(){let e=this.unplaced.openStart;for(let n=this.unplaced.content,r=0,i=this.unplaced.openEnd;r<e;r++){let o=n.firstChild;if(n.childCount>1&&(i=0),o.type.spec.isolating&&i<=r){e=r;break}n=o.content}for(let n=1;n<=2;n++)for(let r=n==1?e:this.unplaced.openStart;r>=0;r--){let i,o=null;r?(o=Cp(this.unplaced.content,r-1).firstChild,i=o.content):i=this.unplaced.content;let s=i.firstChild;for(let c=this.depth;c>=0;c--){let{type:u,match:x}=this.frontier[c],O,Y=null;if(n==1&&(s?x.matchType(s.type)||(Y=x.fillBefore(xt.from(s),!1)):o&&u.compatibleContent(o.type)))return{sliceDepth:r,frontierDepth:c,parent:o,inject:Y};if(n==2&&s&&(O=x.findWrapping(s.type)))return{sliceDepth:r,frontierDepth:c,parent:o,wrap:O};if(o&&x.matchType(o.type))break}}}openMore(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Cp(e,n);return!i.childCount||i.firstChild.isLeaf?!1:(this.unplaced=new Lt(e,n+1,Math.max(r,i.size+n>=e.size-r?n+1:0)),!0)}dropNode(){let{content:e,openStart:n,openEnd:r}=this.unplaced,i=Cp(e,n);if(i.childCount<=1&&n>0){let o=e.size-n<=n+i.size;this.unplaced=new Lt(sc(e,n-1,1),n-1,o?n-1:r)}else this.unplaced=new Lt(sc(e,n,1),n,r)}placeNodes({sliceDepth:e,frontierDepth:n,parent:r,inject:i,wrap:o}){for(;this.depth>n;)this.closeFrontierNode();if(o)for(let v=0;v<o.length;v++)this.openFrontierNode(o[v]);let s=this.unplaced,c=r?r.content:s.content,u=s.openStart-e,x=0,O=[],{match:Y,type:b}=this.frontier[n];if(i){for(let v=0;v<i.childCount;v++)O.push(i.child(v));Y=Y.matchFragment(i)}let m=c.size+e-(s.content.size-s.openEnd);for(;x<c.childCount;){let v=c.child(x),E=Y.matchType(v.type);if(!E)break;x++,(x>1||u==0||v.content.size)&&(Y=E,O.push(kb(v.mark(b.allowedMarks(v.marks)),x==1?u:0,x==c.childCount?m:-1)))}let a=x==c.childCount;a||(m=-1),this.placed=lc(this.placed,n,xt.from(O)),this.frontier[n].match=Y,a&&m<0&&r&&r.type==this.frontier[this.depth].type&&this.frontier.length>1&&this.closeFrontierNode();for(let v=0,E=c;v<m;v++){let h=E.lastChild;this.frontier.push({type:h.type,match:h.contentMatchAt(h.childCount)}),E=h.content}this.unplaced=a?e==0?Lt.empty:new Lt(sc(s.content,e-1,1),e-1,m<0?s.openEnd:e-1):new Lt(sc(s.content,e,x),s.openStart,s.openEnd)}mustMoveInline(){if(!this.$to.parent.isTextblock)return-1;let e=this.frontier[this.depth],n;if(!e.type.isTextblock||!Dp(this.$to,this.$to.depth,e.type,e.match,!1)||this.$to.depth==this.depth&&(n=this.findCloseLevel(this.$to))&&n.depth==this.depth)return-1;let{depth:r}=this.$to,i=this.$to.after(r);for(;r>1&&i==this.$to.end(--r);)++i;return i}findCloseLevel(e){e:for(let n=Math.min(this.depth,e.depth);n>=0;n--){let{match:r,type:i}=this.frontier[n],o=n<e.depth&&e.end(n+1)==e.pos+(e.depth-(n+1)),s=Dp(e,n,i,r,o);if(s){for(let c=n-1;c>=0;c--){let{match:u,type:x}=this.frontier[c],O=Dp(e,c,x,u,!0);if(!O||O.childCount)continue e}return{depth:n,fit:s,move:o?e.doc.resolve(e.after(n+1)):e}}}}close(e){let n=this.findCloseLevel(e);if(!n)return null;for(;this.depth>n.depth;)this.closeFrontierNode();n.fit.childCount&&(this.placed=lc(this.placed,n.depth,n.fit)),e=n.move;for(let r=n.depth+1;r<=e.depth;r++){let i=e.node(r),o=i.type.contentMatch.fillBefore(i.content,!0,e.index(r));this.openFrontierNode(i.type,i.attrs,o)}return e}openFrontierNode(e,n=null,r){let i=this.frontier[this.depth];i.match=i.match.matchType(e),this.placed=lc(this.placed,this.depth,xt.from(e.create(n,r))),this.frontier.push({type:e,match:e.contentMatch})}closeFrontierNode(){let n=this.frontier.pop().match.fillBefore(xt.empty,!0);n.childCount&&(this.placed=lc(this.placed,this.frontier.length,n))}}function sc(t,e,n){return e==0?t.cutByIndex(n,t.childCount):t.replaceChild(0,t.firstChild.copy(sc(t.firstChild.content,e-1,n)))}function lc(t,e,n){return e==0?t.append(n):t.replaceChild(t.childCount-1,t.lastChild.copy(lc(t.lastChild.content,e-1,n)))}function Cp(t,e){for(let n=0;n<e;n++)t=t.firstChild.content;return t}function kb(t,e,n){if(e<=0)return t;let r=t.content;return e>1&&(r=r.replaceChild(0,kb(r.firstChild,e-1,r.childCount==1?n-1:0))),e>0&&(r=t.type.contentMatch.fillBefore(r).append(r),n<=0&&(r=r.append(t.type.contentMatch.matchFragment(r).fillBefore(xt.empty,!0)))),t.copy(r)}function Dp(t,e,n,r,i){let o=t.node(e),s=i?t.indexAfter(e):t.index(e);if(s==o.childCount&&!n.compatibleContent(o.type))return null;let c=r.fillBefore(o.content,!0,s);return c&&!q3(n,o.content,s)?c:null}function q3(t,e,n){for(let r=n;r<e.childCount;r++)if(!t.allowsMarks(e.child(r).marks))return!0;return!1}function Q3(t){return t.spec.defining||t.spec.definingForContent}function e6(t,e,n,r){if(!r.size)return t.deleteRange(e,n);let i=t.doc.resolve(e),o=t.doc.resolve(n);if(wb(i,o,r))return t.step(new Hr(e,n,r));let s=Sb(i,t.doc.resolve(n));s[s.length-1]==0&&s.pop();let c=-(i.depth+1);s.unshift(c);for(let b=i.depth,m=i.pos-1;b>0;b--,m--){let a=i.node(b).type.spec;if(a.defining||a.definingAsContext||a.isolating)break;s.indexOf(b)>-1?c=b:i.before(b)==m&&s.splice(1,0,-b)}let u=s.indexOf(c),x=[],O=r.openStart;for(let b=r.content,m=0;;m++){let a=b.firstChild;if(x.push(a),m==r.openStart)break;b=a.content}for(let b=O-1;b>=0;b--){let m=x[b].type,a=Q3(m);if(a&&i.node(u).type!=m)O=b;else if(a||!m.isTextblock)break}for(let b=r.openStart;b>=0;b--){let m=(b+O+1)%(r.openStart+1),a=x[m];if(a)for(let v=0;v<s.length;v++){let E=s[(v+u)%s.length],h=!0;E<0&&(h=!1,E=-E);let f=i.node(E-1),D=i.index(E-1);if(f.canReplaceWith(D,D,a.type,a.marks))return t.replace(i.before(E),h?o.after(E):n,new Lt(Eb(r.content,0,r.openStart,m),m,r.openEnd))}}let Y=t.steps.length;for(let b=s.length-1;b>=0&&(t.replace(e,n,r),!(t.steps.length>Y));b--){let m=s[b];m<0||(e=i.before(m),n=o.after(m))}}function Eb(t,e,n,r,i){if(e<n){let o=t.firstChild;t=t.replaceChild(0,o.copy(Eb(o.content,e+1,n,r,o)))}if(e>r){let o=i.contentMatchAt(0),s=o.fillBefore(t).append(t);t=s.append(o.matchFragment(s).fillBefore(xt.empty,!0))}return t}function t6(t,e,n,r){if(!r.isInline&&e==n&&t.doc.resolve(e).parent.content.size){let i=X3(t.doc,e,r.type);i!=null&&(e=n=i)}t.replaceRange(e,n,new Lt(xt.from(r),0,0))}function n6(t,e,n){let r=t.doc.resolve(e),i=t.doc.resolve(n),o=Sb(r,i);for(let s=0;s<o.length;s++){let c=o[s],u=s==o.length-1;if(u&&c==0||r.node(c).type.contentMatch.validEnd)return t.delete(r.start(c),i.end(c));if(c>0&&(u||r.node(c-1).canReplace(r.index(c-1),i.indexAfter(c-1))))return t.delete(r.before(c),i.after(c))}for(let s=1;s<=r.depth&&s<=i.depth;s++)if(e-r.start(s)==r.depth-s&&n>r.end(s)&&i.end(s)-n!=i.depth-s)return t.delete(r.before(s),n);t.delete(e,n)}function Sb(t,e){let n=[],r=Math.min(t.depth,e.depth);for(let i=r;i>=0;i--){let o=t.start(i);if(o<t.pos-(t.depth-i)||e.end(i)>e.pos+(e.depth-i)||t.node(i).type.spec.isolating||e.node(i).type.spec.isolating)break;(o==e.start(i)||i==t.depth&&i==e.depth&&t.parent.inlineContent&&e.parent.inlineContent&&i&&e.start(i-1)==o-1)&&n.push(i)}return n}class ul extends fi{constructor(e,n,r){super(),this.pos=e,this.attr=n,this.value=r}apply(e){let n=e.nodeAt(this.pos);if(!n)return vr.fail("No node at attribute step's position");let r=Object.create(null);for(let o in n.attrs)r[o]=n.attrs[o];r[this.attr]=this.value;let i=n.type.create(r,null,n.marks);return vr.fromReplace(e,this.pos,this.pos+1,new Lt(xt.from(i),0,n.isLeaf?0:1))}getMap(){return Li.empty}invert(e){return new ul(this.pos,this.attr,e.nodeAt(this.pos).attrs[this.attr])}map(e){let n=e.mapResult(this.pos,1);return n.deletedAfter?null:new ul(n.pos,this.attr,this.value)}toJSON(){return{stepType:"attr",pos:this.pos,attr:this.attr,value:this.value}}static fromJSON(e,n){if(typeof n.pos!="number"||typeof n.attr!="string")throw new RangeError("Invalid input for AttrStep.fromJSON");return new ul(n.pos,n.attr,n.value)}}fi.jsonID("attr",ul);let wl=class extends Error{};wl=function t(e){let n=Error.call(this,e);return n.__proto__=t.prototype,n};wl.prototype=Object.create(Error.prototype);wl.prototype.constructor=wl;wl.prototype.name="TransformError";class Cb{constructor(e){this.doc=e,this.steps=[],this.docs=[],this.mapping=new ll}get before(){return this.docs.length?this.docs[0]:this.doc}step(e){let n=this.maybeStep(e);if(n.failed)throw new wl(n.failed);return this}maybeStep(e){let n=e.apply(this.doc);return n.failed||this.addStep(e,n.doc),n}get docChanged(){return this.steps.length>0}addStep(e,n){this.docs.push(this.doc),this.steps.push(e),this.mapping.appendMap(e.getMap()),this.doc=n}replace(e,n=e,r=Lt.empty){let i=$0(this.doc,e,n,r);return i&&this.step(i),this}replaceWith(e,n,r){return this.replace(e,n,new Lt(xt.from(r),0,0))}delete(e,n){return this.replace(e,n,Lt.empty)}insert(e,n){return this.replaceWith(e,e,n)}replaceRange(e,n,r){return e6(this,e,n,r),this}replaceRangeWith(e,n,r){return t6(this,e,n,r),this}deleteRange(e,n){return n6(this,e,n),this}lift(e,n){return F3(this,e,n),this}join(e,n=1){return J3(this,e,n),this}wrap(e,n){return U3(this,e,n),this}setBlockType(e,n=e,r,i=null){return V3(this,e,n,r,i),this}setNodeMarkup(e,n,r=null,i){return G3(this,e,n,r,i),this}setNodeAttribute(e,n,r){return this.step(new ul(e,n,r)),this}addNodeMark(e,n){return this.step(new ha(e,n)),this}removeNodeMark(e,n){if(!(n instanceof Ln)){let r=this.doc.nodeAt(e);if(!r)throw new RangeError("No node at position "+e);if(n=n.isInSet(r.marks),!n)return this}return this.step(new xl(e,n)),this}split(e,n=1,r){return Y3(this,e,n,r),this}addMark(e,n,r){return R3(this,e,n,r),this}removeMark(e,n,r){return z3(this,e,n,r),this}clearIncompatible(e,n,r){return B3(this,e,n,r),this}}const Op=Object.create(null);class yn{constructor(e,n,r){this.$anchor=e,this.$head=n,this.ranges=r||[new r6(e.min(n),e.max(n))]}get anchor(){return this.$anchor.pos}get head(){return this.$head.pos}get from(){return this.$from.pos}get to(){return this.$to.pos}get $from(){return this.ranges[0].$from}get $to(){return this.ranges[0].$to}get empty(){let e=this.ranges;for(let n=0;n<e.length;n++)if(e[n].$from.pos!=e[n].$to.pos)return!1;return!0}content(){return this.$from.doc.slice(this.from,this.to,!0)}replace(e,n=Lt.empty){let r=n.content.lastChild,i=null;for(let c=0;c<n.openEnd;c++)i=r,r=r.lastChild;let o=e.steps.length,s=this.ranges;for(let c=0;c<s.length;c++){let{$from:u,$to:x}=s[c],O=e.mapping.slice(o);e.replaceRange(O.map(u.pos),O.map(x.pos),c?Lt.empty:n),c==0&&m1(e,o,(r?r.isInline:i&&i.isTextblock)?-1:1)}}replaceWith(e,n){let r=e.steps.length,i=this.ranges;for(let o=0;o<i.length;o++){let{$from:s,$to:c}=i[o],u=e.mapping.slice(r),x=u.map(s.pos),O=u.map(c.pos);o?e.deleteRange(x,O):(e.replaceRangeWith(x,O,n),m1(e,r,n.isInline?-1:1))}}static findFrom(e,n,r=!1){let i=e.parent.inlineContent?new xn(e):Bs(e.node(0),e.parent,e.pos,e.index(),n,r);if(i)return i;for(let o=e.depth-1;o>=0;o--){let s=n<0?Bs(e.node(0),e.node(o),e.before(o+1),e.index(o),n,r):Bs(e.node(0),e.node(o),e.after(o+1),e.index(o)+1,n,r);if(s)return s}return null}static near(e,n=1){return this.findFrom(e,n)||this.findFrom(e,-n)||new oo(e.node(0))}static atStart(e){return Bs(e,e,0,0,1)||new oo(e)}static atEnd(e){return Bs(e,e,e.content.size,e.childCount,-1)||new oo(e)}static fromJSON(e,n){if(!n||!n.type)throw new RangeError("Invalid input for Selection.fromJSON");let r=Op[n.type];if(!r)throw new RangeError(`No selection type ${n.type} defined`);return r.fromJSON(e,n)}static jsonID(e,n){if(e in Op)throw new RangeError("Duplicate use of selection JSON ID "+e);return Op[e]=n,n.prototype.jsonID=e,n}getBookmark(){return xn.between(this.$anchor,this.$head).getBookmark()}}yn.prototype.visible=!0;class r6{constructor(e,n){this.$from=e,this.$to=n}}let p1=!1;function h1(t){!p1&&!t.parent.inlineContent&&(p1=!0,console.warn("TextSelection endpoint not pointing into a node with inline content ("+t.parent.type.name+")"))}class xn extends yn{constructor(e,n=e){h1(e),h1(n),super(e,n)}get $cursor(){return this.$anchor.pos==this.$head.pos?this.$head:null}map(e,n){let r=e.resolve(n.map(this.head));if(!r.parent.inlineContent)return yn.near(r);let i=e.resolve(n.map(this.anchor));return new xn(i.parent.inlineContent?i:r,r)}replace(e,n=Lt.empty){if(super.replace(e,n),n==Lt.empty){let r=this.$from.marksAcross(this.$to);r&&e.ensureMarks(r)}}eq(e){return e instanceof xn&&e.anchor==this.anchor&&e.head==this.head}getBookmark(){return new Cf(this.anchor,this.head)}toJSON(){return{type:"text",anchor:this.anchor,head:this.head}}static fromJSON(e,n){if(typeof n.anchor!="number"||typeof n.head!="number")throw new RangeError("Invalid input for TextSelection.fromJSON");return new xn(e.resolve(n.anchor),e.resolve(n.head))}static create(e,n,r=n){let i=e.resolve(n);return new this(i,r==n?i:e.resolve(r))}static between(e,n,r){let i=e.pos-n.pos;if((!r||i)&&(r=i>=0?1:-1),!n.parent.inlineContent){let o=yn.findFrom(n,r,!0)||yn.findFrom(n,-r,!0);if(o)n=o.$head;else return yn.near(n,r)}return e.parent.inlineContent||(i==0?e=n:(e=(yn.findFrom(e,-r,!0)||yn.findFrom(e,r,!0)).$anchor,e.pos<n.pos!=i<0&&(e=n))),new xn(e,n)}}yn.jsonID("text",xn);class Cf{constructor(e,n){this.anchor=e,this.head=n}map(e){return new Cf(e.map(this.anchor),e.map(this.head))}resolve(e){return xn.between(e.resolve(this.anchor),e.resolve(this.head))}}class rn extends yn{constructor(e){let n=e.nodeAfter,r=e.node(0).resolve(e.pos+n.nodeSize);super(e,r),this.node=n}map(e,n){let{deleted:r,pos:i}=n.mapResult(this.anchor),o=e.resolve(i);return r?yn.near(o):new rn(o)}content(){return new Lt(xt.from(this.node),0,0)}eq(e){return e instanceof rn&&e.anchor==this.anchor}toJSON(){return{type:"node",anchor:this.anchor}}getBookmark(){return new q0(this.anchor)}static fromJSON(e,n){if(typeof n.anchor!="number")throw new RangeError("Invalid input for NodeSelection.fromJSON");return new rn(e.resolve(n.anchor))}static create(e,n){return new rn(e.resolve(n))}static isSelectable(e){return!e.isText&&e.type.spec.selectable!==!1}}rn.prototype.visible=!1;yn.jsonID("node",rn);class q0{constructor(e){this.anchor=e}map(e){let{deleted:n,pos:r}=e.mapResult(this.anchor);return n?new Cf(r,r):new q0(r)}resolve(e){let n=e.resolve(this.anchor),r=n.nodeAfter;return r&&rn.isSelectable(r)?new rn(n):yn.near(n)}}class oo extends yn{constructor(e){super(e.resolve(0),e.resolve(e.content.size))}replace(e,n=Lt.empty){if(n==Lt.empty){e.delete(0,e.doc.content.size);let r=yn.atStart(e.doc);r.eq(e.selection)||e.setSelection(r)}else super.replace(e,n)}toJSON(){return{type:"all"}}static fromJSON(e){return new oo(e)}map(e){return new oo(e)}eq(e){return e instanceof oo}getBookmark(){return i6}}yn.jsonID("all",oo);const i6={map(){return this},resolve(t){return new oo(t)}};function Bs(t,e,n,r,i,o=!1){if(e.inlineContent)return xn.create(t,n);for(let s=r-(i>0?0:1);i>0?s<e.childCount:s>=0;s+=i){let c=e.child(s);if(c.isAtom){if(!o&&rn.isSelectable(c))return rn.create(t,n-(i<0?c.nodeSize:0))}else{let u=Bs(t,c,n+i,i<0?c.childCount:0,i,o);if(u)return u}n+=c.nodeSize*i}return null}function m1(t,e,n){let r=t.steps.length-1;if(r<e)return;let i=t.steps[r];if(!(i instanceof Hr||i instanceof Er))return;let o=t.mapping.maps[r],s;o.forEach((c,u,x,O)=>{s==null&&(s=O)}),t.setSelection(yn.near(t.doc.resolve(s),n))}const g1=1,Ou=2,v1=4;class o6 extends Cb{constructor(e){super(e.doc),this.curSelectionFor=0,this.updated=0,this.meta=Object.create(null),this.time=Date.now(),this.curSelection=e.selection,this.storedMarks=e.storedMarks}get selection(){return this.curSelectionFor<this.steps.length&&(this.curSelection=this.curSelection.map(this.doc,this.mapping.slice(this.curSelectionFor)),this.curSelectionFor=this.steps.length),this.curSelection}setSelection(e){if(e.$from.doc!=this.doc)throw new RangeError("Selection passed to setSelection must point at the current document");return this.curSelection=e,this.curSelectionFor=this.steps.length,this.updated=(this.updated|g1)&~Ou,this.storedMarks=null,this}get selectionSet(){return(this.updated&g1)>0}setStoredMarks(e){return this.storedMarks=e,this.updated|=Ou,this}ensureMarks(e){return Ln.sameSet(this.storedMarks||this.selection.$from.marks(),e)||this.setStoredMarks(e),this}addStoredMark(e){return this.ensureMarks(e.addToSet(this.storedMarks||this.selection.$head.marks()))}removeStoredMark(e){return this.ensureMarks(e.removeFromSet(this.storedMarks||this.selection.$head.marks()))}get storedMarksSet(){return(this.updated&Ou)>0}addStep(e,n){super.addStep(e,n),this.updated=this.updated&~Ou,this.storedMarks=null}setTime(e){return this.time=e,this}replaceSelection(e){return this.selection.replace(this,e),this}replaceSelectionWith(e,n=!0){let r=this.selection;return n&&(e=e.mark(this.storedMarks||(r.empty?r.$from.marks():r.$from.marksAcross(r.$to)||Ln.none))),r.replaceWith(this,e),this}deleteSelection(){return this.selection.replace(this),this}insertText(e,n,r){let i=this.doc.type.schema;if(n==null)return e?this.replaceSelectionWith(i.text(e),!0):this.deleteSelection();{if(r==null&&(r=n),r=r??n,!e)return this.deleteRange(n,r);let o=this.storedMarks;if(!o){let s=this.doc.resolve(n);o=r==n?s.marks():s.marksAcross(this.doc.resolve(r))}return this.replaceRangeWith(n,r,i.text(e,o)),this.selection.empty||this.setSelection(yn.near(this.selection.$to)),this}}setMeta(e,n){return this.meta[typeof e=="string"?e:e.key]=n,this}getMeta(e){return this.meta[typeof e=="string"?e:e.key]}get isGeneric(){for(let e in this.meta)return!1;return!0}scrollIntoView(){return this.updated|=v1,this}get scrolledIntoView(){return(this.updated&v1)>0}}function y1(t,e){return!e||!t?t:t.bind(e)}class cc{constructor(e,n,r){this.name=e,this.init=y1(n.init,r),this.apply=y1(n.apply,r)}}const a6=[new cc("doc",{init(t){return t.doc||t.schema.topNodeType.createAndFill()},apply(t){return t.doc}}),new cc("selection",{init(t,e){return t.selection||yn.atStart(e.doc)},apply(t){return t.selection}}),new cc("storedMarks",{init(t){return t.storedMarks||null},apply(t,e,n,r){return r.selection.$cursor?t.storedMarks:null}}),new cc("scrollToSelection",{init(){return 0},apply(t,e){return t.scrolledIntoView?e+1:e}})];class Mp{constructor(e,n){this.schema=e,this.plugins=[],this.pluginsByKey=Object.create(null),this.fields=a6.slice(),n&&n.forEach(r=>{if(this.pluginsByKey[r.key])throw new RangeError("Adding different instances of a keyed plugin ("+r.key+")");this.plugins.push(r),this.pluginsByKey[r.key]=r,r.spec.state&&this.fields.push(new cc(r.key,r.spec.state,r))})}}class Hs{constructor(e){this.config=e}get schema(){return this.config.schema}get plugins(){return this.config.plugins}apply(e){return this.applyTransaction(e).state}filterTransaction(e,n=-1){for(let r=0;r<this.config.plugins.length;r++)if(r!=n){let i=this.config.plugins[r];if(i.spec.filterTransaction&&!i.spec.filterTransaction.call(i,e,this))return!1}return!0}applyTransaction(e){if(!this.filterTransaction(e))return{state:this,transactions:[]};let n=[e],r=this.applyInner(e),i=null;for(;;){let o=!1;for(let s=0;s<this.config.plugins.length;s++){let c=this.config.plugins[s];if(c.spec.appendTransaction){let u=i?i[s].n:0,x=i?i[s].state:this,O=u<n.length&&c.spec.appendTransaction.call(c,u?n.slice(u):n,x,r);if(O&&r.filterTransaction(O,s)){if(O.setMeta("appendedTransaction",e),!i){i=[];for(let Y=0;Y<this.config.plugins.length;Y++)i.push(Y<s?{state:r,n:n.length}:{state:this,n:0})}n.push(O),r=r.applyInner(O),o=!0}i&&(i[s]={state:r,n:n.length})}}if(!o)return{state:r,transactions:n}}}applyInner(e){if(!e.before.eq(this.doc))throw new RangeError("Applying a mismatched transaction");let n=new Hs(this.config),r=this.config.fields;for(let i=0;i<r.length;i++){let o=r[i];n[o.name]=o.apply(e,this[o.name],this,n)}return n}get tr(){return new o6(this)}static create(e){let n=new Mp(e.doc?e.doc.type.schema:e.schema,e.plugins),r=new Hs(n);for(let i=0;i<n.fields.length;i++)r[n.fields[i].name]=n.fields[i].init(e,r);return r}reconfigure(e){let n=new Mp(this.schema,e.plugins),r=n.fields,i=new Hs(n);for(let o=0;o<r.length;o++){let s=r[o].name;i[s]=this.hasOwnProperty(s)?this[s]:r[o].init(e,i)}return i}toJSON(e){let n={doc:this.doc.toJSON(),selection:this.selection.toJSON()};if(this.storedMarks&&(n.storedMarks=this.storedMarks.map(r=>r.toJSON())),e&&typeof e=="object")for(let r in e){if(r=="doc"||r=="selection")throw new RangeError("The JSON fields `doc` and `selection` are reserved");let i=e[r],o=i.spec.state;o&&o.toJSON&&(n[r]=o.toJSON.call(i,this[i.key]))}return n}static fromJSON(e,n,r){if(!n)throw new RangeError("Invalid input for EditorState.fromJSON");if(!e.schema)throw new RangeError("Required config field 'schema' missing");let i=new Mp(e.schema,e.plugins),o=new Hs(i);return i.fields.forEach(s=>{if(s.name=="doc")o.doc=us.fromJSON(e.schema,n.doc);else if(s.name=="selection")o.selection=yn.fromJSON(o.doc,n.selection);else if(s.name=="storedMarks")n.storedMarks&&(o.storedMarks=n.storedMarks.map(e.schema.markFromJSON));else{if(r)for(let c in r){let u=r[c],x=u.spec.state;if(u.key==s.name&&x&&x.fromJSON&&Object.prototype.hasOwnProperty.call(n,c)){o[s.name]=x.fromJSON.call(u,e,n[c],o);return}}o[s.name]=s.init(e,o)}}),o}}function Db(t,e,n){for(let r in t){let i=t[r];i instanceof Function?i=i.bind(e):r=="handleDOMEvents"&&(i=Db(i,e,{})),n[r]=i}return n}class Nr{constructor(e){this.spec=e,this.props={},e.props&&Db(e.props,this,this.props),this.key=e.key?e.key.key:Ob("plugin")}getState(e){return e[this.key]}}const Tp=Object.create(null);function Ob(t){return t in Tp?t+"$"+ ++Tp[t]:(Tp[t]=0,t+"$")}class Ei{constructor(e="key"){this.key=Ob(e)}get(e){return e.config.pluginsByKey[this.key]}getState(e){return e[this.key]}}const yi=function(t){for(var e=0;;e++)if(t=t.previousSibling,!t)return e},Nc=function(t){let e=t.assignedSlot||t.parentNode;return e&&e.nodeType==11?e.host:e};let b1=null;const Po=function(t,e,n){let r=b1||(b1=document.createRange());return r.setEnd(t,n??t.nodeValue.length),r.setStart(t,e||0),r},vs=function(t,e,n,r){return n&&(x1(t,e,n,r,-1)||x1(t,e,n,r,1))},s6=/^(img|br|input|textarea|hr)$/i;function x1(t,e,n,r,i){for(;;){if(t==n&&e==r)return!0;if(e==(i<0?0:bo(t))){let o=t.parentNode;if(!o||o.nodeType!=1||c6(t)||s6.test(t.nodeName)||t.contentEditable=="false")return!1;e=yi(t)+(i<0?0:1),t=o}else if(t.nodeType==1){if(t=t.childNodes[e+(i<0?-1:0)],t.contentEditable=="false")return!1;e=i<0?bo(t):0}else return!1}}function bo(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function l6(t,e,n){for(let r=e==0,i=e==bo(t);r||i;){if(t==n)return!0;let o=yi(t);if(t=t.parentNode,!t)return!1;r=r&&o==0,i=i&&o==bo(t)}}function c6(t){let e;for(let n=t;n&&!(e=n.pmViewDesc);n=n.parentNode);return e&&e.node&&e.node.isBlock&&(e.dom==t||e.contentDOM==t)}const Df=function(t){return t.focusNode&&vs(t.focusNode,t.focusOffset,t.anchorNode,t.anchorOffset)};function es(t,e){let n=document.createEvent("Event");return n.initEvent("keydown",!0,!0),n.keyCode=t,n.key=n.code=e,n}function u6(t){let e=t.activeElement;for(;e&&e.shadowRoot;)e=e.shadowRoot.activeElement;return e}const Pa=typeof navigator<"u"?navigator:null,w1=typeof document<"u"?document:null,Ba=Pa&&Pa.userAgent||"",Ih=/Edge\/(\d+)/.exec(Ba),Mb=/MSIE \d/.exec(Ba),jh=/Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(Ba),ai=!!(Mb||jh||Ih),ka=Mb?document.documentMode:jh?+jh[1]:Ih?+Ih[1]:0,co=!ai&&/gecko\/(\d+)/i.test(Ba);co&&+(/Firefox\/(\d+)/.exec(Ba)||[0,0])[1];const _h=!ai&&/Chrome\/(\d+)/.exec(Ba),Jr=!!_h,d6=_h?+_h[1]:0,$r=!ai&&!!Pa&&/Apple Computer/.test(Pa.vendor),kl=$r&&(/Mobile\/\w+/.test(Ba)||!!Pa&&Pa.maxTouchPoints>2),ji=kl||(Pa?/Mac/.test(Pa.platform):!1),qi=/Android \d/.test(Ba),Of=!!w1&&"webkitFontSmoothing"in w1.documentElement.style,f6=Of?+(/\bAppleWebKit\/(\d+)/.exec(navigator.userAgent)||[0,0])[1]:0;function p6(t){return{left:0,right:t.documentElement.clientWidth,top:0,bottom:t.documentElement.clientHeight}}function na(t,e){return typeof t=="number"?t:t[e]}function h6(t){let e=t.getBoundingClientRect(),n=e.width/t.offsetWidth||1,r=e.height/t.offsetHeight||1;return{left:e.left,right:e.left+t.clientWidth*n,top:e.top,bottom:e.top+t.clientHeight*r}}function k1(t,e,n){let r=t.someProp("scrollThreshold")||0,i=t.someProp("scrollMargin")||5,o=t.dom.ownerDocument;for(let s=n||t.dom;s;s=Nc(s)){if(s.nodeType!=1)continue;let c=s,u=c==o.body,x=u?p6(o):h6(c),O=0,Y=0;if(e.top<x.top+na(r,"top")?Y=-(x.top-e.top+na(i,"top")):e.bottom>x.bottom-na(r,"bottom")&&(Y=e.bottom-x.bottom+na(i,"bottom")),e.left<x.left+na(r,"left")?O=-(x.left-e.left+na(i,"left")):e.right>x.right-na(r,"right")&&(O=e.right-x.right+na(i,"right")),O||Y)if(u)o.defaultView.scrollBy(O,Y);else{let b=c.scrollLeft,m=c.scrollTop;Y&&(c.scrollTop+=Y),O&&(c.scrollLeft+=O);let a=c.scrollLeft-b,v=c.scrollTop-m;e={left:e.left-a,top:e.top-v,right:e.right-a,bottom:e.bottom-v}}if(u)break}}function m6(t){let e=t.dom.getBoundingClientRect(),n=Math.max(0,e.top),r,i;for(let o=(e.left+e.right)/2,s=n+1;s<Math.min(innerHeight,e.bottom);s+=5){let c=t.root.elementFromPoint(o,s);if(!c||c==t.dom||!t.dom.contains(c))continue;let u=c.getBoundingClientRect();if(u.top>=n-20){r=c,i=u.top;break}}return{refDOM:r,refTop:i,stack:Tb(t.dom)}}function Tb(t){let e=[],n=t.ownerDocument;for(let r=t;r&&(e.push({dom:r,top:r.scrollTop,left:r.scrollLeft}),t!=n);r=Nc(r));return e}function g6({refDOM:t,refTop:e,stack:n}){let r=t?t.getBoundingClientRect().top:0;Ab(n,r==0?0:r-e)}function Ab(t,e){for(let n=0;n<t.length;n++){let{dom:r,top:i,left:o}=t[n];r.scrollTop!=i+e&&(r.scrollTop=i+e),r.scrollLeft!=o&&(r.scrollLeft=o)}}let Rs=null;function v6(t){if(t.setActive)return t.setActive();if(Rs)return t.focus(Rs);let e=Tb(t);t.focus(Rs==null?{get preventScroll(){return Rs={preventScroll:!0},!0}}:void 0),Rs||(Rs=!1,Ab(e,0))}function Ib(t,e){let n,r=2e8,i,o=0,s=e.top,c=e.top;for(let u=t.firstChild,x=0;u;u=u.nextSibling,x++){let O;if(u.nodeType==1)O=u.getClientRects();else if(u.nodeType==3)O=Po(u).getClientRects();else continue;for(let Y=0;Y<O.length;Y++){let b=O[Y];if(b.top<=s&&b.bottom>=c){s=Math.max(b.bottom,s),c=Math.min(b.top,c);let m=b.left>e.left?b.left-e.left:b.right<e.left?e.left-b.right:0;if(m<r){n=u,r=m,i=m&&n.nodeType==3?{left:b.right<e.left?b.right:b.left,top:e.top}:e,u.nodeType==1&&m&&(o=x+(e.left>=(b.left+b.right)/2?1:0));continue}}!n&&(e.left>=b.right&&e.top>=b.top||e.left>=b.left&&e.top>=b.bottom)&&(o=x+1)}}return n&&n.nodeType==3?y6(n,i):!n||r&&n.nodeType==1?{node:t,offset:o}:Ib(n,i)}function y6(t,e){let n=t.nodeValue.length,r=document.createRange();for(let i=0;i<n;i++){r.setEnd(t,i+1),r.setStart(t,i);let o=ia(r,1);if(o.top!=o.bottom&&Q0(e,o))return{node:t,offset:i+(e.left>=(o.left+o.right)/2?1:0)}}return{node:t,offset:0}}function Q0(t,e){return t.left>=e.left-1&&t.left<=e.right+1&&t.top>=e.top-1&&t.top<=e.bottom+1}function b6(t,e){let n=t.parentNode;return n&&/^li$/i.test(n.nodeName)&&e.left<t.getBoundingClientRect().left?n:t}function x6(t,e,n){let{node:r,offset:i}=Ib(e,n),o=-1;if(r.nodeType==1&&!r.firstChild){let s=r.getBoundingClientRect();o=s.left!=s.right&&n.left>(s.left+s.right)/2?1:-1}return t.docView.posFromDOM(r,i,o)}function w6(t,e,n,r){let i=-1;for(let o=e;o!=t.dom;){let s=t.docView.nearestDesc(o,!0);if(!s)return null;if(s.dom.nodeType==1&&(s.node.isBlock&&s.parent||!s.contentDOM)){let c=s.dom.getBoundingClientRect();if(s.node.isBlock&&s.parent&&(c.left>r.left||c.top>r.top?i=s.posBefore:(c.right<r.left||c.bottom<r.top)&&(i=s.posAfter)),!s.contentDOM&&i<0)return(s.node.isBlock?r.top<(c.top+c.bottom)/2:r.left<(c.left+c.right)/2)?s.posBefore:s.posAfter}o=s.dom.parentNode}return i>-1?i:t.docView.posFromDOM(e,n,-1)}function jb(t,e,n){let r=t.childNodes.length;if(r&&n.top<n.bottom)for(let i=Math.max(0,Math.min(r-1,Math.floor(r*(e.top-n.top)/(n.bottom-n.top))-2)),o=i;;){let s=t.childNodes[o];if(s.nodeType==1){let c=s.getClientRects();for(let u=0;u<c.length;u++){let x=c[u];if(Q0(e,x))return jb(s,e,x)}}if((o=(o+1)%r)==i)break}return t}function k6(t,e){let n=t.dom.ownerDocument,r,i=0;if(n.caretPositionFromPoint)try{let u=n.caretPositionFromPoint(e.left,e.top);u&&({offsetNode:r,offset:i}=u)}catch{}if(!r&&n.caretRangeFromPoint){let u=n.caretRangeFromPoint(e.left,e.top);u&&({startContainer:r,startOffset:i}=u)}let o=(t.root.elementFromPoint?t.root:n).elementFromPoint(e.left,e.top),s;if(!o||!t.dom.contains(o.nodeType!=1?o.parentNode:o)){let u=t.dom.getBoundingClientRect();if(!Q0(e,u)||(o=jb(t.dom,e,u),!o))return null}if($r)for(let u=o;r&&u;u=Nc(u))u.draggable&&(r=void 0);if(o=b6(o,e),r){if(co&&r.nodeType==1&&(i=Math.min(i,r.childNodes.length),i<r.childNodes.length)){let u=r.childNodes[i],x;u.nodeName=="IMG"&&(x=u.getBoundingClientRect()).right<=e.left&&x.bottom>e.top&&i++}r==t.dom&&i==r.childNodes.length-1&&r.lastChild.nodeType==1&&e.top>r.lastChild.getBoundingClientRect().bottom?s=t.state.doc.content.size:(i==0||r.nodeType!=1||r.childNodes[i-1].nodeName!="BR")&&(s=w6(t,r,i,e))}s==null&&(s=x6(t,o,e));let c=t.docView.nearestDesc(o,!0);return{pos:s,inside:c?c.posAtStart-c.border:-1}}function ia(t,e){let n=t.getClientRects();return n.length?n[e<0?0:n.length-1]:t.getBoundingClientRect()}const E6=/[\u0590-\u05f4\u0600-\u06ff\u0700-\u08ac]/;function _b(t,e,n){let{node:r,offset:i,atom:o}=t.docView.domFromPos(e,n<0?-1:1),s=Of||co;if(r.nodeType==3)if(s&&(E6.test(r.nodeValue)||(n<0?!i:i==r.nodeValue.length))){let u=ia(Po(r,i,i),n);if(co&&i&&/\s/.test(r.nodeValue[i-1])&&i<r.nodeValue.length){let x=ia(Po(r,i-1,i-1),-1);if(x.top==u.top){let O=ia(Po(r,i,i+1),-1);if(O.top!=u.top)return Gl(O,O.left<x.left)}}return u}else{let u=i,x=i,O=n<0?1:-1;return n<0&&!i?(x++,O=-1):n>=0&&i==r.nodeValue.length?(u--,O=1):n<0?u--:x++,Gl(ia(Po(r,u,x),1),O<0)}if(!t.state.doc.resolve(e-(o||0)).parent.inlineContent){if(o==null&&i&&(n<0||i==bo(r))){let u=r.childNodes[i-1];if(u.nodeType==1)return Ap(u.getBoundingClientRect(),!1)}if(o==null&&i<bo(r)){let u=r.childNodes[i];if(u.nodeType==1)return Ap(u.getBoundingClientRect(),!0)}return Ap(r.getBoundingClientRect(),n>=0)}if(o==null&&i&&(n<0||i==bo(r))){let u=r.childNodes[i-1],x=u.nodeType==3?Po(u,bo(u)-(s?0:1)):u.nodeType==1&&(u.nodeName!="BR"||!u.nextSibling)?u:null;if(x)return Gl(ia(x,1),!1)}if(o==null&&i<bo(r)){let u=r.childNodes[i];for(;u.pmViewDesc&&u.pmViewDesc.ignoreForCoords;)u=u.nextSibling;let x=u?u.nodeType==3?Po(u,0,s?0:1):u.nodeType==1?u:null:null;if(x)return Gl(ia(x,-1),!0)}return Gl(ia(r.nodeType==3?Po(r):r,-n),n>=0)}function Gl(t,e){if(t.width==0)return t;let n=e?t.left:t.right;return{top:t.top,bottom:t.bottom,left:n,right:n}}function Ap(t,e){if(t.height==0)return t;let n=e?t.top:t.bottom;return{top:n,bottom:n,left:t.left,right:t.right}}function Pb(t,e,n){let r=t.state,i=t.root.activeElement;r!=e&&t.updateState(e),i!=t.dom&&t.focus();try{return n()}finally{r!=e&&t.updateState(r),i!=t.dom&&i&&i.focus()}}function S6(t,e,n){let r=e.selection,i=n=="up"?r.$from:r.$to;return Pb(t,e,()=>{let{node:o}=t.docView.domFromPos(i.pos,n=="up"?-1:1);for(;;){let c=t.docView.nearestDesc(o,!0);if(!c)break;if(c.node.isBlock){o=c.contentDOM||c.dom;break}o=c.dom.parentNode}let s=_b(t,i.pos,1);for(let c=o.firstChild;c;c=c.nextSibling){let u;if(c.nodeType==1)u=c.getClientRects();else if(c.nodeType==3)u=Po(c,0,c.nodeValue.length).getClientRects();else continue;for(let x=0;x<u.length;x++){let O=u[x];if(O.bottom>O.top+1&&(n=="up"?s.top-O.top>(O.bottom-s.top)*2:O.bottom-s.bottom>(s.bottom-O.top)*2))return!1}}return!0})}const C6=/[\u0590-\u08ac]/;function D6(t,e,n){let{$head:r}=e.selection;if(!r.parent.isTextblock)return!1;let i=r.parentOffset,o=!i,s=i==r.parent.content.size,c=t.domSelection();return!C6.test(r.parent.textContent)||!c.modify?n=="left"||n=="backward"?o:s:Pb(t,e,()=>{let{focusNode:u,focusOffset:x,anchorNode:O,anchorOffset:Y}=t.domSelectionRange(),b=c.caretBidiLevel;c.modify("move",n,"character");let m=r.depth?t.docView.domAfterPos(r.before()):t.dom,{focusNode:a,focusOffset:v}=t.domSelectionRange(),E=a&&!m.contains(a.nodeType==1?a:a.parentNode)||u==a&&x==v;try{c.collapse(O,Y),u&&(u!=O||x!=Y)&&c.extend&&c.extend(u,x)}catch{}return b!=null&&(c.caretBidiLevel=b),E})}let E1=null,S1=null,C1=!1;function O6(t,e,n){return E1==e&&S1==n?C1:(E1=e,S1=n,C1=n=="up"||n=="down"?S6(t,e,n):D6(t,e,n))}const ao=0,D1=1,Ws=2,Do=3;class au{constructor(e,n,r,i){this.parent=e,this.children=n,this.dom=r,this.contentDOM=i,this.dirty=ao,r.pmViewDesc=this}matchesWidget(e){return!1}matchesMark(e){return!1}matchesNode(e,n,r){return!1}matchesHack(e){return!1}parseRule(){return null}stopEvent(e){return!1}get size(){let e=0;for(let n=0;n<this.children.length;n++)e+=this.children[n].size;return e}get border(){return 0}destroy(){this.parent=void 0,this.dom.pmViewDesc==this&&(this.dom.pmViewDesc=void 0);for(let e=0;e<this.children.length;e++)this.children[e].destroy()}posBeforeChild(e){for(let n=0,r=this.posAtStart;;n++){let i=this.children[n];if(i==e)return r;r+=i.size}}get posBefore(){return this.parent.posBeforeChild(this)}get posAtStart(){return this.parent?this.parent.posBeforeChild(this)+this.border:0}get posAfter(){return this.posBefore+this.size}get posAtEnd(){return this.posAtStart+this.size-2*this.border}localPosFromDOM(e,n,r){if(this.contentDOM&&this.contentDOM.contains(e.nodeType==1?e:e.parentNode))if(r<0){let o,s;if(e==this.contentDOM)o=e.childNodes[n-1];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.previousSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.previousSibling;return o?this.posBeforeChild(s)+s.size:this.posAtStart}else{let o,s;if(e==this.contentDOM)o=e.childNodes[n];else{for(;e.parentNode!=this.contentDOM;)e=e.parentNode;o=e.nextSibling}for(;o&&!((s=o.pmViewDesc)&&s.parent==this);)o=o.nextSibling;return o?this.posBeforeChild(s):this.posAtEnd}let i;if(e==this.dom&&this.contentDOM)i=n>yi(this.contentDOM);else if(this.contentDOM&&this.contentDOM!=this.dom&&this.dom.contains(this.contentDOM))i=e.compareDocumentPosition(this.contentDOM)&2;else if(this.dom.firstChild){if(n==0)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!1;break}if(o.previousSibling)break}if(i==null&&n==e.childNodes.length)for(let o=e;;o=o.parentNode){if(o==this.dom){i=!0;break}if(o.nextSibling)break}}return i??r>0?this.posAtEnd:this.posAtStart}nearestDesc(e,n=!1){for(let r=!0,i=e;i;i=i.parentNode){let o=this.getDesc(i),s;if(o&&(!n||o.node))if(r&&(s=o.nodeDOM)&&!(s.nodeType==1?s.contains(e.nodeType==1?e:e.parentNode):s==e))r=!1;else return o}}getDesc(e){let n=e.pmViewDesc;for(let r=n;r;r=r.parent)if(r==this)return n}posFromDOM(e,n,r){for(let i=e;i;i=i.parentNode){let o=this.getDesc(i);if(o)return o.localPosFromDOM(e,n,r)}return-1}descAt(e){for(let n=0,r=0;n<this.children.length;n++){let i=this.children[n],o=r+i.size;if(r==e&&o!=r){for(;!i.border&&i.children.length;)i=i.children[0];return i}if(e<o)return i.descAt(e-r-i.border);r=o}}domFromPos(e,n){if(!this.contentDOM)return{node:this.dom,offset:0,atom:e+1};let r=0,i=0;for(let o=0;r<this.children.length;r++){let s=this.children[r],c=o+s.size;if(c>e||s instanceof Nb){i=e-o;break}o=c}if(i)return this.children[r].domFromPos(i-this.children[r].border,n);for(let o;r&&!(o=this.children[r-1]).size&&o instanceof Lb&&o.side>=0;r--);if(n<=0){let o,s=!0;for(;o=r?this.children[r-1]:null,!(!o||o.dom.parentNode==this.contentDOM);r--,s=!1);return o&&n&&s&&!o.border&&!o.domAtom?o.domFromPos(o.size,n):{node:this.contentDOM,offset:o?yi(o.dom)+1:0}}else{let o,s=!0;for(;o=r<this.children.length?this.children[r]:null,!(!o||o.dom.parentNode==this.contentDOM);r++,s=!1);return o&&s&&!o.border&&!o.domAtom?o.domFromPos(0,n):{node:this.contentDOM,offset:o?yi(o.dom):this.contentDOM.childNodes.length}}}parseRange(e,n,r=0){if(this.children.length==0)return{node:this.contentDOM,from:e,to:n,fromOffset:0,toOffset:this.contentDOM.childNodes.length};let i=-1,o=-1;for(let s=r,c=0;;c++){let u=this.children[c],x=s+u.size;if(i==-1&&e<=x){let O=s+u.border;if(e>=O&&n<=x-u.border&&u.node&&u.contentDOM&&this.contentDOM.contains(u.contentDOM))return u.parseRange(e,n,O);e=s;for(let Y=c;Y>0;Y--){let b=this.children[Y-1];if(b.size&&b.dom.parentNode==this.contentDOM&&!b.emptyChildAt(1)){i=yi(b.dom)+1;break}e-=b.size}i==-1&&(i=0)}if(i>-1&&(x>n||c==this.children.length-1)){n=x;for(let O=c+1;O<this.children.length;O++){let Y=this.children[O];if(Y.size&&Y.dom.parentNode==this.contentDOM&&!Y.emptyChildAt(-1)){o=yi(Y.dom);break}n+=Y.size}o==-1&&(o=this.contentDOM.childNodes.length);break}s=x}return{node:this.contentDOM,from:e,to:n,fromOffset:i,toOffset:o}}emptyChildAt(e){if(this.border||!this.contentDOM||!this.children.length)return!1;let n=this.children[e<0?0:this.children.length-1];return n.size==0||n.emptyChildAt(e)}domAfterPos(e){let{node:n,offset:r}=this.domFromPos(e,0);if(n.nodeType!=1||r==n.childNodes.length)throw new RangeError("No node after pos "+e);return n.childNodes[r]}setSelection(e,n,r,i=!1){let o=Math.min(e,n),s=Math.max(e,n);for(let b=0,m=0;b<this.children.length;b++){let a=this.children[b],v=m+a.size;if(o>m&&s<v)return a.setSelection(e-m-a.border,n-m-a.border,r,i);m=v}let c=this.domFromPos(e,e?-1:1),u=n==e?c:this.domFromPos(n,n?-1:1),x=r.getSelection(),O=!1;if((co||$r)&&e==n){let{node:b,offset:m}=c;if(b.nodeType==3){if(O=!!(m&&b.nodeValue[m-1]==`
`),O&&m==b.nodeValue.length)for(let a=b,v;a;a=a.parentNode){if(v=a.nextSibling){v.nodeName=="BR"&&(c=u={node:v.parentNode,offset:yi(v)+1});break}let E=a.pmViewDesc;if(E&&E.node&&E.node.isBlock)break}}else{let a=b.childNodes[m-1];O=a&&(a.nodeName=="BR"||a.contentEditable=="false")}}if(co&&x.focusNode&&x.focusNode!=u.node&&x.focusNode.nodeType==1){let b=x.focusNode.childNodes[x.focusOffset];b&&b.contentEditable=="false"&&(i=!0)}if(!(i||O&&$r)&&vs(c.node,c.offset,x.anchorNode,x.anchorOffset)&&vs(u.node,u.offset,x.focusNode,x.focusOffset))return;let Y=!1;if((x.extend||e==n)&&!O){x.collapse(c.node,c.offset);try{e!=n&&x.extend(u.node,u.offset),Y=!0}catch{}}if(!Y){if(e>n){let m=c;c=u,u=m}let b=document.createRange();b.setEnd(u.node,u.offset),b.setStart(c.node,c.offset),x.removeAllRanges(),x.addRange(b)}}ignoreMutation(e){return!this.contentDOM&&e.type!="selection"}get contentLost(){return this.contentDOM&&this.contentDOM!=this.dom&&!this.dom.contains(this.contentDOM)}markDirty(e,n){for(let r=0,i=0;i<this.children.length;i++){let o=this.children[i],s=r+o.size;if(r==s?e<=s&&n>=r:e<s&&n>r){let c=r+o.border,u=s-o.border;if(e>=c&&n<=u){this.dirty=e==r||n==s?Ws:D1,e==c&&n==u&&(o.contentLost||o.dom.parentNode!=this.contentDOM)?o.dirty=Do:o.markDirty(e-c,n-c);return}else o.dirty=o.dom==o.contentDOM&&o.dom.parentNode==this.contentDOM&&!o.children.length?Ws:Do}r=s}this.dirty=Ws}markParentsDirty(){let e=1;for(let n=this.parent;n;n=n.parent,e++){let r=e==1?Ws:D1;n.dirty<r&&(n.dirty=r)}}get domAtom(){return!1}get ignoreForCoords(){return!1}}class Lb extends au{constructor(e,n,r,i){let o,s=n.type.toDOM;if(typeof s=="function"&&(s=s(r,()=>{if(!o)return i;if(o.parent)return o.parent.posBeforeChild(o)})),!n.type.spec.raw){if(s.nodeType!=1){let c=document.createElement("span");c.appendChild(s),s=c}s.contentEditable="false",s.classList.add("ProseMirror-widget")}super(e,[],s,null),this.widget=n,this.widget=n,o=this}matchesWidget(e){return this.dirty==ao&&e.type.eq(this.widget.type)}parseRule(){return{ignore:!0}}stopEvent(e){let n=this.widget.spec.stopEvent;return n?n(e):!1}ignoreMutation(e){return e.type!="selection"||this.widget.spec.ignoreSelection}destroy(){this.widget.type.destroy(this.dom),super.destroy()}get domAtom(){return!0}get side(){return this.widget.type.side}}class M6 extends au{constructor(e,n,r,i){super(e,[],n,null),this.textDOM=r,this.text=i}get size(){return this.text.length}localPosFromDOM(e,n){return e!=this.textDOM?this.posAtStart+(n?this.size:0):this.posAtStart+n}domFromPos(e){return{node:this.textDOM,offset:e}}ignoreMutation(e){return e.type==="characterData"&&e.target.nodeValue==e.oldValue}}class ys extends au{constructor(e,n,r,i){super(e,[],r,i),this.mark=n}static create(e,n,r,i){let o=i.nodeViews[n.type.name],s=o&&o(n,i,r);return(!s||!s.dom)&&(s=wo.renderSpec(document,n.type.spec.toDOM(n,r))),new ys(e,n,s.dom,s.contentDOM||s.dom)}parseRule(){return this.dirty&Do||this.mark.type.spec.reparseInView?null:{mark:this.mark.type.name,attrs:this.mark.attrs,contentElement:this.contentDOM||void 0}}matchesMark(e){return this.dirty!=Do&&this.mark.eq(e)}markDirty(e,n){if(super.markDirty(e,n),this.dirty!=ao){let r=this.parent;for(;!r.node;)r=r.parent;r.dirty<this.dirty&&(r.dirty=this.dirty),this.dirty=ao}}slice(e,n,r){let i=ys.create(this.parent,this.mark,!0,r),o=this.children,s=this.size;n<s&&(o=Nh(o,n,s,r)),e>0&&(o=Nh(o,0,e,r));for(let c=0;c<o.length;c++)o[c].parent=i;return i.children=o,i}}class bs extends au{constructor(e,n,r,i,o,s,c,u,x){super(e,[],o,s),this.node=n,this.outerDeco=r,this.innerDeco=i,this.nodeDOM=c,s&&this.updateChildren(u,x)}static create(e,n,r,i,o,s){let c=o.nodeViews[n.type.name],u,x=c&&c(n,o,()=>{if(!u)return s;if(u.parent)return u.parent.posBeforeChild(u)},r,i),O=x&&x.dom,Y=x&&x.contentDOM;if(n.isText){if(!O)O=document.createTextNode(n.text);else if(O.nodeType!=3)throw new RangeError("Text must be rendered as a DOM text node")}else O||({dom:O,contentDOM:Y}=wo.renderSpec(document,n.type.spec.toDOM(n)));!Y&&!n.isText&&O.nodeName!="BR"&&(O.hasAttribute("contenteditable")||(O.contentEditable="false"),n.type.spec.draggable&&(O.draggable=!0));let b=O;return O=Bb(O,r,n),x?u=new T6(e,n,r,i,O,Y||null,b,x,o,s+1):n.isText?new Mf(e,n,r,i,O,b,o):new bs(e,n,r,i,O,Y||null,b,o,s+1)}parseRule(){if(this.node.type.spec.reparseInView)return null;let e={node:this.node.type.name,attrs:this.node.attrs};if(this.node.type.whitespace=="pre"&&(e.preserveWhitespace="full"),!this.contentDOM)e.getContent=()=>this.node.content;else if(!this.contentLost)e.contentElement=this.contentDOM;else{for(let n=this.children.length-1;n>=0;n--){let r=this.children[n];if(this.dom.contains(r.dom.parentNode)){e.contentElement=r.dom.parentNode;break}}e.contentElement||(e.getContent=()=>xt.empty)}return e}matchesNode(e,n,r){return this.dirty==ao&&e.eq(this.node)&&Lh(n,this.outerDeco)&&r.eq(this.innerDeco)}get size(){return this.node.nodeSize}get border(){return this.node.isLeaf?0:1}updateChildren(e,n){let r=this.node.inlineContent,i=n,o=e.composing?this.localCompositionInfo(e,n):null,s=o&&o.pos>-1?o:null,c=o&&o.pos<0,u=new I6(this,s&&s.node,e);P6(this.node,this.innerDeco,(x,O,Y)=>{x.spec.marks?u.syncToMarks(x.spec.marks,r,e):x.type.side>=0&&!Y&&u.syncToMarks(O==this.node.childCount?Ln.none:this.node.child(O).marks,r,e),u.placeWidget(x,e,i)},(x,O,Y,b)=>{u.syncToMarks(x.marks,r,e);let m;u.findNodeMatch(x,O,Y,b)||c&&e.state.selection.from>i&&e.state.selection.to<i+x.nodeSize&&(m=u.findIndexWithChild(o.node))>-1&&u.updateNodeAt(x,O,Y,m,e)||u.updateNextNode(x,O,Y,e,b)||u.addNode(x,O,Y,e,i),i+=x.nodeSize}),u.syncToMarks([],r,e),this.node.isTextblock&&u.addTextblockHacks(),u.destroyRest(),(u.changed||this.dirty==Ws)&&(s&&this.protectLocalComposition(e,s),Rb(this.contentDOM,this.children,e),kl&&L6(this.dom))}localCompositionInfo(e,n){let{from:r,to:i}=e.state.selection;if(!(e.state.selection instanceof xn)||r<n||i>n+this.node.content.size)return null;let o=e.domSelectionRange(),s=N6(o.focusNode,o.focusOffset);if(!s||!this.dom.contains(s.parentNode))return null;if(this.node.inlineContent){let c=s.nodeValue,u=R6(this.node.content,c,r-n,i-n);return u<0?null:{node:s,pos:u,text:c}}else return{node:s,pos:-1,text:""}}protectLocalComposition(e,{node:n,pos:r,text:i}){if(this.getDesc(n))return;let o=n;for(;o.parentNode!=this.contentDOM;o=o.parentNode){for(;o.previousSibling;)o.parentNode.removeChild(o.previousSibling);for(;o.nextSibling;)o.parentNode.removeChild(o.nextSibling);o.pmViewDesc&&(o.pmViewDesc=void 0)}let s=new M6(this,o,n,i);e.input.compositionNodes.push(s),this.children=Nh(this.children,r,r+i.length,e,s)}update(e,n,r,i){return this.dirty==Do||!e.sameMarkup(this.node)?!1:(this.updateInner(e,n,r,i),!0)}updateInner(e,n,r,i){this.updateOuterDeco(n),this.node=e,this.innerDeco=r,this.contentDOM&&this.updateChildren(i,this.posAtStart),this.dirty=ao}updateOuterDeco(e){if(Lh(e,this.outerDeco))return;let n=this.nodeDOM.nodeType!=1,r=this.dom;this.dom=zb(this.dom,this.nodeDOM,Ph(this.outerDeco,this.node,n),Ph(e,this.node,n)),this.dom!=r&&(r.pmViewDesc=void 0,this.dom.pmViewDesc=this),this.outerDeco=e}selectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.add("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&(this.dom.draggable=!0)}deselectNode(){this.nodeDOM.nodeType==1&&this.nodeDOM.classList.remove("ProseMirror-selectednode"),(this.contentDOM||!this.node.type.spec.draggable)&&this.dom.removeAttribute("draggable")}get domAtom(){return this.node.isAtom}}function O1(t,e,n,r,i){return Bb(r,e,t),new bs(void 0,t,e,n,r,r,r,i,0)}class Mf extends bs{constructor(e,n,r,i,o,s,c){super(e,n,r,i,o,null,s,c,0)}parseRule(){let e=this.nodeDOM.parentNode;for(;e&&e!=this.dom&&!e.pmIsDeco;)e=e.parentNode;return{skip:e||!0}}update(e,n,r,i){return this.dirty==Do||this.dirty!=ao&&!this.inParent()||!e.sameMarkup(this.node)?!1:(this.updateOuterDeco(n),(this.dirty!=ao||e.text!=this.node.text)&&e.text!=this.nodeDOM.nodeValue&&(this.nodeDOM.nodeValue=e.text,i.trackWrites==this.nodeDOM&&(i.trackWrites=null)),this.node=e,this.dirty=ao,!0)}inParent(){let e=this.parent.contentDOM;for(let n=this.nodeDOM;n;n=n.parentNode)if(n==e)return!0;return!1}domFromPos(e){return{node:this.nodeDOM,offset:e}}localPosFromDOM(e,n,r){return e==this.nodeDOM?this.posAtStart+Math.min(n,this.node.text.length):super.localPosFromDOM(e,n,r)}ignoreMutation(e){return e.type!="characterData"&&e.type!="selection"}slice(e,n,r){let i=this.node.cut(e,n),o=document.createTextNode(i.text);return new Mf(this.parent,i,this.outerDeco,this.innerDeco,o,o,r)}markDirty(e,n){super.markDirty(e,n),this.dom!=this.nodeDOM&&(e==0||n==this.nodeDOM.nodeValue.length)&&(this.dirty=Do)}get domAtom(){return!1}}class Nb extends au{parseRule(){return{ignore:!0}}matchesHack(e){return this.dirty==ao&&this.dom.nodeName==e}get domAtom(){return!0}get ignoreForCoords(){return this.dom.nodeName=="IMG"}}class T6 extends bs{constructor(e,n,r,i,o,s,c,u,x,O){super(e,n,r,i,o,s,c,x,O),this.spec=u}update(e,n,r,i){if(this.dirty==Do)return!1;if(this.spec.update){let o=this.spec.update(e,n,r);return o&&this.updateInner(e,n,r,i),o}else return!this.contentDOM&&!e.isLeaf?!1:super.update(e,n,r,i)}selectNode(){this.spec.selectNode?this.spec.selectNode():super.selectNode()}deselectNode(){this.spec.deselectNode?this.spec.deselectNode():super.deselectNode()}setSelection(e,n,r,i){this.spec.setSelection?this.spec.setSelection(e,n,r):super.setSelection(e,n,r,i)}destroy(){this.spec.destroy&&this.spec.destroy(),super.destroy()}stopEvent(e){return this.spec.stopEvent?this.spec.stopEvent(e):!1}ignoreMutation(e){return this.spec.ignoreMutation?this.spec.ignoreMutation(e):super.ignoreMutation(e)}}function Rb(t,e,n){let r=t.firstChild,i=!1;for(let o=0;o<e.length;o++){let s=e[o],c=s.dom;if(c.parentNode==t){for(;c!=r;)r=M1(r),i=!0;r=r.nextSibling}else i=!0,t.insertBefore(c,r);if(s instanceof ys){let u=r?r.previousSibling:t.lastChild;Rb(s.contentDOM,s.children,n),r=u?u.nextSibling:t.firstChild}}for(;r;)r=M1(r),i=!0;i&&n.trackWrites==t&&(n.trackWrites=null)}const gc=function(t){t&&(this.nodeName=t)};gc.prototype=Object.create(null);const rs=[new gc];function Ph(t,e,n){if(t.length==0)return rs;let r=n?rs[0]:new gc,i=[r];for(let o=0;o<t.length;o++){let s=t[o].type.attrs;if(s){s.nodeName&&i.push(r=new gc(s.nodeName));for(let c in s){let u=s[c];u!=null&&(n&&i.length==1&&i.push(r=new gc(e.isInline?"span":"div")),c=="class"?r.class=(r.class?r.class+" ":"")+u:c=="style"?r.style=(r.style?r.style+";":"")+u:c!="nodeName"&&(r[c]=u))}}}return i}function zb(t,e,n,r){if(n==rs&&r==rs)return e;let i=e;for(let o=0;o<r.length;o++){let s=r[o],c=n[o];if(o){let u;c&&c.nodeName==s.nodeName&&i!=t&&(u=i.parentNode)&&u.nodeName.toLowerCase()==s.nodeName||(u=document.createElement(s.nodeName),u.pmIsDeco=!0,u.appendChild(i),c=rs[0]),i=u}A6(i,c||rs[0],s)}return i}function A6(t,e,n){for(let r in e)r!="class"&&r!="style"&&r!="nodeName"&&!(r in n)&&t.removeAttribute(r);for(let r in n)r!="class"&&r!="style"&&r!="nodeName"&&n[r]!=e[r]&&t.setAttribute(r,n[r]);if(e.class!=n.class){let r=e.class?e.class.split(" ").filter(Boolean):[],i=n.class?n.class.split(" ").filter(Boolean):[];for(let o=0;o<r.length;o++)i.indexOf(r[o])==-1&&t.classList.remove(r[o]);for(let o=0;o<i.length;o++)r.indexOf(i[o])==-1&&t.classList.add(i[o]);t.classList.length==0&&t.removeAttribute("class")}if(e.style!=n.style){if(e.style){let r=/\s*([\w\-\xa1-\uffff]+)\s*:(?:"(?:\\.|[^"])*"|'(?:\\.|[^'])*'|\(.*?\)|[^;])*/g,i;for(;i=r.exec(e.style);)t.style.removeProperty(i[1])}n.style&&(t.style.cssText+=n.style)}}function Bb(t,e,n){return zb(t,t,rs,Ph(e,n,t.nodeType!=1))}function Lh(t,e){if(t.length!=e.length)return!1;for(let n=0;n<t.length;n++)if(!t[n].type.eq(e[n].type))return!1;return!0}function M1(t){let e=t.nextSibling;return t.parentNode.removeChild(t),e}class I6{constructor(e,n,r){this.lock=n,this.view=r,this.index=0,this.stack=[],this.changed=!1,this.top=e,this.preMatch=j6(e.node.content,e)}destroyBetween(e,n){if(e!=n){for(let r=e;r<n;r++)this.top.children[r].destroy();this.top.children.splice(e,n-e),this.changed=!0}}destroyRest(){this.destroyBetween(this.index,this.top.children.length)}syncToMarks(e,n,r){let i=0,o=this.stack.length>>1,s=Math.min(o,e.length);for(;i<s&&(i==o-1?this.top:this.stack[i+1<<1]).matchesMark(e[i])&&e[i].type.spec.spanning!==!1;)i++;for(;i<o;)this.destroyRest(),this.top.dirty=ao,this.index=this.stack.pop(),this.top=this.stack.pop(),o--;for(;o<e.length;){this.stack.push(this.top,this.index+1);let c=-1;for(let u=this.index;u<Math.min(this.index+3,this.top.children.length);u++){let x=this.top.children[u];if(x.matchesMark(e[o])&&!this.isLocked(x.dom)){c=u;break}}if(c>-1)c>this.index&&(this.changed=!0,this.destroyBetween(this.index,c)),this.top=this.top.children[this.index];else{let u=ys.create(this.top,e[o],n,r);this.top.children.splice(this.index,0,u),this.top=u,this.changed=!0}this.index=0,o++}}findNodeMatch(e,n,r,i){let o=-1,s;if(i>=this.preMatch.index&&(s=this.preMatch.matches[i-this.preMatch.index]).parent==this.top&&s.matchesNode(e,n,r))o=this.top.children.indexOf(s,this.index);else for(let c=this.index,u=Math.min(this.top.children.length,c+5);c<u;c++){let x=this.top.children[c];if(x.matchesNode(e,n,r)&&!this.preMatch.matched.has(x)){o=c;break}}return o<0?!1:(this.destroyBetween(this.index,o),this.index++,!0)}updateNodeAt(e,n,r,i,o){let s=this.top.children[i];return s.dirty==Do&&s.dom==s.contentDOM&&(s.dirty=Ws),s.update(e,n,r,o)?(this.destroyBetween(this.index,i),this.index++,!0):!1}findIndexWithChild(e){for(;;){let n=e.parentNode;if(!n)return-1;if(n==this.top.contentDOM){let r=e.pmViewDesc;if(r){for(let i=this.index;i<this.top.children.length;i++)if(this.top.children[i]==r)return i}return-1}e=n}}updateNextNode(e,n,r,i,o){for(let s=this.index;s<this.top.children.length;s++){let c=this.top.children[s];if(c instanceof bs){let u=this.preMatch.matched.get(c);if(u!=null&&u!=o)return!1;let x=c.dom;if(!(this.isLocked(x)&&!(e.isText&&c.node&&c.node.isText&&c.nodeDOM.nodeValue==e.text&&c.dirty!=Do&&Lh(n,c.outerDeco)))&&c.update(e,n,r,i))return this.destroyBetween(this.index,s),c.dom!=x&&(this.changed=!0),this.index++,!0;break}}return!1}addNode(e,n,r,i,o){this.top.children.splice(this.index++,0,bs.create(this.top,e,n,r,i,o)),this.changed=!0}placeWidget(e,n,r){let i=this.index<this.top.children.length?this.top.children[this.index]:null;if(i&&i.matchesWidget(e)&&(e==i.widget||!i.widget.type.toDOM.parentNode))this.index++;else{let o=new Lb(this.top,e,n,r);this.top.children.splice(this.index++,0,o),this.changed=!0}}addTextblockHacks(){let e=this.top.children[this.index-1],n=this.top;for(;e instanceof ys;)n=e,e=n.children[n.children.length-1];(!e||!(e instanceof Mf)||/\n$/.test(e.node.text)||this.view.requiresGeckoHackNode&&/\s$/.test(e.node.text))&&(($r||Jr)&&e&&e.dom.contentEditable=="false"&&this.addHackNode("IMG",n),this.addHackNode("BR",this.top))}addHackNode(e,n){if(n==this.top&&this.index<n.children.length&&n.children[this.index].matchesHack(e))this.index++;else{let r=document.createElement(e);e=="IMG"&&(r.className="ProseMirror-separator",r.alt=""),e=="BR"&&(r.className="ProseMirror-trailingBreak");let i=new Nb(this.top,[],r,null);n!=this.top?n.children.push(i):n.children.splice(this.index++,0,i),this.changed=!0}}isLocked(e){return this.lock&&(e==this.lock||e.nodeType==1&&e.contains(this.lock.parentNode))}}function j6(t,e){let n=e,r=n.children.length,i=t.childCount,o=new Map,s=[];e:for(;i>0;){let c;for(;;)if(r){let x=n.children[r-1];if(x instanceof ys)n=x,r=x.children.length;else{c=x,r--;break}}else{if(n==e)break e;r=n.parent.children.indexOf(n),n=n.parent}let u=c.node;if(u){if(u!=t.child(i-1))break;--i,o.set(c,i),s.push(c)}}return{index:i,matched:o,matches:s.reverse()}}function _6(t,e){return t.type.side-e.type.side}function P6(t,e,n,r){let i=e.locals(t),o=0;if(i.length==0){for(let x=0;x<t.childCount;x++){let O=t.child(x);r(O,i,e.forChild(o,O),x),o+=O.nodeSize}return}let s=0,c=[],u=null;for(let x=0;;){if(s<i.length&&i[s].to==o){let a=i[s++],v;for(;s<i.length&&i[s].to==o;)(v||(v=[a])).push(i[s++]);if(v){v.sort(_6);for(let E=0;E<v.length;E++)n(v[E],x,!!u)}else n(a,x,!!u)}let O,Y;if(u)Y=-1,O=u,u=null;else if(x<t.childCount)Y=x,O=t.child(x++);else break;for(let a=0;a<c.length;a++)c[a].to<=o&&c.splice(a--,1);for(;s<i.length&&i[s].from<=o&&i[s].to>o;)c.push(i[s++]);let b=o+O.nodeSize;if(O.isText){let a=b;s<i.length&&i[s].from<a&&(a=i[s].from);for(let v=0;v<c.length;v++)c[v].to<a&&(a=c[v].to);a<b&&(u=O.cut(a-o),O=O.cut(0,a-o),b=a,Y=-1)}let m=O.isInline&&!O.isLeaf?c.filter(a=>!a.inline):c.slice();r(O,m,e.forChild(o,O),Y),o=b}}function L6(t){if(t.nodeName=="UL"||t.nodeName=="OL"){let e=t.style.cssText;t.style.cssText=e+"; list-style: square !important",window.getComputedStyle(t).listStyle,t.style.cssText=e}}function N6(t,e){for(;;){if(t.nodeType==3)return t;if(t.nodeType==1&&e>0){if(t.childNodes.length>e&&t.childNodes[e].nodeType==3)return t.childNodes[e];t=t.childNodes[e-1],e=bo(t)}else if(t.nodeType==1&&e<t.childNodes.length)t=t.childNodes[e],e=0;else return null}}function R6(t,e,n,r){for(let i=0,o=0;i<t.childCount&&o<=r;){let s=t.child(i++),c=o;if(o+=s.nodeSize,!s.isText)continue;let u=s.text;for(;i<t.childCount;){let x=t.child(i++);if(o+=x.nodeSize,!x.isText)break;u+=x.text}if(o>=n){let x=c<r?u.lastIndexOf(e,r-c-1):-1;if(x>=0&&x+e.length+c>=n)return c+x;if(n==r&&u.length>=r+e.length-c&&u.slice(r-c,r-c+e.length)==e)return r}}return-1}function Nh(t,e,n,r,i){let o=[];for(let s=0,c=0;s<t.length;s++){let u=t[s],x=c,O=c+=u.size;x>=n||O<=e?o.push(u):(x<e&&o.push(u.slice(0,e-x,r)),i&&(o.push(i),i=void 0),O>n&&o.push(u.slice(n-x,u.size,r)))}return o}function em(t,e=null){let n=t.domSelectionRange(),r=t.state.doc;if(!n.focusNode)return null;let i=t.docView.nearestDesc(n.focusNode),o=i&&i.size==0,s=t.docView.posFromDOM(n.focusNode,n.focusOffset,1);if(s<0)return null;let c=r.resolve(s),u,x;if(Df(n)){for(u=c;i&&!i.node;)i=i.parent;let O=i.node;if(i&&O.isAtom&&rn.isSelectable(O)&&i.parent&&!(O.isInline&&l6(n.focusNode,n.focusOffset,i.dom))){let Y=i.posBefore;x=new rn(s==Y?c:r.resolve(Y))}}else{let O=t.docView.posFromDOM(n.anchorNode,n.anchorOffset,1);if(O<0)return null;u=r.resolve(O)}if(!x){let O=e=="pointer"||t.state.selection.head<c.pos&&!o?1:-1;x=tm(t,u,c,O)}return x}function Zb(t){return t.editable?t.hasFocus():Hb(t)&&document.activeElement&&document.activeElement.contains(t.dom)}function Uo(t,e=!1){let n=t.state.selection;if(Fb(t,n),!!Zb(t)){if(!e&&t.input.mouseDown&&t.input.mouseDown.allowDefault&&Jr){let r=t.domSelectionRange(),i=t.domObserver.currentSelection;if(r.anchorNode&&i.anchorNode&&vs(r.anchorNode,r.anchorOffset,i.anchorNode,i.anchorOffset)){t.input.mouseDown.delayedSelectionSync=!0,t.domObserver.setCurSelection();return}}if(t.domObserver.disconnectSelection(),t.cursorWrapper)B6(t);else{let{anchor:r,head:i}=n,o,s;T1&&!(n instanceof xn)&&(n.$from.parent.inlineContent||(o=A1(t,n.from)),!n.empty&&!n.$from.parent.inlineContent&&(s=A1(t,n.to))),t.docView.setSelection(r,i,t.root,e),T1&&(o&&I1(o),s&&I1(s)),n.visible?t.dom.classList.remove("ProseMirror-hideselection"):(t.dom.classList.add("ProseMirror-hideselection"),"onselectionchange"in document&&z6(t))}t.domObserver.setCurSelection(),t.domObserver.connectSelection()}}const T1=$r||Jr&&d6<63;function A1(t,e){let{node:n,offset:r}=t.docView.domFromPos(e,0),i=r<n.childNodes.length?n.childNodes[r]:null,o=r?n.childNodes[r-1]:null;if($r&&i&&i.contentEditable=="false")return Ip(i);if((!i||i.contentEditable=="false")&&(!o||o.contentEditable=="false")){if(i)return Ip(i);if(o)return Ip(o)}}function Ip(t){return t.contentEditable="true",$r&&t.draggable&&(t.draggable=!1,t.wasDraggable=!0),t}function I1(t){t.contentEditable="false",t.wasDraggable&&(t.draggable=!0,t.wasDraggable=null)}function z6(t){let e=t.dom.ownerDocument;e.removeEventListener("selectionchange",t.input.hideSelectionGuard);let n=t.domSelectionRange(),r=n.anchorNode,i=n.anchorOffset;e.addEventListener("selectionchange",t.input.hideSelectionGuard=()=>{(n.anchorNode!=r||n.anchorOffset!=i)&&(e.removeEventListener("selectionchange",t.input.hideSelectionGuard),setTimeout(()=>{(!Zb(t)||t.state.selection.visible)&&t.dom.classList.remove("ProseMirror-hideselection")},20))})}function B6(t){let e=t.domSelection(),n=document.createRange(),r=t.cursorWrapper.dom,i=r.nodeName=="IMG";i?n.setEnd(r.parentNode,yi(r)+1):n.setEnd(r,0),n.collapse(!1),e.removeAllRanges(),e.addRange(n),!i&&!t.state.selection.visible&&ai&&ka<=11&&(r.disabled=!0,r.disabled=!1)}function Fb(t,e){if(e instanceof rn){let n=t.docView.descAt(e.from);n!=t.lastSelectedViewDesc&&(j1(t),n&&n.selectNode(),t.lastSelectedViewDesc=n)}else j1(t)}function j1(t){t.lastSelectedViewDesc&&(t.lastSelectedViewDesc.parent&&t.lastSelectedViewDesc.deselectNode(),t.lastSelectedViewDesc=void 0)}function tm(t,e,n,r){return t.someProp("createSelectionBetween",i=>i(t,e,n))||xn.between(e,n,r)}function _1(t){return t.editable&&!t.hasFocus()?!1:Hb(t)}function Hb(t){let e=t.domSelectionRange();if(!e.anchorNode)return!1;try{return t.dom.contains(e.anchorNode.nodeType==3?e.anchorNode.parentNode:e.anchorNode)&&(t.editable||t.dom.contains(e.focusNode.nodeType==3?e.focusNode.parentNode:e.focusNode))}catch{return!1}}function Z6(t){let e=t.docView.domFromPos(t.state.selection.anchor,0),n=t.domSelectionRange();return vs(e.node,e.offset,n.anchorNode,n.anchorOffset)}function Rh(t,e){let{$anchor:n,$head:r}=t.selection,i=e>0?n.max(r):n.min(r),o=i.parent.inlineContent?i.depth?t.doc.resolve(e>0?i.after():i.before()):null:i;return o&&yn.findFrom(o,e)}function ts(t,e){return t.dispatch(t.state.tr.setSelection(e).scrollIntoView()),!0}function P1(t,e,n){let r=t.state.selection;if(r instanceof xn){if(!r.empty||n.indexOf("s")>-1)return!1;if(t.endOfTextblock(e>0?"right":"left")){let i=Rh(t.state,e);return i&&i instanceof rn?ts(t,i):!1}else if(!(ji&&n.indexOf("m")>-1)){let i=r.$head,o=i.textOffset?null:e<0?i.nodeBefore:i.nodeAfter,s;if(!o||o.isText)return!1;let c=e<0?i.pos-o.nodeSize:i.pos;return o.isAtom||(s=t.docView.descAt(c))&&!s.contentDOM?rn.isSelectable(o)?ts(t,new rn(e<0?t.state.doc.resolve(i.pos-o.nodeSize):i)):Of?ts(t,new xn(t.state.doc.resolve(e<0?c:c+o.nodeSize))):!1:!1}}else{if(r instanceof rn&&r.node.isInline)return ts(t,new xn(e>0?r.$to:r.$from));{let i=Rh(t.state,e);return i?ts(t,i):!1}}}function wd(t){return t.nodeType==3?t.nodeValue.length:t.childNodes.length}function vc(t){let e=t.pmViewDesc;return e&&e.size==0&&(t.nextSibling||t.nodeName!="BR")}function jp(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i,o,s=!1;for(co&&n.nodeType==1&&r<wd(n)&&vc(n.childNodes[r])&&(s=!0);;)if(r>0){if(n.nodeType!=1)break;{let c=n.childNodes[r-1];if(vc(c))i=n,o=--r;else if(c.nodeType==3)n=c,r=n.nodeValue.length;else break}}else{if(Wb(n))break;{let c=n.previousSibling;for(;c&&vc(c);)i=n.parentNode,o=yi(c),c=c.previousSibling;if(c)n=c,r=wd(n);else{if(n=n.parentNode,n==t.dom)break;r=0}}}s?zh(t,n,r):i&&zh(t,i,o)}function _p(t){let e=t.domSelectionRange(),n=e.focusNode,r=e.focusOffset;if(!n)return;let i=wd(n),o,s;for(;;)if(r<i){if(n.nodeType!=1)break;let c=n.childNodes[r];if(vc(c))o=n,s=++r;else break}else{if(Wb(n))break;{let c=n.nextSibling;for(;c&&vc(c);)o=c.parentNode,s=yi(c)+1,c=c.nextSibling;if(c)n=c,r=0,i=wd(n);else{if(n=n.parentNode,n==t.dom)break;r=i=0}}}o&&zh(t,o,s)}function Wb(t){let e=t.pmViewDesc;return e&&e.node&&e.node.isBlock}function zh(t,e,n){let r=t.domSelection();if(Df(r)){let o=document.createRange();o.setEnd(e,n),o.setStart(e,n),r.removeAllRanges(),r.addRange(o)}else r.extend&&r.extend(e,n);t.domObserver.setCurSelection();let{state:i}=t;setTimeout(()=>{t.state==i&&Uo(t)},50)}function L1(t,e,n){let r=t.state.selection;if(r instanceof xn&&!r.empty||n.indexOf("s")>-1||ji&&n.indexOf("m")>-1)return!1;let{$from:i,$to:o}=r;if(!i.parent.inlineContent||t.endOfTextblock(e<0?"up":"down")){let s=Rh(t.state,e);if(s&&s instanceof rn)return ts(t,s)}if(!i.parent.inlineContent){let s=e<0?i:o,c=r instanceof oo?yn.near(s,e):yn.findFrom(s,e);return c?ts(t,c):!1}return!1}function N1(t,e){if(!(t.state.selection instanceof xn))return!0;let{$head:n,$anchor:r,empty:i}=t.state.selection;if(!n.sameParent(r))return!0;if(!i)return!1;if(t.endOfTextblock(e>0?"forward":"backward"))return!0;let o=!n.textOffset&&(e<0?n.nodeBefore:n.nodeAfter);if(o&&!o.isText){let s=t.state.tr;return e<0?s.delete(n.pos-o.nodeSize,n.pos):s.delete(n.pos,n.pos+o.nodeSize),t.dispatch(s),!0}return!1}function R1(t,e,n){t.domObserver.stop(),e.contentEditable=n,t.domObserver.start()}function F6(t){if(!$r||t.state.selection.$head.parentOffset>0)return!1;let{focusNode:e,focusOffset:n}=t.domSelectionRange();if(e&&e.nodeType==1&&n==0&&e.firstChild&&e.firstChild.contentEditable=="false"){let r=e.firstChild;R1(t,r,"true"),setTimeout(()=>R1(t,r,"false"),20)}return!1}function H6(t){let e="";return t.ctrlKey&&(e+="c"),t.metaKey&&(e+="m"),t.altKey&&(e+="a"),t.shiftKey&&(e+="s"),e}function W6(t,e){let n=e.keyCode,r=H6(e);return n==8||ji&&n==72&&r=="c"?N1(t,-1)||jp(t):n==46||ji&&n==68&&r=="c"?N1(t,1)||_p(t):n==13||n==27?!0:n==37||ji&&n==66&&r=="c"?P1(t,-1,r)||jp(t):n==39||ji&&n==70&&r=="c"?P1(t,1,r)||_p(t):n==38||ji&&n==80&&r=="c"?L1(t,-1,r)||jp(t):n==40||ji&&n==78&&r=="c"?F6(t)||L1(t,1,r)||_p(t):r==(ji?"m":"c")&&(n==66||n==73||n==89||n==90)}function Ub(t,e){t.someProp("transformCopied",m=>{e=m(e,t)});let n=[],{content:r,openStart:i,openEnd:o}=e;for(;i>1&&o>1&&r.childCount==1&&r.firstChild.childCount==1;){i--,o--;let m=r.firstChild;n.push(m.type.name,m.attrs!=m.type.defaultAttrs?m.attrs:null),r=m.content}let s=t.someProp("clipboardSerializer")||wo.fromSchema(t.state.schema),c=Xb(),u=c.createElement("div");u.appendChild(s.serializeFragment(r,{document:c}));let x=u.firstChild,O,Y=0;for(;x&&x.nodeType==1&&(O=Jb[x.nodeName.toLowerCase()]);){for(let m=O.length-1;m>=0;m--){let a=c.createElement(O[m]);for(;u.firstChild;)a.appendChild(u.firstChild);u.appendChild(a),Y++}x=u.firstChild}x&&x.nodeType==1&&x.setAttribute("data-pm-slice",`${i} ${o}${Y?` -${Y}`:""} ${JSON.stringify(n)}`);let b=t.someProp("clipboardTextSerializer",m=>m(e,t))||e.content.textBetween(0,e.content.size,`

`);return{dom:u,text:b}}function Vb(t,e,n,r,i){let o=i.parent.type.spec.code,s,c;if(!n&&!e)return null;let u=e&&(r||o||!n);if(u){if(t.someProp("transformPastedText",b=>{e=b(e,o||r,t)}),o)return e?new Lt(xt.from(t.state.schema.text(e.replace(/\r\n?/g,`
`))),0,0):Lt.empty;let Y=t.someProp("clipboardTextParser",b=>b(e,i,r,t));if(Y)c=Y;else{let b=i.marks(),{schema:m}=t.state,a=wo.fromSchema(m);s=document.createElement("div"),e.split(/(?:\r\n?|\n)+/).forEach(v=>{let E=s.appendChild(document.createElement("p"));v&&E.appendChild(a.serializeNode(m.text(v,b)))})}}else t.someProp("transformPastedHTML",Y=>{n=Y(n,t)}),s=K6(n),Of&&G6(s);let x=s&&s.querySelector("[data-pm-slice]"),O=x&&/^(\d+) (\d+)(?: -(\d+))? (.*)/.exec(x.getAttribute("data-pm-slice")||"");if(O&&O[3])for(let Y=+O[3];Y>0;Y--){let b=s.firstChild;for(;b&&b.nodeType!=1;)b=b.nextSibling;if(!b)break;s=b}if(c||(c=(t.someProp("clipboardParser")||t.someProp("domParser")||Y0.fromSchema(t.state.schema)).parseSlice(s,{preserveWhitespace:!!(u||O),context:i,ruleFromNode(b){return b.nodeName=="BR"&&!b.nextSibling&&b.parentNode&&!U6.test(b.parentNode.nodeName)?{ignore:!0}:null}})),O)c=Y6(z1(c,+O[1],+O[2]),O[4]);else if(c=Lt.maxOpen(V6(c.content,i),!0),c.openStart||c.openEnd){let Y=0,b=0;for(let m=c.content.firstChild;Y<c.openStart&&!m.type.spec.isolating;Y++,m=m.firstChild);for(let m=c.content.lastChild;b<c.openEnd&&!m.type.spec.isolating;b++,m=m.lastChild);c=z1(c,Y,b)}return t.someProp("transformPasted",Y=>{c=Y(c,t)}),c}const U6=/^(a|abbr|acronym|b|cite|code|del|em|i|ins|kbd|label|output|q|ruby|s|samp|span|strong|sub|sup|time|u|tt|var)$/i;function V6(t,e){if(t.childCount<2)return t;for(let n=e.depth;n>=0;n--){let i=e.node(n).contentMatchAt(e.index(n)),o,s=[];if(t.forEach(c=>{if(!s)return;let u=i.findWrapping(c.type),x;if(!u)return s=null;if(x=s.length&&o.length&&Gb(u,o,c,s[s.length-1],0))s[s.length-1]=x;else{s.length&&(s[s.length-1]=Yb(s[s.length-1],o.length));let O=Kb(c,u);s.push(O),i=i.matchType(O.type),o=u}}),s)return xt.from(s)}return t}function Kb(t,e,n=0){for(let r=e.length-1;r>=n;r--)t=e[r].create(null,xt.from(t));return t}function Gb(t,e,n,r,i){if(i<t.length&&i<e.length&&t[i]==e[i]){let o=Gb(t,e,n,r.lastChild,i+1);if(o)return r.copy(r.content.replaceChild(r.childCount-1,o));if(r.contentMatchAt(r.childCount).matchType(i==t.length-1?n.type:t[i+1]))return r.copy(r.content.append(xt.from(Kb(n,t,i+1))))}}function Yb(t,e){if(e==0)return t;let n=t.content.replaceChild(t.childCount-1,Yb(t.lastChild,e-1)),r=t.contentMatchAt(t.childCount).fillBefore(xt.empty,!0);return t.copy(n.append(r))}function Bh(t,e,n,r,i,o){let s=e<0?t.firstChild:t.lastChild,c=s.content;return i<r-1&&(c=Bh(c,e,n,r,i+1,o)),i>=n&&(c=e<0?s.contentMatchAt(0).fillBefore(c,t.childCount>1||o<=i).append(c):c.append(s.contentMatchAt(s.childCount).fillBefore(xt.empty,!0))),t.replaceChild(e<0?0:t.childCount-1,s.copy(c))}function z1(t,e,n){return e<t.openStart&&(t=new Lt(Bh(t.content,-1,e,t.openStart,0,t.openEnd),e,t.openEnd)),n<t.openEnd&&(t=new Lt(Bh(t.content,1,n,t.openEnd,0,0),t.openStart,n)),t}const Jb={thead:["table"],tbody:["table"],tfoot:["table"],caption:["table"],colgroup:["table"],col:["table","colgroup"],tr:["table","tbody"],td:["table","tbody","tr"],th:["table","tbody","tr"]};let B1=null;function Xb(){return B1||(B1=document.implementation.createHTMLDocument("title"))}function K6(t){let e=/^(\s*<meta [^>]*>)*/.exec(t);e&&(t=t.slice(e[0].length));let n=Xb().createElement("div"),r=/<([a-z][^>\s]+)/i.exec(t),i;if((i=r&&Jb[r[1].toLowerCase()])&&(t=i.map(o=>"<"+o+">").join("")+t+i.map(o=>"</"+o+">").reverse().join("")),n.innerHTML=t,i)for(let o=0;o<i.length;o++)n=n.querySelector(i[o])||n;return n}function G6(t){let e=t.querySelectorAll(Jr?"span:not([class]):not([style])":"span.Apple-converted-space");for(let n=0;n<e.length;n++){let r=e[n];r.childNodes.length==1&&r.textContent==""&&r.parentNode&&r.parentNode.replaceChild(t.ownerDocument.createTextNode(" "),r)}}function Y6(t,e){if(!t.size)return t;let n=t.content.firstChild.type.schema,r;try{r=JSON.parse(e)}catch{return t}let{content:i,openStart:o,openEnd:s}=t;for(let c=r.length-2;c>=0;c-=2){let u=n.nodes[r[c]];if(!u||u.hasRequiredAttrs())break;i=xt.from(u.create(r[c+1],i)),o++,s++}return new Lt(i,o,s)}const qr={},Qr={},J6={touchstart:!0,touchmove:!0};class X6{constructor(){this.shiftKey=!1,this.mouseDown=null,this.lastKeyCode=null,this.lastKeyCodeTime=0,this.lastClick={time:0,x:0,y:0,type:""},this.lastSelectionOrigin=null,this.lastSelectionTime=0,this.lastIOSEnter=0,this.lastIOSEnterFallbackTimeout=-1,this.lastFocus=0,this.lastTouch=0,this.lastAndroidDelete=0,this.composing=!1,this.composingTimeout=-1,this.compositionNodes=[],this.compositionEndedAt=-2e8,this.domChangeCount=0,this.eventHandlers=Object.create(null),this.hideSelectionGuard=null}}function $6(t){for(let e in qr){let n=qr[e];t.dom.addEventListener(e,t.input.eventHandlers[e]=r=>{Q6(t,r)&&!nm(t,r)&&(t.editable||!(r.type in Qr))&&n(t,r)},J6[e]?{passive:!0}:void 0)}$r&&t.dom.addEventListener("input",()=>null),Zh(t)}function ma(t,e){t.input.lastSelectionOrigin=e,t.input.lastSelectionTime=Date.now()}function q6(t){t.domObserver.stop();for(let e in t.input.eventHandlers)t.dom.removeEventListener(e,t.input.eventHandlers[e]);clearTimeout(t.input.composingTimeout),clearTimeout(t.input.lastIOSEnterFallbackTimeout)}function Zh(t){t.someProp("handleDOMEvents",e=>{for(let n in e)t.input.eventHandlers[n]||t.dom.addEventListener(n,t.input.eventHandlers[n]=r=>nm(t,r))})}function nm(t,e){return t.someProp("handleDOMEvents",n=>{let r=n[e.type];return r?r(t,e)||e.defaultPrevented:!1})}function Q6(t,e){if(!e.bubbles)return!0;if(e.defaultPrevented)return!1;for(let n=e.target;n!=t.dom;n=n.parentNode)if(!n||n.nodeType==11||n.pmViewDesc&&n.pmViewDesc.stopEvent(e))return!1;return!0}function eE(t,e){!nm(t,e)&&qr[e.type]&&(t.editable||!(e.type in Qr))&&qr[e.type](t,e)}Qr.keydown=(t,e)=>{let n=e;if(t.input.shiftKey=n.keyCode==16||n.shiftKey,!qb(t,n)&&(t.input.lastKeyCode=n.keyCode,t.input.lastKeyCodeTime=Date.now(),!(qi&&Jr&&n.keyCode==13)))if(n.keyCode!=229&&t.domObserver.forceFlush(),kl&&n.keyCode==13&&!n.ctrlKey&&!n.altKey&&!n.metaKey){let r=Date.now();t.input.lastIOSEnter=r,t.input.lastIOSEnterFallbackTimeout=setTimeout(()=>{t.input.lastIOSEnter==r&&(t.someProp("handleKeyDown",i=>i(t,es(13,"Enter"))),t.input.lastIOSEnter=0)},200)}else t.someProp("handleKeyDown",r=>r(t,n))||W6(t,n)?n.preventDefault():ma(t,"key")};Qr.keyup=(t,e)=>{e.keyCode==16&&(t.input.shiftKey=!1)};Qr.keypress=(t,e)=>{let n=e;if(qb(t,n)||!n.charCode||n.ctrlKey&&!n.altKey||ji&&n.metaKey)return;if(t.someProp("handleKeyPress",i=>i(t,n))){n.preventDefault();return}let r=t.state.selection;if(!(r instanceof xn)||!r.$from.sameParent(r.$to)){let i=String.fromCharCode(n.charCode);!/[\r\n]/.test(i)&&!t.someProp("handleTextInput",o=>o(t,r.$from.pos,r.$to.pos,i))&&t.dispatch(t.state.tr.insertText(i).scrollIntoView()),n.preventDefault()}};function Tf(t){return{left:t.clientX,top:t.clientY}}function tE(t,e){let n=e.x-t.clientX,r=e.y-t.clientY;return n*n+r*r<100}function rm(t,e,n,r,i){if(r==-1)return!1;let o=t.state.doc.resolve(r);for(let s=o.depth+1;s>0;s--)if(t.someProp(e,c=>s>o.depth?c(t,n,o.nodeAfter,o.before(s),i,!0):c(t,n,o.node(s),o.before(s),i,!1)))return!0;return!1}function dl(t,e,n){t.focused||t.focus();let r=t.state.tr.setSelection(e);n=="pointer"&&r.setMeta("pointer",!0),t.dispatch(r)}function nE(t,e){if(e==-1)return!1;let n=t.state.doc.resolve(e),r=n.nodeAfter;return r&&r.isAtom&&rn.isSelectable(r)?(dl(t,new rn(n),"pointer"),!0):!1}function rE(t,e){if(e==-1)return!1;let n=t.state.selection,r,i;n instanceof rn&&(r=n.node);let o=t.state.doc.resolve(e);for(let s=o.depth+1;s>0;s--){let c=s>o.depth?o.nodeAfter:o.node(s);if(rn.isSelectable(c)){r&&n.$from.depth>0&&s>=n.$from.depth&&o.before(n.$from.depth+1)==n.$from.pos?i=o.before(n.$from.depth):i=o.before(s);break}}return i!=null?(dl(t,rn.create(t.state.doc,i),"pointer"),!0):!1}function iE(t,e,n,r,i){return rm(t,"handleClickOn",e,n,r)||t.someProp("handleClick",o=>o(t,e,r))||(i?rE(t,n):nE(t,n))}function oE(t,e,n,r){return rm(t,"handleDoubleClickOn",e,n,r)||t.someProp("handleDoubleClick",i=>i(t,e,r))}function aE(t,e,n,r){return rm(t,"handleTripleClickOn",e,n,r)||t.someProp("handleTripleClick",i=>i(t,e,r))||sE(t,n,r)}function sE(t,e,n){if(n.button!=0)return!1;let r=t.state.doc;if(e==-1)return r.inlineContent?(dl(t,xn.create(r,0,r.content.size),"pointer"),!0):!1;let i=r.resolve(e);for(let o=i.depth+1;o>0;o--){let s=o>i.depth?i.nodeAfter:i.node(o),c=i.before(o);if(s.inlineContent)dl(t,xn.create(r,c+1,c+1+s.content.size),"pointer");else if(rn.isSelectable(s))dl(t,rn.create(r,c),"pointer");else continue;return!0}}function im(t){return kd(t)}const $b=ji?"metaKey":"ctrlKey";qr.mousedown=(t,e)=>{let n=e;t.input.shiftKey=n.shiftKey;let r=im(t),i=Date.now(),o="singleClick";i-t.input.lastClick.time<500&&tE(n,t.input.lastClick)&&!n[$b]&&(t.input.lastClick.type=="singleClick"?o="doubleClick":t.input.lastClick.type=="doubleClick"&&(o="tripleClick")),t.input.lastClick={time:i,x:n.clientX,y:n.clientY,type:o};let s=t.posAtCoords(Tf(n));s&&(o=="singleClick"?(t.input.mouseDown&&t.input.mouseDown.done(),t.input.mouseDown=new lE(t,s,n,!!r)):(o=="doubleClick"?oE:aE)(t,s.pos,s.inside,n)?n.preventDefault():ma(t,"pointer"))};class lE{constructor(e,n,r,i){this.view=e,this.pos=n,this.event=r,this.flushed=i,this.delayedSelectionSync=!1,this.mightDrag=null,this.startDoc=e.state.doc,this.selectNode=!!r[$b],this.allowDefault=r.shiftKey;let o,s;if(n.inside>-1)o=e.state.doc.nodeAt(n.inside),s=n.inside;else{let O=e.state.doc.resolve(n.pos);o=O.parent,s=O.depth?O.before():0}const c=i?null:r.target,u=c?e.docView.nearestDesc(c,!0):null;this.target=u?u.dom:null;let{selection:x}=e.state;(r.button==0&&o.type.spec.draggable&&o.type.spec.selectable!==!1||x instanceof rn&&x.from<=s&&x.to>s)&&(this.mightDrag={node:o,pos:s,addAttr:!!(this.target&&!this.target.draggable),setUneditable:!!(this.target&&co&&!this.target.hasAttribute("contentEditable"))}),this.target&&this.mightDrag&&(this.mightDrag.addAttr||this.mightDrag.setUneditable)&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&(this.target.draggable=!0),this.mightDrag.setUneditable&&setTimeout(()=>{this.view.input.mouseDown==this&&this.target.setAttribute("contentEditable","false")},20),this.view.domObserver.start()),e.root.addEventListener("mouseup",this.up=this.up.bind(this)),e.root.addEventListener("mousemove",this.move=this.move.bind(this)),ma(e,"pointer")}done(){this.view.root.removeEventListener("mouseup",this.up),this.view.root.removeEventListener("mousemove",this.move),this.mightDrag&&this.target&&(this.view.domObserver.stop(),this.mightDrag.addAttr&&this.target.removeAttribute("draggable"),this.mightDrag.setUneditable&&this.target.removeAttribute("contentEditable"),this.view.domObserver.start()),this.delayedSelectionSync&&setTimeout(()=>Uo(this.view)),this.view.input.mouseDown=null}up(e){if(this.done(),!this.view.dom.contains(e.target))return;let n=this.pos;this.view.state.doc!=this.startDoc&&(n=this.view.posAtCoords(Tf(e))),this.updateAllowDefault(e),this.allowDefault||!n?ma(this.view,"pointer"):iE(this.view,n.pos,n.inside,e,this.selectNode)?e.preventDefault():e.button==0&&(this.flushed||$r&&this.mightDrag&&!this.mightDrag.node.isAtom||Jr&&!this.view.state.selection.visible&&Math.min(Math.abs(n.pos-this.view.state.selection.from),Math.abs(n.pos-this.view.state.selection.to))<=2)?(dl(this.view,yn.near(this.view.state.doc.resolve(n.pos)),"pointer"),e.preventDefault()):ma(this.view,"pointer")}move(e){this.updateAllowDefault(e),ma(this.view,"pointer"),e.buttons==0&&this.done()}updateAllowDefault(e){!this.allowDefault&&(Math.abs(this.event.x-e.clientX)>4||Math.abs(this.event.y-e.clientY)>4)&&(this.allowDefault=!0)}}qr.touchstart=t=>{t.input.lastTouch=Date.now(),im(t),ma(t,"pointer")};qr.touchmove=t=>{t.input.lastTouch=Date.now(),ma(t,"pointer")};qr.contextmenu=t=>im(t);function qb(t,e){return t.composing?!0:$r&&Math.abs(e.timeStamp-t.input.compositionEndedAt)<500?(t.input.compositionEndedAt=-2e8,!0):!1}const cE=qi?5e3:-1;Qr.compositionstart=Qr.compositionupdate=t=>{if(!t.composing){t.domObserver.flush();let{state:e}=t,n=e.selection.$from;if(e.selection.empty&&(e.storedMarks||!n.textOffset&&n.parentOffset&&n.nodeBefore.marks.some(r=>r.type.spec.inclusive===!1)))t.markCursor=t.state.storedMarks||n.marks(),kd(t,!0),t.markCursor=null;else if(kd(t),co&&e.selection.empty&&n.parentOffset&&!n.textOffset&&n.nodeBefore.marks.length){let r=t.domSelectionRange();for(let i=r.focusNode,o=r.focusOffset;i&&i.nodeType==1&&o!=0;){let s=o<0?i.lastChild:i.childNodes[o-1];if(!s)break;if(s.nodeType==3){t.domSelection().collapse(s,s.nodeValue.length);break}else i=s,o=-1}}t.input.composing=!0}Qb(t,cE)};Qr.compositionend=(t,e)=>{t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=e.timeStamp,Qb(t,20))};function Qb(t,e){clearTimeout(t.input.composingTimeout),e>-1&&(t.input.composingTimeout=setTimeout(()=>kd(t),e))}function e2(t){for(t.composing&&(t.input.composing=!1,t.input.compositionEndedAt=uE());t.input.compositionNodes.length>0;)t.input.compositionNodes.pop().markParentsDirty()}function uE(){let t=document.createEvent("Event");return t.initEvent("event",!0,!0),t.timeStamp}function kd(t,e=!1){if(!(qi&&t.domObserver.flushingSoon>=0)){if(t.domObserver.forceFlush(),e2(t),e||t.docView&&t.docView.dirty){let n=em(t);return n&&!n.eq(t.state.selection)?t.dispatch(t.state.tr.setSelection(n)):t.updateState(t.state),!0}return!1}}function dE(t,e){if(!t.dom.parentNode)return;let n=t.dom.parentNode.appendChild(document.createElement("div"));n.appendChild(e),n.style.cssText="position: fixed; left: -10000px; top: 10px";let r=getSelection(),i=document.createRange();i.selectNodeContents(e),t.dom.blur(),r.removeAllRanges(),r.addRange(i),setTimeout(()=>{n.parentNode&&n.parentNode.removeChild(n),t.focus()},50)}const El=ai&&ka<15||kl&&f6<604;qr.copy=Qr.cut=(t,e)=>{let n=e,r=t.state.selection,i=n.type=="cut";if(r.empty)return;let o=El?null:n.clipboardData,s=r.content(),{dom:c,text:u}=Ub(t,s);o?(n.preventDefault(),o.clearData(),o.setData("text/html",c.innerHTML),o.setData("text/plain",u)):dE(t,c),i&&t.dispatch(t.state.tr.deleteSelection().scrollIntoView().setMeta("uiEvent","cut"))};function fE(t){return t.openStart==0&&t.openEnd==0&&t.content.childCount==1?t.content.firstChild:null}function pE(t,e){if(!t.dom.parentNode)return;let n=t.input.shiftKey||t.state.selection.$from.parent.type.spec.code,r=t.dom.parentNode.appendChild(document.createElement(n?"textarea":"div"));n||(r.contentEditable="true"),r.style.cssText="position: fixed; left: -10000px; top: 10px",r.focus(),setTimeout(()=>{t.focus(),r.parentNode&&r.parentNode.removeChild(r),n?Rc(t,r.value,null,t.input.shiftKey,e):Rc(t,r.textContent,r.innerHTML,t.input.shiftKey,e)},50)}function Rc(t,e,n,r,i){let o=Vb(t,e,n,r,t.state.selection.$from);if(t.someProp("handlePaste",u=>u(t,i,o||Lt.empty)))return!0;if(!o)return!1;let s=fE(o),c=s?t.state.tr.replaceSelectionWith(s,t.input.shiftKey):t.state.tr.replaceSelection(o);return t.dispatch(c.scrollIntoView().setMeta("paste",!0).setMeta("uiEvent","paste")),!0}Qr.paste=(t,e)=>{let n=e;if(t.composing&&!qi)return;let r=El?null:n.clipboardData;r&&Rc(t,r.getData("text/plain"),r.getData("text/html"),t.input.shiftKey,n)?n.preventDefault():pE(t,n)};class hE{constructor(e,n){this.slice=e,this.move=n}}const t2=ji?"altKey":"ctrlKey";qr.dragstart=(t,e)=>{let n=e,r=t.input.mouseDown;if(r&&r.done(),!n.dataTransfer)return;let i=t.state.selection,o=i.empty?null:t.posAtCoords(Tf(n));if(!(o&&o.pos>=i.from&&o.pos<=(i instanceof rn?i.to-1:i.to))){if(r&&r.mightDrag)t.dispatch(t.state.tr.setSelection(rn.create(t.state.doc,r.mightDrag.pos)));else if(n.target&&n.target.nodeType==1){let x=t.docView.nearestDesc(n.target,!0);x&&x.node.type.spec.draggable&&x!=t.docView&&t.dispatch(t.state.tr.setSelection(rn.create(t.state.doc,x.posBefore)))}}let s=t.state.selection.content(),{dom:c,text:u}=Ub(t,s);n.dataTransfer.clearData(),n.dataTransfer.setData(El?"Text":"text/html",c.innerHTML),n.dataTransfer.effectAllowed="copyMove",El||n.dataTransfer.setData("text/plain",u),t.dragging=new hE(s,!n[t2])};qr.dragend=t=>{let e=t.dragging;window.setTimeout(()=>{t.dragging==e&&(t.dragging=null)},50)};Qr.dragover=Qr.dragenter=(t,e)=>e.preventDefault();Qr.drop=(t,e)=>{let n=e,r=t.dragging;if(t.dragging=null,!n.dataTransfer)return;let i=t.posAtCoords(Tf(n));if(!i)return;let o=t.state.doc.resolve(i.pos),s=r&&r.slice;s?t.someProp("transformPasted",a=>{s=a(s,t)}):s=Vb(t,n.dataTransfer.getData(El?"Text":"text/plain"),El?null:n.dataTransfer.getData("text/html"),!1,o);let c=!!(r&&!n[t2]);if(t.someProp("handleDrop",a=>a(t,n,s||Lt.empty,c))){n.preventDefault();return}if(!s)return;n.preventDefault();let u=s?xb(t.state.doc,o.pos,s):o.pos;u==null&&(u=o.pos);let x=t.state.tr;c&&x.deleteSelection();let O=x.mapping.map(u),Y=s.openStart==0&&s.openEnd==0&&s.content.childCount==1,b=x.doc;if(Y?x.replaceRangeWith(O,O,s.content.firstChild):x.replaceRange(O,O,s),x.doc.eq(b))return;let m=x.doc.resolve(O);if(Y&&rn.isSelectable(s.content.firstChild)&&m.nodeAfter&&m.nodeAfter.sameMarkup(s.content.firstChild))x.setSelection(new rn(m));else{let a=x.mapping.map(u);x.mapping.maps[x.mapping.maps.length-1].forEach((v,E,h,f)=>a=f),x.setSelection(tm(t,m,x.doc.resolve(a)))}t.focus(),t.dispatch(x.setMeta("uiEvent","drop"))};qr.focus=t=>{t.input.lastFocus=Date.now(),t.focused||(t.domObserver.stop(),t.dom.classList.add("ProseMirror-focused"),t.domObserver.start(),t.focused=!0,setTimeout(()=>{t.docView&&t.hasFocus()&&!t.domObserver.currentSelection.eq(t.domSelectionRange())&&Uo(t)},20))};qr.blur=(t,e)=>{let n=e;t.focused&&(t.domObserver.stop(),t.dom.classList.remove("ProseMirror-focused"),t.domObserver.start(),n.relatedTarget&&t.dom.contains(n.relatedTarget)&&t.domObserver.currentSelection.clear(),t.focused=!1)};qr.beforeinput=(t,e)=>{if(Jr&&qi&&e.inputType=="deleteContentBackward"){t.domObserver.flushSoon();let{domChangeCount:r}=t.input;setTimeout(()=>{if(t.input.domChangeCount!=r||(t.dom.blur(),t.focus(),t.someProp("handleKeyDown",o=>o(t,es(8,"Backspace")))))return;let{$cursor:i}=t.state.selection;i&&i.pos>0&&t.dispatch(t.state.tr.delete(i.pos-1,i.pos).scrollIntoView())},50)}};for(let t in Qr)qr[t]=Qr[t];function zc(t,e){if(t==e)return!0;for(let n in t)if(t[n]!==e[n])return!1;for(let n in e)if(!(n in t))return!1;return!0}class om{constructor(e,n){this.toDOM=e,this.spec=n||ds,this.side=this.spec.side||0}map(e,n,r,i){let{pos:o,deleted:s}=e.mapResult(n.from+i,this.side<0?-1:1);return s?null:new bi(o-r,o-r,this)}valid(){return!0}eq(e){return this==e||e instanceof om&&(this.spec.key&&this.spec.key==e.spec.key||this.toDOM==e.toDOM&&zc(this.spec,e.spec))}destroy(e){this.spec.destroy&&this.spec.destroy(e)}}class Ea{constructor(e,n){this.attrs=e,this.spec=n||ds}map(e,n,r,i){let o=e.map(n.from+i,this.spec.inclusiveStart?-1:1)-r,s=e.map(n.to+i,this.spec.inclusiveEnd?1:-1)-r;return o>=s?null:new bi(o,s,this)}valid(e,n){return n.from<n.to}eq(e){return this==e||e instanceof Ea&&zc(this.attrs,e.attrs)&&zc(this.spec,e.spec)}static is(e){return e.type instanceof Ea}destroy(){}}class am{constructor(e,n){this.attrs=e,this.spec=n||ds}map(e,n,r,i){let o=e.mapResult(n.from+i,1);if(o.deleted)return null;let s=e.mapResult(n.to+i,-1);return s.deleted||s.pos<=o.pos?null:new bi(o.pos-r,s.pos-r,this)}valid(e,n){let{index:r,offset:i}=e.content.findIndex(n.from),o;return i==n.from&&!(o=e.child(r)).isText&&i+o.nodeSize==n.to}eq(e){return this==e||e instanceof am&&zc(this.attrs,e.attrs)&&zc(this.spec,e.spec)}destroy(){}}class bi{constructor(e,n,r){this.from=e,this.to=n,this.type=r}copy(e,n){return new bi(e,n,this.type)}eq(e,n=0){return this.type.eq(e.type)&&this.from+n==e.from&&this.to+n==e.to}map(e,n,r){return this.type.map(e,this,n,r)}static widget(e,n,r){return new bi(e,e,new om(n,r))}static inline(e,n,r,i){return new bi(e,n,new Ea(r,i))}static node(e,n,r,i){return new bi(e,n,new am(r,i))}get spec(){return this.type.spec}get inline(){return this.type instanceof Ea}}const Zs=[],ds={};class cr{constructor(e,n){this.local=e.length?e:Zs,this.children=n.length?n:Zs}static create(e,n){return n.length?Ed(n,e,0,ds):Fr}find(e,n,r){let i=[];return this.findInner(e??0,n??1e9,i,0,r),i}findInner(e,n,r,i,o){for(let s=0;s<this.local.length;s++){let c=this.local[s];c.from<=n&&c.to>=e&&(!o||o(c.spec))&&r.push(c.copy(c.from+i,c.to+i))}for(let s=0;s<this.children.length;s+=3)if(this.children[s]<n&&this.children[s+1]>e){let c=this.children[s]+1;this.children[s+2].findInner(e-c,n-c,r,i+c,o)}}map(e,n,r){return this==Fr||e.maps.length==0?this:this.mapInner(e,n,0,0,r||ds)}mapInner(e,n,r,i,o){let s;for(let c=0;c<this.local.length;c++){let u=this.local[c].map(e,r,i);u&&u.type.valid(n,u)?(s||(s=[])).push(u):o.onRemove&&o.onRemove(this.local[c].spec)}return this.children.length?mE(this.children,s||[],e,n,r,i,o):s?new cr(s.sort(fs),Zs):Fr}add(e,n){return n.length?this==Fr?cr.create(e,n):this.addInner(e,n,0):this}addInner(e,n,r){let i,o=0;e.forEach((c,u)=>{let x=u+r,O;if(O=r2(n,c,x)){for(i||(i=this.children.slice());o<i.length&&i[o]<u;)o+=3;i[o]==u?i[o+2]=i[o+2].addInner(c,O,x+1):i.splice(o,0,u,u+c.nodeSize,Ed(O,c,x+1,ds)),o+=3}});let s=n2(o?i2(n):n,-r);for(let c=0;c<s.length;c++)s[c].type.valid(e,s[c])||s.splice(c--,1);return new cr(s.length?this.local.concat(s).sort(fs):this.local,i||this.children)}remove(e){return e.length==0||this==Fr?this:this.removeInner(e,0)}removeInner(e,n){let r=this.children,i=this.local;for(let o=0;o<r.length;o+=3){let s,c=r[o]+n,u=r[o+1]+n;for(let O=0,Y;O<e.length;O++)(Y=e[O])&&Y.from>c&&Y.to<u&&(e[O]=null,(s||(s=[])).push(Y));if(!s)continue;r==this.children&&(r=this.children.slice());let x=r[o+2].removeInner(s,c+1);x!=Fr?r[o+2]=x:(r.splice(o,3),o-=3)}if(i.length){for(let o=0,s;o<e.length;o++)if(s=e[o])for(let c=0;c<i.length;c++)i[c].eq(s,n)&&(i==this.local&&(i=this.local.slice()),i.splice(c--,1))}return r==this.children&&i==this.local?this:i.length||r.length?new cr(i,r):Fr}forChild(e,n){if(this==Fr)return this;if(n.isLeaf)return cr.empty;let r,i;for(let c=0;c<this.children.length;c+=3)if(this.children[c]>=e){this.children[c]==e&&(r=this.children[c+2]);break}let o=e+1,s=o+n.content.size;for(let c=0;c<this.local.length;c++){let u=this.local[c];if(u.from<s&&u.to>o&&u.type instanceof Ea){let x=Math.max(o,u.from)-o,O=Math.min(s,u.to)-o;x<O&&(i||(i=[])).push(u.copy(x,O))}}if(i){let c=new cr(i.sort(fs),Zs);return r?new ua([c,r]):c}return r||Fr}eq(e){if(this==e)return!0;if(!(e instanceof cr)||this.local.length!=e.local.length||this.children.length!=e.children.length)return!1;for(let n=0;n<this.local.length;n++)if(!this.local[n].eq(e.local[n]))return!1;for(let n=0;n<this.children.length;n+=3)if(this.children[n]!=e.children[n]||this.children[n+1]!=e.children[n+1]||!this.children[n+2].eq(e.children[n+2]))return!1;return!0}locals(e){return sm(this.localsInner(e))}localsInner(e){if(this==Fr)return Zs;if(e.inlineContent||!this.local.some(Ea.is))return this.local;let n=[];for(let r=0;r<this.local.length;r++)this.local[r].type instanceof Ea||n.push(this.local[r]);return n}}cr.empty=new cr([],[]);cr.removeOverlap=sm;const Fr=cr.empty;class ua{constructor(e){this.members=e}map(e,n){const r=this.members.map(i=>i.map(e,n,ds));return ua.from(r)}forChild(e,n){if(n.isLeaf)return cr.empty;let r=[];for(let i=0;i<this.members.length;i++){let o=this.members[i].forChild(e,n);o!=Fr&&(o instanceof ua?r=r.concat(o.members):r.push(o))}return ua.from(r)}eq(e){if(!(e instanceof ua)||e.members.length!=this.members.length)return!1;for(let n=0;n<this.members.length;n++)if(!this.members[n].eq(e.members[n]))return!1;return!0}locals(e){let n,r=!0;for(let i=0;i<this.members.length;i++){let o=this.members[i].localsInner(e);if(o.length)if(!n)n=o;else{r&&(n=n.slice(),r=!1);for(let s=0;s<o.length;s++)n.push(o[s])}}return n?sm(r?n:n.sort(fs)):Zs}static from(e){switch(e.length){case 0:return Fr;case 1:return e[0];default:return new ua(e.every(n=>n instanceof cr)?e:e.reduce((n,r)=>n.concat(r instanceof cr?r:r.members),[]))}}}function mE(t,e,n,r,i,o,s){let c=t.slice();for(let x=0,O=o;x<n.maps.length;x++){let Y=0;n.maps[x].forEach((b,m,a,v)=>{let E=v-a-(m-b);for(let h=0;h<c.length;h+=3){let f=c[h+1];if(f<0||b>f+O-Y)continue;let D=c[h]+O-Y;m>=D?c[h+1]=b<=D?-2:-1:a>=i&&E&&(c[h]+=E,c[h+1]+=E)}Y+=E}),O=n.maps[x].map(O,-1)}let u=!1;for(let x=0;x<c.length;x+=3)if(c[x+1]<0){if(c[x+1]==-2){u=!0,c[x+1]=-1;continue}let O=n.map(t[x]+o),Y=O-i;if(Y<0||Y>=r.content.size){u=!0;continue}let b=n.map(t[x+1]+o,-1),m=b-i,{index:a,offset:v}=r.content.findIndex(Y),E=r.maybeChild(a);if(E&&v==Y&&v+E.nodeSize==m){let h=c[x+2].mapInner(n,E,O+1,t[x]+o+1,s);h!=Fr?(c[x]=Y,c[x+1]=m,c[x+2]=h):(c[x+1]=-2,u=!0)}else u=!0}if(u){let x=gE(c,t,e,n,i,o,s),O=Ed(x,r,0,s);e=O.local;for(let Y=0;Y<c.length;Y+=3)c[Y+1]<0&&(c.splice(Y,3),Y-=3);for(let Y=0,b=0;Y<O.children.length;Y+=3){let m=O.children[Y];for(;b<c.length&&c[b]<m;)b+=3;c.splice(b,0,O.children[Y],O.children[Y+1],O.children[Y+2])}}return new cr(e.sort(fs),c)}function n2(t,e){if(!e||!t.length)return t;let n=[];for(let r=0;r<t.length;r++){let i=t[r];n.push(new bi(i.from+e,i.to+e,i.type))}return n}function gE(t,e,n,r,i,o,s){function c(u,x){for(let O=0;O<u.local.length;O++){let Y=u.local[O].map(r,i,x);Y?n.push(Y):s.onRemove&&s.onRemove(u.local[O].spec)}for(let O=0;O<u.children.length;O+=3)c(u.children[O+2],u.children[O]+x+1)}for(let u=0;u<t.length;u+=3)t[u+1]==-1&&c(t[u+2],e[u]+o+1);return n}function r2(t,e,n){if(e.isLeaf)return null;let r=n+e.nodeSize,i=null;for(let o=0,s;o<t.length;o++)(s=t[o])&&s.from>n&&s.to<r&&((i||(i=[])).push(s),t[o]=null);return i}function i2(t){let e=[];for(let n=0;n<t.length;n++)t[n]!=null&&e.push(t[n]);return e}function Ed(t,e,n,r){let i=[],o=!1;e.forEach((c,u)=>{let x=r2(t,c,u+n);if(x){o=!0;let O=Ed(x,c,n+u+1,r);O!=Fr&&i.push(u,u+c.nodeSize,O)}});let s=n2(o?i2(t):t,-n).sort(fs);for(let c=0;c<s.length;c++)s[c].type.valid(e,s[c])||(r.onRemove&&r.onRemove(s[c].spec),s.splice(c--,1));return s.length||i.length?new cr(s,i):Fr}function fs(t,e){return t.from-e.from||t.to-e.to}function sm(t){let e=t;for(let n=0;n<e.length-1;n++){let r=e[n];if(r.from!=r.to)for(let i=n+1;i<e.length;i++){let o=e[i];if(o.from==r.from){o.to!=r.to&&(e==t&&(e=t.slice()),e[i]=o.copy(o.from,r.to),Z1(e,i+1,o.copy(r.to,o.to)));continue}else{o.from<r.to&&(e==t&&(e=t.slice()),e[n]=r.copy(r.from,o.from),Z1(e,i,r.copy(o.from,r.to)));break}}}return e}function Z1(t,e,n){for(;e<t.length&&fs(n,t[e])>0;)e++;t.splice(e,0,n)}function Pp(t){let e=[];return t.someProp("decorations",n=>{let r=n(t.state);r&&r!=Fr&&e.push(r)}),t.cursorWrapper&&e.push(cr.create(t.state.doc,[t.cursorWrapper.deco])),ua.from(e)}const vE={childList:!0,characterData:!0,characterDataOldValue:!0,attributes:!0,attributeOldValue:!0,subtree:!0},yE=ai&&ka<=11;class bE{constructor(){this.anchorNode=null,this.anchorOffset=0,this.focusNode=null,this.focusOffset=0}set(e){this.anchorNode=e.anchorNode,this.anchorOffset=e.anchorOffset,this.focusNode=e.focusNode,this.focusOffset=e.focusOffset}clear(){this.anchorNode=this.focusNode=null}eq(e){return e.anchorNode==this.anchorNode&&e.anchorOffset==this.anchorOffset&&e.focusNode==this.focusNode&&e.focusOffset==this.focusOffset}}class xE{constructor(e,n){this.view=e,this.handleDOMChange=n,this.queue=[],this.flushingSoon=-1,this.observer=null,this.currentSelection=new bE,this.onCharData=null,this.suppressingSelectionUpdates=!1,this.observer=window.MutationObserver&&new window.MutationObserver(r=>{for(let i=0;i<r.length;i++)this.queue.push(r[i]);ai&&ka<=11&&r.some(i=>i.type=="childList"&&i.removedNodes.length||i.type=="characterData"&&i.oldValue.length>i.target.nodeValue.length)?this.flushSoon():this.flush()}),yE&&(this.onCharData=r=>{this.queue.push({target:r.target,type:"characterData",oldValue:r.prevValue}),this.flushSoon()}),this.onSelectionChange=this.onSelectionChange.bind(this)}flushSoon(){this.flushingSoon<0&&(this.flushingSoon=window.setTimeout(()=>{this.flushingSoon=-1,this.flush()},20))}forceFlush(){this.flushingSoon>-1&&(window.clearTimeout(this.flushingSoon),this.flushingSoon=-1,this.flush())}start(){this.observer&&(this.observer.takeRecords(),this.observer.observe(this.view.dom,vE)),this.onCharData&&this.view.dom.addEventListener("DOMCharacterDataModified",this.onCharData),this.connectSelection()}stop(){if(this.observer){let e=this.observer.takeRecords();if(e.length){for(let n=0;n<e.length;n++)this.queue.push(e[n]);window.setTimeout(()=>this.flush(),20)}this.observer.disconnect()}this.onCharData&&this.view.dom.removeEventListener("DOMCharacterDataModified",this.onCharData),this.disconnectSelection()}connectSelection(){this.view.dom.ownerDocument.addEventListener("selectionchange",this.onSelectionChange)}disconnectSelection(){this.view.dom.ownerDocument.removeEventListener("selectionchange",this.onSelectionChange)}suppressSelectionUpdates(){this.suppressingSelectionUpdates=!0,setTimeout(()=>this.suppressingSelectionUpdates=!1,50)}onSelectionChange(){if(_1(this.view)){if(this.suppressingSelectionUpdates)return Uo(this.view);if(ai&&ka<=11&&!this.view.state.selection.empty){let e=this.view.domSelectionRange();if(e.focusNode&&vs(e.focusNode,e.focusOffset,e.anchorNode,e.anchorOffset))return this.flushSoon()}this.flush()}}setCurSelection(){this.currentSelection.set(this.view.domSelectionRange())}ignoreSelectionChange(e){if(!e.focusNode)return!0;let n=new Set,r;for(let o=e.focusNode;o;o=Nc(o))n.add(o);for(let o=e.anchorNode;o;o=Nc(o))if(n.has(o)){r=o;break}let i=r&&this.view.docView.nearestDesc(r);if(i&&i.ignoreMutation({type:"selection",target:r.nodeType==3?r.parentNode:r}))return this.setCurSelection(),!0}flush(){let{view:e}=this;if(!e.docView||this.flushingSoon>-1)return;let n=this.observer?this.observer.takeRecords():[];this.queue.length&&(n=this.queue.concat(n),this.queue.length=0);let r=e.domSelectionRange(),i=!this.suppressingSelectionUpdates&&!this.currentSelection.eq(r)&&_1(e)&&!this.ignoreSelectionChange(r),o=-1,s=-1,c=!1,u=[];if(e.editable)for(let O=0;O<n.length;O++){let Y=this.registerMutation(n[O],u);Y&&(o=o<0?Y.from:Math.min(Y.from,o),s=s<0?Y.to:Math.max(Y.to,s),Y.typeOver&&(c=!0))}if(co&&u.length>1){let O=u.filter(Y=>Y.nodeName=="BR");if(O.length==2){let Y=O[0],b=O[1];Y.parentNode&&Y.parentNode.parentNode==b.parentNode?b.remove():Y.remove()}}let x=null;o<0&&i&&e.input.lastFocus>Date.now()-200&&Math.max(e.input.lastTouch,e.input.lastClick.time)<Date.now()-300&&Df(r)&&(x=em(e))&&x.eq(yn.near(e.state.doc.resolve(0),1))?(e.input.lastFocus=0,Uo(e),this.currentSelection.set(r),e.scrollToSelection()):(o>-1||i)&&(o>-1&&(e.docView.markDirty(o,s),wE(e)),this.handleDOMChange(o,s,c,u),e.docView&&e.docView.dirty?e.updateState(e.state):this.currentSelection.eq(r)||Uo(e),this.currentSelection.set(r))}registerMutation(e,n){if(n.indexOf(e.target)>-1)return null;let r=this.view.docView.nearestDesc(e.target);if(e.type=="attributes"&&(r==this.view.docView||e.attributeName=="contenteditable"||e.attributeName=="style"&&!e.oldValue&&!e.target.getAttribute("style"))||!r||r.ignoreMutation(e))return null;if(e.type=="childList"){for(let O=0;O<e.addedNodes.length;O++)n.push(e.addedNodes[O]);if(r.contentDOM&&r.contentDOM!=r.dom&&!r.contentDOM.contains(e.target))return{from:r.posBefore,to:r.posAfter};let i=e.previousSibling,o=e.nextSibling;if(ai&&ka<=11&&e.addedNodes.length)for(let O=0;O<e.addedNodes.length;O++){let{previousSibling:Y,nextSibling:b}=e.addedNodes[O];(!Y||Array.prototype.indexOf.call(e.addedNodes,Y)<0)&&(i=Y),(!b||Array.prototype.indexOf.call(e.addedNodes,b)<0)&&(o=b)}let s=i&&i.parentNode==e.target?yi(i)+1:0,c=r.localPosFromDOM(e.target,s,-1),u=o&&o.parentNode==e.target?yi(o):e.target.childNodes.length,x=r.localPosFromDOM(e.target,u,1);return{from:c,to:x}}else return e.type=="attributes"?{from:r.posAtStart-r.border,to:r.posAtEnd+r.border}:{from:r.posAtStart,to:r.posAtEnd,typeOver:e.target.nodeValue==e.oldValue}}}let F1=new WeakMap,H1=!1;function wE(t){if(!F1.has(t)&&(F1.set(t,null),["normal","nowrap","pre-line"].indexOf(getComputedStyle(t.dom).whiteSpace)!==-1)){if(t.requiresGeckoHackNode=co,H1)return;console.warn("ProseMirror expects the CSS white-space property to be set, preferably to 'pre-wrap'. It is recommended to load style/prosemirror.css from the prosemirror-view package."),H1=!0}}function kE(t){let e;function n(u){u.preventDefault(),u.stopImmediatePropagation(),e=u.getTargetRanges()[0]}t.dom.addEventListener("beforeinput",n,!0),document.execCommand("indent"),t.dom.removeEventListener("beforeinput",n,!0);let r=e.startContainer,i=e.startOffset,o=e.endContainer,s=e.endOffset,c=t.domAtPos(t.state.selection.anchor);return vs(c.node,c.offset,o,s)&&([r,i,o,s]=[o,s,r,i]),{anchorNode:r,anchorOffset:i,focusNode:o,focusOffset:s}}function EE(t,e,n){let{node:r,fromOffset:i,toOffset:o,from:s,to:c}=t.docView.parseRange(e,n),u=t.domSelectionRange(),x,O=u.anchorNode;if(O&&t.dom.contains(O.nodeType==1?O:O.parentNode)&&(x=[{node:O,offset:u.anchorOffset}],Df(u)||x.push({node:u.focusNode,offset:u.focusOffset})),Jr&&t.input.lastKeyCode===8)for(let E=o;E>i;E--){let h=r.childNodes[E-1],f=h.pmViewDesc;if(h.nodeName=="BR"&&!f){o=E;break}if(!f||f.size)break}let Y=t.state.doc,b=t.someProp("domParser")||Y0.fromSchema(t.state.schema),m=Y.resolve(s),a=null,v=b.parse(r,{topNode:m.parent,topMatch:m.parent.contentMatchAt(m.index()),topOpen:!0,from:i,to:o,preserveWhitespace:m.parent.type.whitespace=="pre"?"full":!0,findPositions:x,ruleFromNode:SE,context:m});if(x&&x[0].pos!=null){let E=x[0].pos,h=x[1]&&x[1].pos;h==null&&(h=E),a={anchor:E+s,head:h+s}}return{doc:v,sel:a,from:s,to:c}}function SE(t){let e=t.pmViewDesc;if(e)return e.parseRule();if(t.nodeName=="BR"&&t.parentNode){if($r&&/^(ul|ol)$/i.test(t.parentNode.nodeName)){let n=document.createElement("div");return n.appendChild(document.createElement("li")),{skip:n}}else if(t.parentNode.lastChild==t||$r&&/^(tr|table)$/i.test(t.parentNode.nodeName))return{ignore:!0}}else if(t.nodeName=="IMG"&&t.getAttribute("mark-placeholder"))return{ignore:!0};return null}function CE(t,e,n,r,i){if(e<0){let B=t.input.lastSelectionTime>Date.now()-50?t.input.lastSelectionOrigin:null,ee=em(t,B);if(ee&&!t.state.selection.eq(ee)){if(Jr&&qi&&t.input.lastKeyCode===13&&Date.now()-100<t.input.lastKeyCodeTime&&t.someProp("handleKeyDown",N=>N(t,es(13,"Enter"))))return;let he=t.state.tr.setSelection(ee);B=="pointer"?he.setMeta("pointer",!0):B=="key"&&he.scrollIntoView(),t.dispatch(he)}return}let o=t.state.doc.resolve(e),s=o.sharedDepth(n);e=o.before(s+1),n=t.state.doc.resolve(n).after(s+1);let c=t.state.selection,u=EE(t,e,n),x=t.state.doc,O=x.slice(u.from,u.to),Y,b;t.input.lastKeyCode===8&&Date.now()-100<t.input.lastKeyCodeTime?(Y=t.state.selection.to,b="end"):(Y=t.state.selection.from,b="start"),t.input.lastKeyCode=null;let m=ME(O.content,u.doc.content,u.from,Y,b);if((kl&&t.input.lastIOSEnter>Date.now()-225||qi)&&i.some(B=>B.nodeName=="DIV"||B.nodeName=="P"||B.nodeName=="LI")&&(!m||m.endA>=m.endB)&&t.someProp("handleKeyDown",B=>B(t,es(13,"Enter")))){t.input.lastIOSEnter=0;return}if(!m)if(r&&c instanceof xn&&!c.empty&&c.$head.sameParent(c.$anchor)&&!t.composing&&!(u.sel&&u.sel.anchor!=u.sel.head))m={start:c.from,endA:c.to,endB:c.to};else{if(u.sel){let B=W1(t,t.state.doc,u.sel);B&&!B.eq(t.state.selection)&&t.dispatch(t.state.tr.setSelection(B))}return}if(Jr&&t.cursorWrapper&&u.sel&&u.sel.anchor==t.cursorWrapper.deco.from&&u.sel.head==u.sel.anchor){let B=m.endB-m.start;u.sel={anchor:u.sel.anchor+B,head:u.sel.anchor+B}}t.input.domChangeCount++,t.state.selection.from<t.state.selection.to&&m.start==m.endB&&t.state.selection instanceof xn&&(m.start>t.state.selection.from&&m.start<=t.state.selection.from+2&&t.state.selection.from>=u.from?m.start=t.state.selection.from:m.endA<t.state.selection.to&&m.endA>=t.state.selection.to-2&&t.state.selection.to<=u.to&&(m.endB+=t.state.selection.to-m.endA,m.endA=t.state.selection.to)),ai&&ka<=11&&m.endB==m.start+1&&m.endA==m.start&&m.start>u.from&&u.doc.textBetween(m.start-u.from-1,m.start-u.from+1)==" "&&(m.start--,m.endA--,m.endB--);let a=u.doc.resolveNoCache(m.start-u.from),v=u.doc.resolveNoCache(m.endB-u.from),E=x.resolve(m.start),h=a.sameParent(v)&&a.parent.inlineContent&&E.end()>=m.endA,f;if((kl&&t.input.lastIOSEnter>Date.now()-225&&(!h||i.some(B=>B.nodeName=="DIV"||B.nodeName=="P"))||!h&&a.pos<u.doc.content.size&&(f=yn.findFrom(u.doc.resolve(a.pos+1),1,!0))&&f.head==v.pos)&&t.someProp("handleKeyDown",B=>B(t,es(13,"Enter")))){t.input.lastIOSEnter=0;return}if(t.state.selection.anchor>m.start&&OE(x,m.start,m.endA,a,v)&&t.someProp("handleKeyDown",B=>B(t,es(8,"Backspace")))){qi&&Jr&&t.domObserver.suppressSelectionUpdates();return}Jr&&qi&&m.endB==m.start&&(t.input.lastAndroidDelete=Date.now()),qi&&!h&&a.start()!=v.start()&&v.parentOffset==0&&a.depth==v.depth&&u.sel&&u.sel.anchor==u.sel.head&&u.sel.head==m.endA&&(m.endB-=2,v=u.doc.resolveNoCache(m.endB-u.from),setTimeout(()=>{t.someProp("handleKeyDown",function(B){return B(t,es(13,"Enter"))})},20));let D=m.start,k=m.endA,R,d,Z;if(h){if(a.pos==v.pos)ai&&ka<=11&&a.parentOffset==0&&(t.domObserver.suppressSelectionUpdates(),setTimeout(()=>Uo(t),20)),R=t.state.tr.delete(D,k),d=x.resolve(m.start).marksAcross(x.resolve(m.endA));else if(m.endA==m.endB&&(Z=DE(a.parent.content.cut(a.parentOffset,v.parentOffset),E.parent.content.cut(E.parentOffset,m.endA-E.start()))))R=t.state.tr,Z.type=="add"?R.addMark(D,k,Z.mark):R.removeMark(D,k,Z.mark);else if(a.parent.child(a.index()).isText&&a.index()==v.index()-(v.textOffset?0:1)){let B=a.parent.textBetween(a.parentOffset,v.parentOffset);if(t.someProp("handleTextInput",ee=>ee(t,D,k,B)))return;R=t.state.tr.insertText(B,D,k)}}if(R||(R=t.state.tr.replace(D,k,u.doc.slice(m.start-u.from,m.endB-u.from))),u.sel){let B=W1(t,R.doc,u.sel);B&&!(Jr&&qi&&t.composing&&B.empty&&(m.start!=m.endB||t.input.lastAndroidDelete<Date.now()-100)&&(B.head==D||B.head==R.mapping.map(k)-1)||ai&&B.empty&&B.head==D)&&R.setSelection(B)}d&&R.ensureMarks(d),t.dispatch(R.scrollIntoView())}function W1(t,e,n){return Math.max(n.anchor,n.head)>e.content.size?null:tm(t,e.resolve(n.anchor),e.resolve(n.head))}function DE(t,e){let n=t.firstChild.marks,r=e.firstChild.marks,i=n,o=r,s,c,u;for(let O=0;O<r.length;O++)i=r[O].removeFromSet(i);for(let O=0;O<n.length;O++)o=n[O].removeFromSet(o);if(i.length==1&&o.length==0)c=i[0],s="add",u=O=>O.mark(c.addToSet(O.marks));else if(i.length==0&&o.length==1)c=o[0],s="remove",u=O=>O.mark(c.removeFromSet(O.marks));else return null;let x=[];for(let O=0;O<e.childCount;O++)x.push(u(e.child(O)));if(xt.from(x).eq(t))return{mark:c,type:s}}function OE(t,e,n,r,i){if(!r.parent.isTextblock||n-e<=i.pos-r.pos||Lp(r,!0,!1)<i.pos)return!1;let o=t.resolve(e);if(o.parentOffset<o.parent.content.size||!o.parent.isTextblock)return!1;let s=t.resolve(Lp(o,!0,!0));return!s.parent.isTextblock||s.pos>n||Lp(s,!0,!1)<n?!1:r.parent.content.cut(r.parentOffset).eq(s.parent.content)}function Lp(t,e,n){let r=t.depth,i=e?t.end():t.pos;for(;r>0&&(e||t.indexAfter(r)==t.node(r).childCount);)r--,i++,e=!1;if(n){let o=t.node(r).maybeChild(t.indexAfter(r));for(;o&&!o.isLeaf;)o=o.firstChild,i++}return i}function ME(t,e,n,r,i){let o=t.findDiffStart(e,n);if(o==null)return null;let{a:s,b:c}=t.findDiffEnd(e,n+t.size,n+e.size);if(i=="end"){let u=Math.max(0,o-Math.min(s,c));r-=s+u-o}if(s<o&&t.size<e.size){let u=r<=o&&r>=s?o-r:0;o-=u,c=o+(c-s),s=o}else if(c<o){let u=r<=o&&r>=c?o-r:0;o-=u,s=o+(s-c),c=o}return{start:o,endA:s,endB:c}}class TE{constructor(e,n){this._root=null,this.focused=!1,this.trackWrites=null,this.mounted=!1,this.markCursor=null,this.cursorWrapper=null,this.lastSelectedViewDesc=void 0,this.input=new X6,this.prevDirectPlugins=[],this.pluginViews=[],this.requiresGeckoHackNode=!1,this.dragging=null,this._props=n,this.state=n.state,this.directPlugins=n.plugins||[],this.directPlugins.forEach(Y1),this.dispatch=this.dispatch.bind(this),this.dom=e&&e.mount||document.createElement("div"),e&&(e.appendChild?e.appendChild(this.dom):typeof e=="function"?e(this.dom):e.mount&&(this.mounted=!0)),this.editable=K1(this),V1(this),this.nodeViews=G1(this),this.docView=O1(this.state.doc,U1(this),Pp(this),this.dom,this),this.domObserver=new xE(this,(r,i,o,s)=>CE(this,r,i,o,s)),this.domObserver.start(),$6(this),this.updatePluginViews()}get composing(){return this.input.composing}get props(){if(this._props.state!=this.state){let e=this._props;this._props={};for(let n in e)this._props[n]=e[n];this._props.state=this.state}return this._props}update(e){e.handleDOMEvents!=this._props.handleDOMEvents&&Zh(this);let n=this._props;this._props=e,e.plugins&&(e.plugins.forEach(Y1),this.directPlugins=e.plugins),this.updateStateInner(e.state,n)}setProps(e){let n={};for(let r in this._props)n[r]=this._props[r];n.state=this.state;for(let r in e)n[r]=e[r];this.update(n)}updateState(e){this.updateStateInner(e,this._props)}updateStateInner(e,n){let r=this.state,i=!1,o=!1;e.storedMarks&&this.composing&&(e2(this),o=!0),this.state=e;let s=r.plugins!=e.plugins||this._props.plugins!=n.plugins;if(s||this._props.plugins!=n.plugins||this._props.nodeViews!=n.nodeViews){let b=G1(this);IE(b,this.nodeViews)&&(this.nodeViews=b,i=!0)}(s||n.handleDOMEvents!=this._props.handleDOMEvents)&&Zh(this),this.editable=K1(this),V1(this);let c=Pp(this),u=U1(this),x=r.plugins!=e.plugins&&!r.doc.eq(e.doc)?"reset":e.scrollToSelection>r.scrollToSelection?"to selection":"preserve",O=i||!this.docView.matchesNode(e.doc,u,c);(O||!e.selection.eq(r.selection))&&(o=!0);let Y=x=="preserve"&&o&&this.dom.style.overflowAnchor==null&&m6(this);if(o){this.domObserver.stop();let b=O&&(ai||Jr)&&!this.composing&&!r.selection.empty&&!e.selection.empty&&AE(r.selection,e.selection);if(O){let m=Jr?this.trackWrites=this.domSelectionRange().focusNode:null;(i||!this.docView.update(e.doc,u,c,this))&&(this.docView.updateOuterDeco([]),this.docView.destroy(),this.docView=O1(e.doc,u,c,this.dom,this)),m&&!this.trackWrites&&(b=!0)}b||!(this.input.mouseDown&&this.domObserver.currentSelection.eq(this.domSelectionRange())&&Z6(this))?Uo(this,b):(Fb(this,e.selection),this.domObserver.setCurSelection()),this.domObserver.start()}this.updatePluginViews(r),x=="reset"?this.dom.scrollTop=0:x=="to selection"?this.scrollToSelection():Y&&g6(Y)}scrollToSelection(){let e=this.domSelectionRange().focusNode;if(!this.someProp("handleScrollToSelection",n=>n(this)))if(this.state.selection instanceof rn){let n=this.docView.domAfterPos(this.state.selection.from);n.nodeType==1&&k1(this,n.getBoundingClientRect(),e)}else k1(this,this.coordsAtPos(this.state.selection.head,1),e)}destroyPluginViews(){let e;for(;e=this.pluginViews.pop();)e.destroy&&e.destroy()}updatePluginViews(e){if(!e||e.plugins!=this.state.plugins||this.directPlugins!=this.prevDirectPlugins){this.prevDirectPlugins=this.directPlugins,this.destroyPluginViews();for(let n=0;n<this.directPlugins.length;n++){let r=this.directPlugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}for(let n=0;n<this.state.plugins.length;n++){let r=this.state.plugins[n];r.spec.view&&this.pluginViews.push(r.spec.view(this))}}else for(let n=0;n<this.pluginViews.length;n++){let r=this.pluginViews[n];r.update&&r.update(this,e)}}someProp(e,n){let r=this._props&&this._props[e],i;if(r!=null&&(i=n?n(r):r))return i;for(let s=0;s<this.directPlugins.length;s++){let c=this.directPlugins[s].props[e];if(c!=null&&(i=n?n(c):c))return i}let o=this.state.plugins;if(o)for(let s=0;s<o.length;s++){let c=o[s].props[e];if(c!=null&&(i=n?n(c):c))return i}}hasFocus(){if(ai){let e=this.root.activeElement;if(e==this.dom)return!0;if(!e||!this.dom.contains(e))return!1;for(;e&&this.dom!=e&&this.dom.contains(e);){if(e.contentEditable=="false")return!1;e=e.parentElement}return!0}return this.root.activeElement==this.dom}focus(){this.domObserver.stop(),this.editable&&v6(this.dom),Uo(this),this.domObserver.start()}get root(){let e=this._root;if(e==null){for(let n=this.dom.parentNode;n;n=n.parentNode)if(n.nodeType==9||n.nodeType==11&&n.host)return n.getSelection||(Object.getPrototypeOf(n).getSelection=()=>n.ownerDocument.getSelection()),this._root=n}return e||document}posAtCoords(e){return k6(this,e)}coordsAtPos(e,n=1){return _b(this,e,n)}domAtPos(e,n=0){return this.docView.domFromPos(e,n)}nodeDOM(e){let n=this.docView.descAt(e);return n?n.nodeDOM:null}posAtDOM(e,n,r=-1){let i=this.docView.posFromDOM(e,n,r);if(i==null)throw new RangeError("DOM position not inside the editor");return i}endOfTextblock(e,n){return O6(this,n||this.state,e)}pasteHTML(e,n){return Rc(this,"",e,!1,n||new ClipboardEvent("paste"))}pasteText(e,n){return Rc(this,e,null,!0,n||new ClipboardEvent("paste"))}destroy(){this.docView&&(q6(this),this.destroyPluginViews(),this.mounted?(this.docView.update(this.state.doc,[],Pp(this),this),this.dom.textContent=""):this.dom.parentNode&&this.dom.parentNode.removeChild(this.dom),this.docView.destroy(),this.docView=null)}get isDestroyed(){return this.docView==null}dispatchEvent(e){return eE(this,e)}dispatch(e){let n=this._props.dispatchTransaction;n?n.call(this,e):this.updateState(this.state.apply(e))}domSelectionRange(){return $r&&this.root.nodeType===11&&u6(this.dom.ownerDocument)==this.dom?kE(this):this.domSelection()}domSelection(){return this.root.getSelection()}}function U1(t){let e=Object.create(null);return e.class="ProseMirror",e.contenteditable=String(t.editable),e.translate="no",t.someProp("attributes",n=>{if(typeof n=="function"&&(n=n(t.state)),n)for(let r in n)r=="class"&&(e.class+=" "+n[r]),r=="style"?e.style=(e.style?e.style+";":"")+n[r]:!e[r]&&r!="contenteditable"&&r!="nodeName"&&(e[r]=String(n[r]))}),[bi.node(0,t.state.doc.content.size,e)]}function V1(t){if(t.markCursor){let e=document.createElement("img");e.className="ProseMirror-separator",e.setAttribute("mark-placeholder","true"),e.setAttribute("alt",""),t.cursorWrapper={dom:e,deco:bi.widget(t.state.selection.head,e,{raw:!0,marks:t.markCursor})}}else t.cursorWrapper=null}function K1(t){return!t.someProp("editable",e=>e(t.state)===!1)}function AE(t,e){let n=Math.min(t.$anchor.sharedDepth(t.head),e.$anchor.sharedDepth(e.head));return t.$anchor.start(n)!=e.$anchor.start(n)}function G1(t){let e=Object.create(null);function n(r){for(let i in r)Object.prototype.hasOwnProperty.call(e,i)||(e[i]=r[i])}return t.someProp("nodeViews",n),t.someProp("markViews",n),e}function IE(t,e){let n=0,r=0;for(let i in t){if(t[i]!=e[i])return!0;n++}for(let i in e)r++;return n!=r}function Y1(t){if(t.spec.state||t.spec.filterTransaction||t.spec.appendTransaction)throw new RangeError("Plugins passed directly to the view must not have a state component")}var La={8:"Backspace",9:"Tab",10:"Enter",12:"NumLock",13:"Enter",16:"Shift",17:"Control",18:"Alt",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",44:"PrintScreen",45:"Insert",46:"Delete",59:";",61:"=",91:"Meta",92:"Meta",106:"*",107:"+",108:",",109:"-",110:".",111:"/",144:"NumLock",145:"ScrollLock",160:"Shift",161:"Shift",162:"Control",163:"Control",164:"Alt",165:"Alt",173:"-",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},Sd={48:")",49:"!",50:"@",51:"#",52:"$",53:"%",54:"^",55:"&",56:"*",57:"(",59:":",61:"+",173:"_",186:":",187:"+",188:"<",189:"_",190:">",191:"?",192:"~",219:"{",220:"|",221:"}",222:'"'},J1=typeof navigator<"u"&&/Chrome\/(\d+)/.exec(navigator.userAgent),jE=typeof navigator<"u"&&/Mac/.test(navigator.platform),_E=typeof navigator<"u"&&/MSIE \d|Trident\/(?:[7-9]|\d{2,})\..*rv:(\d+)/.exec(navigator.userAgent),PE=jE||J1&&+J1[1]<57;for(var Ir=0;Ir<10;Ir++)La[48+Ir]=La[96+Ir]=String(Ir);for(var Ir=1;Ir<=24;Ir++)La[Ir+111]="F"+Ir;for(var Ir=65;Ir<=90;Ir++)La[Ir]=String.fromCharCode(Ir+32),Sd[Ir]=String.fromCharCode(Ir);for(var Np in La)Sd.hasOwnProperty(Np)||(Sd[Np]=La[Np]);function LE(t){var e=PE&&(t.ctrlKey||t.altKey||t.metaKey)||_E&&t.shiftKey&&t.key&&t.key.length==1||t.key=="Unidentified",n=!e&&t.key||(t.shiftKey?Sd:La)[t.keyCode]||t.key||"Unidentified";return n=="Esc"&&(n="Escape"),n=="Del"&&(n="Delete"),n=="Left"&&(n="ArrowLeft"),n=="Up"&&(n="ArrowUp"),n=="Right"&&(n="ArrowRight"),n=="Down"&&(n="ArrowDown"),n}const NE=typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):!1;function RE(t){let e=t.split(/-(?!$)/),n=e[e.length-1];n=="Space"&&(n=" ");let r,i,o,s;for(let c=0;c<e.length-1;c++){let u=e[c];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))NE?s=!0:i=!0;else throw new Error("Unrecognized modifier name: "+u)}return r&&(n="Alt-"+n),i&&(n="Ctrl-"+n),s&&(n="Meta-"+n),o&&(n="Shift-"+n),n}function zE(t){let e=Object.create(null);for(let n in t)e[RE(n)]=t[n];return e}function Rp(t,e,n=!0){return e.altKey&&(t="Alt-"+t),e.ctrlKey&&(t="Ctrl-"+t),e.metaKey&&(t="Meta-"+t),n&&e.shiftKey&&(t="Shift-"+t),t}function BE(t){return new Nr({props:{handleKeyDown:o2(t)}})}function o2(t){let e=zE(t);return function(n,r){let i=LE(r),o,s=e[Rp(i,r)];if(s&&s(n.state,n.dispatch,n))return!0;if(i.length==1&&i!=" "){if(r.shiftKey){let c=e[Rp(i,r,!1)];if(c&&c(n.state,n.dispatch,n))return!0}if((r.shiftKey||r.altKey||r.metaKey||i.charCodeAt(0)>127)&&(o=La[r.keyCode])&&o!=i){let c=e[Rp(o,r)];if(c&&c(n.state,n.dispatch,n))return!0}}return!1}}const ZE=(t,e)=>t.selection.empty?!1:(e&&e(t.tr.deleteSelection().scrollIntoView()),!0);function FE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("backward",t):n.parentOffset>0)?null:n}const HE=(t,e,n)=>{let r=FE(t,n);if(!r)return!1;let i=a2(r);if(!i){let s=r.blockRange(),c=s&&zl(s);return c==null?!1:(e&&e(t.tr.lift(s,c).scrollIntoView()),!0)}let o=i.nodeBefore;if(!o.type.spec.isolating&&c2(t,i,e))return!0;if(r.parent.content.size==0&&(Sl(o,"end")||rn.isSelectable(o))){let s=$0(t.doc,r.before(),r.after(),Lt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let c=t.tr.step(s);c.setSelection(Sl(o,"end")?yn.findFrom(c.doc.resolve(c.mapping.map(i.pos,-1)),-1):rn.create(c.doc,i.pos-o.nodeSize)),e(c.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos-o.nodeSize,i.pos).scrollIntoView()),!0):!1};function Sl(t,e,n=!1){for(let r=t;r;r=e=="start"?r.firstChild:r.lastChild){if(r.isTextblock)return!0;if(n&&r.childCount!=1)return!1}return!1}const WE=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("backward",t):r.parentOffset>0)return!1;o=a2(r)}let s=o&&o.nodeBefore;return!s||!rn.isSelectable(s)?!1:(e&&e(t.tr.setSelection(rn.create(t.doc,o.pos-s.nodeSize)).scrollIntoView()),!0)};function a2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){if(t.index(e)>0)return t.doc.resolve(t.before(e+1));if(t.node(e).type.spec.isolating)break}return null}function UE(t,e){let{$cursor:n}=t.selection;return!n||(e?!e.endOfTextblock("forward",t):n.parentOffset<n.parent.content.size)?null:n}const VE=(t,e,n)=>{let r=UE(t,n);if(!r)return!1;let i=s2(r);if(!i)return!1;let o=i.nodeAfter;if(c2(t,i,e))return!0;if(r.parent.content.size==0&&(Sl(o,"start")||rn.isSelectable(o))){let s=$0(t.doc,r.before(),r.after(),Lt.empty);if(s&&s.slice.size<s.to-s.from){if(e){let c=t.tr.step(s);c.setSelection(Sl(o,"start")?yn.findFrom(c.doc.resolve(c.mapping.map(i.pos)),1):rn.create(c.doc,c.mapping.map(i.pos))),e(c.scrollIntoView())}return!0}}return o.isAtom&&i.depth==r.depth-1?(e&&e(t.tr.delete(i.pos,i.pos+o.nodeSize).scrollIntoView()),!0):!1},KE=(t,e,n)=>{let{$head:r,empty:i}=t.selection,o=r;if(!i)return!1;if(r.parent.isTextblock){if(n?!n.endOfTextblock("forward",t):r.parentOffset<r.parent.content.size)return!1;o=s2(r)}let s=o&&o.nodeAfter;return!s||!rn.isSelectable(s)?!1:(e&&e(t.tr.setSelection(rn.create(t.doc,o.pos)).scrollIntoView()),!0)};function s2(t){if(!t.parent.type.spec.isolating)for(let e=t.depth-1;e>=0;e--){let n=t.node(e);if(t.index(e)+1<n.childCount)return t.doc.resolve(t.after(e+1));if(n.type.spec.isolating)break}return null}const GE=(t,e)=>{let n=t.selection,r=n instanceof rn,i;if(r){if(n.node.isTextblock||!za(t.doc,n.from))return!1;i=n.from}else if(i=bb(t.doc,n.from,-1),i==null)return!1;if(e){let o=t.tr.join(i);r&&o.setSelection(rn.create(o.doc,i-t.doc.resolve(i).nodeBefore.nodeSize)),e(o.scrollIntoView())}return!0},YE=(t,e)=>{let n=t.selection,r;if(n instanceof rn){if(n.node.isTextblock||!za(t.doc,n.to))return!1;r=n.to}else if(r=bb(t.doc,n.to,1),r==null)return!1;return e&&e(t.tr.join(r).scrollIntoView()),!0},JE=(t,e)=>{let{$from:n,$to:r}=t.selection,i=n.blockRange(r),o=i&&zl(i);return o==null?!1:(e&&e(t.tr.lift(i,o).scrollIntoView()),!0)},XE=(t,e)=>{let{$head:n,$anchor:r}=t.selection;return!n.parent.type.spec.code||!n.sameParent(r)?!1:(e&&e(t.tr.insertText(`
`).scrollIntoView()),!0)};function l2(t){for(let e=0;e<t.edgeCount;e++){let{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}const $E=(t,e)=>{let{$head:n,$anchor:r}=t.selection;if(!n.parent.type.spec.code||!n.sameParent(r))return!1;let i=n.node(-1),o=n.indexAfter(-1),s=l2(i.contentMatchAt(o));if(!s||!i.canReplaceWith(o,o,s))return!1;if(e){let c=n.after(),u=t.tr.replaceWith(c,c,s.createAndFill());u.setSelection(yn.near(u.doc.resolve(c),1)),e(u.scrollIntoView())}return!0},qE=(t,e)=>{let n=t.selection,{$from:r,$to:i}=n;if(n instanceof oo||r.parent.inlineContent||i.parent.inlineContent)return!1;let o=l2(i.parent.contentMatchAt(i.indexAfter()));if(!o||!o.isTextblock)return!1;if(e){let s=(!r.parentOffset&&i.index()<i.parent.childCount?r:i).pos,c=t.tr.insert(s,o.createAndFill());c.setSelection(xn.create(c.doc,s+1)),e(c.scrollIntoView())}return!0},QE=(t,e)=>{let{$cursor:n}=t.selection;if(!n||n.parent.content.size)return!1;if(n.depth>1&&n.after()!=n.end(-1)){let o=n.before();if(cl(t.doc,o))return e&&e(t.tr.split(o).scrollIntoView()),!0}let r=n.blockRange(),i=r&&zl(r);return i==null?!1:(e&&e(t.tr.lift(r,i).scrollIntoView()),!0)},e5=(t,e)=>{let{$from:n,to:r}=t.selection,i,o=n.sharedDepth(r);return o==0?!1:(i=n.before(o),e&&e(t.tr.setSelection(rn.create(t.doc,i))),!0)};function t5(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o=e.index();return!r||!i||!r.type.compatibleContent(i.type)?!1:!r.content.size&&e.parent.canReplace(o-1,o)?(n&&n(t.tr.delete(e.pos-r.nodeSize,e.pos).scrollIntoView()),!0):!e.parent.canReplace(o,o+1)||!(i.isTextblock||za(t.doc,e.pos))?!1:(n&&n(t.tr.clearIncompatible(e.pos,r.type,r.contentMatchAt(r.childCount)).join(e.pos).scrollIntoView()),!0)}function c2(t,e,n){let r=e.nodeBefore,i=e.nodeAfter,o,s;if(r.type.spec.isolating||i.type.spec.isolating)return!1;if(t5(t,e,n))return!0;let c=e.parent.canReplace(e.index(),e.index()+1);if(c&&(o=(s=r.contentMatchAt(r.childCount)).findWrapping(i.type))&&s.matchType(o[0]||i.type).validEnd){if(n){let Y=e.pos+i.nodeSize,b=xt.empty;for(let v=o.length-1;v>=0;v--)b=xt.from(o[v].create(null,b));b=xt.from(r.copy(b));let m=t.tr.step(new Er(e.pos-1,Y,e.pos,Y,new Lt(b,1,0),o.length,!0)),a=Y+2*o.length;za(m.doc,a)&&m.join(a),n(m.scrollIntoView())}return!0}let u=yn.findFrom(e,1),x=u&&u.$from.blockRange(u.$to),O=x&&zl(x);if(O!=null&&O>=e.depth)return n&&n(t.tr.lift(x,O).scrollIntoView()),!0;if(c&&Sl(i,"start",!0)&&Sl(r,"end")){let Y=r,b=[];for(;b.push(Y),!Y.isTextblock;)Y=Y.lastChild;let m=i,a=1;for(;!m.isTextblock;m=m.firstChild)a++;if(Y.canReplace(Y.childCount,Y.childCount,m.content)){if(n){let v=xt.empty;for(let h=b.length-1;h>=0;h--)v=xt.from(b[h].copy(v));let E=t.tr.step(new Er(e.pos-b.length,e.pos+i.nodeSize,e.pos+a,e.pos+i.nodeSize-a,new Lt(v,b.length,0),0,!0));n(E.scrollIntoView())}return!0}}return!1}function u2(t){return function(e,n){let r=e.selection,i=t<0?r.$from:r.$to,o=i.depth;for(;i.node(o).isInline;){if(!o)return!1;o--}return i.node(o).isTextblock?(n&&n(e.tr.setSelection(xn.create(e.doc,t<0?i.start(o):i.end(o)))),!0):!1}}const n5=u2(-1),r5=u2(1);function i5(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),c=s&&X0(s,t,e);return c?(r&&r(n.tr.wrap(s,c).scrollIntoView()),!0):!1}}function X1(t,e=null){return function(n,r){let i=!1;for(let o=0;o<n.selection.ranges.length&&!i;o++){let{$from:{pos:s},$to:{pos:c}}=n.selection.ranges[o];n.doc.nodesBetween(s,c,(u,x)=>{if(i)return!1;if(!(!u.isTextblock||u.hasMarkup(t,e)))if(u.type==t)i=!0;else{let O=n.doc.resolve(x),Y=O.index();i=O.parent.canReplaceWith(Y,Y+1,t)}})}if(!i)return!1;if(r){let o=n.tr;for(let s=0;s<n.selection.ranges.length;s++){let{$from:{pos:c},$to:{pos:u}}=n.selection.ranges[s];o.setBlockType(c,u,t,e)}r(o.scrollIntoView())}return!0}}typeof navigator<"u"?/Mac|iP(hone|[oa]d)/.test(navigator.platform):typeof os<"u"&&os.platform&&os.platform()=="darwin";function o5(t,e=null){return function(n,r){let{$from:i,$to:o}=n.selection,s=i.blockRange(o),c=!1,u=s;if(!s)return!1;if(s.depth>=2&&i.node(s.depth-1).type.compatibleContent(t)&&s.startIndex==0){if(i.index(s.depth-1)==0)return!1;let O=n.doc.resolve(s.start-2);u=new vd(O,O,s.depth),s.endIndex<s.parent.childCount&&(s=new vd(i,n.doc.resolve(o.end(s.depth)),s.depth)),c=!0}let x=X0(u,t,e,s);return x?(r&&r(a5(n.tr,s,x,c,t).scrollIntoView()),!0):!1}}function a5(t,e,n,r,i){let o=xt.empty;for(let O=n.length-1;O>=0;O--)o=xt.from(n[O].type.create(n[O].attrs,o));t.step(new Er(e.start-(r?2:0),e.end,e.start,e.end,new Lt(o,0,0),n.length,!0));let s=0;for(let O=0;O<n.length;O++)n[O].type==i&&(s=O+1);let c=n.length-s,u=e.start+n.length-(r?2:0),x=e.parent;for(let O=e.startIndex,Y=e.endIndex,b=!0;O<Y;O++,b=!1)!b&&cl(t.doc,u,c)&&(t.split(u,c),u+=2*c),u+=x.child(O).nodeSize;return t}function s5(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,s=>s.childCount>0&&s.firstChild.type==t);return o?n?r.node(o.depth-1).type==t?l5(e,n,t,o):c5(e,n,o):!0:!1}}function l5(t,e,n,r){let i=t.tr,o=r.end,s=r.$to.end(r.depth);o<s&&(i.step(new Er(o-1,s,o,s,new Lt(xt.from(n.create(null,r.parent.copy())),1,0),1,!0)),r=new vd(i.doc.resolve(r.$from.pos),i.doc.resolve(s),r.depth));const c=zl(r);if(c==null)return!1;i.lift(r,c);let u=i.mapping.map(o,-1)-1;return za(i.doc,u)&&i.join(u),e(i.scrollIntoView()),!0}function c5(t,e,n){let r=t.tr,i=n.parent;for(let m=n.end,a=n.endIndex-1,v=n.startIndex;a>v;a--)m-=i.child(a).nodeSize,r.delete(m-1,m+1);let o=r.doc.resolve(n.start),s=o.nodeAfter;if(r.mapping.map(n.end)!=n.start+o.nodeAfter.nodeSize)return!1;let c=n.startIndex==0,u=n.endIndex==i.childCount,x=o.node(-1),O=o.index(-1);if(!x.canReplace(O+(c?0:1),O+1,s.content.append(u?xt.empty:xt.from(i))))return!1;let Y=o.pos,b=Y+s.nodeSize;return r.step(new Er(Y-(c?1:0),b+(u?1:0),Y+1,b-1,new Lt((c?xt.empty:xt.from(i.copy(xt.empty))).append(u?xt.empty:xt.from(i.copy(xt.empty))),c?0:1,u?0:1),c?0:1)),e(r.scrollIntoView()),!0}function u5(t){return function(e,n){let{$from:r,$to:i}=e.selection,o=r.blockRange(i,x=>x.childCount>0&&x.firstChild.type==t);if(!o)return!1;let s=o.startIndex;if(s==0)return!1;let c=o.parent,u=c.child(s-1);if(u.type!=t)return!1;if(n){let x=u.lastChild&&u.lastChild.type==c.type,O=xt.from(x?t.create():null),Y=new Lt(xt.from(t.create(null,xt.from(c.type.create(null,O)))),x?3:1,0),b=o.start,m=o.end;n(e.tr.step(new Er(b-(x?3:1),m,b,m,Y,1,!0)).scrollIntoView())}return!0}}function Af(t){const{state:e,transaction:n}=t;let{selection:r}=n,{doc:i}=n,{storedMarks:o}=n;return{...e,apply:e.apply.bind(e),applyTransaction:e.applyTransaction.bind(e),filterTransaction:e.filterTransaction,plugins:e.plugins,schema:e.schema,reconfigure:e.reconfigure.bind(e),toJSON:e.toJSON.bind(e),get storedMarks(){return o},get selection(){return r},get doc(){return i},get tr(){return r=n.selection,i=n.doc,o=n.storedMarks,n}}}class If{constructor(e){this.editor=e.editor,this.rawCommands=this.editor.extensionManager.commands,this.customState=e.state}get hasCustomState(){return!!this.customState}get state(){return this.customState||this.editor.state}get commands(){const{rawCommands:e,editor:n,state:r}=this,{view:i}=n,{tr:o}=r,s=this.buildProps(o);return Object.fromEntries(Object.entries(e).map(([c,u])=>[c,(...O)=>{const Y=u(...O)(s);return!o.getMeta("preventDispatch")&&!this.hasCustomState&&i.dispatch(o),Y}]))}get chain(){return()=>this.createChain()}get can(){return()=>this.createCan()}createChain(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i,c=[],u=!!e,x=e||o.tr,O=()=>(!u&&n&&!x.getMeta("preventDispatch")&&!this.hasCustomState&&s.dispatch(x),c.every(b=>b===!0)),Y={...Object.fromEntries(Object.entries(r).map(([b,m])=>[b,(...v)=>{const E=this.buildProps(x,n),h=m(...v)(E);return c.push(h),Y}])),run:O};return Y}createCan(e){const{rawCommands:n,state:r}=this,i=!1,o=e||r.tr,s=this.buildProps(o,i);return{...Object.fromEntries(Object.entries(n).map(([u,x])=>[u,(...O)=>x(...O)({...s,dispatch:void 0})])),chain:()=>this.createChain(o,i)}}buildProps(e,n=!0){const{rawCommands:r,editor:i,state:o}=this,{view:s}=i;o.storedMarks&&e.setStoredMarks(o.storedMarks);const c={tr:e,editor:i,view:s,state:Af({state:o,transaction:e}),dispatch:n?()=>{}:void 0,chain:()=>this.createChain(e),can:()=>this.createCan(e),get commands(){return Object.fromEntries(Object.entries(r).map(([u,x])=>[u,(...O)=>x(...O)(c)]))}};return c}}class d5{constructor(){this.callbacks={}}on(e,n){return this.callbacks[e]||(this.callbacks[e]=[]),this.callbacks[e].push(n),this}emit(e,...n){const r=this.callbacks[e];return r&&r.forEach(i=>i.apply(this,n)),this}off(e,n){const r=this.callbacks[e];return r&&(n?this.callbacks[e]=r.filter(i=>i!==n):delete this.callbacks[e]),this}removeAllListeners(){this.callbacks={}}}function Ut(t,e,n){return t.config[e]===void 0&&t.parent?Ut(t.parent,e,n):typeof t.config[e]=="function"?t.config[e].bind({...n,parent:t.parent?Ut(t.parent,e,n):null}):t.config[e]}function jf(t){const e=t.filter(i=>i.type==="extension"),n=t.filter(i=>i.type==="node"),r=t.filter(i=>i.type==="mark");return{baseExtensions:e,nodeExtensions:n,markExtensions:r}}function d2(t){const e=[],{nodeExtensions:n,markExtensions:r}=jf(t),i=[...n,...r],o={default:null,rendered:!0,renderHTML:null,parseHTML:null,keepOnSplit:!0,isRequired:!1};return t.forEach(s=>{const c={name:s.name,options:s.options,storage:s.storage},u=Ut(s,"addGlobalAttributes",c);if(!u)return;u().forEach(O=>{O.types.forEach(Y=>{Object.entries(O.attributes).forEach(([b,m])=>{e.push({type:Y,name:b,attribute:{...o,...m}})})})})}),i.forEach(s=>{const c={name:s.name,options:s.options,storage:s.storage},u=Ut(s,"addAttributes",c);if(!u)return;const x=u();Object.entries(x).forEach(([O,Y])=>{const b={...o,...Y};typeof(b==null?void 0:b.default)=="function"&&(b.default=b.default()),b!=null&&b.isRequired&&(b==null?void 0:b.default)===void 0&&delete b.default,e.push({type:s.name,name:O,attribute:b})})}),e}function Cr(t,e){if(typeof t=="string"){if(!e.nodes[t])throw Error(`There is no node type named '${t}'. Maybe you forgot to add the extension?`);return e.nodes[t]}return t}function ar(...t){return t.filter(e=>!!e).reduce((e,n)=>{const r={...e};return Object.entries(n).forEach(([i,o])=>{if(!r[i]){r[i]=o;return}i==="class"?r[i]=[r[i],o].join(" "):i==="style"?r[i]=[r[i],o].join("; "):r[i]=o}),r},{})}function Fh(t,e){return e.filter(n=>n.attribute.rendered).map(n=>n.attribute.renderHTML?n.attribute.renderHTML(t.attrs)||{}:{[n.name]:t.attrs[n.name]}).reduce((n,r)=>ar(n,r),{})}function f2(t){return typeof t=="function"}function vn(t,e=void 0,...n){return f2(t)?e?t.bind(e)(...n):t(...n):t}function f5(t={}){return Object.keys(t).length===0&&t.constructor===Object}function p5(t){return typeof t!="string"?t:t.match(/^[+-]?(?:\d*\.)?\d+$/)?Number(t):t==="true"?!0:t==="false"?!1:t}function $1(t,e){return t.style?t:{...t,getAttrs:n=>{const r=t.getAttrs?t.getAttrs(n):t.attrs;if(r===!1)return!1;const i=e.reduce((o,s)=>{const c=s.attribute.parseHTML?s.attribute.parseHTML(n):p5(n.getAttribute(s.name));return c==null?o:{...o,[s.name]:c}},{});return{...r,...i}}}}function q1(t){return Object.fromEntries(Object.entries(t).filter(([e,n])=>e==="attrs"&&f5(n)?!1:n!=null))}function h5(t,e){var n;const r=d2(t),{nodeExtensions:i,markExtensions:o}=jf(t),s=(n=i.find(x=>Ut(x,"topNode")))===null||n===void 0?void 0:n.name,c=Object.fromEntries(i.map(x=>{const O=r.filter(h=>h.type===x.name),Y={name:x.name,options:x.options,storage:x.storage,editor:e},b=t.reduce((h,f)=>{const D=Ut(f,"extendNodeSchema",Y);return{...h,...D?D(x):{}}},{}),m=q1({...b,content:vn(Ut(x,"content",Y)),marks:vn(Ut(x,"marks",Y)),group:vn(Ut(x,"group",Y)),inline:vn(Ut(x,"inline",Y)),atom:vn(Ut(x,"atom",Y)),selectable:vn(Ut(x,"selectable",Y)),draggable:vn(Ut(x,"draggable",Y)),code:vn(Ut(x,"code",Y)),defining:vn(Ut(x,"defining",Y)),isolating:vn(Ut(x,"isolating",Y)),attrs:Object.fromEntries(O.map(h=>{var f;return[h.name,{default:(f=h==null?void 0:h.attribute)===null||f===void 0?void 0:f.default}]}))}),a=vn(Ut(x,"parseHTML",Y));a&&(m.parseDOM=a.map(h=>$1(h,O)));const v=Ut(x,"renderHTML",Y);v&&(m.toDOM=h=>v({node:h,HTMLAttributes:Fh(h,O)}));const E=Ut(x,"renderText",Y);return E&&(m.toText=E),[x.name,m]})),u=Object.fromEntries(o.map(x=>{const O=r.filter(E=>E.type===x.name),Y={name:x.name,options:x.options,storage:x.storage,editor:e},b=t.reduce((E,h)=>{const f=Ut(h,"extendMarkSchema",Y);return{...E,...f?f(x):{}}},{}),m=q1({...b,inclusive:vn(Ut(x,"inclusive",Y)),excludes:vn(Ut(x,"excludes",Y)),group:vn(Ut(x,"group",Y)),spanning:vn(Ut(x,"spanning",Y)),code:vn(Ut(x,"code",Y)),attrs:Object.fromEntries(O.map(E=>{var h;return[E.name,{default:(h=E==null?void 0:E.attribute)===null||h===void 0?void 0:h.default}]}))}),a=vn(Ut(x,"parseHTML",Y));a&&(m.parseDOM=a.map(E=>$1(E,O)));const v=Ut(x,"renderHTML",Y);return v&&(m.toDOM=E=>v({mark:E,HTMLAttributes:Fh(E,O)})),[x.name,m]}));return new M3({topNode:s,nodes:c,marks:u})}function zp(t,e){return e.nodes[t]||e.marks[t]||null}function Q1(t,e){return Array.isArray(e)?e.some(n=>(typeof n=="string"?n:n.name)===t.name):e}const m5=(t,e=500)=>{let n="";const r=t.parentOffset;return t.parent.nodesBetween(Math.max(0,r-e),r,(i,o,s,c)=>{var u,x;const O=((x=(u=i.type.spec).toText)===null||x===void 0?void 0:x.call(u,{node:i,pos:o,parent:s,index:c}))||i.textContent||"%leaf%";n+=O.slice(0,Math.max(0,r-o))}),n};function lm(t){return Object.prototype.toString.call(t)==="[object RegExp]"}class _f{constructor(e){this.find=e.find,this.handler=e.handler}}const g5=(t,e)=>{if(lm(e))return e.exec(t);const n=e(t);if(!n)return null;const r=[n.text];return r.index=n.index,r.input=t,r.data=n.data,n.replaceWith&&(n.text.includes(n.replaceWith)||console.warn('[tiptap warn]: "inputRuleMatch.replaceWith" must be part of "inputRuleMatch.text".'),r.push(n.replaceWith)),r};function Bp(t){var e;const{editor:n,from:r,to:i,text:o,rules:s,plugin:c}=t,{view:u}=n;if(u.composing)return!1;const x=u.state.doc.resolve(r);if(x.parent.type.spec.code||!((e=x.nodeBefore||x.nodeAfter)===null||e===void 0)&&e.marks.find(b=>b.type.spec.code))return!1;let O=!1;const Y=m5(x)+o;return s.forEach(b=>{if(O)return;const m=g5(Y,b.find);if(!m)return;const a=u.state.tr,v=Af({state:u.state,transaction:a}),E={from:r-(m[0].length-o.length),to:i},{commands:h,chain:f,can:D}=new If({editor:n,state:v});b.handler({state:v,range:E,match:m,commands:h,chain:f,can:D})===null||!a.steps.length||(a.setMeta(c,{transform:a,from:r,to:i,text:o}),u.dispatch(a),O=!0)}),O}function v5(t){const{editor:e,rules:n}=t,r=new Nr({state:{init(){return null},apply(i,o){const s=i.getMeta(r);return s||(i.selectionSet||i.docChanged?null:o)}},props:{handleTextInput(i,o,s,c){return Bp({editor:e,from:o,to:s,text:c,rules:n,plugin:r})},handleDOMEvents:{compositionend:i=>(setTimeout(()=>{const{$cursor:o}=i.state.selection;o&&Bp({editor:e,from:o.pos,to:o.pos,text:"",rules:n,plugin:r})}),!1)},handleKeyDown(i,o){if(o.key!=="Enter")return!1;const{$cursor:s}=i.state.selection;return s?Bp({editor:e,from:s.pos,to:s.pos,text:`
`,rules:n,plugin:r}):!1}},isInputRules:!0});return r}function y5(t){return typeof t=="number"}class b5{constructor(e){this.find=e.find,this.handler=e.handler}}const x5=(t,e)=>{if(lm(e))return[...t.matchAll(e)];const n=e(t);return n?n.map(r=>{const i=[r.text];return i.index=r.index,i.input=t,i.data=r.data,r.replaceWith&&(r.text.includes(r.replaceWith)||console.warn('[tiptap warn]: "pasteRuleMatch.replaceWith" must be part of "pasteRuleMatch.text".'),i.push(r.replaceWith)),i}):[]};function w5(t){const{editor:e,state:n,from:r,to:i,rule:o}=t,{commands:s,chain:c,can:u}=new If({editor:e,state:n}),x=[];return n.doc.nodesBetween(r,i,(Y,b)=>{if(!Y.isTextblock||Y.type.spec.code)return;const m=Math.max(r,b),a=Math.min(i,b+Y.content.size),v=Y.textBetween(m-b,a-b,void 0,"");x5(v,o.find).forEach(h=>{if(h.index===void 0)return;const f=m+h.index+1,D=f+h[0].length,k={from:n.tr.mapping.map(f),to:n.tr.mapping.map(D)},R=o.handler({state:n,range:k,match:h,commands:s,chain:c,can:u});x.push(R)})}),x.every(Y=>Y!==null)}function k5(t){const{editor:e,rules:n}=t;let r=null,i=!1,o=!1;return n.map(c=>new Nr({view(u){const x=O=>{var Y;r=!((Y=u.dom.parentElement)===null||Y===void 0)&&Y.contains(O.target)?u.dom.parentElement:null};return window.addEventListener("dragstart",x),{destroy(){window.removeEventListener("dragstart",x)}}},props:{handleDOMEvents:{drop:u=>(o=r===u.dom.parentElement,!1),paste:(u,x)=>{var O;const Y=(O=x.clipboardData)===null||O===void 0?void 0:O.getData("text/html");return i=!!(Y!=null&&Y.includes("data-pm-slice")),!1}}},appendTransaction:(u,x,O)=>{const Y=u[0],b=Y.getMeta("uiEvent")==="paste"&&!i,m=Y.getMeta("uiEvent")==="drop"&&!o;if(!b&&!m)return;const a=x.doc.content.findDiffStart(O.doc.content),v=x.doc.content.findDiffEnd(O.doc.content);if(!y5(a)||!v||a===v.b)return;const E=O.tr,h=Af({state:O,transaction:E});if(!(!w5({editor:e,state:h,from:Math.max(a-1,0),to:v.b-1,rule:c})||!E.steps.length))return E}}))}function E5(t){const e=t.filter((n,r)=>t.indexOf(n)!==r);return[...new Set(e)]}class Us{constructor(e,n){this.splittableMarks=[],this.editor=n,this.extensions=Us.resolve(e),this.schema=h5(this.extensions,n),this.extensions.forEach(r=>{var i;this.editor.extensionStorage[r.name]=r.storage;const o={name:r.name,options:r.options,storage:r.storage,editor:this.editor,type:zp(r.name,this.schema)};r.type==="mark"&&(!((i=vn(Ut(r,"keepOnSplit",o)))!==null&&i!==void 0)||i)&&this.splittableMarks.push(r.name);const s=Ut(r,"onBeforeCreate",o);s&&this.editor.on("beforeCreate",s);const c=Ut(r,"onCreate",o);c&&this.editor.on("create",c);const u=Ut(r,"onUpdate",o);u&&this.editor.on("update",u);const x=Ut(r,"onSelectionUpdate",o);x&&this.editor.on("selectionUpdate",x);const O=Ut(r,"onTransaction",o);O&&this.editor.on("transaction",O);const Y=Ut(r,"onFocus",o);Y&&this.editor.on("focus",Y);const b=Ut(r,"onBlur",o);b&&this.editor.on("blur",b);const m=Ut(r,"onDestroy",o);m&&this.editor.on("destroy",m)})}static resolve(e){const n=Us.sort(Us.flatten(e)),r=E5(n.map(i=>i.name));return r.length&&console.warn(`[tiptap warn]: Duplicate extension names found: [${r.map(i=>`'${i}'`).join(", ")}]. This can lead to issues.`),n}static flatten(e){return e.map(n=>{const r={name:n.name,options:n.options,storage:n.storage},i=Ut(n,"addExtensions",r);return i?[n,...this.flatten(i())]:n}).flat(10)}static sort(e){return e.sort((r,i)=>{const o=Ut(r,"priority")||100,s=Ut(i,"priority")||100;return o>s?-1:o<s?1:0})}get commands(){return this.extensions.reduce((e,n)=>{const r={name:n.name,options:n.options,storage:n.storage,editor:this.editor,type:zp(n.name,this.schema)},i=Ut(n,"addCommands",r);return i?{...e,...i()}:e},{})}get plugins(){const{editor:e}=this,n=Us.sort([...this.extensions].reverse()),r=[],i=[],o=n.map(s=>{const c={name:s.name,options:s.options,storage:s.storage,editor:e,type:zp(s.name,this.schema)},u=[],x=Ut(s,"addKeyboardShortcuts",c);let O={};if(s.type==="mark"&&s.config.exitable&&(O.ArrowRight=()=>Oo.handleExit({editor:e,mark:s})),x){const v=Object.fromEntries(Object.entries(x()).map(([E,h])=>[E,()=>h({editor:e})]));O={...O,...v}}const Y=BE(O);u.push(Y);const b=Ut(s,"addInputRules",c);Q1(s,e.options.enableInputRules)&&b&&r.push(...b());const m=Ut(s,"addPasteRules",c);Q1(s,e.options.enablePasteRules)&&m&&i.push(...m());const a=Ut(s,"addProseMirrorPlugins",c);if(a){const v=a();u.push(...v)}return u}).flat();return[v5({editor:e,rules:r}),...k5({editor:e,rules:i}),...o]}get attributes(){return d2(this.extensions)}get nodeViews(){const{editor:e}=this,{nodeExtensions:n}=jf(this.extensions);return Object.fromEntries(n.filter(r=>!!Ut(r,"addNodeView")).map(r=>{const i=this.attributes.filter(u=>u.type===r.name),o={name:r.name,options:r.options,storage:r.storage,editor:e,type:Cr(r.name,this.schema)},s=Ut(r,"addNodeView",o);if(!s)return[];const c=(u,x,O,Y)=>{const b=Fh(u,i);return s()({editor:e,node:u,getPos:O,decorations:Y,HTMLAttributes:b,extension:r})};return[r.name,c]}))}}function S5(t){return Object.prototype.toString.call(t).slice(8,-1)}function Zp(t){return S5(t)!=="Object"?!1:t.constructor===Object&&Object.getPrototypeOf(t)===Object.prototype}function Pf(t,e){const n={...t};return Zp(t)&&Zp(e)&&Object.keys(e).forEach(r=>{Zp(e[r])?r in t?n[r]=Pf(t[r],e[r]):Object.assign(n,{[r]:e[r]}):Object.assign(n,{[r]:e[r]})}),n}class Ur{constructor(e={}){this.type="extension",this.name="extension",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=vn(Ut(this,"addOptions",{name:this.name}))),this.storage=vn(Ut(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Ur(e)}configure(e={}){const n=this.extend();return n.options=Pf(this.options,e),n.storage=vn(Ut(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Ur(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=vn(Ut(n,"addOptions",{name:n.name})),n.storage=vn(Ut(n,"addStorage",{name:n.name,options:n.options})),n}}function p2(t,e,n){const{from:r,to:i}=e,{blockSeparator:o=`

`,textSerializers:s={}}=n||{};let c="",u=!0;return t.nodesBetween(r,i,(x,O,Y,b)=>{var m;const a=s==null?void 0:s[x.type.name];a?(x.isBlock&&!u&&(c+=o,u=!0),Y&&(c+=a({node:x,pos:O,parent:Y,index:b,range:e}))):x.isText?(c+=(m=x==null?void 0:x.text)===null||m===void 0?void 0:m.slice(Math.max(r,O)-O,i-O),u=!1):x.isBlock&&!u&&(c+=o,u=!0)}),c}function h2(t){return Object.fromEntries(Object.entries(t.nodes).filter(([,e])=>e.spec.toText).map(([e,n])=>[e,n.spec.toText]))}const C5=Ur.create({name:"clipboardTextSerializer",addProseMirrorPlugins(){return[new Nr({key:new Ei("clipboardTextSerializer"),props:{clipboardTextSerializer:()=>{const{editor:t}=this,{state:e,schema:n}=t,{doc:r,selection:i}=e,{ranges:o}=i,s=Math.min(...o.map(O=>O.$from.pos)),c=Math.max(...o.map(O=>O.$to.pos)),u=h2(n);return p2(r,{from:s,to:c},{textSerializers:u})}}})]}}),D5=()=>({editor:t,view:e})=>(requestAnimationFrame(()=>{var n;t.isDestroyed||(e.dom.blur(),(n=window==null?void 0:window.getSelection())===null||n===void 0||n.removeAllRanges())}),!0),O5=(t=!1)=>({commands:e})=>e.setContent("",t),M5=()=>({state:t,tr:e,dispatch:n})=>{const{selection:r}=e,{ranges:i}=r;return n&&i.forEach(({$from:o,$to:s})=>{t.doc.nodesBetween(o.pos,s.pos,(c,u)=>{if(c.type.isText)return;const{doc:x,mapping:O}=e,Y=x.resolve(O.map(u)),b=x.resolve(O.map(u+c.nodeSize)),m=Y.blockRange(b);if(!m)return;const a=zl(m);if(c.type.isTextblock){const{defaultType:v}=Y.parent.contentMatchAt(Y.index());e.setNodeMarkup(m.start,v)}(a||a===0)&&e.lift(m,a)})}),!0},T5=t=>e=>t(e),A5=()=>({state:t,dispatch:e})=>qE(t,e),I5=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,r=n.$anchor.node();if(r.content.size>0)return!1;const i=t.selection.$anchor;for(let o=i.depth;o>0;o-=1)if(i.node(o).type===r.type){if(e){const c=i.before(o),u=i.after(o);t.delete(c,u).scrollIntoView()}return!0}return!1},j5=t=>({tr:e,state:n,dispatch:r})=>{const i=Cr(t,n.schema),o=e.selection.$anchor;for(let s=o.depth;s>0;s-=1)if(o.node(s).type===i){if(r){const u=o.before(s),x=o.after(s);e.delete(u,x).scrollIntoView()}return!0}return!1},_5=t=>({tr:e,dispatch:n})=>{const{from:r,to:i}=t;return n&&e.delete(r,i),!0},P5=()=>({state:t,dispatch:e})=>ZE(t,e),L5=()=>({commands:t})=>t.keyboardShortcut("Enter"),N5=()=>({state:t,dispatch:e})=>$E(t,e);function Cd(t,e,n={strict:!0}){const r=Object.keys(e);return r.length?r.every(i=>n.strict?e[i]===t[i]:lm(e[i])?e[i].test(t[i]):e[i]===t[i]):!0}function Hh(t,e,n={}){return t.find(r=>r.type===e&&Cd(r.attrs,n))}function R5(t,e,n={}){return!!Hh(t,e,n)}function cm(t,e,n={}){if(!t||!e)return;let r=t.parent.childAfter(t.parentOffset);if(t.parentOffset===r.offset&&r.offset!==0&&(r=t.parent.childBefore(t.parentOffset)),!r.node)return;const i=Hh([...r.node.marks],e,n);if(!i)return;let o=r.index,s=t.start()+r.offset,c=o+1,u=s+r.node.nodeSize;for(Hh([...r.node.marks],e,n);o>0&&i.isInSet(t.parent.child(o-1).marks);)o-=1,s-=t.parent.child(o).nodeSize;for(;c<t.parent.childCount&&R5([...t.parent.child(c).marks],e,n);)u+=t.parent.child(c).nodeSize,c+=1;return{from:s,to:u}}function Za(t,e){if(typeof t=="string"){if(!e.marks[t])throw Error(`There is no mark type named '${t}'. Maybe you forgot to add the extension?`);return e.marks[t]}return t}const z5=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const o=Za(t,r.schema),{doc:s,selection:c}=n,{$from:u,from:x,to:O}=c;if(i){const Y=cm(u,o,e);if(Y&&Y.from<=x&&Y.to>=O){const b=xn.create(s,Y.from,Y.to);n.setSelection(b)}}return!0},B5=t=>e=>{const n=typeof t=="function"?t(e):t;for(let r=0;r<n.length;r+=1)if(n[r](e))return!0;return!1};function um(t){return t instanceof xn}function Bo(t=0,e=0,n=0){return Math.min(Math.max(t,e),n)}function m2(t,e=null){if(!e)return null;const n=yn.atStart(t),r=yn.atEnd(t);if(e==="start"||e===!0)return n;if(e==="end")return r;const i=n.from,o=r.to;return e==="all"?xn.create(t,Bo(0,i,o),Bo(t.content.size,i,o)):xn.create(t,Bo(e,i,o),Bo(e,i,o))}function Lf(){return["iPad Simulator","iPhone Simulator","iPod Simulator","iPad","iPhone","iPod"].includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document}const Z5=(t=null,e={})=>({editor:n,view:r,tr:i,dispatch:o})=>{e={scrollIntoView:!0,...e};const s=()=>{Lf()&&r.dom.focus(),requestAnimationFrame(()=>{n.isDestroyed||(r.focus(),e!=null&&e.scrollIntoView&&n.commands.scrollIntoView())})};if(r.hasFocus()&&t===null||t===!1)return!0;if(o&&t===null&&!um(n.state.selection))return s(),!0;const c=m2(i.doc,t)||n.state.selection,u=n.state.selection.eq(c);return o&&(u||i.setSelection(c),u&&i.storedMarks&&i.setStoredMarks(i.storedMarks),s()),!0},F5=(t,e)=>n=>t.every((r,i)=>e(r,{...n,index:i})),H5=(t,e)=>({tr:n,commands:r})=>r.insertContentAt({from:n.selection.from,to:n.selection.to},t,e);function ev(t){const e=`<body>${t}</body>`;return new window.DOMParser().parseFromString(e,"text/html").body}function Dd(t,e,n){if(n={slice:!0,parseOptions:{},...n},typeof t=="object"&&t!==null)try{return Array.isArray(t)&&t.length>0?xt.fromArray(t.map(r=>e.nodeFromJSON(r))):e.nodeFromJSON(t)}catch(r){return console.warn("[tiptap warn]: Invalid content.","Passed value:",t,"Error:",r),Dd("",e,n)}if(typeof t=="string"){const r=Y0.fromSchema(e);return n.slice?r.parseSlice(ev(t),n.parseOptions).content:r.parse(ev(t),n.parseOptions)}return Dd("",e,n)}function W5(t,e,n){const r=t.steps.length-1;if(r<e)return;const i=t.steps[r];if(!(i instanceof Hr||i instanceof Er))return;const o=t.mapping.maps[r];let s=0;o.forEach((c,u,x,O)=>{s===0&&(s=O)}),t.setSelection(yn.near(t.doc.resolve(s),n))}const U5=t=>t.toString().startsWith("<"),V5=(t,e,n)=>({tr:r,dispatch:i,editor:o})=>{if(i){n={parseOptions:{},updateSelection:!0,...n};const s=Dd(e,o.schema,{parseOptions:{preserveWhitespace:"full",...n.parseOptions}});if(s.toString()==="<>")return!0;let{from:c,to:u}=typeof t=="number"?{from:t,to:t}:t,x=!0,O=!0;if((U5(s)?s:[s]).forEach(b=>{b.check(),x=x?b.isText&&b.marks.length===0:!1,O=O?b.isBlock:!1}),c===u&&O){const{parent:b}=r.doc.resolve(c);b.isTextblock&&!b.type.spec.code&&!b.childCount&&(c-=1,u+=1)}x?Array.isArray(e)?r.insertText(e.map(b=>b.text||"").join(""),c,u):typeof e=="object"&&e&&e.text?r.insertText(e.text,c,u):r.insertText(e,c,u):r.replaceWith(c,u,s),n.updateSelection&&W5(r,r.steps.length-1,-1)}return!0},K5=()=>({state:t,dispatch:e})=>GE(t,e),G5=()=>({state:t,dispatch:e})=>YE(t,e),Y5=()=>({state:t,dispatch:e})=>HE(t,e),J5=()=>({state:t,dispatch:e})=>VE(t,e);function g2(){return typeof navigator<"u"?/Mac/.test(navigator.platform):!1}function X5(t){const e=t.split(/-(?!$)/);let n=e[e.length-1];n==="Space"&&(n=" ");let r,i,o,s;for(let c=0;c<e.length-1;c+=1){const u=e[c];if(/^(cmd|meta|m)$/i.test(u))s=!0;else if(/^a(lt)?$/i.test(u))r=!0;else if(/^(c|ctrl|control)$/i.test(u))i=!0;else if(/^s(hift)?$/i.test(u))o=!0;else if(/^mod$/i.test(u))Lf()||g2()?s=!0:i=!0;else throw new Error(`Unrecognized modifier name: ${u}`)}return r&&(n=`Alt-${n}`),i&&(n=`Ctrl-${n}`),s&&(n=`Meta-${n}`),o&&(n=`Shift-${n}`),n}const $5=t=>({editor:e,view:n,tr:r,dispatch:i})=>{const o=X5(t).split(/-(?!$)/),s=o.find(x=>!["Alt","Ctrl","Meta","Shift"].includes(x)),c=new KeyboardEvent("keydown",{key:s==="Space"?" ":s,altKey:o.includes("Alt"),ctrlKey:o.includes("Ctrl"),metaKey:o.includes("Meta"),shiftKey:o.includes("Shift"),bubbles:!0,cancelable:!0}),u=e.captureTransaction(()=>{n.someProp("handleKeyDown",x=>x(n,c))});return u==null||u.steps.forEach(x=>{const O=x.map(r.mapping);O&&i&&r.maybeStep(O)}),!0};function Bc(t,e,n={}){const{from:r,to:i,empty:o}=t.selection,s=e?Cr(e,t.schema):null,c=[];t.doc.nodesBetween(r,i,(Y,b)=>{if(Y.isText)return;const m=Math.max(r,b),a=Math.min(i,b+Y.nodeSize);c.push({node:Y,from:m,to:a})});const u=i-r,x=c.filter(Y=>s?s.name===Y.node.type.name:!0).filter(Y=>Cd(Y.node.attrs,n,{strict:!1}));return o?!!x.length:x.reduce((Y,b)=>Y+b.to-b.from,0)>=u}const q5=(t,e={})=>({state:n,dispatch:r})=>{const i=Cr(t,n.schema);return Bc(n,i,e)?JE(n,r):!1},Q5=()=>({state:t,dispatch:e})=>QE(t,e),eS=t=>({state:e,dispatch:n})=>{const r=Cr(t,e.schema);return s5(r)(e,n)},tS=()=>({state:t,dispatch:e})=>XE(t,e);function Nf(t,e){return e.nodes[t]?"node":e.marks[t]?"mark":null}function tv(t,e){const n=typeof e=="string"?[e]:e;return Object.keys(t).reduce((r,i)=>(n.includes(i)||(r[i]=t[i]),r),{})}const nS=(t,e)=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const c=Nf(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Cr(t,r.schema)),c==="mark"&&(s=Za(t,r.schema)),i&&n.selection.ranges.forEach(u=>{r.doc.nodesBetween(u.$from.pos,u.$to.pos,(x,O)=>{o&&o===x.type&&n.setNodeMarkup(O,void 0,tv(x.attrs,e)),s&&x.marks.length&&x.marks.forEach(Y=>{s===Y.type&&n.addMark(O,O+x.nodeSize,s.create(tv(Y.attrs,e)))})})}),!0):!1},rS=()=>({tr:t,dispatch:e})=>(e&&t.scrollIntoView(),!0),iS=()=>({tr:t,commands:e})=>e.setTextSelection({from:0,to:t.doc.content.size}),oS=()=>({state:t,dispatch:e})=>WE(t,e),aS=()=>({state:t,dispatch:e})=>KE(t,e),sS=()=>({state:t,dispatch:e})=>e5(t,e),lS=()=>({state:t,dispatch:e})=>r5(t,e),cS=()=>({state:t,dispatch:e})=>n5(t,e);function v2(t,e,n={}){return Dd(t,e,{slice:!1,parseOptions:n})}const uS=(t,e=!1,n={})=>({tr:r,editor:i,dispatch:o})=>{const{doc:s}=r,c=v2(t,i.schema,n);return o&&r.replaceWith(0,s.content.size,c).setMeta("preventUpdate",!e),!0};function dS(t,e){const n=new Cb(t);return e.forEach(r=>{r.steps.forEach(i=>{n.step(i)})}),n}function fS(t){for(let e=0;e<t.edgeCount;e+=1){const{type:n}=t.edge(e);if(n.isTextblock&&!n.hasRequiredAttrs())return n}return null}function pS(t,e,n){const r=[];return t.nodesBetween(e.from,e.to,(i,o)=>{n(i)&&r.push({node:i,pos:o})}),r}function hS(t,e){for(let n=t.depth;n>0;n-=1){const r=t.node(n);if(e(r))return{pos:n>0?t.before(n):0,start:t.start(n),depth:n,node:r}}}function dm(t){return e=>hS(e.$from,t)}function mS(t,e){const n=wo.fromSchema(e).serializeFragment(t),i=document.implementation.createHTMLDocument().createElement("div");return i.appendChild(n),i.innerHTML}function gS(t,e){const n={from:0,to:t.content.size};return p2(t,n,e)}function fm(t,e){const n=Za(e,t.schema),{from:r,to:i,empty:o}=t.selection,s=[];o?(t.storedMarks&&s.push(...t.storedMarks),s.push(...t.selection.$head.marks())):t.doc.nodesBetween(r,i,u=>{s.push(...u.marks)});const c=s.find(u=>u.type.name===n.name);return c?{...c.attrs}:{}}function vS(t,e){const n=Cr(e,t.schema),{from:r,to:i}=t.selection,o=[];t.doc.nodesBetween(r,i,c=>{o.push(c)});const s=o.reverse().find(c=>c.type.name===n.name);return s?{...s.attrs}:{}}function y2(t,e){const n=Nf(typeof e=="string"?e:e.name,t.schema);return n==="node"?vS(t,e):n==="mark"?fm(t,e):{}}function yS(t,e=JSON.stringify){const n={};return t.filter(r=>{const i=e(r);return Object.prototype.hasOwnProperty.call(n,i)?!1:n[i]=!0})}function bS(t){const e=yS(t);return e.length===1?e:e.filter((n,r)=>!e.filter((o,s)=>s!==r).some(o=>n.oldRange.from>=o.oldRange.from&&n.oldRange.to<=o.oldRange.to&&n.newRange.from>=o.newRange.from&&n.newRange.to<=o.newRange.to))}function xS(t){const{mapping:e,steps:n}=t,r=[];return e.maps.forEach((i,o)=>{const s=[];if(i.ranges.length)i.forEach((c,u)=>{s.push({from:c,to:u})});else{const{from:c,to:u}=n[o];if(c===void 0||u===void 0)return;s.push({from:c,to:u})}s.forEach(({from:c,to:u})=>{const x=e.slice(o).map(c,-1),O=e.slice(o).map(u),Y=e.invert().map(x,-1),b=e.invert().map(O);r.push({oldRange:{from:Y,to:b},newRange:{from:x,to:O}})})}),bS(r)}function Od(t,e,n){const r=[];return t===e?n.resolve(t).marks().forEach(i=>{const o=n.resolve(t-1),s=cm(o,i.type);s&&r.push({mark:i,...s})}):n.nodesBetween(t,e,(i,o)=>{r.push(...i.marks.map(s=>({from:o,to:o+i.nodeSize,mark:s})))}),r}function Ju(t,e,n){return Object.fromEntries(Object.entries(n).filter(([r])=>{const i=t.find(o=>o.type===e&&o.name===r);return i?i.attribute.keepOnSplit:!1}))}function Wh(t,e,n={}){const{empty:r,ranges:i}=t.selection,o=e?Za(e,t.schema):null;if(r)return!!(t.storedMarks||t.selection.$from.marks()).filter(Y=>o?o.name===Y.type.name:!0).find(Y=>Cd(Y.attrs,n,{strict:!1}));let s=0;const c=[];if(i.forEach(({$from:Y,$to:b})=>{const m=Y.pos,a=b.pos;t.doc.nodesBetween(m,a,(v,E)=>{if(!v.isText&&!v.marks.length)return;const h=Math.max(m,E),f=Math.min(a,E+v.nodeSize),D=f-h;s+=D,c.push(...v.marks.map(k=>({mark:k,from:h,to:f})))})}),s===0)return!1;const u=c.filter(Y=>o?o.name===Y.mark.type.name:!0).filter(Y=>Cd(Y.mark.attrs,n,{strict:!1})).reduce((Y,b)=>Y+b.to-b.from,0),x=c.filter(Y=>o?Y.mark.type!==o&&Y.mark.type.excludes(o):!0).reduce((Y,b)=>Y+b.to-b.from,0);return(u>0?u+x:u)>=s}function wS(t,e,n={}){if(!e)return Bc(t,null,n)||Wh(t,null,n);const r=Nf(e,t.schema);return r==="node"?Bc(t,e,n):r==="mark"?Wh(t,e,n):!1}function nv(t,e){const{nodeExtensions:n}=jf(e),r=n.find(s=>s.name===t);if(!r)return!1;const i={name:r.name,options:r.options,storage:r.storage},o=vn(Ut(r,"group",i));return typeof o!="string"?!1:o.split(" ").includes("list")}function kS(t){var e;const n=(e=t.type.createAndFill())===null||e===void 0?void 0:e.toJSON(),r=t.toJSON();return JSON.stringify(n)===JSON.stringify(r)}function ES(t){return t instanceof rn}function SS(t,e,n){const i=t.state.doc.content.size,o=Bo(e,0,i),s=Bo(n,0,i),c=t.coordsAtPos(o),u=t.coordsAtPos(s,-1),x=Math.min(c.top,u.top),O=Math.max(c.bottom,u.bottom),Y=Math.min(c.left,u.left),b=Math.max(c.right,u.right),m=b-Y,a=O-x,h={top:x,bottom:O,left:Y,right:b,width:m,height:a,x:Y,y:x};return{...h,toJSON:()=>h}}function CS(t,e,n){var r;const{selection:i}=e;let o=null;if(um(i)&&(o=i.$cursor),o){const c=(r=t.storedMarks)!==null&&r!==void 0?r:o.marks();return!!n.isInSet(c)||!c.some(u=>u.type.excludes(n))}const{ranges:s}=i;return s.some(({$from:c,$to:u})=>{let x=c.depth===0?t.doc.inlineContent&&t.doc.type.allowsMarkType(n):!1;return t.doc.nodesBetween(c.pos,u.pos,(O,Y,b)=>{if(x)return!1;if(O.isInline){const m=!b||b.type.allowsMarkType(n),a=!!n.isInSet(O.marks)||!O.marks.some(v=>v.type.excludes(n));x=m&&a}return!x}),x})}const DS=(t,e={})=>({tr:n,state:r,dispatch:i})=>{const{selection:o}=n,{empty:s,ranges:c}=o,u=Za(t,r.schema);if(i)if(s){const x=fm(r,u);n.addStoredMark(u.create({...x,...e}))}else c.forEach(x=>{const O=x.$from.pos,Y=x.$to.pos;r.doc.nodesBetween(O,Y,(b,m)=>{const a=Math.max(m,O),v=Math.min(m+b.nodeSize,Y);b.marks.find(h=>h.type===u)?b.marks.forEach(h=>{u===h.type&&n.addMark(a,v,u.create({...h.attrs,...e}))}):n.addMark(a,v,u.create(e))})});return CS(r,n,u)},OS=(t,e)=>({tr:n})=>(n.setMeta(t,e),!0),MS=(t,e={})=>({state:n,dispatch:r,chain:i})=>{const o=Cr(t,n.schema);return o.isTextblock?i().command(({commands:s})=>X1(o,e)(n)?!0:s.clearNodes()).command(({state:s})=>X1(o,e)(s,r)).run():(console.warn('[tiptap warn]: Currently "setNode()" only supports text block nodes.'),!1)},TS=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,i=Bo(t,0,r.content.size),o=rn.create(r,i);e.setSelection(o)}return!0},AS=t=>({tr:e,dispatch:n})=>{if(n){const{doc:r}=e,{from:i,to:o}=typeof t=="number"?{from:t,to:t}:t,s=xn.atStart(r).from,c=xn.atEnd(r).to,u=Bo(i,s,c),x=Bo(o,s,c),O=xn.create(r,u,x);e.setSelection(O)}return!0},IS=t=>({state:e,dispatch:n})=>{const r=Cr(t,e.schema);return u5(r)(e,n)};function rv(t,e){const n=t.storedMarks||t.selection.$to.parentOffset&&t.selection.$from.marks();if(n){const r=n.filter(i=>e==null?void 0:e.includes(i.type.name));t.tr.ensureMarks(r)}}const jS=({keepMarks:t=!0}={})=>({tr:e,state:n,dispatch:r,editor:i})=>{const{selection:o,doc:s}=e,{$from:c,$to:u}=o,x=i.extensionManager.attributes,O=Ju(x,c.node().type.name,c.node().attrs);if(o instanceof rn&&o.node.isBlock)return!c.parentOffset||!cl(s,c.pos)?!1:(r&&(t&&rv(n,i.extensionManager.splittableMarks),e.split(c.pos).scrollIntoView()),!0);if(!c.parent.isBlock)return!1;if(r){const Y=u.parentOffset===u.parent.content.size;o instanceof xn&&e.deleteSelection();const b=c.depth===0?void 0:fS(c.node(-1).contentMatchAt(c.indexAfter(-1)));let m=Y&&b?[{type:b,attrs:O}]:void 0,a=cl(e.doc,e.mapping.map(c.pos),1,m);if(!m&&!a&&cl(e.doc,e.mapping.map(c.pos),1,b?[{type:b}]:void 0)&&(a=!0,m=b?[{type:b,attrs:O}]:void 0),a&&(e.split(e.mapping.map(c.pos),1,m),b&&!Y&&!c.parentOffset&&c.parent.type!==b)){const v=e.mapping.map(c.before()),E=e.doc.resolve(v);c.node(-1).canReplaceWith(E.index(),E.index()+1,b)&&e.setNodeMarkup(e.mapping.map(c.before()),b)}t&&rv(n,i.extensionManager.splittableMarks),e.scrollIntoView()}return!0},_S=t=>({tr:e,state:n,dispatch:r,editor:i})=>{var o;const s=Cr(t,n.schema),{$from:c,$to:u}=n.selection,x=n.selection.node;if(x&&x.isBlock||c.depth<2||!c.sameParent(u))return!1;const O=c.node(-1);if(O.type!==s)return!1;const Y=i.extensionManager.attributes;if(c.parent.content.size===0&&c.node(-1).childCount===c.indexAfter(-1)){if(c.depth===2||c.node(-3).type!==s||c.index(-2)!==c.node(-2).childCount-1)return!1;if(r){let E=xt.empty;const h=c.index(-1)?1:c.index(-2)?2:3;for(let Z=c.depth-h;Z>=c.depth-3;Z-=1)E=xt.from(c.node(Z).copy(E));const f=c.indexAfter(-1)<c.node(-2).childCount?1:c.indexAfter(-2)<c.node(-3).childCount?2:3,D=Ju(Y,c.node().type.name,c.node().attrs),k=((o=s.contentMatch.defaultType)===null||o===void 0?void 0:o.createAndFill(D))||void 0;E=E.append(xt.from(s.createAndFill(null,k)||void 0));const R=c.before(c.depth-(h-1));e.replace(R,c.after(-f),new Lt(E,4-h,0));let d=-1;e.doc.nodesBetween(R,e.doc.content.size,(Z,B)=>{if(d>-1)return!1;Z.isTextblock&&Z.content.size===0&&(d=B+1)}),d>-1&&e.setSelection(xn.near(e.doc.resolve(d))),e.scrollIntoView()}return!0}const b=u.pos===c.end()?O.contentMatchAt(0).defaultType:null,m=Ju(Y,O.type.name,O.attrs),a=Ju(Y,c.node().type.name,c.node().attrs);e.delete(c.pos,u.pos);const v=b?[{type:s,attrs:m},{type:b,attrs:a}]:[{type:s,attrs:m}];if(!cl(e.doc,c.pos,2))return!1;if(r){const{selection:E,storedMarks:h}=n,{splittableMarks:f}=i.extensionManager,D=h||E.$to.parentOffset&&E.$from.marks();if(e.split(c.pos,2,v).scrollIntoView(),!D||!r)return!0;const k=D.filter(R=>f.includes(R.type.name));e.ensureMarks(k)}return!0},Fp=(t,e)=>{const n=dm(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(Math.max(0,n.pos-1)).before(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&za(t.doc,n.pos)&&t.join(n.pos),!0},Hp=(t,e)=>{const n=dm(s=>s.type===e)(t.selection);if(!n)return!0;const r=t.doc.resolve(n.start).after(n.depth);if(r===void 0)return!0;const i=t.doc.nodeAt(r);return n.node.type===(i==null?void 0:i.type)&&za(t.doc,r)&&t.join(r),!0},PS=(t,e,n,r={})=>({editor:i,tr:o,state:s,dispatch:c,chain:u,commands:x,can:O})=>{const{extensions:Y,splittableMarks:b}=i.extensionManager,m=Cr(t,s.schema),a=Cr(e,s.schema),{selection:v,storedMarks:E}=s,{$from:h,$to:f}=v,D=h.blockRange(f),k=E||v.$to.parentOffset&&v.$from.marks();if(!D)return!1;const R=dm(d=>nv(d.type.name,Y))(v);if(D.depth>=1&&R&&D.depth-R.depth<=1){if(R.node.type===m)return x.liftListItem(a);if(nv(R.node.type.name,Y)&&m.validContent(R.node.content)&&c)return u().command(()=>(o.setNodeMarkup(R.pos,m),!0)).command(()=>Fp(o,m)).command(()=>Hp(o,m)).run()}return!n||!k||!c?u().command(()=>O().wrapInList(m,r)?!0:x.clearNodes()).wrapInList(m,r).command(()=>Fp(o,m)).command(()=>Hp(o,m)).run():u().command(()=>{const d=O().wrapInList(m,r),Z=k.filter(B=>b.includes(B.type.name));return o.ensureMarks(Z),d?!0:x.clearNodes()}).wrapInList(m,r).command(()=>Fp(o,m)).command(()=>Hp(o,m)).run()},LS=(t,e={},n={})=>({state:r,commands:i})=>{const{extendEmptyMarkRange:o=!1}=n,s=Za(t,r.schema);return Wh(r,s,e)?i.unsetMark(s,{extendEmptyMarkRange:o}):i.setMark(s,e)},NS=(t,e,n={})=>({state:r,commands:i})=>{const o=Cr(t,r.schema),s=Cr(e,r.schema);return Bc(r,o,n)?i.setNode(s):i.setNode(o,n)},RS=(t,e={})=>({state:n,commands:r})=>{const i=Cr(t,n.schema);return Bc(n,i,e)?r.lift(i):r.wrapIn(i,e)},zS=()=>({state:t,dispatch:e})=>{const n=t.plugins;for(let r=0;r<n.length;r+=1){const i=n[r];let o;if(i.spec.isInputRules&&(o=i.getState(t))){if(e){const s=t.tr,c=o.transform;for(let u=c.steps.length-1;u>=0;u-=1)s.step(c.steps[u].invert(c.docs[u]));if(o.text){const u=s.doc.resolve(o.from).marks();s.replaceWith(o.from,o.to,t.schema.text(o.text,u))}else s.delete(o.from,o.to)}return!0}}return!1},BS=()=>({tr:t,dispatch:e})=>{const{selection:n}=t,{empty:r,ranges:i}=n;return r||e&&i.forEach(o=>{t.removeMark(o.$from.pos,o.$to.pos)}),!0},ZS=(t,e={})=>({tr:n,state:r,dispatch:i})=>{var o;const{extendEmptyMarkRange:s=!1}=e,{selection:c}=n,u=Za(t,r.schema),{$from:x,empty:O,ranges:Y}=c;if(!i)return!0;if(O&&s){let{from:b,to:m}=c;const a=(o=x.marks().find(E=>E.type===u))===null||o===void 0?void 0:o.attrs,v=cm(x,u,a);v&&(b=v.from,m=v.to),n.removeMark(b,m,u)}else Y.forEach(b=>{n.removeMark(b.$from.pos,b.$to.pos,u)});return n.removeStoredMark(u),!0},FS=(t,e={})=>({tr:n,state:r,dispatch:i})=>{let o=null,s=null;const c=Nf(typeof t=="string"?t:t.name,r.schema);return c?(c==="node"&&(o=Cr(t,r.schema)),c==="mark"&&(s=Za(t,r.schema)),i&&n.selection.ranges.forEach(u=>{const x=u.$from.pos,O=u.$to.pos;r.doc.nodesBetween(x,O,(Y,b)=>{o&&o===Y.type&&n.setNodeMarkup(b,void 0,{...Y.attrs,...e}),s&&Y.marks.length&&Y.marks.forEach(m=>{if(s===m.type){const a=Math.max(b,x),v=Math.min(b+Y.nodeSize,O);n.addMark(a,v,s.create({...m.attrs,...e}))}})})}),!0):!1},HS=(t,e={})=>({state:n,dispatch:r})=>{const i=Cr(t,n.schema);return i5(i,e)(n,r)},WS=(t,e={})=>({state:n,dispatch:r})=>{const i=Cr(t,n.schema);return o5(i,e)(n,r)};var US=Object.freeze({__proto__:null,blur:D5,clearContent:O5,clearNodes:M5,command:T5,createParagraphNear:A5,deleteCurrentNode:I5,deleteNode:j5,deleteRange:_5,deleteSelection:P5,enter:L5,exitCode:N5,extendMarkRange:z5,first:B5,focus:Z5,forEach:F5,insertContent:H5,insertContentAt:V5,joinUp:K5,joinDown:G5,joinBackward:Y5,joinForward:J5,keyboardShortcut:$5,lift:q5,liftEmptyBlock:Q5,liftListItem:eS,newlineInCode:tS,resetAttributes:nS,scrollIntoView:rS,selectAll:iS,selectNodeBackward:oS,selectNodeForward:aS,selectParentNode:sS,selectTextblockEnd:lS,selectTextblockStart:cS,setContent:uS,setMark:DS,setMeta:OS,setNode:MS,setNodeSelection:TS,setTextSelection:AS,sinkListItem:IS,splitBlock:jS,splitListItem:_S,toggleList:PS,toggleMark:LS,toggleNode:NS,toggleWrap:RS,undoInputRule:zS,unsetAllMarks:BS,unsetMark:ZS,updateAttributes:FS,wrapIn:HS,wrapInList:WS});const VS=Ur.create({name:"commands",addCommands(){return{...US}}}),KS=Ur.create({name:"editable",addProseMirrorPlugins(){return[new Nr({key:new Ei("editable"),props:{editable:()=>this.editor.options.editable}})]}}),GS=Ur.create({name:"focusEvents",addProseMirrorPlugins(){const{editor:t}=this;return[new Nr({key:new Ei("focusEvents"),props:{handleDOMEvents:{focus:(e,n)=>{t.isFocused=!0;const r=t.state.tr.setMeta("focus",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1},blur:(e,n)=>{t.isFocused=!1;const r=t.state.tr.setMeta("blur",{event:n}).setMeta("addToHistory",!1);return e.dispatch(r),!1}}}})]}}),YS=Ur.create({name:"keymap",addKeyboardShortcuts(){const t=()=>this.editor.commands.first(({commands:s})=>[()=>s.undoInputRule(),()=>s.command(({tr:c})=>{const{selection:u,doc:x}=c,{empty:O,$anchor:Y}=u,{pos:b,parent:m}=Y,a=yn.atStart(x).from===b;return!O||!a||!m.type.isTextblock||m.textContent.length?!1:s.clearNodes()}),()=>s.deleteSelection(),()=>s.joinBackward(),()=>s.selectNodeBackward()]),e=()=>this.editor.commands.first(({commands:s})=>[()=>s.deleteSelection(),()=>s.deleteCurrentNode(),()=>s.joinForward(),()=>s.selectNodeForward()]),r={Enter:()=>this.editor.commands.first(({commands:s})=>[()=>s.newlineInCode(),()=>s.createParagraphNear(),()=>s.liftEmptyBlock(),()=>s.splitBlock()]),"Mod-Enter":()=>this.editor.commands.exitCode(),Backspace:t,"Mod-Backspace":t,"Shift-Backspace":t,Delete:e,"Mod-Delete":e,"Mod-a":()=>this.editor.commands.selectAll()},i={...r},o={...r,"Ctrl-h":t,"Alt-Backspace":t,"Ctrl-d":e,"Ctrl-Alt-Backspace":e,"Alt-Delete":e,"Alt-d":e,"Ctrl-a":()=>this.editor.commands.selectTextblockStart(),"Ctrl-e":()=>this.editor.commands.selectTextblockEnd()};return Lf()||g2()?o:i},addProseMirrorPlugins(){return[new Nr({key:new Ei("clearDocument"),appendTransaction:(t,e,n)=>{if(!(t.some(a=>a.docChanged)&&!e.doc.eq(n.doc)))return;const{empty:i,from:o,to:s}=e.selection,c=yn.atStart(e.doc).from,u=yn.atEnd(e.doc).to;if(i||!(o===c&&s===u)||!(n.doc.textBetween(0,n.doc.content.size," "," ").length===0))return;const Y=n.tr,b=Af({state:n,transaction:Y}),{commands:m}=new If({editor:this.editor,state:b});if(m.clearNodes(),!!Y.steps.length)return Y}})]}}),JS=Ur.create({name:"tabindex",addProseMirrorPlugins(){return[new Nr({key:new Ei("tabindex"),props:{attributes:this.editor.isEditable?{tabindex:"0"}:{}}})]}});var XS=Object.freeze({__proto__:null,ClipboardTextSerializer:C5,Commands:VS,Editable:KS,FocusEvents:GS,Keymap:YS,Tabindex:JS});const $S=`.ProseMirror {
  position: relative;
}

.ProseMirror {
  word-wrap: break-word;
  white-space: pre-wrap;
  white-space: break-spaces;
  -webkit-font-variant-ligatures: none;
  font-variant-ligatures: none;
  font-feature-settings: "liga" 0; /* the above doesn't seem to work in Edge */
}

.ProseMirror [contenteditable="false"] {
  white-space: normal;
}

.ProseMirror [contenteditable="false"] [contenteditable="true"] {
  white-space: pre-wrap;
}

.ProseMirror pre {
  white-space: pre-wrap;
}

img.ProseMirror-separator {
  display: inline !important;
  border: none !important;
  margin: 0 !important;
  width: 1px !important;
  height: 1px !important;
}

.ProseMirror-gapcursor {
  display: none;
  pointer-events: none;
  position: absolute;
  margin: 0;
}

.ProseMirror-gapcursor:after {
  content: "";
  display: block;
  position: absolute;
  top: -2px;
  width: 20px;
  border-top: 1px solid black;
  animation: ProseMirror-cursor-blink 1.1s steps(2, start) infinite;
}

@keyframes ProseMirror-cursor-blink {
  to {
    visibility: hidden;
  }
}

.ProseMirror-hideselection *::selection {
  background: transparent;
}

.ProseMirror-hideselection *::-moz-selection {
  background: transparent;
}

.ProseMirror-hideselection * {
  caret-color: transparent;
}

.ProseMirror-focused .ProseMirror-gapcursor {
  display: block;
}

.tippy-box[data-animation=fade][data-state=hidden] {
  opacity: 0
}`;function qS(t,e){const n=document.querySelector("style[data-tiptap-style]");if(n!==null)return n;const r=document.createElement("style");return e&&r.setAttribute("nonce",e),r.setAttribute("data-tiptap-style",""),r.innerHTML=t,document.getElementsByTagName("head")[0].appendChild(r),r}let QS=class extends d5{constructor(e={}){super(),this.isFocused=!1,this.extensionStorage={},this.options={element:document.createElement("div"),content:"",injectCSS:!0,injectNonce:void 0,extensions:[],autofocus:!1,editable:!0,editorProps:{},parseOptions:{},enableInputRules:!0,enablePasteRules:!0,enableCoreExtensions:!0,onBeforeCreate:()=>null,onCreate:()=>null,onUpdate:()=>null,onSelectionUpdate:()=>null,onTransaction:()=>null,onFocus:()=>null,onBlur:()=>null,onDestroy:()=>null},this.isCapturingTransaction=!1,this.capturedTransaction=null,this.setOptions(e),this.createExtensionManager(),this.createCommandManager(),this.createSchema(),this.on("beforeCreate",this.options.onBeforeCreate),this.emit("beforeCreate",{editor:this}),this.createView(),this.injectCSS(),this.on("create",this.options.onCreate),this.on("update",this.options.onUpdate),this.on("selectionUpdate",this.options.onSelectionUpdate),this.on("transaction",this.options.onTransaction),this.on("focus",this.options.onFocus),this.on("blur",this.options.onBlur),this.on("destroy",this.options.onDestroy),window.setTimeout(()=>{this.isDestroyed||(this.commands.focus(this.options.autofocus),this.emit("create",{editor:this}))},0)}get storage(){return this.extensionStorage}get commands(){return this.commandManager.commands}chain(){return this.commandManager.chain()}can(){return this.commandManager.can()}injectCSS(){this.options.injectCSS&&document&&(this.css=qS($S,this.options.injectNonce))}setOptions(e={}){this.options={...this.options,...e},!(!this.view||!this.state||this.isDestroyed)&&(this.options.editorProps&&this.view.setProps(this.options.editorProps),this.view.updateState(this.state))}setEditable(e,n=!0){this.setOptions({editable:e}),n&&this.emit("update",{editor:this,transaction:this.state.tr})}get isEditable(){return this.options.editable&&this.view&&this.view.editable}get state(){return this.view.state}registerPlugin(e,n){const r=f2(n)?n(e,[...this.state.plugins]):[...this.state.plugins,e],i=this.state.reconfigure({plugins:r});this.view.updateState(i)}unregisterPlugin(e){if(this.isDestroyed)return;const n=typeof e=="string"?`${e}$`:e.key,r=this.state.reconfigure({plugins:this.state.plugins.filter(i=>!i.key.startsWith(n))});this.view.updateState(r)}createExtensionManager(){const n=[...this.options.enableCoreExtensions?Object.values(XS):[],...this.options.extensions].filter(r=>["extension","node","mark"].includes(r==null?void 0:r.type));this.extensionManager=new Us(n,this)}createCommandManager(){this.commandManager=new If({editor:this})}createSchema(){this.schema=this.extensionManager.schema}createView(){const e=v2(this.options.content,this.schema,this.options.parseOptions),n=m2(e,this.options.autofocus);this.view=new TE(this.options.element,{...this.options.editorProps,dispatchTransaction:this.dispatchTransaction.bind(this),state:Hs.create({doc:e,selection:n||void 0})});const r=this.state.reconfigure({plugins:this.extensionManager.plugins});this.view.updateState(r),this.createNodeViews();const i=this.view.dom;i.editor=this}createNodeViews(){this.view.setProps({nodeViews:this.extensionManager.nodeViews})}captureTransaction(e){this.isCapturingTransaction=!0,e(),this.isCapturingTransaction=!1;const n=this.capturedTransaction;return this.capturedTransaction=null,n}dispatchTransaction(e){if(this.view.isDestroyed)return;if(this.isCapturingTransaction){if(!this.capturedTransaction){this.capturedTransaction=e;return}e.steps.forEach(s=>{var c;return(c=this.capturedTransaction)===null||c===void 0?void 0:c.step(s)});return}const n=this.state.apply(e),r=!this.state.selection.eq(n.selection);this.view.updateState(n),this.emit("transaction",{editor:this,transaction:e}),r&&this.emit("selectionUpdate",{editor:this,transaction:e});const i=e.getMeta("focus"),o=e.getMeta("blur");i&&this.emit("focus",{editor:this,event:i.event,transaction:e}),o&&this.emit("blur",{editor:this,event:o.event,transaction:e}),!(!e.docChanged||e.getMeta("preventUpdate"))&&this.emit("update",{editor:this,transaction:e})}getAttributes(e){return y2(this.state,e)}isActive(e,n){const r=typeof e=="string"?e:null,i=typeof e=="string"?n:e;return wS(this.state,r,i)}getJSON(){return this.state.doc.toJSON()}getHTML(){return mS(this.state.doc.content,this.schema)}getText(e){const{blockSeparator:n=`

`,textSerializers:r={}}=e||{};return gS(this.state.doc,{blockSeparator:n,textSerializers:{...h2(this.schema),...r}})}get isEmpty(){return kS(this.state.doc)}getCharacterCount(){return console.warn('[tiptap warn]: "editor.getCharacterCount()" is deprecated. Please use "editor.storage.characterCount.characters()" instead.'),this.state.doc.content.size-2}destroy(){this.emit("destroy"),this.view&&this.view.destroy(),this.removeAllListeners()}get isDestroyed(){var e;return!(!((e=this.view)===null||e===void 0)&&e.docView)}};function Cl(t){return new _f({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vn(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],c=r[0];let u=n.to;if(s){const x=c.search(/\S/),O=n.from+c.indexOf(s),Y=O+s.length;if(Od(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(v=>v===t.type&&v!==m.mark.type)).filter(m=>m.to>O).length)return null;Y<n.to&&o.delete(Y,n.to),O>n.from&&o.delete(n.from+x,O),u=n.from+x+s.length,o.addMark(n.from+x,u,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function b2(t){return new _f({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vn(t.getAttributes,void 0,r)||{},{tr:o}=e,s=n.from;let c=n.to;if(r[1]){const u=r[0].lastIndexOf(r[1]);let x=s+u;x>c?x=c:c=x+r[1].length;const O=r[0][r[0].length-1];o.insertText(O,s+r[0].length-1),o.replaceWith(x,c,t.type.create(i))}else r[0]&&o.replaceWith(s,c,t.type.create(i))}})}function Uh(t){return new _f({find:t.find,handler:({state:e,range:n,match:r})=>{const i=e.doc.resolve(n.from),o=vn(t.getAttributes,void 0,r)||{};if(!i.node(-1).canReplaceWith(i.index(-1),i.indexAfter(-1),t.type))return null;e.tr.delete(n.from,n.to).setBlockType(n.from,n.from,t.type,o)}})}function Rf(t){return new _f({find:t.find,handler:({state:e,range:n,match:r,chain:i})=>{const o=vn(t.getAttributes,void 0,r)||{},s=e.tr.delete(n.from,n.to),u=s.doc.resolve(n.from).blockRange(),x=u&&X0(u,t.type,o);if(!x)return null;if(s.wrap(u,x),t.keepMarks&&t.editor){const{selection:Y,storedMarks:b}=e,{splittableMarks:m}=t.editor.extensionManager,a=b||Y.$to.parentOffset&&Y.$from.marks();if(a){const v=a.filter(E=>m.includes(E.type.name));s.ensureMarks(v)}}if(t.keepAttributes){const Y=t.type.name==="bulletList"||t.type.name==="orderedList"?"listItem":"taskList";i().updateAttributes(Y,o).run()}const O=s.doc.resolve(n.from-1).nodeBefore;O&&O.type===t.type&&za(s.doc,n.from-1)&&(!t.joinPredicate||t.joinPredicate(r,O))&&s.join(n.from-1)}})}class Oo{constructor(e={}){this.type="mark",this.name="mark",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=vn(Ut(this,"addOptions",{name:this.name}))),this.storage=vn(Ut(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Oo(e)}configure(e={}){const n=this.extend();return n.options=Pf(this.options,e),n.storage=vn(Ut(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Oo(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=vn(Ut(n,"addOptions",{name:n.name})),n.storage=vn(Ut(n,"addStorage",{name:n.name,options:n.options})),n}static handleExit({editor:e,mark:n}){const{tr:r}=e.state,i=e.state.selection.$from;if(i.pos===i.end()){const s=i.marks();if(!!!s.find(x=>(x==null?void 0:x.type.name)===n.name))return!1;const u=s.find(x=>(x==null?void 0:x.type.name)===n.name);return u&&r.removeStoredMark(u),r.insertText(" ",i.pos),e.view.dispatch(r),!0}return!1}}let ei=class Vh{constructor(e={}){this.type="node",this.name="node",this.parent=null,this.child=null,this.config={name:this.name,defaultOptions:{}},this.config={...this.config,...e},this.name=this.config.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${this.name}".`),this.options=this.config.defaultOptions,this.config.addOptions&&(this.options=vn(Ut(this,"addOptions",{name:this.name}))),this.storage=vn(Ut(this,"addStorage",{name:this.name,options:this.options}))||{}}static create(e={}){return new Vh(e)}configure(e={}){const n=this.extend();return n.options=Pf(this.options,e),n.storage=vn(Ut(n,"addStorage",{name:n.name,options:n.options})),n}extend(e={}){const n=new Vh(e);return n.parent=this,this.child=n,n.name=e.name?e.name:n.parent.name,e.defaultOptions&&console.warn(`[tiptap warn]: BREAKING CHANGE: "defaultOptions" is deprecated. Please use "addOptions" instead. Found in extension: "${n.name}".`),n.options=vn(Ut(n,"addOptions",{name:n.name})),n.storage=vn(Ut(n,"addStorage",{name:n.name,options:n.options})),n}};class e4{constructor(e,n,r){this.isDragging=!1,this.component=e,this.editor=n.editor,this.options={stopEvent:null,ignoreMutation:null,...r},this.extension=n.extension,this.node=n.node,this.decorations=n.decorations,this.getPos=n.getPos,this.mount()}mount(){}get dom(){return this.editor.view.dom}get contentDOM(){return null}onDragStart(e){var n,r,i,o,s,c,u;const{view:x}=this.editor,O=e.target,Y=O.nodeType===3?(n=O.parentElement)===null||n===void 0?void 0:n.closest("[data-drag-handle]"):O.closest("[data-drag-handle]");if(!this.dom||!((r=this.contentDOM)===null||r===void 0)&&r.contains(O)||!Y)return;let b=0,m=0;if(this.dom!==Y){const E=this.dom.getBoundingClientRect(),h=Y.getBoundingClientRect(),f=(i=e.offsetX)!==null&&i!==void 0?i:(o=e.nativeEvent)===null||o===void 0?void 0:o.offsetX,D=(s=e.offsetY)!==null&&s!==void 0?s:(c=e.nativeEvent)===null||c===void 0?void 0:c.offsetY;b=h.x-E.x+f,m=h.y-E.y+D}(u=e.dataTransfer)===null||u===void 0||u.setDragImage(this.dom,b,m);const a=rn.create(x.state.doc,this.getPos()),v=x.state.tr.setSelection(a);x.dispatch(v)}stopEvent(e){var n;if(!this.dom)return!1;if(typeof this.options.stopEvent=="function")return this.options.stopEvent({event:e});const r=e.target;if(!(this.dom.contains(r)&&!(!((n=this.contentDOM)===null||n===void 0)&&n.contains(r))))return!1;const o=e.type.startsWith("drag"),s=e.type==="drop";if((["INPUT","BUTTON","SELECT","TEXTAREA"].includes(r.tagName)||r.isContentEditable)&&!s&&!o)return!0;const{isEditable:u}=this.editor,{isDragging:x}=this,O=!!this.node.type.spec.draggable,Y=rn.isSelectable(this.node),b=e.type==="copy",m=e.type==="paste",a=e.type==="cut",v=e.type==="mousedown";if(!O&&Y&&o&&e.preventDefault(),O&&o&&!x)return e.preventDefault(),!1;if(O&&u&&!x&&v){const E=r.closest("[data-drag-handle]");E&&(this.dom===E||this.dom.contains(E))&&(this.isDragging=!0,document.addEventListener("dragend",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("drop",()=>{this.isDragging=!1},{once:!0}),document.addEventListener("mouseup",()=>{this.isDragging=!1},{once:!0}))}return!(x||s||b||m||a||v&&Y)}ignoreMutation(e){return!this.dom||!this.contentDOM?!0:typeof this.options.ignoreMutation=="function"?this.options.ignoreMutation({mutation:e}):this.node.isLeaf||this.node.isAtom?!0:e.type==="selection"||this.dom.contains(e.target)&&e.type==="childList"&&Lf()&&this.editor.isFocused&&[...Array.from(e.addedNodes),...Array.from(e.removedNodes)].every(r=>r.isContentEditable)?!1:this.contentDOM===e.target&&e.type==="attributes"?!0:!this.contentDOM.contains(e.target)}updateAttributes(e){this.editor.commands.command(({tr:n})=>{const r=this.getPos();return n.setNodeMarkup(r,void 0,{...this.node.attrs,...e}),!0})}deleteNode(){const e=this.getPos(),n=e+this.node.nodeSize;this.editor.commands.deleteRange({from:e,to:n})}}function xs(t){return new b5({find:t.find,handler:({state:e,range:n,match:r})=>{const i=vn(t.getAttributes,void 0,r);if(i===!1||i===null)return null;const{tr:o}=e,s=r[r.length-1],c=r[0];let u=n.to;if(s){const x=c.search(/\S/),O=n.from+c.indexOf(s),Y=O+s.length;if(Od(n.from,n.to,e.doc).filter(m=>m.mark.type.excluded.find(v=>v===t.type&&v!==m.mark.type)).filter(m=>m.to>O).length)return null;Y<n.to&&o.delete(Y,n.to),O>n.from&&o.delete(n.from+x,O),u=n.from+x+s.length,o.addMark(n.from+x,u,t.type.create(i||{})),o.removeStoredMark(t.type)}}})}function t4(t){return t.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}function n4(t){var e;const{char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:s}=t,c=t4(n),u=new RegExp(`\\s${c}$`),x=o?"^":"",O=r?new RegExp(`${x}${c}.*?(?=\\s${c}|$)`,"gm"):new RegExp(`${x}(?:^)?${c}[^\\s${c}]*`,"gm"),Y=((e=s.nodeBefore)===null||e===void 0?void 0:e.isText)&&s.nodeBefore.text;if(!Y)return null;const b=s.pos-Y.length,m=Array.from(Y.matchAll(O)).pop();if(!m||m.input===void 0||m.index===void 0)return null;const a=m.input.slice(Math.max(0,m.index-1),m.index),v=new RegExp(`^[${i==null?void 0:i.join("")}\0]?$`).test(a);if(i!==null&&!v)return null;const E=b+m.index;let h=E+m[0].length;return r&&u.test(Y.slice(h-1,h+1))&&(m[0]+=" ",h+=1),E<s.pos&&h>=s.pos?{range:{from:E,to:h},query:m[0].slice(n.length),text:m[0]}:null}const r4=new Ei("suggestion");function i4({pluginKey:t=r4,editor:e,char:n="@",allowSpaces:r=!1,allowedPrefixes:i=[" "],startOfLine:o=!1,decorationTag:s="span",decorationClass:c="suggestion",command:u=()=>null,items:x=()=>[],render:O=()=>({}),allow:Y=()=>!0}){let b;const m=O==null?void 0:O(),a=new Nr({key:t,view(){return{update:async(v,E)=>{var h,f,D,k,R,d,Z;const B=(h=this.key)===null||h===void 0?void 0:h.getState(E),ee=(f=this.key)===null||f===void 0?void 0:f.getState(v.state),he=B.active&&ee.active&&B.range.from!==ee.range.from,N=!B.active&&ee.active,ke=B.active&&!ee.active,Se=!N&&!ke&&B.query!==ee.query,je=N||he,we=Se&&!he,Ee=ke||he;if(!je&&!we&&!Ee)return;const Me=Ee&&!je?B:ee,z=v.dom.querySelector(`[data-decoration-id="${Me.decorationId}"]`);b={editor:e,range:Me.range,query:Me.query,text:Me.text,items:[],command:re=>{u({editor:e,range:Me.range,props:re})},decorationNode:z,clientRect:z?()=>{var re;const{decorationId:T}=(re=this.key)===null||re===void 0?void 0:re.getState(e.state),A=v.dom.querySelector(`[data-decoration-id="${T}"]`);return(A==null?void 0:A.getBoundingClientRect())||null}:null},je&&((D=m==null?void 0:m.onBeforeStart)===null||D===void 0||D.call(m,b)),we&&((k=m==null?void 0:m.onBeforeUpdate)===null||k===void 0||k.call(m,b)),(we||je)&&(b.items=await x({editor:e,query:Me.query})),Ee&&((R=m==null?void 0:m.onExit)===null||R===void 0||R.call(m,b)),we&&((d=m==null?void 0:m.onUpdate)===null||d===void 0||d.call(m,b)),je&&((Z=m==null?void 0:m.onStart)===null||Z===void 0||Z.call(m,b))},destroy:()=>{var v;b&&((v=m==null?void 0:m.onExit)===null||v===void 0||v.call(m,b))}}},state:{init(){return{active:!1,range:{from:0,to:0},query:null,text:null,composing:!1}},apply(v,E,h,f){const{isEditable:D}=e,{composing:k}=e.view,{selection:R}=v,{empty:d,from:Z}=R,B={...E};if(B.composing=k,D&&(d||e.view.composing)){(Z<E.range.from||Z>E.range.to)&&!k&&!E.composing&&(B.active=!1);const ee=n4({char:n,allowSpaces:r,allowedPrefixes:i,startOfLine:o,$position:R.$from}),he=`id_${Math.floor(Math.random()*4294967295)}`;ee&&Y({editor:e,state:f,range:ee.range})?(B.active=!0,B.decorationId=E.decorationId?E.decorationId:he,B.range=ee.range,B.query=ee.query,B.text=ee.text):B.active=!1}else B.active=!1;return B.active||(B.decorationId=null,B.range={from:0,to:0},B.query=null,B.text=null),B}},props:{handleKeyDown(v,E){var h;const{active:f,range:D}=a.getState(v.state);return f&&((h=m==null?void 0:m.onKeyDown)===null||h===void 0?void 0:h.call(m,{view:v,event:E,range:D}))||!1},decorations(v){const{active:E,range:h,decorationId:f}=a.getState(v);return E?cr.create(v.doc,[bi.inline(h.from,h.to,{nodeName:s,class:c,"data-decoration-id":f})]):null}}});return a}class x2{constructor(e,{element:n}){this.component=e,this.dom=n,this.dom.classList.add("svelte-renderer")}updateProps(e){this.component.$set(e)}destroy(){this.component.$destroy()}}const w2="TipTapNodeView";class o4 extends e4{mount(){const e=this.component,n={editor:this.editor,node:this.node,decorations:this.decorations,selected:!1,extension:this.extension,getPos:()=>this.getPos(),updateAttributes:(c={})=>this.updateAttributes(c),deleteNode:()=>this.deleteNode()};this.contentDOMElement=this.node.isLeaf?null:document.createElement(this.node.isInline?"span":"div"),this.contentDOMElement&&(this.contentDOMElement.style.whiteSpace="inherit");const r=new Map;r.set(w2,{onDragStart:this.onDragStart.bind(this)});const i=this.options.as??(this.node.isInline?"span":"div"),o=document.createElement(i);o.classList.add(`node-${this.node.type.name}`);const s=new e({target:o,props:n,context:r});this.renderer=new x2(s,{element:o})}get dom(){var e;if(!((e=this.renderer.dom.firstElementChild)!=null&&e.hasAttribute("data-node-view-wrapper")))throw Error("Please use the NodeViewWrapper component for your node view.");return this.renderer.dom}get contentDOM(){return this.node.isLeaf?null:(this.maybeMoveContentDOM(),this.contentDOMElement)}maybeMoveContentDOM(){const e=this.dom.querySelector("[data-node-view-content]");this.contentDOMElement&&e&&!e.contains(this.contentDOMElement)&&e.appendChild(this.contentDOMElement)}update(e,n){return typeof this.options.update=="function"?this.options.update(e,n):e.type!==this.node.type?!1:(e===this.node&&this.decorations===n||(this.node=e,this.decorations=n,this.renderer.updateProps({node:e,decorations:n}),this.maybeMoveContentDOM()),!0)}selectNode(){this.renderer.updateProps({selected:!0})}deselectNode(){this.renderer.updateProps({selected:!1})}destroy(){this.renderer.destroy(),this.contentDOMElement=null}}const a4=(t,e)=>n=>new o4(t,n,e),s4=()=>{};function Wp(t){let e,n,r,i;const o=t[6].default,s=Uy(o,t,t[5],null);let c=[{"data-node-view-wrapper":""},t[4]],u={};for(let x=0;x<c.length;x+=1)u=Sh(u,c[x]);return{c(){e=Rn(t[1]),s&&s.c(),this.h()},l(x){e=zn(x,(t[1]||"null").toUpperCase(),{"data-node-view-wrapper":!0});var O=jn(e);s&&s.l(O),O.forEach(qt),this.h()},h(){/-/.test(t[1])?Qg(e,u):e1(e,u)},m(x,O){Kn(x,e,O),s&&s.m(e,null),t[7](e),n=!0,r||(i=[eo(e,"dragstart",t[3]),Gk(t[0].call(null,e))],r=!0)},p(x,O){s&&s.p&&(!n||O&32)&&Vy(s,o,x,x[5],n?Gy(o,x[5],O,null):Ky(x[5]),null),u=Yk(c,[{"data-node-view-wrapper":""},O&16&&x[4]]),/-/.test(x[1])?Qg(e,u):e1(e,u)},i(x){n||(tr(s,x),n=!0)},o(x){gr(s,x),n=!1},d(x){x&&qt(e),s&&s.d(x),t[7](null),r=!1,G0(i)}}}function l4(t){let e=t[1],n,r,i=t[1]&&Wp(t);return{c(){i&&i.c(),n=_a()},l(o){i&&i.l(o),n=_a()},m(o,s){i&&i.m(o,s),Kn(o,n,s),r=!0},p(o,[s]){o[1]?e?fo(e,o[1])?(i.d(1),i=Wp(o),i.c(),i.m(n.parentNode,n)):i.p(o,s):(i=Wp(o),i.c(),i.m(n.parentNode,n)):e&&(i.d(1),i=null),e=o[1]},i(o){r||(tr(i),r=!0)},o(o){gr(i),r=!1},d(o){o&&qt(n),i&&i.d(o)}}}function c4(t,e,n){const r=["action","as"];let i=qg(e,r),{$$slots:o={},$$scope:s}=e;const{onDragStart:c}=Uk(w2);let u,{action:x=s4}=e,{as:O="div"}=e;Ef(async()=>{await Vk(),n(2,u.style.whiteSpace="normal",u)});function Y(b){Pc[b?"unshift":"push"](()=>{u=b,n(2,u)})}return t.$$set=b=>{e=Sh(Sh({},e),Kk(b)),n(4,i=qg(e,r)),"action"in b&&n(0,x=b.action),"as"in b&&n(1,O=b.as),"$$scope"in b&&n(5,s=b.$$scope)},[x,O,u,c,i,s,o,Y]}class u4 extends To{constructor(e){super(),Ao(this,e,c4,l4,fo,{action:0,as:1})}}var si="top",Bi="bottom",Zi="right",li="left",pm="auto",su=[si,Bi,Zi,li],Dl="start",Zc="end",d4="clippingParents",k2="viewport",Yl="popper",f4="reference",iv=su.reduce(function(t,e){return t.concat([e+"-"+Dl,e+"-"+Zc])},[]),E2=[].concat(su,[pm]).reduce(function(t,e){return t.concat([e,e+"-"+Dl,e+"-"+Zc])},[]),p4="beforeRead",h4="read",m4="afterRead",g4="beforeMain",v4="main",y4="afterMain",b4="beforeWrite",x4="write",w4="afterWrite",k4=[p4,h4,m4,g4,v4,y4,b4,x4,w4];function Mo(t){return t?(t.nodeName||"").toLowerCase():null}function Wi(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function ws(t){var e=Wi(t).Element;return t instanceof e||t instanceof Element}function Ri(t){var e=Wi(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function hm(t){if(typeof ShadowRoot>"u")return!1;var e=Wi(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}function E4(t){var e=t.state;Object.keys(e.elements).forEach(function(n){var r=e.styles[n]||{},i=e.attributes[n]||{},o=e.elements[n];!Ri(o)||!Mo(o)||(Object.assign(o.style,r),Object.keys(i).forEach(function(s){var c=i[s];c===!1?o.removeAttribute(s):o.setAttribute(s,c===!0?"":c)}))})}function S4(t){var e=t.state,n={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,n.popper),e.styles=n,e.elements.arrow&&Object.assign(e.elements.arrow.style,n.arrow),function(){Object.keys(e.elements).forEach(function(r){var i=e.elements[r],o=e.attributes[r]||{},s=Object.keys(e.styles.hasOwnProperty(r)?e.styles[r]:n[r]),c=s.reduce(function(u,x){return u[x]="",u},{});!Ri(i)||!Mo(i)||(Object.assign(i.style,c),Object.keys(o).forEach(function(u){i.removeAttribute(u)}))})}}const S2={name:"applyStyles",enabled:!0,phase:"write",fn:E4,effect:S4,requires:["computeStyles"]};function Eo(t){return t.split("-")[0]}var ps=Math.max,Md=Math.min,Ol=Math.round;function Kh(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function C2(){return!/^((?!chrome|android).)*safari/i.test(Kh())}function Ml(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!1);var r=t.getBoundingClientRect(),i=1,o=1;e&&Ri(t)&&(i=t.offsetWidth>0&&Ol(r.width)/t.offsetWidth||1,o=t.offsetHeight>0&&Ol(r.height)/t.offsetHeight||1);var s=ws(t)?Wi(t):window,c=s.visualViewport,u=!C2()&&n,x=(r.left+(u&&c?c.offsetLeft:0))/i,O=(r.top+(u&&c?c.offsetTop:0))/o,Y=r.width/i,b=r.height/o;return{width:Y,height:b,top:O,right:x+Y,bottom:O+b,left:x,x,y:O}}function mm(t){var e=Ml(t),n=t.offsetWidth,r=t.offsetHeight;return Math.abs(e.width-n)<=1&&(n=e.width),Math.abs(e.height-r)<=1&&(r=e.height),{x:t.offsetLeft,y:t.offsetTop,width:n,height:r}}function D2(t,e){var n=e.getRootNode&&e.getRootNode();if(t.contains(e))return!0;if(n&&hm(n)){var r=e;do{if(r&&t.isSameNode(r))return!0;r=r.parentNode||r.host}while(r)}return!1}function Ko(t){return Wi(t).getComputedStyle(t)}function C4(t){return["table","td","th"].indexOf(Mo(t))>=0}function Fa(t){return((ws(t)?t.ownerDocument:t.document)||window.document).documentElement}function zf(t){return Mo(t)==="html"?t:t.assignedSlot||t.parentNode||(hm(t)?t.host:null)||Fa(t)}function ov(t){return!Ri(t)||Ko(t).position==="fixed"?null:t.offsetParent}function D4(t){var e=/firefox/i.test(Kh()),n=/Trident/i.test(Kh());if(n&&Ri(t)){var r=Ko(t);if(r.position==="fixed")return null}var i=zf(t);for(hm(i)&&(i=i.host);Ri(i)&&["html","body"].indexOf(Mo(i))<0;){var o=Ko(i);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||e&&o.willChange==="filter"||e&&o.filter&&o.filter!=="none")return i;i=i.parentNode}return null}function lu(t){for(var e=Wi(t),n=ov(t);n&&C4(n)&&Ko(n).position==="static";)n=ov(n);return n&&(Mo(n)==="html"||Mo(n)==="body"&&Ko(n).position==="static")?e:n||D4(t)||e}function gm(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function yc(t,e,n){return ps(t,Md(e,n))}function O4(t,e,n){var r=yc(t,e,n);return r>n?n:r}function O2(){return{top:0,right:0,bottom:0,left:0}}function M2(t){return Object.assign({},O2(),t)}function T2(t,e){return e.reduce(function(n,r){return n[r]=t,n},{})}var M4=function(e,n){return e=typeof e=="function"?e(Object.assign({},n.rects,{placement:n.placement})):e,M2(typeof e!="number"?e:T2(e,su))};function T4(t){var e,n=t.state,r=t.name,i=t.options,o=n.elements.arrow,s=n.modifiersData.popperOffsets,c=Eo(n.placement),u=gm(c),x=[li,Zi].indexOf(c)>=0,O=x?"height":"width";if(!(!o||!s)){var Y=M4(i.padding,n),b=mm(o),m=u==="y"?si:li,a=u==="y"?Bi:Zi,v=n.rects.reference[O]+n.rects.reference[u]-s[u]-n.rects.popper[O],E=s[u]-n.rects.reference[u],h=lu(o),f=h?u==="y"?h.clientHeight||0:h.clientWidth||0:0,D=v/2-E/2,k=Y[m],R=f-b[O]-Y[a],d=f/2-b[O]/2+D,Z=yc(k,d,R),B=u;n.modifiersData[r]=(e={},e[B]=Z,e.centerOffset=Z-d,e)}}function A4(t){var e=t.state,n=t.options,r=n.element,i=r===void 0?"[data-popper-arrow]":r;i!=null&&(typeof i=="string"&&(i=e.elements.popper.querySelector(i),!i)||D2(e.elements.popper,i)&&(e.elements.arrow=i))}const I4={name:"arrow",enabled:!0,phase:"main",fn:T4,effect:A4,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Tl(t){return t.split("-")[1]}var j4={top:"auto",right:"auto",bottom:"auto",left:"auto"};function _4(t){var e=t.x,n=t.y,r=window,i=r.devicePixelRatio||1;return{x:Ol(e*i)/i||0,y:Ol(n*i)/i||0}}function av(t){var e,n=t.popper,r=t.popperRect,i=t.placement,o=t.variation,s=t.offsets,c=t.position,u=t.gpuAcceleration,x=t.adaptive,O=t.roundOffsets,Y=t.isFixed,b=s.x,m=b===void 0?0:b,a=s.y,v=a===void 0?0:a,E=typeof O=="function"?O({x:m,y:v}):{x:m,y:v};m=E.x,v=E.y;var h=s.hasOwnProperty("x"),f=s.hasOwnProperty("y"),D=li,k=si,R=window;if(x){var d=lu(n),Z="clientHeight",B="clientWidth";if(d===Wi(n)&&(d=Fa(n),Ko(d).position!=="static"&&c==="absolute"&&(Z="scrollHeight",B="scrollWidth")),d=d,i===si||(i===li||i===Zi)&&o===Zc){k=Bi;var ee=Y&&d===R&&R.visualViewport?R.visualViewport.height:d[Z];v-=ee-r.height,v*=u?1:-1}if(i===li||(i===si||i===Bi)&&o===Zc){D=Zi;var he=Y&&d===R&&R.visualViewport?R.visualViewport.width:d[B];m-=he-r.width,m*=u?1:-1}}var N=Object.assign({position:c},x&&j4),ke=O===!0?_4({x:m,y:v}):{x:m,y:v};if(m=ke.x,v=ke.y,u){var Se;return Object.assign({},N,(Se={},Se[k]=f?"0":"",Se[D]=h?"0":"",Se.transform=(R.devicePixelRatio||1)<=1?"translate("+m+"px, "+v+"px)":"translate3d("+m+"px, "+v+"px, 0)",Se))}return Object.assign({},N,(e={},e[k]=f?v+"px":"",e[D]=h?m+"px":"",e.transform="",e))}function P4(t){var e=t.state,n=t.options,r=n.gpuAcceleration,i=r===void 0?!0:r,o=n.adaptive,s=o===void 0?!0:o,c=n.roundOffsets,u=c===void 0?!0:c,x={placement:Eo(e.placement),variation:Tl(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,av(Object.assign({},x,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:s,roundOffsets:u})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,av(Object.assign({},x,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:u})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}const L4={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:P4,data:{}};var Mu={passive:!0};function N4(t){var e=t.state,n=t.instance,r=t.options,i=r.scroll,o=i===void 0?!0:i,s=r.resize,c=s===void 0?!0:s,u=Wi(e.elements.popper),x=[].concat(e.scrollParents.reference,e.scrollParents.popper);return o&&x.forEach(function(O){O.addEventListener("scroll",n.update,Mu)}),c&&u.addEventListener("resize",n.update,Mu),function(){o&&x.forEach(function(O){O.removeEventListener("scroll",n.update,Mu)}),c&&u.removeEventListener("resize",n.update,Mu)}}const R4={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:N4,data:{}};var z4={left:"right",right:"left",bottom:"top",top:"bottom"};function Xu(t){return t.replace(/left|right|bottom|top/g,function(e){return z4[e]})}var B4={start:"end",end:"start"};function sv(t){return t.replace(/start|end/g,function(e){return B4[e]})}function vm(t){var e=Wi(t),n=e.pageXOffset,r=e.pageYOffset;return{scrollLeft:n,scrollTop:r}}function ym(t){return Ml(Fa(t)).left+vm(t).scrollLeft}function Z4(t,e){var n=Wi(t),r=Fa(t),i=n.visualViewport,o=r.clientWidth,s=r.clientHeight,c=0,u=0;if(i){o=i.width,s=i.height;var x=C2();(x||!x&&e==="fixed")&&(c=i.offsetLeft,u=i.offsetTop)}return{width:o,height:s,x:c+ym(t),y:u}}function F4(t){var e,n=Fa(t),r=vm(t),i=(e=t.ownerDocument)==null?void 0:e.body,o=ps(n.scrollWidth,n.clientWidth,i?i.scrollWidth:0,i?i.clientWidth:0),s=ps(n.scrollHeight,n.clientHeight,i?i.scrollHeight:0,i?i.clientHeight:0),c=-r.scrollLeft+ym(t),u=-r.scrollTop;return Ko(i||n).direction==="rtl"&&(c+=ps(n.clientWidth,i?i.clientWidth:0)-o),{width:o,height:s,x:c,y:u}}function bm(t){var e=Ko(t),n=e.overflow,r=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(n+i+r)}function A2(t){return["html","body","#document"].indexOf(Mo(t))>=0?t.ownerDocument.body:Ri(t)&&bm(t)?t:A2(zf(t))}function bc(t,e){var n;e===void 0&&(e=[]);var r=A2(t),i=r===((n=t.ownerDocument)==null?void 0:n.body),o=Wi(r),s=i?[o].concat(o.visualViewport||[],bm(r)?r:[]):r,c=e.concat(s);return i?c:c.concat(bc(zf(s)))}function Gh(t){return Object.assign({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}function H4(t,e){var n=Ml(t,!1,e==="fixed");return n.top=n.top+t.clientTop,n.left=n.left+t.clientLeft,n.bottom=n.top+t.clientHeight,n.right=n.left+t.clientWidth,n.width=t.clientWidth,n.height=t.clientHeight,n.x=n.left,n.y=n.top,n}function lv(t,e,n){return e===k2?Gh(Z4(t,n)):ws(e)?H4(e,n):Gh(F4(Fa(t)))}function W4(t){var e=bc(zf(t)),n=["absolute","fixed"].indexOf(Ko(t).position)>=0,r=n&&Ri(t)?lu(t):t;return ws(r)?e.filter(function(i){return ws(i)&&D2(i,r)&&Mo(i)!=="body"}):[]}function U4(t,e,n,r){var i=e==="clippingParents"?W4(t):[].concat(e),o=[].concat(i,[n]),s=o[0],c=o.reduce(function(u,x){var O=lv(t,x,r);return u.top=ps(O.top,u.top),u.right=Md(O.right,u.right),u.bottom=Md(O.bottom,u.bottom),u.left=ps(O.left,u.left),u},lv(t,s,r));return c.width=c.right-c.left,c.height=c.bottom-c.top,c.x=c.left,c.y=c.top,c}function I2(t){var e=t.reference,n=t.element,r=t.placement,i=r?Eo(r):null,o=r?Tl(r):null,s=e.x+e.width/2-n.width/2,c=e.y+e.height/2-n.height/2,u;switch(i){case si:u={x:s,y:e.y-n.height};break;case Bi:u={x:s,y:e.y+e.height};break;case Zi:u={x:e.x+e.width,y:c};break;case li:u={x:e.x-n.width,y:c};break;default:u={x:e.x,y:e.y}}var x=i?gm(i):null;if(x!=null){var O=x==="y"?"height":"width";switch(o){case Dl:u[x]=u[x]-(e[O]/2-n[O]/2);break;case Zc:u[x]=u[x]+(e[O]/2-n[O]/2);break}}return u}function Fc(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=r===void 0?t.placement:r,o=n.strategy,s=o===void 0?t.strategy:o,c=n.boundary,u=c===void 0?d4:c,x=n.rootBoundary,O=x===void 0?k2:x,Y=n.elementContext,b=Y===void 0?Yl:Y,m=n.altBoundary,a=m===void 0?!1:m,v=n.padding,E=v===void 0?0:v,h=M2(typeof E!="number"?E:T2(E,su)),f=b===Yl?f4:Yl,D=t.rects.popper,k=t.elements[a?f:b],R=U4(ws(k)?k:k.contextElement||Fa(t.elements.popper),u,O,s),d=Ml(t.elements.reference),Z=I2({reference:d,element:D,strategy:"absolute",placement:i}),B=Gh(Object.assign({},D,Z)),ee=b===Yl?B:d,he={top:R.top-ee.top+h.top,bottom:ee.bottom-R.bottom+h.bottom,left:R.left-ee.left+h.left,right:ee.right-R.right+h.right},N=t.modifiersData.offset;if(b===Yl&&N){var ke=N[i];Object.keys(he).forEach(function(Se){var je=[Zi,Bi].indexOf(Se)>=0?1:-1,we=[si,Bi].indexOf(Se)>=0?"y":"x";he[Se]+=ke[we]*je})}return he}function V4(t,e){e===void 0&&(e={});var n=e,r=n.placement,i=n.boundary,o=n.rootBoundary,s=n.padding,c=n.flipVariations,u=n.allowedAutoPlacements,x=u===void 0?E2:u,O=Tl(r),Y=O?c?iv:iv.filter(function(a){return Tl(a)===O}):su,b=Y.filter(function(a){return x.indexOf(a)>=0});b.length===0&&(b=Y);var m=b.reduce(function(a,v){return a[v]=Fc(t,{placement:v,boundary:i,rootBoundary:o,padding:s})[Eo(v)],a},{});return Object.keys(m).sort(function(a,v){return m[a]-m[v]})}function K4(t){if(Eo(t)===pm)return[];var e=Xu(t);return[sv(t),e,sv(e)]}function G4(t){var e=t.state,n=t.options,r=t.name;if(!e.modifiersData[r]._skip){for(var i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,c=s===void 0?!0:s,u=n.fallbackPlacements,x=n.padding,O=n.boundary,Y=n.rootBoundary,b=n.altBoundary,m=n.flipVariations,a=m===void 0?!0:m,v=n.allowedAutoPlacements,E=e.options.placement,h=Eo(E),f=h===E,D=u||(f||!a?[Xu(E)]:K4(E)),k=[E].concat(D).reduce(function(M,C){return M.concat(Eo(C)===pm?V4(e,{placement:C,boundary:O,rootBoundary:Y,padding:x,flipVariations:a,allowedAutoPlacements:v}):C)},[]),R=e.rects.reference,d=e.rects.popper,Z=new Map,B=!0,ee=k[0],he=0;he<k.length;he++){var N=k[he],ke=Eo(N),Se=Tl(N)===Dl,je=[si,Bi].indexOf(ke)>=0,we=je?"width":"height",Ee=Fc(e,{placement:N,boundary:O,rootBoundary:Y,altBoundary:b,padding:x}),Me=je?Se?Zi:li:Se?Bi:si;R[we]>d[we]&&(Me=Xu(Me));var z=Xu(Me),re=[];if(o&&re.push(Ee[ke]<=0),c&&re.push(Ee[Me]<=0,Ee[z]<=0),re.every(function(M){return M})){ee=N,B=!1;break}Z.set(N,re)}if(B)for(var T=a?3:1,A=function(C){var g=k.find(function(l){var w=Z.get(l);if(w)return w.slice(0,C).every(function(y){return y})});if(g)return ee=g,"break"},U=T;U>0;U--){var P=A(U);if(P==="break")break}e.placement!==ee&&(e.modifiersData[r]._skip=!0,e.placement=ee,e.reset=!0)}}const Y4={name:"flip",enabled:!0,phase:"main",fn:G4,requiresIfExists:["offset"],data:{_skip:!1}};function cv(t,e,n){return n===void 0&&(n={x:0,y:0}),{top:t.top-e.height-n.y,right:t.right-e.width+n.x,bottom:t.bottom-e.height+n.y,left:t.left-e.width-n.x}}function uv(t){return[si,Zi,Bi,li].some(function(e){return t[e]>=0})}function J4(t){var e=t.state,n=t.name,r=e.rects.reference,i=e.rects.popper,o=e.modifiersData.preventOverflow,s=Fc(e,{elementContext:"reference"}),c=Fc(e,{altBoundary:!0}),u=cv(s,r),x=cv(c,i,o),O=uv(u),Y=uv(x);e.modifiersData[n]={referenceClippingOffsets:u,popperEscapeOffsets:x,isReferenceHidden:O,hasPopperEscaped:Y},e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-reference-hidden":O,"data-popper-escaped":Y})}const X4={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:J4};function $4(t,e,n){var r=Eo(t),i=[li,si].indexOf(r)>=0?-1:1,o=typeof n=="function"?n(Object.assign({},e,{placement:t})):n,s=o[0],c=o[1];return s=s||0,c=(c||0)*i,[li,Zi].indexOf(r)>=0?{x:c,y:s}:{x:s,y:c}}function q4(t){var e=t.state,n=t.options,r=t.name,i=n.offset,o=i===void 0?[0,0]:i,s=E2.reduce(function(O,Y){return O[Y]=$4(Y,e.rects,o),O},{}),c=s[e.placement],u=c.x,x=c.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=u,e.modifiersData.popperOffsets.y+=x),e.modifiersData[r]=s}const Q4={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:q4};function eC(t){var e=t.state,n=t.name;e.modifiersData[n]=I2({reference:e.rects.reference,element:e.rects.popper,strategy:"absolute",placement:e.placement})}const tC={name:"popperOffsets",enabled:!0,phase:"read",fn:eC,data:{}};function nC(t){return t==="x"?"y":"x"}function rC(t){var e=t.state,n=t.options,r=t.name,i=n.mainAxis,o=i===void 0?!0:i,s=n.altAxis,c=s===void 0?!1:s,u=n.boundary,x=n.rootBoundary,O=n.altBoundary,Y=n.padding,b=n.tether,m=b===void 0?!0:b,a=n.tetherOffset,v=a===void 0?0:a,E=Fc(e,{boundary:u,rootBoundary:x,padding:Y,altBoundary:O}),h=Eo(e.placement),f=Tl(e.placement),D=!f,k=gm(h),R=nC(k),d=e.modifiersData.popperOffsets,Z=e.rects.reference,B=e.rects.popper,ee=typeof v=="function"?v(Object.assign({},e.rects,{placement:e.placement})):v,he=typeof ee=="number"?{mainAxis:ee,altAxis:ee}:Object.assign({mainAxis:0,altAxis:0},ee),N=e.modifiersData.offset?e.modifiersData.offset[e.placement]:null,ke={x:0,y:0};if(d){if(o){var Se,je=k==="y"?si:li,we=k==="y"?Bi:Zi,Ee=k==="y"?"height":"width",Me=d[k],z=Me+E[je],re=Me-E[we],T=m?-B[Ee]/2:0,A=f===Dl?Z[Ee]:B[Ee],U=f===Dl?-B[Ee]:-Z[Ee],P=e.elements.arrow,M=m&&P?mm(P):{width:0,height:0},C=e.modifiersData["arrow#persistent"]?e.modifiersData["arrow#persistent"].padding:O2(),g=C[je],l=C[we],w=yc(0,Z[Ee],M[Ee]),y=D?Z[Ee]/2-T-w-g-he.mainAxis:A-w-g-he.mainAxis,S=D?-Z[Ee]/2+T+w+l+he.mainAxis:U+w+l+he.mainAxis,_=e.elements.arrow&&lu(e.elements.arrow),J=_?k==="y"?_.clientTop||0:_.clientLeft||0:0,de=(Se=N==null?void 0:N[k])!=null?Se:0,ve=Me+y-de-J,ie=Me+S-de,$=yc(m?Md(z,ve):z,Me,m?ps(re,ie):re);d[k]=$,ke[k]=$-Me}if(c){var De,pe=k==="x"?si:li,ae=k==="x"?Bi:Zi,j=d[R],V=R==="y"?"height":"width",oe=j+E[pe],G=j-E[ae],ye=[si,li].indexOf(h)!==-1,K=(De=N==null?void 0:N[R])!=null?De:0,H=ye?oe:j-Z[V]-B[V]-K+he.altAxis,L=ye?j+Z[V]+B[V]-K-he.altAxis:G,I=m&&ye?O4(H,j,L):yc(m?H:oe,j,m?L:G);d[R]=I,ke[R]=I-j}e.modifiersData[r]=ke}}const iC={name:"preventOverflow",enabled:!0,phase:"main",fn:rC,requiresIfExists:["offset"]};function oC(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function aC(t){return t===Wi(t)||!Ri(t)?vm(t):oC(t)}function sC(t){var e=t.getBoundingClientRect(),n=Ol(e.width)/t.offsetWidth||1,r=Ol(e.height)/t.offsetHeight||1;return n!==1||r!==1}function lC(t,e,n){n===void 0&&(n=!1);var r=Ri(e),i=Ri(e)&&sC(e),o=Fa(e),s=Ml(t,i,n),c={scrollLeft:0,scrollTop:0},u={x:0,y:0};return(r||!r&&!n)&&((Mo(e)!=="body"||bm(o))&&(c=aC(e)),Ri(e)?(u=Ml(e,!0),u.x+=e.clientLeft,u.y+=e.clientTop):o&&(u.x=ym(o))),{x:s.left+c.scrollLeft-u.x,y:s.top+c.scrollTop-u.y,width:s.width,height:s.height}}function cC(t){var e=new Map,n=new Set,r=[];t.forEach(function(o){e.set(o.name,o)});function i(o){n.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(c){if(!n.has(c)){var u=e.get(c);u&&i(u)}}),r.push(o)}return t.forEach(function(o){n.has(o.name)||i(o)}),r}function uC(t){var e=cC(t);return k4.reduce(function(n,r){return n.concat(e.filter(function(i){return i.phase===r}))},[])}function dC(t){var e;return function(){return e||(e=new Promise(function(n){Promise.resolve().then(function(){e=void 0,n(t())})})),e}}function fC(t){var e=t.reduce(function(n,r){var i=n[r.name];return n[r.name]=i?Object.assign({},i,r,{options:Object.assign({},i.options,r.options),data:Object.assign({},i.data,r.data)}):r,n},{});return Object.keys(e).map(function(n){return e[n]})}var dv={placement:"bottom",modifiers:[],strategy:"absolute"};function fv(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e.some(function(r){return!(r&&typeof r.getBoundingClientRect=="function")})}function pC(t){t===void 0&&(t={});var e=t,n=e.defaultModifiers,r=n===void 0?[]:n,i=e.defaultOptions,o=i===void 0?dv:i;return function(c,u,x){x===void 0&&(x=o);var O={placement:"bottom",orderedModifiers:[],options:Object.assign({},dv,o),modifiersData:{},elements:{reference:c,popper:u},attributes:{},styles:{}},Y=[],b=!1,m={state:O,setOptions:function(h){var f=typeof h=="function"?h(O.options):h;v(),O.options=Object.assign({},o,O.options,f),O.scrollParents={reference:ws(c)?bc(c):c.contextElement?bc(c.contextElement):[],popper:bc(u)};var D=uC(fC([].concat(r,O.options.modifiers)));return O.orderedModifiers=D.filter(function(k){return k.enabled}),a(),m.update()},forceUpdate:function(){if(!b){var h=O.elements,f=h.reference,D=h.popper;if(fv(f,D)){O.rects={reference:lC(f,lu(D),O.options.strategy==="fixed"),popper:mm(D)},O.reset=!1,O.placement=O.options.placement,O.orderedModifiers.forEach(function(he){return O.modifiersData[he.name]=Object.assign({},he.data)});for(var k=0;k<O.orderedModifiers.length;k++){if(O.reset===!0){O.reset=!1,k=-1;continue}var R=O.orderedModifiers[k],d=R.fn,Z=R.options,B=Z===void 0?{}:Z,ee=R.name;typeof d=="function"&&(O=d({state:O,options:B,name:ee,instance:m})||O)}}}},update:dC(function(){return new Promise(function(E){m.forceUpdate(),E(O)})}),destroy:function(){v(),b=!0}};if(!fv(c,u))return m;m.setOptions(x).then(function(E){!b&&x.onFirstUpdate&&x.onFirstUpdate(E)});function a(){O.orderedModifiers.forEach(function(E){var h=E.name,f=E.options,D=f===void 0?{}:f,k=E.effect;if(typeof k=="function"){var R=k({state:O,name:h,instance:m,options:D}),d=function(){};Y.push(R||d)}})}function v(){Y.forEach(function(E){return E()}),Y=[]}return m}}var hC=[R4,tC,L4,S2,Q4,Y4,iC,I4,X4],mC=pC({defaultModifiers:hC}),gC="tippy-box",j2="tippy-content",vC="tippy-backdrop",_2="tippy-arrow",P2="tippy-svg-arrow",$a={passive:!0,capture:!0},L2=function(){return document.body};function Up(t,e,n){if(Array.isArray(t)){var r=t[e];return r??(Array.isArray(n)?n[e]:n)}return t}function xm(t,e){var n={}.toString.call(t);return n.indexOf("[object")===0&&n.indexOf(e+"]")>-1}function N2(t,e){return typeof t=="function"?t.apply(void 0,e):t}function pv(t,e){if(e===0)return t;var n;return function(r){clearTimeout(n),n=setTimeout(function(){t(r)},e)}}function yC(t){return t.split(/\s+/).filter(Boolean)}function Fs(t){return[].concat(t)}function hv(t,e){t.indexOf(e)===-1&&t.push(e)}function bC(t){return t.filter(function(e,n){return t.indexOf(e)===n})}function xC(t){return t.split("-")[0]}function Td(t){return[].slice.call(t)}function mv(t){return Object.keys(t).reduce(function(e,n){return t[n]!==void 0&&(e[n]=t[n]),e},{})}function xc(){return document.createElement("div")}function Bf(t){return["Element","Fragment"].some(function(e){return xm(t,e)})}function wC(t){return xm(t,"NodeList")}function kC(t){return xm(t,"MouseEvent")}function EC(t){return!!(t&&t._tippy&&t._tippy.reference===t)}function SC(t){return Bf(t)?[t]:wC(t)?Td(t):Array.isArray(t)?t:Td(document.querySelectorAll(t))}function Vp(t,e){t.forEach(function(n){n&&(n.style.transitionDuration=e+"ms")})}function gv(t,e){t.forEach(function(n){n&&n.setAttribute("data-state",e)})}function CC(t){var e,n=Fs(t),r=n[0];return r!=null&&(e=r.ownerDocument)!=null&&e.body?r.ownerDocument:document}function DC(t,e){var n=e.clientX,r=e.clientY;return t.every(function(i){var o=i.popperRect,s=i.popperState,c=i.props,u=c.interactiveBorder,x=xC(s.placement),O=s.modifiersData.offset;if(!O)return!0;var Y=x==="bottom"?O.top.y:0,b=x==="top"?O.bottom.y:0,m=x==="right"?O.left.x:0,a=x==="left"?O.right.x:0,v=o.top-r+Y>u,E=r-o.bottom-b>u,h=o.left-n+m>u,f=n-o.right-a>u;return v||E||h||f})}function Kp(t,e,n){var r=e+"EventListener";["transitionend","webkitTransitionEnd"].forEach(function(i){t[r](i,n)})}function vv(t,e){for(var n=e;n;){var r;if(t.contains(n))return!0;n=n.getRootNode==null||(r=n.getRootNode())==null?void 0:r.host}return!1}var yo={isTouch:!1},yv=0;function OC(){yo.isTouch||(yo.isTouch=!0,window.performance&&document.addEventListener("mousemove",R2))}function R2(){var t=performance.now();t-yv<20&&(yo.isTouch=!1,document.removeEventListener("mousemove",R2)),yv=t}function MC(){var t=document.activeElement;if(EC(t)){var e=t._tippy;t.blur&&!e.state.isVisible&&t.blur()}}function TC(){document.addEventListener("touchstart",OC,$a),window.addEventListener("blur",MC)}var AC=typeof window<"u"&&typeof document<"u",IC=AC?!!window.msCrypto:!1,jC={animateFill:!1,followCursor:!1,inlinePositioning:!1,sticky:!1},_C={allowHTML:!1,animation:"fade",arrow:!0,content:"",inertia:!1,maxWidth:350,role:"tooltip",theme:"",zIndex:9999},io=Object.assign({appendTo:L2,aria:{content:"auto",expanded:"auto"},delay:0,duration:[300,250],getReferenceClientRect:null,hideOnClick:!0,ignoreAttributes:!1,interactive:!1,interactiveBorder:2,interactiveDebounce:0,moveTransition:"",offset:[0,10],onAfterUpdate:function(){},onBeforeUpdate:function(){},onCreate:function(){},onDestroy:function(){},onHidden:function(){},onHide:function(){},onMount:function(){},onShow:function(){},onShown:function(){},onTrigger:function(){},onUntrigger:function(){},onClickOutside:function(){},placement:"top",plugins:[],popperOptions:{},render:null,showOnCreate:!1,touch:!0,trigger:"mouseenter focus",triggerTarget:null},jC,_C),PC=Object.keys(io),LC=function(e){var n=Object.keys(e);n.forEach(function(r){io[r]=e[r]})};function z2(t){var e=t.plugins||[],n=e.reduce(function(r,i){var o=i.name,s=i.defaultValue;if(o){var c;r[o]=t[o]!==void 0?t[o]:(c=io[o])!=null?c:s}return r},{});return Object.assign({},t,n)}function NC(t,e){var n=e?Object.keys(z2(Object.assign({},io,{plugins:e}))):PC,r=n.reduce(function(i,o){var s=(t.getAttribute("data-tippy-"+o)||"").trim();if(!s)return i;if(o==="content")i[o]=s;else try{i[o]=JSON.parse(s)}catch{i[o]=s}return i},{});return r}function bv(t,e){var n=Object.assign({},e,{content:N2(e.content,[t])},e.ignoreAttributes?{}:NC(t,e.plugins));return n.aria=Object.assign({},io.aria,n.aria),n.aria={expanded:n.aria.expanded==="auto"?e.interactive:n.aria.expanded,content:n.aria.content==="auto"?e.interactive?null:"describedby":n.aria.content},n}var RC=function(){return"innerHTML"};function Yh(t,e){t[RC()]=e}function xv(t){var e=xc();return t===!0?e.className=_2:(e.className=P2,Bf(t)?e.appendChild(t):Yh(e,t)),e}function wv(t,e){Bf(e.content)?(Yh(t,""),t.appendChild(e.content)):typeof e.content!="function"&&(e.allowHTML?Yh(t,e.content):t.textContent=e.content)}function Jh(t){var e=t.firstElementChild,n=Td(e.children);return{box:e,content:n.find(function(r){return r.classList.contains(j2)}),arrow:n.find(function(r){return r.classList.contains(_2)||r.classList.contains(P2)}),backdrop:n.find(function(r){return r.classList.contains(vC)})}}function B2(t){var e=xc(),n=xc();n.className=gC,n.setAttribute("data-state","hidden"),n.setAttribute("tabindex","-1");var r=xc();r.className=j2,r.setAttribute("data-state","hidden"),wv(r,t.props),e.appendChild(n),n.appendChild(r),i(t.props,t.props);function i(o,s){var c=Jh(e),u=c.box,x=c.content,O=c.arrow;s.theme?u.setAttribute("data-theme",s.theme):u.removeAttribute("data-theme"),typeof s.animation=="string"?u.setAttribute("data-animation",s.animation):u.removeAttribute("data-animation"),s.inertia?u.setAttribute("data-inertia",""):u.removeAttribute("data-inertia"),u.style.maxWidth=typeof s.maxWidth=="number"?s.maxWidth+"px":s.maxWidth,s.role?u.setAttribute("role",s.role):u.removeAttribute("role"),(o.content!==s.content||o.allowHTML!==s.allowHTML)&&wv(x,t.props),s.arrow?O?o.arrow!==s.arrow&&(u.removeChild(O),u.appendChild(xv(s.arrow))):u.appendChild(xv(s.arrow)):O&&u.removeChild(O)}return{popper:e,onUpdate:i}}B2.$$tippy=!0;var zC=1,Tu=[],Gp=[];function BC(t,e){var n=bv(t,Object.assign({},io,z2(mv(e)))),r,i,o,s=!1,c=!1,u=!1,x=!1,O,Y,b,m=[],a=pv(ve,n.interactiveDebounce),v,E=zC++,h=null,f=bC(n.plugins),D={isEnabled:!0,isVisible:!1,isDestroyed:!1,isMounted:!1,isShown:!1},k={id:E,reference:t,popper:xc(),popperInstance:h,props:n,state:D,plugins:f,clearDelayTimeouts:H,setProps:L,setContent:I,show:F,hide:X,hideWithInteractivity:le,enable:ye,disable:K,unmount:q,destroy:Ce};if(!n.render)return k;var R=n.render(k),d=R.popper,Z=R.onUpdate;d.setAttribute("data-tippy-root",""),d.id="tippy-"+k.id,k.popper=d,t._tippy=k,d._tippy=k;var B=f.map(function(te){return te.fn(k)}),ee=t.hasAttribute("aria-expanded");return _(),T(),Me(),z("onCreate",[k]),n.showOnCreate&&oe(),d.addEventListener("mouseenter",function(){k.props.interactive&&k.state.isVisible&&k.clearDelayTimeouts()}),d.addEventListener("mouseleave",function(){k.props.interactive&&k.props.trigger.indexOf("mouseenter")>=0&&je().addEventListener("mousemove",a)}),k;function he(){var te=k.props.touch;return Array.isArray(te)?te:[te,0]}function N(){return he()[0]==="hold"}function ke(){var te;return!!((te=k.props.render)!=null&&te.$$tippy)}function Se(){return v||t}function je(){var te=Se().parentNode;return te?CC(te):document}function we(){return Jh(d)}function Ee(te){return k.state.isMounted&&!k.state.isVisible||yo.isTouch||O&&O.type==="focus"?0:Up(k.props.delay,te?0:1,io.delay)}function Me(te){te===void 0&&(te=!1),d.style.pointerEvents=k.props.interactive&&!te?"":"none",d.style.zIndex=""+k.props.zIndex}function z(te,me,Re){if(Re===void 0&&(Re=!0),B.forEach(function(Q){Q[te]&&Q[te].apply(Q,me)}),Re){var Be;(Be=k.props)[te].apply(Be,me)}}function re(){var te=k.props.aria;if(te.content){var me="aria-"+te.content,Re=d.id,Be=Fs(k.props.triggerTarget||t);Be.forEach(function(Q){var se=Q.getAttribute(me);if(k.state.isVisible)Q.setAttribute(me,se?se+" "+Re:Re);else{var ue=se&&se.replace(Re,"").trim();ue?Q.setAttribute(me,ue):Q.removeAttribute(me)}})}}function T(){if(!(ee||!k.props.aria.expanded)){var te=Fs(k.props.triggerTarget||t);te.forEach(function(me){k.props.interactive?me.setAttribute("aria-expanded",k.state.isVisible&&me===Se()?"true":"false"):me.removeAttribute("aria-expanded")})}}function A(){je().removeEventListener("mousemove",a),Tu=Tu.filter(function(te){return te!==a})}function U(te){if(!(yo.isTouch&&(u||te.type==="mousedown"))){var me=te.composedPath&&te.composedPath()[0]||te.target;if(!(k.props.interactive&&vv(d,me))){if(Fs(k.props.triggerTarget||t).some(function(Re){return vv(Re,me)})){if(yo.isTouch||k.state.isVisible&&k.props.trigger.indexOf("click")>=0)return}else z("onClickOutside",[k,te]);k.props.hideOnClick===!0&&(k.clearDelayTimeouts(),k.hide(),c=!0,setTimeout(function(){c=!1}),k.state.isMounted||g())}}}function P(){u=!0}function M(){u=!1}function C(){var te=je();te.addEventListener("mousedown",U,!0),te.addEventListener("touchend",U,$a),te.addEventListener("touchstart",M,$a),te.addEventListener("touchmove",P,$a)}function g(){var te=je();te.removeEventListener("mousedown",U,!0),te.removeEventListener("touchend",U,$a),te.removeEventListener("touchstart",M,$a),te.removeEventListener("touchmove",P,$a)}function l(te,me){y(te,function(){!k.state.isVisible&&d.parentNode&&d.parentNode.contains(d)&&me()})}function w(te,me){y(te,me)}function y(te,me){var Re=we().box;function Be(Q){Q.target===Re&&(Kp(Re,"remove",Be),me())}if(te===0)return me();Kp(Re,"remove",Y),Kp(Re,"add",Be),Y=Be}function S(te,me,Re){Re===void 0&&(Re=!1);var Be=Fs(k.props.triggerTarget||t);Be.forEach(function(Q){Q.addEventListener(te,me,Re),m.push({node:Q,eventType:te,handler:me,options:Re})})}function _(){N()&&(S("touchstart",de,{passive:!0}),S("touchend",ie,{passive:!0})),yC(k.props.trigger).forEach(function(te){if(te!=="manual")switch(S(te,de),te){case"mouseenter":S("mouseleave",ie);break;case"focus":S(IC?"focusout":"blur",$);break;case"focusin":S("focusout",$);break}})}function J(){m.forEach(function(te){var me=te.node,Re=te.eventType,Be=te.handler,Q=te.options;me.removeEventListener(Re,Be,Q)}),m=[]}function de(te){var me,Re=!1;if(!(!k.state.isEnabled||De(te)||c)){var Be=((me=O)==null?void 0:me.type)==="focus";O=te,v=te.currentTarget,T(),!k.state.isVisible&&kC(te)&&Tu.forEach(function(Q){return Q(te)}),te.type==="click"&&(k.props.trigger.indexOf("mouseenter")<0||s)&&k.props.hideOnClick!==!1&&k.state.isVisible?Re=!0:oe(te),te.type==="click"&&(s=!Re),Re&&!Be&&G(te)}}function ve(te){var me=te.target,Re=Se().contains(me)||d.contains(me);if(!(te.type==="mousemove"&&Re)){var Be=V().concat(d).map(function(Q){var se,ue=Q._tippy,_e=(se=ue.popperInstance)==null?void 0:se.state;return _e?{popperRect:Q.getBoundingClientRect(),popperState:_e,props:n}:null}).filter(Boolean);DC(Be,te)&&(A(),G(te))}}function ie(te){var me=De(te)||k.props.trigger.indexOf("click")>=0&&s;if(!me){if(k.props.interactive){k.hideWithInteractivity(te);return}G(te)}}function $(te){k.props.trigger.indexOf("focusin")<0&&te.target!==Se()||k.props.interactive&&te.relatedTarget&&d.contains(te.relatedTarget)||G(te)}function De(te){return yo.isTouch?N()!==te.type.indexOf("touch")>=0:!1}function pe(){ae();var te=k.props,me=te.popperOptions,Re=te.placement,Be=te.offset,Q=te.getReferenceClientRect,se=te.moveTransition,ue=ke()?Jh(d).arrow:null,_e=Q?{getBoundingClientRect:Q,contextElement:Q.contextElement||Se()}:t,Ze={name:"$$tippy",enabled:!0,phase:"beforeWrite",requires:["computeStyles"],fn:function(lt){var nt=lt.state;if(ke()){var qe=we(),Ve=qe.box;["placement","reference-hidden","escaped"].forEach(function(be){be==="placement"?Ve.setAttribute("data-placement",nt.placement):nt.attributes.popper["data-popper-"+be]?Ve.setAttribute("data-"+be,""):Ve.removeAttribute("data-"+be)}),nt.attributes.popper={}}}},Ge=[{name:"offset",options:{offset:Be}},{name:"preventOverflow",options:{padding:{top:2,bottom:2,left:5,right:5}}},{name:"flip",options:{padding:5}},{name:"computeStyles",options:{adaptive:!se}},Ze];ke()&&ue&&Ge.push({name:"arrow",options:{element:ue,padding:3}}),Ge.push.apply(Ge,(me==null?void 0:me.modifiers)||[]),k.popperInstance=mC(_e,d,Object.assign({},me,{placement:Re,onFirstUpdate:b,modifiers:Ge}))}function ae(){k.popperInstance&&(k.popperInstance.destroy(),k.popperInstance=null)}function j(){var te=k.props.appendTo,me,Re=Se();k.props.interactive&&te===L2||te==="parent"?me=Re.parentNode:me=N2(te,[Re]),me.contains(d)||me.appendChild(d),k.state.isMounted=!0,pe()}function V(){return Td(d.querySelectorAll("[data-tippy-root]"))}function oe(te){k.clearDelayTimeouts(),te&&z("onTrigger",[k,te]),C();var me=Ee(!0),Re=he(),Be=Re[0],Q=Re[1];yo.isTouch&&Be==="hold"&&Q&&(me=Q),me?r=setTimeout(function(){k.show()},me):k.show()}function G(te){if(k.clearDelayTimeouts(),z("onUntrigger",[k,te]),!k.state.isVisible){g();return}if(!(k.props.trigger.indexOf("mouseenter")>=0&&k.props.trigger.indexOf("click")>=0&&["mouseleave","mousemove"].indexOf(te.type)>=0&&s)){var me=Ee(!1);me?i=setTimeout(function(){k.state.isVisible&&k.hide()},me):o=requestAnimationFrame(function(){k.hide()})}}function ye(){k.state.isEnabled=!0}function K(){k.hide(),k.state.isEnabled=!1}function H(){clearTimeout(r),clearTimeout(i),cancelAnimationFrame(o)}function L(te){if(!k.state.isDestroyed){z("onBeforeUpdate",[k,te]),J();var me=k.props,Re=bv(t,Object.assign({},me,mv(te),{ignoreAttributes:!0}));k.props=Re,_(),me.interactiveDebounce!==Re.interactiveDebounce&&(A(),a=pv(ve,Re.interactiveDebounce)),me.triggerTarget&&!Re.triggerTarget?Fs(me.triggerTarget).forEach(function(Be){Be.removeAttribute("aria-expanded")}):Re.triggerTarget&&t.removeAttribute("aria-expanded"),T(),Me(),Z&&Z(me,Re),k.popperInstance&&(pe(),V().forEach(function(Be){requestAnimationFrame(Be._tippy.popperInstance.forceUpdate)})),z("onAfterUpdate",[k,te])}}function I(te){k.setProps({content:te})}function F(){var te=k.state.isVisible,me=k.state.isDestroyed,Re=!k.state.isEnabled,Be=yo.isTouch&&!k.props.touch,Q=Up(k.props.duration,0,io.duration);if(!(te||me||Re||Be)&&!Se().hasAttribute("disabled")&&(z("onShow",[k],!1),k.props.onShow(k)!==!1)){if(k.state.isVisible=!0,ke()&&(d.style.visibility="visible"),Me(),C(),k.state.isMounted||(d.style.transition="none"),ke()){var se=we(),ue=se.box,_e=se.content;Vp([ue,_e],0)}b=function(){var Ge;if(!(!k.state.isVisible||x)){if(x=!0,d.offsetHeight,d.style.transition=k.props.moveTransition,ke()&&k.props.animation){var tt=we(),lt=tt.box,nt=tt.content;Vp([lt,nt],Q),gv([lt,nt],"visible")}re(),T(),hv(Gp,k),(Ge=k.popperInstance)==null||Ge.forceUpdate(),z("onMount",[k]),k.props.animation&&ke()&&w(Q,function(){k.state.isShown=!0,z("onShown",[k])})}},j()}}function X(){var te=!k.state.isVisible,me=k.state.isDestroyed,Re=!k.state.isEnabled,Be=Up(k.props.duration,1,io.duration);if(!(te||me||Re)&&(z("onHide",[k],!1),k.props.onHide(k)!==!1)){if(k.state.isVisible=!1,k.state.isShown=!1,x=!1,s=!1,ke()&&(d.style.visibility="hidden"),A(),g(),Me(!0),ke()){var Q=we(),se=Q.box,ue=Q.content;k.props.animation&&(Vp([se,ue],Be),gv([se,ue],"hidden"))}re(),T(),k.props.animation?ke()&&l(Be,k.unmount):k.unmount()}}function le(te){je().addEventListener("mousemove",a),hv(Tu,a),a(te)}function q(){k.state.isVisible&&k.hide(),k.state.isMounted&&(ae(),V().forEach(function(te){te._tippy.unmount()}),d.parentNode&&d.parentNode.removeChild(d),Gp=Gp.filter(function(te){return te!==k}),k.state.isMounted=!1,z("onHidden",[k]))}function Ce(){k.state.isDestroyed||(k.clearDelayTimeouts(),k.unmount(),J(),delete t._tippy,k.state.isDestroyed=!0,z("onDestroy",[k]))}}function Bl(t,e){e===void 0&&(e={});var n=io.plugins.concat(e.plugins||[]);TC();var r=Object.assign({},e,{plugins:n}),i=SC(t),o=i.reduce(function(s,c){var u=c&&BC(c,r);return u&&s.push(u),s},[]);return Bf(t)?o[0]:o}Bl.defaultProps=io;Bl.setDefaultProps=LC;Bl.currentInput=yo;Object.assign({},S2,{effect:function(e){var n=e.state,r={popper:{position:n.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};Object.assign(n.elements.popper.style,r.popper),n.styles=r,n.elements.arrow&&Object.assign(n.elements.arrow.style,r.arrow)}});Bl.setDefaultProps({render:B2});class ZC{constructor({editor:e,element:n,view:r,tippyOptions:i={},updateDelay:o=250,shouldShow:s}){this.preventHide=!1,this.shouldShow=({view:c,state:u,from:x,to:O})=>{const{doc:Y,selection:b}=u,{empty:m}=b,a=!Y.textBetween(x,O).length&&um(u.selection),v=this.element.contains(document.activeElement);return!(!(c.hasFocus()||v)||m||a||!this.editor.isEditable)},this.mousedownHandler=()=>{this.preventHide=!0},this.dragstartHandler=()=>{this.hide()},this.focusHandler=()=>{setTimeout(()=>this.update(this.editor.view))},this.blurHandler=({event:c})=>{var u;if(this.preventHide){this.preventHide=!1;return}c!=null&&c.relatedTarget&&(!((u=this.element.parentNode)===null||u===void 0)&&u.contains(c.relatedTarget))||this.hide()},this.tippyBlurHandler=c=>{this.blurHandler({event:c})},this.handleDebouncedUpdate=(c,u)=>{this.updateDebounceTimer&&clearTimeout(this.updateDebounceTimer),this.updateDebounceTimer=window.setTimeout(()=>{this.updateHandler(c,u)},this.updateDelay)},this.updateHandler=(c,u)=>{var x,O,Y;const{state:b,composing:m}=c,{doc:a,selection:v}=b,E=u&&u.doc.eq(a)&&u.selection.eq(v);if(m||E)return;this.createTooltip();const{ranges:h}=v,f=Math.min(...h.map(R=>R.$from.pos)),D=Math.max(...h.map(R=>R.$to.pos));if(!((x=this.shouldShow)===null||x===void 0?void 0:x.call(this,{editor:this.editor,view:c,state:b,oldState:u,from:f,to:D}))){this.hide();return}(O=this.tippy)===null||O===void 0||O.setProps({getReferenceClientRect:((Y=this.tippyOptions)===null||Y===void 0?void 0:Y.getReferenceClientRect)||(()=>{if(ES(b.selection)){let R=c.nodeDOM(f);const d=R.dataset.nodeViewWrapper?R:R.querySelector("[data-node-view-wrapper]");if(d&&(R=d.firstChild),R)return R.getBoundingClientRect()}return SS(c,f,D)})}),this.show()},this.editor=e,this.element=n,this.view=r,this.updateDelay=o,s&&(this.shouldShow=s),this.element.addEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.addEventListener("dragstart",this.dragstartHandler),this.editor.on("focus",this.focusHandler),this.editor.on("blur",this.blurHandler),this.tippyOptions=i,this.element.remove(),this.element.style.visibility="visible"}createTooltip(){const{element:e}=this.editor.options,n=!!e.parentElement;this.tippy||!n||(this.tippy=Bl(e,{duration:0,getReferenceClientRect:null,content:this.element,interactive:!0,trigger:"manual",placement:"top",hideOnClick:"toggle",...this.tippyOptions}),this.tippy.popper.firstChild&&this.tippy.popper.firstChild.addEventListener("blur",this.tippyBlurHandler))}update(e,n){const{state:r}=e,i=r.selection.$from.pos!==r.selection.$to.pos;if(this.updateDelay>0&&i){this.handleDebouncedUpdate(e,n);return}this.updateHandler(e,n)}show(){var e;(e=this.tippy)===null||e===void 0||e.show()}hide(){var e;(e=this.tippy)===null||e===void 0||e.hide()}destroy(){var e,n;!((e=this.tippy)===null||e===void 0)&&e.popper.firstChild&&this.tippy.popper.firstChild.removeEventListener("blur",this.tippyBlurHandler),(n=this.tippy)===null||n===void 0||n.destroy(),this.element.removeEventListener("mousedown",this.mousedownHandler,{capture:!0}),this.view.dom.removeEventListener("dragstart",this.dragstartHandler),this.editor.off("focus",this.focusHandler),this.editor.off("blur",this.blurHandler)}}const FC=t=>new Nr({key:typeof t.pluginKey=="string"?new Ei(t.pluginKey):t.pluginKey,view:e=>new ZC({view:e,...t})}),HC=Ur.create({name:"bubbleMenu",addOptions(){return{element:null,tippyOptions:{},pluginKey:"bubbleMenu",updateDelay:void 0,shouldShow:null}},addProseMirrorPlugins(){return this.options.element?[FC({pluginKey:this.options.pluginKey,editor:this.editor,element:this.options.element,tippyOptions:this.options.tippyOptions,updateDelay:this.options.updateDelay,shouldShow:this.options.shouldShow})]:[]}});function kv(t,e,n){const r=t.slice();return r[11]=e[n],r[12]=e,r[13]=n,r}function WC(t){let e;return{c(){e=Ho("No Result")},l(n){e=Wo(n,"No Result")},m(n,r){Kn(n,e,r)},p:jr,d(n){n&&qt(e)}}}function UC(t){let e=[],n=new Map,r,i=t[0];const o=s=>s[13];for(let s=0;s<i.length;s+=1){let c=kv(t,i,s),u=o(c);n.set(u,e[s]=Ev(u,c))}return{c(){for(let s=0;s<e.length;s+=1)e[s].c();r=_a()},l(s){for(let c=0;c<e.length;c+=1)e[c].l(s);r=_a()},m(s,c){for(let u=0;u<e.length;u+=1)e[u].m(s,c);Kn(s,r,c)},p(s,c){c&11&&(i=s[0],e=Jk(e,c,o,1,s,i,n,r.parentNode,Xk,Ev,r,kv))},d(s){for(let c=0;c<e.length;c+=1)e[c].d(s);s&&qt(r)}}}function Ev(t,e){let n,r=e[11].title+"",i,o=e[13],s,c;const u=()=>e[6](n,o),x=()=>e[6](null,o);function O(...Y){return e[7](e[13],...Y)}return{key:t,first:null,c(){n=Rn("button"),i=Ho(r),this.h()},l(Y){n=zn(Y,"BUTTON",{class:!0});var b=jn(n);i=Wo(b,r),b.forEach(qt),this.h()},h(){un(n,"class","block m-0 w-full text-left bg-transparent rounded-md border border-transparent px-1 py-3 svelte-ykmp3c"),this.first=n},m(Y,b){Kn(Y,n,b),In(n,i),u(),s||(c=eo(n,"click",O),s=!0)},p(Y,b){e=Y,b&1&&r!==(r=e[11].title+"")&&Yy(i,r),o!==e[13]&&(x(),o=e[13],u())},d(Y){Y&&qt(n),x(),s=!1,c()}}}function VC(t){let e,n,r;function i(c,u){return c[0].length?UC:WC}let o=i(t),s=o(t);return{c(){e=Rn("div"),s.c(),this.h()},l(c){e=zn(c,"DIV",{class:!0});var u=jn(e);s.l(u),u.forEach(qt),this.h()},h(){un(e,"class","p-1 relative rounded-lg bg-white text-black overflow-hidden text-sm shadow svelte-ykmp3c")},m(c,u){Kn(c,e,u),s.m(e,null),n||(r=eo(window,"keydown",t[2]),n=!0)},p(c,[u]){o===(o=i(c))&&s?s.p(c,u):(s.d(1),s=o(c),s&&(s.c(),s.m(e,null)))},i:jr,o:jr,d(c){c&&qt(e),s.d(),n=!1,r()}}}function KC(t,e,n){let{items:r}=e,{command:i}=e;console.log({items:r},{command:i});let o=-1,s=[];function c(a){return a.key==="ArrowUp"?(a.preventDefault(),u(),!0):a.key==="ArrowDown"?(a.preventDefault(),x(),!0):a.key==="Enter"?(a.preventDefault(),O(),!0):(a.key==="Escape"&&s[o].blur(),!1)}function u(){console.log("UP: ",o,(o+r.length-1)%r.length),n(5,o=(o+r.length-1)%r.length)}function x(){n(5,o=(o+1)%r.length)}function O(){Y(o)}async function Y(a){const v=r[a];console.log("Entering item",v,i),v&&await i(v)}function b(a,v){Pc[a?"unshift":"push"](()=>{s[v]=a,n(1,s)})}const m=(a,v)=>Y(a);return t.$$set=a=>{"items"in a&&n(0,r=a.items),"command"in a&&n(4,i=a.command)},t.$$.update=()=>{t.$$.dirty&34&&(s!=null&&s.length||o>0)&&s[o]&&s[o].focus()},[r,s,c,Y,i,o,b,m]}class GC extends To{constructor(e){super(),Ao(this,e,KC,VC,fo,{items:0,command:4})}}const YC=(t,e="{}")=>{try{return JSON.stringify(t)}catch{return e}};function JC(t,e=null){if(typeof window>"u")throw new Error;const n=localStorage.getItem(t);if(!n)return e;try{return JSON.parse(n)}catch{return n}}const XC=(t,e)=>{window.localStorage.setItem(t,""+e)};class Yp{constructor(e,n){po(this,"key");po(this,"value");po(this,"prev");po(this,"next");this.key=e,this.value=n,this.prev=null,this.next=null}}class $C{constructor(e){po(this,"capacity");po(this,"usedCapacity");po(this,"head");po(this,"tail");po(this,"store");this.capacity=e||20,this.usedCapacity=0,this.store={},this.head=new Yp("fakeHeadNode","fakeHeadNode"),this.tail=new Yp("fakeTailNode","fakeTailNode"),this.head.next=this.tail,this.tail.prev=this.head}removeNode(e){e.prev.next=e.next,e.next.prev=e.prev}addToHead(e){e.prev=this.head,e.next=this.head.next,this.head.next.prev=e,this.head.next=e}moveToHead(e){this.removeNode(e),this.addToHead(e)}removeTail(){const e=this.tail.prev;return this.removeNode(e),e}get(e){if(e in this.store){const n=this.store[e];return this.moveToHead(n),n.value}return-1}put(e,n){if(e in this.store){const r=this.store[e];r.value=n,this.moveToHead(r)}else{const r=new Yp(e,n);if(this.addToHead(r),this.store[e]=r,this.usedCapacity+=1,this.usedCapacity>this.capacity){const i=this.removeTail();delete this.store[i.key],this.usedCapacity-=1}}}keys(){const e=[];let n=this.head;for(;n;)e.push(n.key),n=n.next;return e.slice(1,-1)}values(){const e=[];let n=this.head;for(;n;)e.push(n.value),n=n.next;return e.slice(1,-1)}toJSON(){return this.store}}const qC=({storageKey:t,capacity:e})=>{const n=new $C(e);return{syncFromStorage(){(JC(t)||[]).slice().reverse().forEach(o=>{n.put(o,o)})},syncToStorage(){XC(t,YC(n.keys()))},put(i){n.put(i,i),this.syncToStorage()},get(i){return i?n.get(i):n.keys()}}};function QC(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Hc={},eD={get exports(){return Hc},set exports(t){Hc=t}},Cn={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cu=Symbol.for("react.element"),tD=Symbol.for("react.portal"),nD=Symbol.for("react.fragment"),rD=Symbol.for("react.strict_mode"),iD=Symbol.for("react.profiler"),oD=Symbol.for("react.provider"),aD=Symbol.for("react.context"),sD=Symbol.for("react.forward_ref"),lD=Symbol.for("react.suspense"),cD=Symbol.for("react.memo"),uD=Symbol.for("react.lazy"),Sv=Symbol.iterator;function dD(t){return t===null||typeof t!="object"?null:(t=Sv&&t[Sv]||t["@@iterator"],typeof t=="function"?t:null)}var Z2={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F2=Object.assign,H2={};function Zl(t,e,n){this.props=t,this.context=e,this.refs=H2,this.updater=n||Z2}Zl.prototype.isReactComponent={};Zl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Zl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function W2(){}W2.prototype=Zl.prototype;function wm(t,e,n){this.props=t,this.context=e,this.refs=H2,this.updater=n||Z2}var km=wm.prototype=new W2;km.constructor=wm;F2(km,Zl.prototype);km.isPureReactComponent=!0;var Cv=Array.isArray,U2=Object.prototype.hasOwnProperty,Em={current:null},V2={key:!0,ref:!0,__self:!0,__source:!0};function K2(t,e,n){var r,i={},o=null,s=null;if(e!=null)for(r in e.ref!==void 0&&(s=e.ref),e.key!==void 0&&(o=""+e.key),e)U2.call(e,r)&&!V2.hasOwnProperty(r)&&(i[r]=e[r]);var c=arguments.length-2;if(c===1)i.children=n;else if(1<c){for(var u=Array(c),x=0;x<c;x++)u[x]=arguments[x+2];i.children=u}if(t&&t.defaultProps)for(r in c=t.defaultProps,c)i[r]===void 0&&(i[r]=c[r]);return{$$typeof:cu,type:t,key:o,ref:s,props:i,_owner:Em.current}}function fD(t,e){return{$$typeof:cu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Sm(t){return typeof t=="object"&&t!==null&&t.$$typeof===cu}function pD(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Dv=/\/+/g;function Jp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?pD(""+t.key):e.toString(36)}function $u(t,e,n,r,i){var o=typeof t;(o==="undefined"||o==="boolean")&&(t=null);var s=!1;if(t===null)s=!0;else switch(o){case"string":case"number":s=!0;break;case"object":switch(t.$$typeof){case cu:case tD:s=!0}}if(s)return s=t,i=i(s),t=r===""?"."+Jp(s,0):r,Cv(i)?(n="",t!=null&&(n=t.replace(Dv,"$&/")+"/"),$u(i,e,n,"",function(x){return x})):i!=null&&(Sm(i)&&(i=fD(i,n+(!i.key||s&&s.key===i.key?"":(""+i.key).replace(Dv,"$&/")+"/")+t)),e.push(i)),1;if(s=0,r=r===""?".":r+":",Cv(t))for(var c=0;c<t.length;c++){o=t[c];var u=r+Jp(o,c);s+=$u(o,e,n,u,i)}else if(u=dD(t),typeof u=="function")for(t=u.call(t),c=0;!(o=t.next()).done;)o=o.value,u=r+Jp(o,c++),s+=$u(o,e,n,u,i);else if(o==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return s}function Au(t,e,n){if(t==null)return t;var r=[],i=0;return $u(t,r,"","",function(o){return e.call(n,o,i++)}),r}function hD(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var ti={current:null},qu={transition:null},mD={ReactCurrentDispatcher:ti,ReactCurrentBatchConfig:qu,ReactCurrentOwner:Em};Cn.Children={map:Au,forEach:function(t,e,n){Au(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Au(t,function(){e++}),e},toArray:function(t){return Au(t,function(e){return e})||[]},only:function(t){if(!Sm(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Cn.Component=Zl;Cn.Fragment=nD;Cn.Profiler=iD;Cn.PureComponent=wm;Cn.StrictMode=rD;Cn.Suspense=lD;Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=mD;Cn.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=F2({},t.props),i=t.key,o=t.ref,s=t._owner;if(e!=null){if(e.ref!==void 0&&(o=e.ref,s=Em.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var c=t.type.defaultProps;for(u in e)U2.call(e,u)&&!V2.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&c!==void 0?c[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){c=Array(u);for(var x=0;x<u;x++)c[x]=arguments[x+2];r.children=c}return{$$typeof:cu,type:t.type,key:i,ref:o,props:r,_owner:s}};Cn.createContext=function(t){return t={$$typeof:aD,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:oD,_context:t},t.Consumer=t};Cn.createElement=K2;Cn.createFactory=function(t){var e=K2.bind(null,t);return e.type=t,e};Cn.createRef=function(){return{current:null}};Cn.forwardRef=function(t){return{$$typeof:sD,render:t}};Cn.isValidElement=Sm;Cn.lazy=function(t){return{$$typeof:uD,_payload:{_status:-1,_result:t},_init:hD}};Cn.memo=function(t,e){return{$$typeof:cD,type:t,compare:e===void 0?null:e}};Cn.startTransition=function(t){var e=qu.transition;qu.transition={};try{t()}finally{qu.transition=e}};Cn.unstable_act=function(){throw Error("act(...) is not supported in production builds of React.")};Cn.useCallback=function(t,e){return ti.current.useCallback(t,e)};Cn.useContext=function(t){return ti.current.useContext(t)};Cn.useDebugValue=function(){};Cn.useDeferredValue=function(t){return ti.current.useDeferredValue(t)};Cn.useEffect=function(t,e){return ti.current.useEffect(t,e)};Cn.useId=function(){return ti.current.useId()};Cn.useImperativeHandle=function(t,e,n){return ti.current.useImperativeHandle(t,e,n)};Cn.useInsertionEffect=function(t,e){return ti.current.useInsertionEffect(t,e)};Cn.useLayoutEffect=function(t,e){return ti.current.useLayoutEffect(t,e)};Cn.useMemo=function(t,e){return ti.current.useMemo(t,e)};Cn.useReducer=function(t,e,n){return ti.current.useReducer(t,e,n)};Cn.useRef=function(t){return ti.current.useRef(t)};Cn.useState=function(t){return ti.current.useState(t)};Cn.useSyncExternalStore=function(t,e,n){return ti.current.useSyncExternalStore(t,e,n)};Cn.useTransition=function(){return ti.current.useTransition()};Cn.version="18.2.0";(function(t){t.exports=Cn})(eD);const gD=QC(Hc);var Ad={},vD={get exports(){return Ad},set exports(t){Ad=t}},Si={},Xh={},yD={get exports(){return Xh},set exports(t){Xh=t}},G2={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(z,re){var T=z.length;z.push(re);e:for(;0<T;){var A=T-1>>>1,U=z[A];if(0<i(U,re))z[A]=re,z[T]=U,T=A;else break e}}function n(z){return z.length===0?null:z[0]}function r(z){if(z.length===0)return null;var re=z[0],T=z.pop();if(T!==re){z[0]=T;e:for(var A=0,U=z.length,P=U>>>1;A<P;){var M=2*(A+1)-1,C=z[M],g=M+1,l=z[g];if(0>i(C,T))g<U&&0>i(l,C)?(z[A]=l,z[g]=T,A=g):(z[A]=C,z[M]=T,A=M);else if(g<U&&0>i(l,T))z[A]=l,z[g]=T,A=g;else break e}}return re}function i(z,re){var T=z.sortIndex-re.sortIndex;return T!==0?T:z.id-re.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;t.unstable_now=function(){return o.now()}}else{var s=Date,c=s.now();t.unstable_now=function(){return s.now()-c}}var u=[],x=[],O=1,Y=null,b=3,m=!1,a=!1,v=!1,E=typeof setTimeout=="function"?setTimeout:null,h=typeof clearTimeout=="function"?clearTimeout:null,f=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function D(z){for(var re=n(x);re!==null;){if(re.callback===null)r(x);else if(re.startTime<=z)r(x),re.sortIndex=re.expirationTime,e(u,re);else break;re=n(x)}}function k(z){if(v=!1,D(z),!a)if(n(u)!==null)a=!0,Ee(R);else{var re=n(x);re!==null&&Me(k,re.startTime-z)}}function R(z,re){a=!1,v&&(v=!1,h(B),B=-1),m=!0;var T=b;try{for(D(re),Y=n(u);Y!==null&&(!(Y.expirationTime>re)||z&&!N());){var A=Y.callback;if(typeof A=="function"){Y.callback=null,b=Y.priorityLevel;var U=A(Y.expirationTime<=re);re=t.unstable_now(),typeof U=="function"?Y.callback=U:Y===n(u)&&r(u),D(re)}else r(u);Y=n(u)}if(Y!==null)var P=!0;else{var M=n(x);M!==null&&Me(k,M.startTime-re),P=!1}return P}finally{Y=null,b=T,m=!1}}var d=!1,Z=null,B=-1,ee=5,he=-1;function N(){return!(t.unstable_now()-he<ee)}function ke(){if(Z!==null){var z=t.unstable_now();he=z;var re=!0;try{re=Z(!0,z)}finally{re?Se():(d=!1,Z=null)}}else d=!1}var Se;if(typeof f=="function")Se=function(){f(ke)};else if(typeof MessageChannel<"u"){var je=new MessageChannel,we=je.port2;je.port1.onmessage=ke,Se=function(){we.postMessage(null)}}else Se=function(){E(ke,0)};function Ee(z){Z=z,d||(d=!0,Se())}function Me(z,re){B=E(function(){z(t.unstable_now())},re)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(z){z.callback=null},t.unstable_continueExecution=function(){a||m||(a=!0,Ee(R))},t.unstable_forceFrameRate=function(z){0>z||125<z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):ee=0<z?Math.floor(1e3/z):5},t.unstable_getCurrentPriorityLevel=function(){return b},t.unstable_getFirstCallbackNode=function(){return n(u)},t.unstable_next=function(z){switch(b){case 1:case 2:case 3:var re=3;break;default:re=b}var T=b;b=re;try{return z()}finally{b=T}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(z,re){switch(z){case 1:case 2:case 3:case 4:case 5:break;default:z=3}var T=b;b=z;try{return re()}finally{b=T}},t.unstable_scheduleCallback=function(z,re,T){var A=t.unstable_now();switch(typeof T=="object"&&T!==null?(T=T.delay,T=typeof T=="number"&&0<T?A+T:A):T=A,z){case 1:var U=-1;break;case 2:U=250;break;case 5:U=1073741823;break;case 4:U=1e4;break;default:U=5e3}return U=T+U,z={id:O++,callback:re,priorityLevel:z,startTime:T,expirationTime:U,sortIndex:-1},T>A?(z.sortIndex=T,e(x,z),n(u)===null&&z===n(x)&&(v?(h(B),B=-1):v=!0,Me(k,T-A))):(z.sortIndex=U,e(u,z),a||m||(a=!0,Ee(R))),z},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(z){var re=b;return function(){var T=b;b=re;try{return z.apply(this,arguments)}finally{b=T}}}})(G2);(function(t){t.exports=G2})(yD);/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Y2=Hc,ki=Xh;function kt(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var J2=new Set,Wc={};function Os(t,e){Al(t,e),Al(t+"Capture",e)}function Al(t,e){for(Wc[t]=e,t=0;t<e.length;t++)J2.add(e[t])}var Go=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),$h=Object.prototype.hasOwnProperty,bD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ov={},Mv={};function xD(t){return $h.call(Mv,t)?!0:$h.call(Ov,t)?!1:bD.test(t)?Mv[t]=!0:(Ov[t]=!0,!1)}function wD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function kD(t,e,n,r){if(e===null||typeof e>"u"||wD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ni(t,e,n,r,i,o,s){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=o,this.removeEmptyString=s}var Lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Lr[t]=new ni(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Lr[e]=new ni(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Lr[t]=new ni(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Lr[t]=new ni(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Lr[t]=new ni(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Lr[t]=new ni(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Lr[t]=new ni(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Lr[t]=new ni(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Lr[t]=new ni(t,5,!1,t.toLowerCase(),null,!1,!1)});var Cm=/[\-:]([a-z])/g;function Dm(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Cm,Dm);Lr[e]=new ni(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Cm,Dm);Lr[e]=new ni(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Cm,Dm);Lr[e]=new ni(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Lr[t]=new ni(t,1,!1,t.toLowerCase(),null,!1,!1)});Lr.xlinkHref=new ni("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Lr[t]=new ni(t,1,!1,t.toLowerCase(),null,!0,!0)});function Om(t,e,n,r){var i=Lr.hasOwnProperty(e)?Lr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(kD(e,n,i,r)&&(n=null),r||i===null?xD(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var $o=Y2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Iu=Symbol.for("react.element"),Vs=Symbol.for("react.portal"),Ks=Symbol.for("react.fragment"),Mm=Symbol.for("react.strict_mode"),qh=Symbol.for("react.profiler"),X2=Symbol.for("react.provider"),$2=Symbol.for("react.context"),Tm=Symbol.for("react.forward_ref"),Qh=Symbol.for("react.suspense"),e0=Symbol.for("react.suspense_list"),Am=Symbol.for("react.memo"),aa=Symbol.for("react.lazy"),q2=Symbol.for("react.offscreen"),Tv=Symbol.iterator;function Jl(t){return t===null||typeof t!="object"?null:(t=Tv&&t[Tv]||t["@@iterator"],typeof t=="function"?t:null)}var $n=Object.assign,Xp;function uc(t){if(Xp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Xp=e&&e[1]||""}return`
`+Xp+t}var $p=!1;function qp(t,e){if(!t||$p)return"";$p=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(x){var r=x}Reflect.construct(t,[],e)}else{try{e.call()}catch(x){r=x}t.call(e.prototype)}else{try{throw Error()}catch(x){r=x}t()}}catch(x){if(x&&r&&typeof x.stack=="string"){for(var i=x.stack.split(`
`),o=r.stack.split(`
`),s=i.length-1,c=o.length-1;1<=s&&0<=c&&i[s]!==o[c];)c--;for(;1<=s&&0<=c;s--,c--)if(i[s]!==o[c]){if(s!==1||c!==1)do if(s--,c--,0>c||i[s]!==o[c]){var u=`
`+i[s].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=s&&0<=c);break}}}finally{$p=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?uc(t):""}function ED(t){switch(t.tag){case 5:return uc(t.type);case 16:return uc("Lazy");case 13:return uc("Suspense");case 19:return uc("SuspenseList");case 0:case 2:case 15:return t=qp(t.type,!1),t;case 11:return t=qp(t.type.render,!1),t;case 1:return t=qp(t.type,!0),t;default:return""}}function t0(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ks:return"Fragment";case Vs:return"Portal";case qh:return"Profiler";case Mm:return"StrictMode";case Qh:return"Suspense";case e0:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case $2:return(t.displayName||"Context")+".Consumer";case X2:return(t._context.displayName||"Context")+".Provider";case Tm:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Am:return e=t.displayName||null,e!==null?e:t0(t.type)||"Memo";case aa:e=t._payload,t=t._init;try{return t0(t(e))}catch{}}return null}function SD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return t0(e);case 8:return e===Mm?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Na(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Q2(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function CD(t){var e=Q2(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(s){r=""+s,o.call(this,s)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(s){r=""+s},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function ju(t){t._valueTracker||(t._valueTracker=CD(t))}function ex(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Q2(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Id(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function n0(t,e){var n=e.checked;return $n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Av(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Na(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function tx(t,e){e=e.checked,e!=null&&Om(t,"checked",e,!1)}function r0(t,e){tx(t,e);var n=Na(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?i0(t,e.type,n):e.hasOwnProperty("defaultValue")&&i0(t,e.type,Na(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Iv(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function i0(t,e,n){(e!=="number"||Id(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var dc=Array.isArray;function fl(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Na(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function o0(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(kt(91));return $n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jv(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(kt(92));if(dc(n)){if(1<n.length)throw Error(kt(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Na(n)}}function nx(t,e){var n=Na(e.value),r=Na(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function _v(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rx(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function a0(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rx(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var _u,ix=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(_u=_u||document.createElement("div"),_u.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=_u.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Uc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var wc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DD=["Webkit","ms","Moz","O"];Object.keys(wc).forEach(function(t){DD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),wc[e]=wc[t]})});function ox(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||wc.hasOwnProperty(t)&&wc[t]?(""+e).trim():e+"px"}function ax(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=ox(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var OD=$n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function s0(t,e){if(e){if(OD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(kt(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(kt(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(kt(61))}if(e.style!=null&&typeof e.style!="object")throw Error(kt(62))}}function l0(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var c0=null;function Im(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var u0=null,pl=null,hl=null;function Pv(t){if(t=fu(t)){if(typeof u0!="function")throw Error(kt(280));var e=t.stateNode;e&&(e=Uf(e),u0(t.stateNode,t.type,e))}}function sx(t){pl?hl?hl.push(t):hl=[t]:pl=t}function lx(){if(pl){var t=pl,e=hl;if(hl=pl=null,Pv(t),e)for(t=0;t<e.length;t++)Pv(e[t])}}function cx(t,e){return t(e)}function ux(){}var Qp=!1;function dx(t,e,n){if(Qp)return t(e,n);Qp=!0;try{return cx(t,e,n)}finally{Qp=!1,(pl!==null||hl!==null)&&(ux(),lx())}}function Vc(t,e){var n=t.stateNode;if(n===null)return null;var r=Uf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(kt(231,e,typeof n));return n}var d0=!1;if(Go)try{var Xl={};Object.defineProperty(Xl,"passive",{get:function(){d0=!0}}),window.addEventListener("test",Xl,Xl),window.removeEventListener("test",Xl,Xl)}catch{d0=!1}function MD(t,e,n,r,i,o,s,c,u){var x=Array.prototype.slice.call(arguments,3);try{e.apply(n,x)}catch(O){this.onError(O)}}var kc=!1,jd=null,_d=!1,f0=null,TD={onError:function(t){kc=!0,jd=t}};function AD(t,e,n,r,i,o,s,c,u){kc=!1,jd=null,MD.apply(TD,arguments)}function ID(t,e,n,r,i,o,s,c,u){if(AD.apply(this,arguments),kc){if(kc){var x=jd;kc=!1,jd=null}else throw Error(kt(198));_d||(_d=!0,f0=x)}}function Ms(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function fx(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function Lv(t){if(Ms(t)!==t)throw Error(kt(188))}function jD(t){var e=t.alternate;if(!e){if(e=Ms(t),e===null)throw Error(kt(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var o=i.alternate;if(o===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===o.child){for(o=i.child;o;){if(o===n)return Lv(i),t;if(o===r)return Lv(i),e;o=o.sibling}throw Error(kt(188))}if(n.return!==r.return)n=i,r=o;else{for(var s=!1,c=i.child;c;){if(c===n){s=!0,n=i,r=o;break}if(c===r){s=!0,r=i,n=o;break}c=c.sibling}if(!s){for(c=o.child;c;){if(c===n){s=!0,n=o,r=i;break}if(c===r){s=!0,r=o,n=i;break}c=c.sibling}if(!s)throw Error(kt(189))}}if(n.alternate!==r)throw Error(kt(190))}if(n.tag!==3)throw Error(kt(188));return n.stateNode.current===n?t:e}function px(t){return t=jD(t),t!==null?hx(t):null}function hx(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=hx(t);if(e!==null)return e;t=t.sibling}return null}var mx=ki.unstable_scheduleCallback,Nv=ki.unstable_cancelCallback,_D=ki.unstable_shouldYield,PD=ki.unstable_requestPaint,or=ki.unstable_now,LD=ki.unstable_getCurrentPriorityLevel,jm=ki.unstable_ImmediatePriority,gx=ki.unstable_UserBlockingPriority,Pd=ki.unstable_NormalPriority,ND=ki.unstable_LowPriority,vx=ki.unstable_IdlePriority,Zf=null,So=null;function RD(t){if(So&&typeof So.onCommitFiberRoot=="function")try{So.onCommitFiberRoot(Zf,t,void 0,(t.current.flags&128)===128)}catch{}}var so=Math.clz32?Math.clz32:ZD,zD=Math.log,BD=Math.LN2;function ZD(t){return t>>>=0,t===0?32:31-(zD(t)/BD|0)|0}var Pu=64,Lu=4194304;function fc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Ld(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,o=t.pingedLanes,s=n&268435455;if(s!==0){var c=s&~i;c!==0?r=fc(c):(o&=s,o!==0&&(r=fc(o)))}else s=n&~i,s!==0?r=fc(s):o!==0&&(r=fc(o));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,o=e&-e,i>=o||i===16&&(o&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-so(e),i=1<<n,r|=t[n],e&=~i;return r}function FD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function HD(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,o=t.pendingLanes;0<o;){var s=31-so(o),c=1<<s,u=i[s];u===-1?(!(c&n)||c&r)&&(i[s]=FD(c,e)):u<=e&&(t.expiredLanes|=c),o&=~c}}function p0(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function yx(){var t=Pu;return Pu<<=1,!(Pu&4194240)&&(Pu=64),t}function eh(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function uu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-so(e),t[e]=n}function WD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-so(n),o=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~o}}function _m(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-so(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var _n=0;function bx(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var xx,Pm,wx,kx,Ex,h0=!1,Nu=[],Sa=null,Ca=null,Da=null,Kc=new Map,Gc=new Map,da=[],UD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Rv(t,e){switch(t){case"focusin":case"focusout":Sa=null;break;case"dragenter":case"dragleave":Ca=null;break;case"mouseover":case"mouseout":Da=null;break;case"pointerover":case"pointerout":Kc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Gc.delete(e.pointerId)}}function $l(t,e,n,r,i,o){return t===null||t.nativeEvent!==o?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[i]},e!==null&&(e=fu(e),e!==null&&Pm(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function VD(t,e,n,r,i){switch(e){case"focusin":return Sa=$l(Sa,t,e,n,r,i),!0;case"dragenter":return Ca=$l(Ca,t,e,n,r,i),!0;case"mouseover":return Da=$l(Da,t,e,n,r,i),!0;case"pointerover":var o=i.pointerId;return Kc.set(o,$l(Kc.get(o)||null,t,e,n,r,i)),!0;case"gotpointercapture":return o=i.pointerId,Gc.set(o,$l(Gc.get(o)||null,t,e,n,r,i)),!0}return!1}function Sx(t){var e=is(t.target);if(e!==null){var n=Ms(e);if(n!==null){if(e=n.tag,e===13){if(e=fx(n),e!==null){t.blockedOn=e,Ex(t.priority,function(){wx(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Qu(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=m0(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);c0=r,n.target.dispatchEvent(r),c0=null}else return e=fu(n),e!==null&&Pm(e),t.blockedOn=n,!1;e.shift()}return!0}function zv(t,e,n){Qu(t)&&n.delete(e)}function KD(){h0=!1,Sa!==null&&Qu(Sa)&&(Sa=null),Ca!==null&&Qu(Ca)&&(Ca=null),Da!==null&&Qu(Da)&&(Da=null),Kc.forEach(zv),Gc.forEach(zv)}function ql(t,e){t.blockedOn===e&&(t.blockedOn=null,h0||(h0=!0,ki.unstable_scheduleCallback(ki.unstable_NormalPriority,KD)))}function Yc(t){function e(i){return ql(i,t)}if(0<Nu.length){ql(Nu[0],t);for(var n=1;n<Nu.length;n++){var r=Nu[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Sa!==null&&ql(Sa,t),Ca!==null&&ql(Ca,t),Da!==null&&ql(Da,t),Kc.forEach(e),Gc.forEach(e),n=0;n<da.length;n++)r=da[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<da.length&&(n=da[0],n.blockedOn===null);)Sx(n),n.blockedOn===null&&da.shift()}var ml=$o.ReactCurrentBatchConfig,Nd=!0;function GD(t,e,n,r){var i=_n,o=ml.transition;ml.transition=null;try{_n=1,Lm(t,e,n,r)}finally{_n=i,ml.transition=o}}function YD(t,e,n,r){var i=_n,o=ml.transition;ml.transition=null;try{_n=4,Lm(t,e,n,r)}finally{_n=i,ml.transition=o}}function Lm(t,e,n,r){if(Nd){var i=m0(t,e,n,r);if(i===null)uh(t,e,r,Rd,n),Rv(t,r);else if(VD(i,t,e,n,r))r.stopPropagation();else if(Rv(t,r),e&4&&-1<UD.indexOf(t)){for(;i!==null;){var o=fu(i);if(o!==null&&xx(o),o=m0(t,e,n,r),o===null&&uh(t,e,r,Rd,n),o===i)break;i=o}i!==null&&r.stopPropagation()}else uh(t,e,r,null,n)}}var Rd=null;function m0(t,e,n,r){if(Rd=null,t=Im(r),t=is(t),t!==null)if(e=Ms(t),e===null)t=null;else if(n=e.tag,n===13){if(t=fx(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Rd=t,null}function Cx(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(LD()){case jm:return 1;case gx:return 4;case Pd:case ND:return 16;case vx:return 536870912;default:return 16}default:return 16}}var ga=null,Nm=null,ed=null;function Dx(){if(ed)return ed;var t,e=Nm,n=e.length,r,i="value"in ga?ga.value:ga.textContent,o=i.length;for(t=0;t<n&&e[t]===i[t];t++);var s=n-t;for(r=1;r<=s&&e[n-r]===i[o-r];r++);return ed=i.slice(t,1<r?1-r:void 0)}function td(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Ru(){return!0}function Bv(){return!1}function Ci(t){function e(n,r,i,o,s){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=o,this.target=s,this.currentTarget=null;for(var c in t)t.hasOwnProperty(c)&&(n=t[c],this[c]=n?n(o):o[c]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?Ru:Bv,this.isPropagationStopped=Bv,this}return $n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Ru)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Ru)},persist:function(){},isPersistent:Ru}),e}var Fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Rm=Ci(Fl),du=$n({},Fl,{view:0,detail:0}),JD=Ci(du),th,nh,Ql,Ff=$n({},du,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:zm,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ql&&(Ql&&t.type==="mousemove"?(th=t.screenX-Ql.screenX,nh=t.screenY-Ql.screenY):nh=th=0,Ql=t),th)},movementY:function(t){return"movementY"in t?t.movementY:nh}}),Zv=Ci(Ff),XD=$n({},Ff,{dataTransfer:0}),$D=Ci(XD),qD=$n({},du,{relatedTarget:0}),rh=Ci(qD),QD=$n({},Fl,{animationName:0,elapsedTime:0,pseudoElement:0}),e8=Ci(QD),t8=$n({},Fl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),n8=Ci(t8),r8=$n({},Fl,{data:0}),Fv=Ci(r8),i8={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},o8={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},a8={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function s8(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=a8[t])?!!e[t]:!1}function zm(){return s8}var l8=$n({},du,{key:function(t){if(t.key){var e=i8[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=td(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?o8[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:zm,charCode:function(t){return t.type==="keypress"?td(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?td(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),c8=Ci(l8),u8=$n({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Hv=Ci(u8),d8=$n({},du,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:zm}),f8=Ci(d8),p8=$n({},Fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),h8=Ci(p8),m8=$n({},Ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),g8=Ci(m8),v8=[9,13,27,32],Bm=Go&&"CompositionEvent"in window,Ec=null;Go&&"documentMode"in document&&(Ec=document.documentMode);var y8=Go&&"TextEvent"in window&&!Ec,Ox=Go&&(!Bm||Ec&&8<Ec&&11>=Ec),Wv=String.fromCharCode(32),Uv=!1;function Mx(t,e){switch(t){case"keyup":return v8.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Tx(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Gs=!1;function b8(t,e){switch(t){case"compositionend":return Tx(e);case"keypress":return e.which!==32?null:(Uv=!0,Wv);case"textInput":return t=e.data,t===Wv&&Uv?null:t;default:return null}}function x8(t,e){if(Gs)return t==="compositionend"||!Bm&&Mx(t,e)?(t=Dx(),ed=Nm=ga=null,Gs=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Ox&&e.locale!=="ko"?null:e.data;default:return null}}var w8={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Vv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!w8[t.type]:e==="textarea"}function Ax(t,e,n,r){sx(r),e=zd(e,"onChange"),0<e.length&&(n=new Rm("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Sc=null,Jc=null;function k8(t){Fx(t,0)}function Hf(t){var e=Xs(t);if(ex(e))return t}function E8(t,e){if(t==="change")return e}var Ix=!1;if(Go){var ih;if(Go){var oh="oninput"in document;if(!oh){var Kv=document.createElement("div");Kv.setAttribute("oninput","return;"),oh=typeof Kv.oninput=="function"}ih=oh}else ih=!1;Ix=ih&&(!document.documentMode||9<document.documentMode)}function Gv(){Sc&&(Sc.detachEvent("onpropertychange",jx),Jc=Sc=null)}function jx(t){if(t.propertyName==="value"&&Hf(Jc)){var e=[];Ax(e,Jc,t,Im(t)),dx(k8,e)}}function S8(t,e,n){t==="focusin"?(Gv(),Sc=e,Jc=n,Sc.attachEvent("onpropertychange",jx)):t==="focusout"&&Gv()}function C8(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Hf(Jc)}function D8(t,e){if(t==="click")return Hf(e)}function O8(t,e){if(t==="input"||t==="change")return Hf(e)}function M8(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var uo=typeof Object.is=="function"?Object.is:M8;function Xc(t,e){if(uo(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!$h.call(e,i)||!uo(t[i],e[i]))return!1}return!0}function Yv(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Jv(t,e){var n=Yv(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yv(n)}}function _x(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?_x(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Px(){for(var t=window,e=Id();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Id(t.document)}return e}function Zm(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function T8(t){var e=Px(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&_x(n.ownerDocument.documentElement,n)){if(r!==null&&Zm(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,o=Math.min(r.start,i);r=r.end===void 0?o:Math.min(r.end,i),!t.extend&&o>r&&(i=r,r=o,o=i),i=Jv(n,o);var s=Jv(n,r);i&&s&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==s.node||t.focusOffset!==s.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),o>r?(t.addRange(e),t.extend(s.node,s.offset)):(e.setEnd(s.node,s.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var A8=Go&&"documentMode"in document&&11>=document.documentMode,Ys=null,g0=null,Cc=null,v0=!1;function Xv(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;v0||Ys==null||Ys!==Id(r)||(r=Ys,"selectionStart"in r&&Zm(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Cc&&Xc(Cc,r)||(Cc=r,r=zd(g0,"onSelect"),0<r.length&&(e=new Rm("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ys)))}function zu(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Js={animationend:zu("Animation","AnimationEnd"),animationiteration:zu("Animation","AnimationIteration"),animationstart:zu("Animation","AnimationStart"),transitionend:zu("Transition","TransitionEnd")},ah={},Lx={};Go&&(Lx=document.createElement("div").style,"AnimationEvent"in window||(delete Js.animationend.animation,delete Js.animationiteration.animation,delete Js.animationstart.animation),"TransitionEvent"in window||delete Js.transitionend.transition);function Wf(t){if(ah[t])return ah[t];if(!Js[t])return t;var e=Js[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Lx)return ah[t]=e[n];return t}var Nx=Wf("animationend"),Rx=Wf("animationiteration"),zx=Wf("animationstart"),Bx=Wf("transitionend"),Zx=new Map,$v="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Ha(t,e){Zx.set(t,e),Os(e,[t])}for(var sh=0;sh<$v.length;sh++){var lh=$v[sh],I8=lh.toLowerCase(),j8=lh[0].toUpperCase()+lh.slice(1);Ha(I8,"on"+j8)}Ha(Nx,"onAnimationEnd");Ha(Rx,"onAnimationIteration");Ha(zx,"onAnimationStart");Ha("dblclick","onDoubleClick");Ha("focusin","onFocus");Ha("focusout","onBlur");Ha(Bx,"onTransitionEnd");Al("onMouseEnter",["mouseout","mouseover"]);Al("onMouseLeave",["mouseout","mouseover"]);Al("onPointerEnter",["pointerout","pointerover"]);Al("onPointerLeave",["pointerout","pointerover"]);Os("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Os("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Os("onBeforeInput",["compositionend","keypress","textInput","paste"]);Os("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Os("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var pc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_8=new Set("cancel close invalid load scroll toggle".split(" ").concat(pc));function qv(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ID(r,e,void 0,t),t.currentTarget=null}function Fx(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var o=void 0;if(e)for(var s=r.length-1;0<=s;s--){var c=r[s],u=c.instance,x=c.currentTarget;if(c=c.listener,u!==o&&i.isPropagationStopped())break e;qv(i,c,x),o=u}else for(s=0;s<r.length;s++){if(c=r[s],u=c.instance,x=c.currentTarget,c=c.listener,u!==o&&i.isPropagationStopped())break e;qv(i,c,x),o=u}}}if(_d)throw t=f0,_d=!1,f0=null,t}function Hn(t,e){var n=e[k0];n===void 0&&(n=e[k0]=new Set);var r=t+"__bubble";n.has(r)||(Hx(e,t,2,!1),n.add(r))}function ch(t,e,n){var r=0;e&&(r|=4),Hx(n,t,r,e)}var Bu="_reactListening"+Math.random().toString(36).slice(2);function $c(t){if(!t[Bu]){t[Bu]=!0,J2.forEach(function(n){n!=="selectionchange"&&(_8.has(n)||ch(n,!1,t),ch(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Bu]||(e[Bu]=!0,ch("selectionchange",!1,e))}}function Hx(t,e,n,r){switch(Cx(e)){case 1:var i=GD;break;case 4:i=YD;break;default:i=Lm}n=i.bind(null,e,n,t),i=void 0,!d0||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function uh(t,e,n,r,i){var o=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var s=r.tag;if(s===3||s===4){var c=r.stateNode.containerInfo;if(c===i||c.nodeType===8&&c.parentNode===i)break;if(s===4)for(s=r.return;s!==null;){var u=s.tag;if((u===3||u===4)&&(u=s.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;s=s.return}for(;c!==null;){if(s=is(c),s===null)return;if(u=s.tag,u===5||u===6){r=o=s;continue e}c=c.parentNode}}r=r.return}dx(function(){var x=o,O=Im(n),Y=[];e:{var b=Zx.get(t);if(b!==void 0){var m=Rm,a=t;switch(t){case"keypress":if(td(n)===0)break e;case"keydown":case"keyup":m=c8;break;case"focusin":a="focus",m=rh;break;case"focusout":a="blur",m=rh;break;case"beforeblur":case"afterblur":m=rh;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=Zv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=$D;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=f8;break;case Nx:case Rx:case zx:m=e8;break;case Bx:m=h8;break;case"scroll":m=JD;break;case"wheel":m=g8;break;case"copy":case"cut":case"paste":m=n8;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=Hv}var v=(e&4)!==0,E=!v&&t==="scroll",h=v?b!==null?b+"Capture":null:b;v=[];for(var f=x,D;f!==null;){D=f;var k=D.stateNode;if(D.tag===5&&k!==null&&(D=k,h!==null&&(k=Vc(f,h),k!=null&&v.push(qc(f,k,D)))),E)break;f=f.return}0<v.length&&(b=new m(b,a,null,n,O),Y.push({event:b,listeners:v}))}}if(!(e&7)){e:{if(b=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",b&&n!==c0&&(a=n.relatedTarget||n.fromElement)&&(is(a)||a[Yo]))break e;if((m||b)&&(b=O.window===O?O:(b=O.ownerDocument)?b.defaultView||b.parentWindow:window,m?(a=n.relatedTarget||n.toElement,m=x,a=a?is(a):null,a!==null&&(E=Ms(a),a!==E||a.tag!==5&&a.tag!==6)&&(a=null)):(m=null,a=x),m!==a)){if(v=Zv,k="onMouseLeave",h="onMouseEnter",f="mouse",(t==="pointerout"||t==="pointerover")&&(v=Hv,k="onPointerLeave",h="onPointerEnter",f="pointer"),E=m==null?b:Xs(m),D=a==null?b:Xs(a),b=new v(k,f+"leave",m,n,O),b.target=E,b.relatedTarget=D,k=null,is(O)===x&&(v=new v(h,f+"enter",a,n,O),v.target=D,v.relatedTarget=E,k=v),E=k,m&&a)t:{for(v=m,h=a,f=0,D=v;D;D=zs(D))f++;for(D=0,k=h;k;k=zs(k))D++;for(;0<f-D;)v=zs(v),f--;for(;0<D-f;)h=zs(h),D--;for(;f--;){if(v===h||h!==null&&v===h.alternate)break t;v=zs(v),h=zs(h)}v=null}else v=null;m!==null&&Qv(Y,b,m,v,!1),a!==null&&E!==null&&Qv(Y,E,a,v,!0)}}e:{if(b=x?Xs(x):window,m=b.nodeName&&b.nodeName.toLowerCase(),m==="select"||m==="input"&&b.type==="file")var R=E8;else if(Vv(b))if(Ix)R=O8;else{R=C8;var d=S8}else(m=b.nodeName)&&m.toLowerCase()==="input"&&(b.type==="checkbox"||b.type==="radio")&&(R=D8);if(R&&(R=R(t,x))){Ax(Y,R,n,O);break e}d&&d(t,b,x),t==="focusout"&&(d=b._wrapperState)&&d.controlled&&b.type==="number"&&i0(b,"number",b.value)}switch(d=x?Xs(x):window,t){case"focusin":(Vv(d)||d.contentEditable==="true")&&(Ys=d,g0=x,Cc=null);break;case"focusout":Cc=g0=Ys=null;break;case"mousedown":v0=!0;break;case"contextmenu":case"mouseup":case"dragend":v0=!1,Xv(Y,n,O);break;case"selectionchange":if(A8)break;case"keydown":case"keyup":Xv(Y,n,O)}var Z;if(Bm)e:{switch(t){case"compositionstart":var B="onCompositionStart";break e;case"compositionend":B="onCompositionEnd";break e;case"compositionupdate":B="onCompositionUpdate";break e}B=void 0}else Gs?Mx(t,n)&&(B="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(B="onCompositionStart");B&&(Ox&&n.locale!=="ko"&&(Gs||B!=="onCompositionStart"?B==="onCompositionEnd"&&Gs&&(Z=Dx()):(ga=O,Nm="value"in ga?ga.value:ga.textContent,Gs=!0)),d=zd(x,B),0<d.length&&(B=new Fv(B,t,null,n,O),Y.push({event:B,listeners:d}),Z?B.data=Z:(Z=Tx(n),Z!==null&&(B.data=Z)))),(Z=y8?b8(t,n):x8(t,n))&&(x=zd(x,"onBeforeInput"),0<x.length&&(O=new Fv("onBeforeInput","beforeinput",null,n,O),Y.push({event:O,listeners:x}),O.data=Z))}Fx(Y,e)})}function qc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function zd(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,o=i.stateNode;i.tag===5&&o!==null&&(i=o,o=Vc(t,n),o!=null&&r.unshift(qc(t,o,i)),o=Vc(t,e),o!=null&&r.push(qc(t,o,i))),t=t.return}return r}function zs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Qv(t,e,n,r,i){for(var o=e._reactName,s=[];n!==null&&n!==r;){var c=n,u=c.alternate,x=c.stateNode;if(u!==null&&u===r)break;c.tag===5&&x!==null&&(c=x,i?(u=Vc(n,o),u!=null&&s.unshift(qc(n,u,c))):i||(u=Vc(n,o),u!=null&&s.push(qc(n,u,c)))),n=n.return}s.length!==0&&t.push({event:e,listeners:s})}var P8=/\r\n?/g,L8=/\u0000|\uFFFD/g;function ey(t){return(typeof t=="string"?t:""+t).replace(P8,`
`).replace(L8,"")}function Zu(t,e,n){if(e=ey(e),ey(t)!==e&&n)throw Error(kt(425))}function Bd(){}var y0=null,b0=null;function x0(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var w0=typeof setTimeout=="function"?setTimeout:void 0,N8=typeof clearTimeout=="function"?clearTimeout:void 0,ty=typeof Promise=="function"?Promise:void 0,R8=typeof queueMicrotask=="function"?queueMicrotask:typeof ty<"u"?function(t){return ty.resolve(null).then(t).catch(z8)}:w0;function z8(t){setTimeout(function(){throw t})}function dh(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Yc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Yc(e)}function Oa(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function ny(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Hl=Math.random().toString(36).slice(2),xo="__reactFiber$"+Hl,Qc="__reactProps$"+Hl,Yo="__reactContainer$"+Hl,k0="__reactEvents$"+Hl,B8="__reactListeners$"+Hl,Z8="__reactHandles$"+Hl;function is(t){var e=t[xo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Yo]||n[xo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=ny(t);t!==null;){if(n=t[xo])return n;t=ny(t)}return e}t=n,n=t.parentNode}return null}function fu(t){return t=t[xo]||t[Yo],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xs(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(kt(33))}function Uf(t){return t[Qc]||null}var E0=[],$s=-1;function Wa(t){return{current:t}}function Wn(t){0>$s||(t.current=E0[$s],E0[$s]=null,$s--)}function Bn(t,e){$s++,E0[$s]=t.current,t.current=e}var Ra={},Vr=Wa(Ra),ci=Wa(!1),ks=Ra;function Il(t,e){var n=t.type.contextTypes;if(!n)return Ra;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},o;for(o in n)i[o]=e[o];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function ui(t){return t=t.childContextTypes,t!=null}function Zd(){Wn(ci),Wn(Vr)}function ry(t,e,n){if(Vr.current!==Ra)throw Error(kt(168));Bn(Vr,e),Bn(ci,n)}function Wx(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(kt(108,SD(t)||"Unknown",i));return $n({},n,r)}function Fd(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ra,ks=Vr.current,Bn(Vr,t),Bn(ci,ci.current),!0}function iy(t,e,n){var r=t.stateNode;if(!r)throw Error(kt(169));n?(t=Wx(t,e,ks),r.__reactInternalMemoizedMergedChildContext=t,Wn(ci),Wn(Vr),Bn(Vr,t)):Wn(ci),Bn(ci,n)}var Ro=null,Vf=!1,fh=!1;function Ux(t){Ro===null?Ro=[t]:Ro.push(t)}function F8(t){Vf=!0,Ux(t)}function Ua(){if(!fh&&Ro!==null){fh=!0;var t=0,e=_n;try{var n=Ro;for(_n=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Ro=null,Vf=!1}catch(i){throw Ro!==null&&(Ro=Ro.slice(t+1)),mx(jm,Ua),i}finally{_n=e,fh=!1}}return null}var qs=[],Qs=0,Hd=null,Wd=0,_i=[],Pi=0,Es=null,Zo=1,Fo="";function qa(t,e){qs[Qs++]=Wd,qs[Qs++]=Hd,Hd=t,Wd=e}function Vx(t,e,n){_i[Pi++]=Zo,_i[Pi++]=Fo,_i[Pi++]=Es,Es=t;var r=Zo;t=Fo;var i=32-so(r)-1;r&=~(1<<i),n+=1;var o=32-so(e)+i;if(30<o){var s=i-i%5;o=(r&(1<<s)-1).toString(32),r>>=s,i-=s,Zo=1<<32-so(e)+i|n<<i|r,Fo=o+t}else Zo=1<<o|n<<i|r,Fo=t}function Fm(t){t.return!==null&&(qa(t,1),Vx(t,1,0))}function Hm(t){for(;t===Hd;)Hd=qs[--Qs],qs[Qs]=null,Wd=qs[--Qs],qs[Qs]=null;for(;t===Es;)Es=_i[--Pi],_i[Pi]=null,Fo=_i[--Pi],_i[Pi]=null,Zo=_i[--Pi],_i[Pi]=null}var wi=null,xi=null,Vn=!1,Qi=null;function Kx(t,e){var n=Ni(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function oy(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wi=t,xi=Oa(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wi=t,xi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Es!==null?{id:Zo,overflow:Fo}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Ni(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,wi=t,xi=null,!0):!1;default:return!1}}function S0(t){return(t.mode&1)!==0&&(t.flags&128)===0}function C0(t){if(Vn){var e=xi;if(e){var n=e;if(!oy(t,e)){if(S0(t))throw Error(kt(418));e=Oa(n.nextSibling);var r=wi;e&&oy(t,e)?Kx(r,n):(t.flags=t.flags&-4097|2,Vn=!1,wi=t)}}else{if(S0(t))throw Error(kt(418));t.flags=t.flags&-4097|2,Vn=!1,wi=t}}}function ay(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wi=t}function Fu(t){if(t!==wi)return!1;if(!Vn)return ay(t),Vn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!x0(t.type,t.memoizedProps)),e&&(e=xi)){if(S0(t))throw Gx(),Error(kt(418));for(;e;)Kx(t,e),e=Oa(e.nextSibling)}if(ay(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(kt(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xi=Oa(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xi=null}}else xi=wi?Oa(t.stateNode.nextSibling):null;return!0}function Gx(){for(var t=xi;t;)t=Oa(t.nextSibling)}function jl(){xi=wi=null,Vn=!1}function Wm(t){Qi===null?Qi=[t]:Qi.push(t)}var H8=$o.ReactCurrentBatchConfig;function Ji(t,e){if(t&&t.defaultProps){e=$n({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}var Ud=Wa(null),Vd=null,el=null,Um=null;function Vm(){Um=el=Vd=null}function Km(t){var e=Ud.current;Wn(Ud),t._currentValue=e}function D0(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function gl(t,e){Vd=t,Um=el=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(oi=!0),t.firstContext=null)}function Fi(t){var e=t._currentValue;if(Um!==t)if(t={context:t,memoizedValue:e,next:null},el===null){if(Vd===null)throw Error(kt(308));el=t,Vd.dependencies={lanes:0,firstContext:t}}else el=el.next=t;return e}var as=null;function Gm(t){as===null?as=[t]:as.push(t)}function Yx(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,Gm(e)):(n.next=i.next,i.next=n),e.interleaved=n,Jo(t,r)}function Jo(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var sa=!1;function Ym(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Jx(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ma(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Tn&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Jo(t,n)}return i=r.interleaved,i===null?(e.next=e,Gm(r)):(e.next=i.next,i.next=e),r.interleaved=e,Jo(t,n)}function nd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_m(t,n)}}function sy(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var s={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?i=o=s:o=o.next=s,n=n.next}while(n!==null);o===null?i=o=e:o=o.next=e}else i=o=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:o,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Kd(t,e,n,r){var i=t.updateQueue;sa=!1;var o=i.firstBaseUpdate,s=i.lastBaseUpdate,c=i.shared.pending;if(c!==null){i.shared.pending=null;var u=c,x=u.next;u.next=null,s===null?o=x:s.next=x,s=u;var O=t.alternate;O!==null&&(O=O.updateQueue,c=O.lastBaseUpdate,c!==s&&(c===null?O.firstBaseUpdate=x:c.next=x,O.lastBaseUpdate=u))}if(o!==null){var Y=i.baseState;s=0,O=x=u=null,c=o;do{var b=c.lane,m=c.eventTime;if((r&b)===b){O!==null&&(O=O.next={eventTime:m,lane:0,tag:c.tag,payload:c.payload,callback:c.callback,next:null});e:{var a=t,v=c;switch(b=e,m=n,v.tag){case 1:if(a=v.payload,typeof a=="function"){Y=a.call(m,Y,b);break e}Y=a;break e;case 3:a.flags=a.flags&-65537|128;case 0:if(a=v.payload,b=typeof a=="function"?a.call(m,Y,b):a,b==null)break e;Y=$n({},Y,b);break e;case 2:sa=!0}}c.callback!==null&&c.lane!==0&&(t.flags|=64,b=i.effects,b===null?i.effects=[c]:b.push(c))}else m={eventTime:m,lane:b,tag:c.tag,payload:c.payload,callback:c.callback,next:null},O===null?(x=O=m,u=Y):O=O.next=m,s|=b;if(c=c.next,c===null){if(c=i.shared.pending,c===null)break;b=c,c=b.next,b.next=null,i.lastBaseUpdate=b,i.shared.pending=null}}while(1);if(O===null&&(u=Y),i.baseState=u,i.firstBaseUpdate=x,i.lastBaseUpdate=O,e=i.shared.interleaved,e!==null){i=e;do s|=i.lane,i=i.next;while(i!==e)}else o===null&&(i.shared.lanes=0);Cs|=s,t.lanes=s,t.memoizedState=Y}}function ly(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(kt(191,i));i.call(r)}}}var Xx=new Y2.Component().refs;function O0(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$n({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Kf={isMounted:function(t){return(t=t._reactInternals)?Ms(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Xr(),i=Aa(t),o=Vo(r,i);o.payload=e,n!=null&&(o.callback=n),e=Ma(t,o,i),e!==null&&(lo(e,t,i,r),nd(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Xr(),i=Aa(t),o=Vo(r,i);o.tag=1,o.payload=e,n!=null&&(o.callback=n),e=Ma(t,o,i),e!==null&&(lo(e,t,i,r),nd(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Xr(),r=Aa(t),i=Vo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ma(t,i,r),e!==null&&(lo(e,t,r,n),nd(e,t,r))}};function cy(t,e,n,r,i,o,s){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,o,s):e.prototype&&e.prototype.isPureReactComponent?!Xc(n,r)||!Xc(i,o):!0}function $x(t,e,n){var r=!1,i=Ra,o=e.contextType;return typeof o=="object"&&o!==null?o=Fi(o):(i=ui(e)?ks:Vr.current,r=e.contextTypes,o=(r=r!=null)?Il(t,i):Ra),e=new e(n,o),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Kf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function uy(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Kf.enqueueReplaceState(e,e.state,null)}function M0(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=Xx,Ym(t);var o=e.contextType;typeof o=="object"&&o!==null?i.context=Fi(o):(o=ui(e)?ks:Vr.current,i.context=Il(t,o)),i.state=t.memoizedState,o=e.getDerivedStateFromProps,typeof o=="function"&&(O0(t,e,o,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Kf.enqueueReplaceState(i,i.state,null),Kd(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ec(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(kt(309));var r=n.stateNode}if(!r)throw Error(kt(147,t));var i=r,o=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===o?e.ref:(e=function(s){var c=i.refs;c===Xx&&(c=i.refs={}),s===null?delete c[o]:c[o]=s},e._stringRef=o,e)}if(typeof t!="string")throw Error(kt(284));if(!n._owner)throw Error(kt(290,t))}return t}function Hu(t,e){throw t=Object.prototype.toString.call(e),Error(kt(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function dy(t){var e=t._init;return e(t._payload)}function qx(t){function e(h,f){if(t){var D=h.deletions;D===null?(h.deletions=[f],h.flags|=16):D.push(f)}}function n(h,f){if(!t)return null;for(;f!==null;)e(h,f),f=f.sibling;return null}function r(h,f){for(h=new Map;f!==null;)f.key!==null?h.set(f.key,f):h.set(f.index,f),f=f.sibling;return h}function i(h,f){return h=Ia(h,f),h.index=0,h.sibling=null,h}function o(h,f,D){return h.index=D,t?(D=h.alternate,D!==null?(D=D.index,D<f?(h.flags|=2,f):D):(h.flags|=2,f)):(h.flags|=1048576,f)}function s(h){return t&&h.alternate===null&&(h.flags|=2),h}function c(h,f,D,k){return f===null||f.tag!==6?(f=bh(D,h.mode,k),f.return=h,f):(f=i(f,D),f.return=h,f)}function u(h,f,D,k){var R=D.type;return R===Ks?O(h,f,D.props.children,k,D.key):f!==null&&(f.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===aa&&dy(R)===f.type)?(k=i(f,D.props),k.ref=ec(h,f,D),k.return=h,k):(k=ld(D.type,D.key,D.props,null,h.mode,k),k.ref=ec(h,f,D),k.return=h,k)}function x(h,f,D,k){return f===null||f.tag!==4||f.stateNode.containerInfo!==D.containerInfo||f.stateNode.implementation!==D.implementation?(f=xh(D,h.mode,k),f.return=h,f):(f=i(f,D.children||[]),f.return=h,f)}function O(h,f,D,k,R){return f===null||f.tag!==7?(f=ms(D,h.mode,k,R),f.return=h,f):(f=i(f,D),f.return=h,f)}function Y(h,f,D){if(typeof f=="string"&&f!==""||typeof f=="number")return f=bh(""+f,h.mode,D),f.return=h,f;if(typeof f=="object"&&f!==null){switch(f.$$typeof){case Iu:return D=ld(f.type,f.key,f.props,null,h.mode,D),D.ref=ec(h,null,f),D.return=h,D;case Vs:return f=xh(f,h.mode,D),f.return=h,f;case aa:var k=f._init;return Y(h,k(f._payload),D)}if(dc(f)||Jl(f))return f=ms(f,h.mode,D,null),f.return=h,f;Hu(h,f)}return null}function b(h,f,D,k){var R=f!==null?f.key:null;if(typeof D=="string"&&D!==""||typeof D=="number")return R!==null?null:c(h,f,""+D,k);if(typeof D=="object"&&D!==null){switch(D.$$typeof){case Iu:return D.key===R?u(h,f,D,k):null;case Vs:return D.key===R?x(h,f,D,k):null;case aa:return R=D._init,b(h,f,R(D._payload),k)}if(dc(D)||Jl(D))return R!==null?null:O(h,f,D,k,null);Hu(h,D)}return null}function m(h,f,D,k,R){if(typeof k=="string"&&k!==""||typeof k=="number")return h=h.get(D)||null,c(f,h,""+k,R);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Iu:return h=h.get(k.key===null?D:k.key)||null,u(f,h,k,R);case Vs:return h=h.get(k.key===null?D:k.key)||null,x(f,h,k,R);case aa:var d=k._init;return m(h,f,D,d(k._payload),R)}if(dc(k)||Jl(k))return h=h.get(D)||null,O(f,h,k,R,null);Hu(f,k)}return null}function a(h,f,D,k){for(var R=null,d=null,Z=f,B=f=0,ee=null;Z!==null&&B<D.length;B++){Z.index>B?(ee=Z,Z=null):ee=Z.sibling;var he=b(h,Z,D[B],k);if(he===null){Z===null&&(Z=ee);break}t&&Z&&he.alternate===null&&e(h,Z),f=o(he,f,B),d===null?R=he:d.sibling=he,d=he,Z=ee}if(B===D.length)return n(h,Z),Vn&&qa(h,B),R;if(Z===null){for(;B<D.length;B++)Z=Y(h,D[B],k),Z!==null&&(f=o(Z,f,B),d===null?R=Z:d.sibling=Z,d=Z);return Vn&&qa(h,B),R}for(Z=r(h,Z);B<D.length;B++)ee=m(Z,h,B,D[B],k),ee!==null&&(t&&ee.alternate!==null&&Z.delete(ee.key===null?B:ee.key),f=o(ee,f,B),d===null?R=ee:d.sibling=ee,d=ee);return t&&Z.forEach(function(N){return e(h,N)}),Vn&&qa(h,B),R}function v(h,f,D,k){var R=Jl(D);if(typeof R!="function")throw Error(kt(150));if(D=R.call(D),D==null)throw Error(kt(151));for(var d=R=null,Z=f,B=f=0,ee=null,he=D.next();Z!==null&&!he.done;B++,he=D.next()){Z.index>B?(ee=Z,Z=null):ee=Z.sibling;var N=b(h,Z,he.value,k);if(N===null){Z===null&&(Z=ee);break}t&&Z&&N.alternate===null&&e(h,Z),f=o(N,f,B),d===null?R=N:d.sibling=N,d=N,Z=ee}if(he.done)return n(h,Z),Vn&&qa(h,B),R;if(Z===null){for(;!he.done;B++,he=D.next())he=Y(h,he.value,k),he!==null&&(f=o(he,f,B),d===null?R=he:d.sibling=he,d=he);return Vn&&qa(h,B),R}for(Z=r(h,Z);!he.done;B++,he=D.next())he=m(Z,h,B,he.value,k),he!==null&&(t&&he.alternate!==null&&Z.delete(he.key===null?B:he.key),f=o(he,f,B),d===null?R=he:d.sibling=he,d=he);return t&&Z.forEach(function(ke){return e(h,ke)}),Vn&&qa(h,B),R}function E(h,f,D,k){if(typeof D=="object"&&D!==null&&D.type===Ks&&D.key===null&&(D=D.props.children),typeof D=="object"&&D!==null){switch(D.$$typeof){case Iu:e:{for(var R=D.key,d=f;d!==null;){if(d.key===R){if(R=D.type,R===Ks){if(d.tag===7){n(h,d.sibling),f=i(d,D.props.children),f.return=h,h=f;break e}}else if(d.elementType===R||typeof R=="object"&&R!==null&&R.$$typeof===aa&&dy(R)===d.type){n(h,d.sibling),f=i(d,D.props),f.ref=ec(h,d,D),f.return=h,h=f;break e}n(h,d);break}else e(h,d);d=d.sibling}D.type===Ks?(f=ms(D.props.children,h.mode,k,D.key),f.return=h,h=f):(k=ld(D.type,D.key,D.props,null,h.mode,k),k.ref=ec(h,f,D),k.return=h,h=k)}return s(h);case Vs:e:{for(d=D.key;f!==null;){if(f.key===d)if(f.tag===4&&f.stateNode.containerInfo===D.containerInfo&&f.stateNode.implementation===D.implementation){n(h,f.sibling),f=i(f,D.children||[]),f.return=h,h=f;break e}else{n(h,f);break}else e(h,f);f=f.sibling}f=xh(D,h.mode,k),f.return=h,h=f}return s(h);case aa:return d=D._init,E(h,f,d(D._payload),k)}if(dc(D))return a(h,f,D,k);if(Jl(D))return v(h,f,D,k);Hu(h,D)}return typeof D=="string"&&D!==""||typeof D=="number"?(D=""+D,f!==null&&f.tag===6?(n(h,f.sibling),f=i(f,D),f.return=h,h=f):(n(h,f),f=bh(D,h.mode,k),f.return=h,h=f),s(h)):n(h,f)}return E}var _l=qx(!0),Qx=qx(!1),pu={},Co=Wa(pu),eu=Wa(pu),tu=Wa(pu);function ss(t){if(t===pu)throw Error(kt(174));return t}function Jm(t,e){switch(Bn(tu,e),Bn(eu,t),Bn(Co,pu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:a0(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=a0(e,t)}Wn(Co),Bn(Co,e)}function Pl(){Wn(Co),Wn(eu),Wn(tu)}function ew(t){ss(tu.current);var e=ss(Co.current),n=a0(e,t.type);e!==n&&(Bn(eu,t),Bn(Co,n))}function Xm(t){eu.current===t&&(Wn(Co),Wn(eu))}var Jn=Wa(0);function Gd(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var ph=[];function $m(){for(var t=0;t<ph.length;t++)ph[t]._workInProgressVersionPrimary=null;ph.length=0}var rd=$o.ReactCurrentDispatcher,hh=$o.ReactCurrentBatchConfig,Ss=0,Xn=null,mr=null,wr=null,Yd=!1,Dc=!1,nu=0,W8=0;function zr(){throw Error(kt(321))}function qm(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!uo(t[n],e[n]))return!1;return!0}function Qm(t,e,n,r,i,o){if(Ss=o,Xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,rd.current=t===null||t.memoizedState===null?G8:Y8,t=n(r,i),Dc){o=0;do{if(Dc=!1,nu=0,25<=o)throw Error(kt(301));o+=1,wr=mr=null,e.updateQueue=null,rd.current=J8,t=n(r,i)}while(Dc)}if(rd.current=Jd,e=mr!==null&&mr.next!==null,Ss=0,wr=mr=Xn=null,Yd=!1,e)throw Error(kt(300));return t}function eg(){var t=nu!==0;return nu=0,t}function mo(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return wr===null?Xn.memoizedState=wr=t:wr=wr.next=t,wr}function Hi(){if(mr===null){var t=Xn.alternate;t=t!==null?t.memoizedState:null}else t=mr.next;var e=wr===null?Xn.memoizedState:wr.next;if(e!==null)wr=e,mr=t;else{if(t===null)throw Error(kt(310));mr=t,t={memoizedState:mr.memoizedState,baseState:mr.baseState,baseQueue:mr.baseQueue,queue:mr.queue,next:null},wr===null?Xn.memoizedState=wr=t:wr=wr.next=t}return wr}function ru(t,e){return typeof e=="function"?e(t):e}function mh(t){var e=Hi(),n=e.queue;if(n===null)throw Error(kt(311));n.lastRenderedReducer=t;var r=mr,i=r.baseQueue,o=n.pending;if(o!==null){if(i!==null){var s=i.next;i.next=o.next,o.next=s}r.baseQueue=i=o,n.pending=null}if(i!==null){o=i.next,r=r.baseState;var c=s=null,u=null,x=o;do{var O=x.lane;if((Ss&O)===O)u!==null&&(u=u.next={lane:0,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null}),r=x.hasEagerState?x.eagerState:t(r,x.action);else{var Y={lane:O,action:x.action,hasEagerState:x.hasEagerState,eagerState:x.eagerState,next:null};u===null?(c=u=Y,s=r):u=u.next=Y,Xn.lanes|=O,Cs|=O}x=x.next}while(x!==null&&x!==o);u===null?s=r:u.next=c,uo(r,e.memoizedState)||(oi=!0),e.memoizedState=r,e.baseState=s,e.baseQueue=u,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do o=i.lane,Xn.lanes|=o,Cs|=o,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function gh(t){var e=Hi(),n=e.queue;if(n===null)throw Error(kt(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,o=e.memoizedState;if(i!==null){n.pending=null;var s=i=i.next;do o=t(o,s.action),s=s.next;while(s!==i);uo(o,e.memoizedState)||(oi=!0),e.memoizedState=o,e.baseQueue===null&&(e.baseState=o),n.lastRenderedState=o}return[o,r]}function tw(){}function nw(t,e){var n=Xn,r=Hi(),i=e(),o=!uo(r.memoizedState,i);if(o&&(r.memoizedState=i,oi=!0),r=r.queue,tg(ow.bind(null,n,r,t),[t]),r.getSnapshot!==e||o||wr!==null&&wr.memoizedState.tag&1){if(n.flags|=2048,iu(9,iw.bind(null,n,r,i,e),void 0,null),Sr===null)throw Error(kt(349));Ss&30||rw(n,e,i)}return i}function rw(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function iw(t,e,n,r){e.value=n,e.getSnapshot=r,aw(e)&&sw(t)}function ow(t,e,n){return n(function(){aw(e)&&sw(t)})}function aw(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!uo(t,n)}catch{return!0}}function sw(t){var e=Jo(t,1);e!==null&&lo(e,t,1,-1)}function fy(t){var e=mo();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ru,lastRenderedState:t},e.queue=t,t=t.dispatch=K8.bind(null,Xn,t),[e.memoizedState,t]}function iu(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Xn.updateQueue,e===null?(e={lastEffect:null,stores:null},Xn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function lw(){return Hi().memoizedState}function id(t,e,n,r){var i=mo();Xn.flags|=t,i.memoizedState=iu(1|e,n,void 0,r===void 0?null:r)}function Gf(t,e,n,r){var i=Hi();r=r===void 0?null:r;var o=void 0;if(mr!==null){var s=mr.memoizedState;if(o=s.destroy,r!==null&&qm(r,s.deps)){i.memoizedState=iu(e,n,o,r);return}}Xn.flags|=t,i.memoizedState=iu(1|e,n,o,r)}function py(t,e){return id(8390656,8,t,e)}function tg(t,e){return Gf(2048,8,t,e)}function cw(t,e){return Gf(4,2,t,e)}function uw(t,e){return Gf(4,4,t,e)}function dw(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function fw(t,e,n){return n=n!=null?n.concat([t]):null,Gf(4,4,dw.bind(null,e,t),n)}function ng(){}function pw(t,e){var n=Hi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qm(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function hw(t,e){var n=Hi();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&qm(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function mw(t,e,n){return Ss&21?(uo(n,e)||(n=yx(),Xn.lanes|=n,Cs|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,oi=!0),t.memoizedState=n)}function U8(t,e){var n=_n;_n=n!==0&&4>n?n:4,t(!0);var r=hh.transition;hh.transition={};try{t(!1),e()}finally{_n=n,hh.transition=r}}function gw(){return Hi().memoizedState}function V8(t,e,n){var r=Aa(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},vw(t))yw(e,n);else if(n=Yx(t,e,n,r),n!==null){var i=Xr();lo(n,t,r,i),bw(n,e,r)}}function K8(t,e,n){var r=Aa(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(vw(t))yw(e,i);else{var o=t.alternate;if(t.lanes===0&&(o===null||o.lanes===0)&&(o=e.lastRenderedReducer,o!==null))try{var s=e.lastRenderedState,c=o(s,n);if(i.hasEagerState=!0,i.eagerState=c,uo(c,s)){var u=e.interleaved;u===null?(i.next=i,Gm(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}n=Yx(t,e,i,r),n!==null&&(i=Xr(),lo(n,t,r,i),bw(n,e,r))}}function vw(t){var e=t.alternate;return t===Xn||e!==null&&e===Xn}function yw(t,e){Dc=Yd=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function bw(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,_m(t,n)}}var Jd={readContext:Fi,useCallback:zr,useContext:zr,useEffect:zr,useImperativeHandle:zr,useInsertionEffect:zr,useLayoutEffect:zr,useMemo:zr,useReducer:zr,useRef:zr,useState:zr,useDebugValue:zr,useDeferredValue:zr,useTransition:zr,useMutableSource:zr,useSyncExternalStore:zr,useId:zr,unstable_isNewReconciler:!1},G8={readContext:Fi,useCallback:function(t,e){return mo().memoizedState=[t,e===void 0?null:e],t},useContext:Fi,useEffect:py,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,id(4194308,4,dw.bind(null,e,t),n)},useLayoutEffect:function(t,e){return id(4194308,4,t,e)},useInsertionEffect:function(t,e){return id(4,2,t,e)},useMemo:function(t,e){var n=mo();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=mo();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=V8.bind(null,Xn,t),[r.memoizedState,t]},useRef:function(t){var e=mo();return t={current:t},e.memoizedState=t},useState:fy,useDebugValue:ng,useDeferredValue:function(t){return mo().memoizedState=t},useTransition:function(){var t=fy(!1),e=t[0];return t=U8.bind(null,t[1]),mo().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Xn,i=mo();if(Vn){if(n===void 0)throw Error(kt(407));n=n()}else{if(n=e(),Sr===null)throw Error(kt(349));Ss&30||rw(r,e,n)}i.memoizedState=n;var o={value:n,getSnapshot:e};return i.queue=o,py(ow.bind(null,r,o,t),[t]),r.flags|=2048,iu(9,iw.bind(null,r,o,n,e),void 0,null),n},useId:function(){var t=mo(),e=Sr.identifierPrefix;if(Vn){var n=Fo,r=Zo;n=(r&~(1<<32-so(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=nu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=W8++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},Y8={readContext:Fi,useCallback:pw,useContext:Fi,useEffect:tg,useImperativeHandle:fw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:hw,useReducer:mh,useRef:lw,useState:function(){return mh(ru)},useDebugValue:ng,useDeferredValue:function(t){var e=Hi();return mw(e,mr.memoizedState,t)},useTransition:function(){var t=mh(ru)[0],e=Hi().memoizedState;return[t,e]},useMutableSource:tw,useSyncExternalStore:nw,useId:gw,unstable_isNewReconciler:!1},J8={readContext:Fi,useCallback:pw,useContext:Fi,useEffect:tg,useImperativeHandle:fw,useInsertionEffect:cw,useLayoutEffect:uw,useMemo:hw,useReducer:gh,useRef:lw,useState:function(){return gh(ru)},useDebugValue:ng,useDeferredValue:function(t){var e=Hi();return mr===null?e.memoizedState=t:mw(e,mr.memoizedState,t)},useTransition:function(){var t=gh(ru)[0],e=Hi().memoizedState;return[t,e]},useMutableSource:tw,useSyncExternalStore:nw,useId:gw,unstable_isNewReconciler:!1};function Ll(t,e){try{var n="",r=e;do n+=ED(r),r=r.return;while(r);var i=n}catch(o){i=`
Error generating stack: `+o.message+`
`+o.stack}return{value:t,source:e,stack:i,digest:null}}function vh(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function T0(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var X8=typeof WeakMap=="function"?WeakMap:Map;function xw(t,e,n){n=Vo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){$d||($d=!0,B0=r),T0(t,e)},n}function ww(t,e,n){n=Vo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){T0(t,e)}}var o=t.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){T0(t,e),typeof r!="function"&&(Ta===null?Ta=new Set([this]):Ta.add(this));var s=e.stack;this.componentDidCatch(e.value,{componentStack:s!==null?s:""})}),n}function hy(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new X8;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=uO.bind(null,t,e,n),e.then(t,t))}function my(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function gy(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Vo(-1,1),e.tag=2,Ma(n,e,1))),n.lanes|=1),t)}var $8=$o.ReactCurrentOwner,oi=!1;function Yr(t,e,n,r){e.child=t===null?Qx(e,null,n,r):_l(e,t.child,n,r)}function vy(t,e,n,r,i){n=n.render;var o=e.ref;return gl(e,i),r=Qm(t,e,n,r,o,i),n=eg(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xo(t,e,i)):(Vn&&n&&Fm(e),e.flags|=1,Yr(t,e,r,i),e.child)}function yy(t,e,n,r,i){if(t===null){var o=n.type;return typeof o=="function"&&!ug(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=o,kw(t,e,o,r,i)):(t=ld(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(o=t.child,!(t.lanes&i)){var s=o.memoizedProps;if(n=n.compare,n=n!==null?n:Xc,n(s,r)&&t.ref===e.ref)return Xo(t,e,i)}return e.flags|=1,t=Ia(o,r),t.ref=e.ref,t.return=e,e.child=t}function kw(t,e,n,r,i){if(t!==null){var o=t.memoizedProps;if(Xc(o,r)&&t.ref===e.ref)if(oi=!1,e.pendingProps=r=o,(t.lanes&i)!==0)t.flags&131072&&(oi=!0);else return e.lanes=t.lanes,Xo(t,e,i)}return A0(t,e,n,r,i)}function Ew(t,e,n){var r=e.pendingProps,i=r.children,o=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},Bn(nl,vi),vi|=n;else{if(!(n&1073741824))return t=o!==null?o.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,Bn(nl,vi),vi|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,Bn(nl,vi),vi|=r}else o!==null?(r=o.baseLanes|n,e.memoizedState=null):r=n,Bn(nl,vi),vi|=r;return Yr(t,e,i,n),e.child}function Sw(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function A0(t,e,n,r,i){var o=ui(n)?ks:Vr.current;return o=Il(e,o),gl(e,i),n=Qm(t,e,n,r,o,i),r=eg(),t!==null&&!oi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xo(t,e,i)):(Vn&&r&&Fm(e),e.flags|=1,Yr(t,e,n,i),e.child)}function by(t,e,n,r,i){if(ui(n)){var o=!0;Fd(e)}else o=!1;if(gl(e,i),e.stateNode===null)od(t,e),$x(e,n,r),M0(e,n,r,i),r=!0;else if(t===null){var s=e.stateNode,c=e.memoizedProps;s.props=c;var u=s.context,x=n.contextType;typeof x=="object"&&x!==null?x=Fi(x):(x=ui(n)?ks:Vr.current,x=Il(e,x));var O=n.getDerivedStateFromProps,Y=typeof O=="function"||typeof s.getSnapshotBeforeUpdate=="function";Y||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==r||u!==x)&&uy(e,s,r,x),sa=!1;var b=e.memoizedState;s.state=b,Kd(e,r,s,i),u=e.memoizedState,c!==r||b!==u||ci.current||sa?(typeof O=="function"&&(O0(e,n,O,r),u=e.memoizedState),(c=sa||cy(e,n,c,r,b,u,x))?(Y||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount()),typeof s.componentDidMount=="function"&&(e.flags|=4194308)):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),s.props=r,s.state=u,s.context=x,r=c):(typeof s.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{s=e.stateNode,Jx(t,e),c=e.memoizedProps,x=e.type===e.elementType?c:Ji(e.type,c),s.props=x,Y=e.pendingProps,b=s.context,u=n.contextType,typeof u=="object"&&u!==null?u=Fi(u):(u=ui(n)?ks:Vr.current,u=Il(e,u));var m=n.getDerivedStateFromProps;(O=typeof m=="function"||typeof s.getSnapshotBeforeUpdate=="function")||typeof s.UNSAFE_componentWillReceiveProps!="function"&&typeof s.componentWillReceiveProps!="function"||(c!==Y||b!==u)&&uy(e,s,r,u),sa=!1,b=e.memoizedState,s.state=b,Kd(e,r,s,i);var a=e.memoizedState;c!==Y||b!==a||ci.current||sa?(typeof m=="function"&&(O0(e,n,m,r),a=e.memoizedState),(x=sa||cy(e,n,x,r,b,a,u)||!1)?(O||typeof s.UNSAFE_componentWillUpdate!="function"&&typeof s.componentWillUpdate!="function"||(typeof s.componentWillUpdate=="function"&&s.componentWillUpdate(r,a,u),typeof s.UNSAFE_componentWillUpdate=="function"&&s.UNSAFE_componentWillUpdate(r,a,u)),typeof s.componentDidUpdate=="function"&&(e.flags|=4),typeof s.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof s.componentDidUpdate!="function"||c===t.memoizedProps&&b===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&b===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=a),s.props=r,s.state=a,s.context=u,r=x):(typeof s.componentDidUpdate!="function"||c===t.memoizedProps&&b===t.memoizedState||(e.flags|=4),typeof s.getSnapshotBeforeUpdate!="function"||c===t.memoizedProps&&b===t.memoizedState||(e.flags|=1024),r=!1)}return I0(t,e,n,r,o,i)}function I0(t,e,n,r,i,o){Sw(t,e);var s=(e.flags&128)!==0;if(!r&&!s)return i&&iy(e,n,!1),Xo(t,e,o);r=e.stateNode,$8.current=e;var c=s&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&s?(e.child=_l(e,t.child,null,o),e.child=_l(e,null,c,o)):Yr(t,e,c,o),e.memoizedState=r.state,i&&iy(e,n,!0),e.child}function Cw(t){var e=t.stateNode;e.pendingContext?ry(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ry(t,e.context,!1),Jm(t,e.containerInfo)}function xy(t,e,n,r,i){return jl(),Wm(i),e.flags|=256,Yr(t,e,n,r),e.child}var j0={dehydrated:null,treeContext:null,retryLane:0};function _0(t){return{baseLanes:t,cachePool:null,transitions:null}}function Dw(t,e,n){var r=e.pendingProps,i=Jn.current,o=!1,s=(e.flags&128)!==0,c;if((c=s)||(c=t!==null&&t.memoizedState===null?!1:(i&2)!==0),c?(o=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),Bn(Jn,i&1),t===null)return C0(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(s=r.children,t=r.fallback,o?(r=e.mode,o=e.child,s={mode:"hidden",children:s},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=s):o=Xf(s,r,0,null),t=ms(t,r,n,null),o.return=e,t.return=e,o.sibling=t,e.child=o,e.child.memoizedState=_0(n),e.memoizedState=j0,t):rg(e,s));if(i=t.memoizedState,i!==null&&(c=i.dehydrated,c!==null))return q8(t,e,s,r,c,i,n);if(o){o=r.fallback,s=e.mode,i=t.child,c=i.sibling;var u={mode:"hidden",children:r.children};return!(s&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=Ia(i,u),r.subtreeFlags=i.subtreeFlags&14680064),c!==null?o=Ia(c,o):(o=ms(o,s,n,null),o.flags|=2),o.return=e,r.return=e,r.sibling=o,e.child=r,r=o,o=e.child,s=t.child.memoizedState,s=s===null?_0(n):{baseLanes:s.baseLanes|n,cachePool:null,transitions:s.transitions},o.memoizedState=s,o.childLanes=t.childLanes&~n,e.memoizedState=j0,r}return o=t.child,t=o.sibling,r=Ia(o,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function rg(t,e){return e=Xf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Wu(t,e,n,r){return r!==null&&Wm(r),_l(e,t.child,null,n),t=rg(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function q8(t,e,n,r,i,o,s){if(n)return e.flags&256?(e.flags&=-257,r=vh(Error(kt(422))),Wu(t,e,s,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(o=r.fallback,i=e.mode,r=Xf({mode:"visible",children:r.children},i,0,null),o=ms(o,i,s,null),o.flags|=2,r.return=e,o.return=e,r.sibling=o,e.child=r,e.mode&1&&_l(e,t.child,null,s),e.child.memoizedState=_0(s),e.memoizedState=j0,o);if(!(e.mode&1))return Wu(t,e,s,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var c=r.dgst;return r=c,o=Error(kt(419)),r=vh(o,r,void 0),Wu(t,e,s,r)}if(c=(s&t.childLanes)!==0,oi||c){if(r=Sr,r!==null){switch(s&-s){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|s)?0:i,i!==0&&i!==o.retryLane&&(o.retryLane=i,Jo(t,i),lo(r,t,i,-1))}return cg(),r=vh(Error(kt(421))),Wu(t,e,s,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=dO.bind(null,t),i._reactRetry=e,null):(t=o.treeContext,xi=Oa(i.nextSibling),wi=e,Vn=!0,Qi=null,t!==null&&(_i[Pi++]=Zo,_i[Pi++]=Fo,_i[Pi++]=Es,Zo=t.id,Fo=t.overflow,Es=e),e=rg(e,r.children),e.flags|=4096,e)}function wy(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),D0(t.return,e,n)}function yh(t,e,n,r,i){var o=t.memoizedState;o===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(o.isBackwards=e,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=i)}function Ow(t,e,n){var r=e.pendingProps,i=r.revealOrder,o=r.tail;if(Yr(t,e,r.children,n),r=Jn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&wy(t,n,e);else if(t.tag===19)wy(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(Bn(Jn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Gd(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),yh(e,!1,i,n,o);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Gd(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}yh(e,!0,n,null,o);break;case"together":yh(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function od(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xo(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Cs|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(kt(153));if(e.child!==null){for(t=e.child,n=Ia(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Ia(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Q8(t,e,n){switch(e.tag){case 3:Cw(e),jl();break;case 5:ew(e);break;case 1:ui(e.type)&&Fd(e);break;case 4:Jm(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;Bn(Ud,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(Bn(Jn,Jn.current&1),e.flags|=128,null):n&e.child.childLanes?Dw(t,e,n):(Bn(Jn,Jn.current&1),t=Xo(t,e,n),t!==null?t.sibling:null);Bn(Jn,Jn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return Ow(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),Bn(Jn,Jn.current),r)break;return null;case 22:case 23:return e.lanes=0,Ew(t,e,n)}return Xo(t,e,n)}var Mw,P0,Tw,Aw;Mw=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};P0=function(){};Tw=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,ss(Co.current);var o=null;switch(n){case"input":i=n0(t,i),r=n0(t,r),o=[];break;case"select":i=$n({},i,{value:void 0}),r=$n({},r,{value:void 0}),o=[];break;case"textarea":i=o0(t,i),r=o0(t,r),o=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Bd)}s0(n,r);var s;n=null;for(x in i)if(!r.hasOwnProperty(x)&&i.hasOwnProperty(x)&&i[x]!=null)if(x==="style"){var c=i[x];for(s in c)c.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else x!=="dangerouslySetInnerHTML"&&x!=="children"&&x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(Wc.hasOwnProperty(x)?o||(o=[]):(o=o||[]).push(x,null));for(x in r){var u=r[x];if(c=i!=null?i[x]:void 0,r.hasOwnProperty(x)&&u!==c&&(u!=null||c!=null))if(x==="style")if(c){for(s in c)!c.hasOwnProperty(s)||u&&u.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in u)u.hasOwnProperty(s)&&c[s]!==u[s]&&(n||(n={}),n[s]=u[s])}else n||(o||(o=[]),o.push(x,n)),n=u;else x==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,c=c?c.__html:void 0,u!=null&&c!==u&&(o=o||[]).push(x,u)):x==="children"?typeof u!="string"&&typeof u!="number"||(o=o||[]).push(x,""+u):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&(Wc.hasOwnProperty(x)?(u!=null&&x==="onScroll"&&Hn("scroll",t),o||c===u||(o=[])):(o=o||[]).push(x,u))}n&&(o=o||[]).push("style",n);var x=o;(e.updateQueue=x)&&(e.flags|=4)}};Aw=function(t,e,n,r){n!==r&&(e.flags|=4)};function tc(t,e){if(!Vn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Br(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function eO(t,e,n){var r=e.pendingProps;switch(Hm(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Br(e),null;case 1:return ui(e.type)&&Zd(),Br(e),null;case 3:return r=e.stateNode,Pl(),Wn(ci),Wn(Vr),$m(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Fu(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qi!==null&&(H0(Qi),Qi=null))),P0(t,e),Br(e),null;case 5:Xm(e);var i=ss(tu.current);if(n=e.type,t!==null&&e.stateNode!=null)Tw(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(kt(166));return Br(e),null}if(t=ss(Co.current),Fu(e)){r=e.stateNode,n=e.type;var o=e.memoizedProps;switch(r[xo]=e,r[Qc]=o,t=(e.mode&1)!==0,n){case"dialog":Hn("cancel",r),Hn("close",r);break;case"iframe":case"object":case"embed":Hn("load",r);break;case"video":case"audio":for(i=0;i<pc.length;i++)Hn(pc[i],r);break;case"source":Hn("error",r);break;case"img":case"image":case"link":Hn("error",r),Hn("load",r);break;case"details":Hn("toggle",r);break;case"input":Av(r,o),Hn("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},Hn("invalid",r);break;case"textarea":jv(r,o),Hn("invalid",r)}s0(n,o),i=null;for(var s in o)if(o.hasOwnProperty(s)){var c=o[s];s==="children"?typeof c=="string"?r.textContent!==c&&(o.suppressHydrationWarning!==!0&&Zu(r.textContent,c,t),i=["children",c]):typeof c=="number"&&r.textContent!==""+c&&(o.suppressHydrationWarning!==!0&&Zu(r.textContent,c,t),i=["children",""+c]):Wc.hasOwnProperty(s)&&c!=null&&s==="onScroll"&&Hn("scroll",r)}switch(n){case"input":ju(r),Iv(r,o,!0);break;case"textarea":ju(r),_v(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=Bd)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{s=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rx(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=s.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=s.createElement(n,{is:r.is}):(t=s.createElement(n),n==="select"&&(s=t,r.multiple?s.multiple=!0:r.size&&(s.size=r.size))):t=s.createElementNS(t,n),t[xo]=e,t[Qc]=r,Mw(t,e,!1,!1),e.stateNode=t;e:{switch(s=l0(n,r),n){case"dialog":Hn("cancel",t),Hn("close",t),i=r;break;case"iframe":case"object":case"embed":Hn("load",t),i=r;break;case"video":case"audio":for(i=0;i<pc.length;i++)Hn(pc[i],t);i=r;break;case"source":Hn("error",t),i=r;break;case"img":case"image":case"link":Hn("error",t),Hn("load",t),i=r;break;case"details":Hn("toggle",t),i=r;break;case"input":Av(t,r),i=n0(t,r),Hn("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$n({},r,{value:void 0}),Hn("invalid",t);break;case"textarea":jv(t,r),i=o0(t,r),Hn("invalid",t);break;default:i=r}s0(n,i),c=i;for(o in c)if(c.hasOwnProperty(o)){var u=c[o];o==="style"?ax(t,u):o==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&ix(t,u)):o==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Uc(t,u):typeof u=="number"&&Uc(t,""+u):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(Wc.hasOwnProperty(o)?u!=null&&o==="onScroll"&&Hn("scroll",t):u!=null&&Om(t,o,u,s))}switch(n){case"input":ju(t),Iv(t,r,!1);break;case"textarea":ju(t),_v(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Na(r.value));break;case"select":t.multiple=!!r.multiple,o=r.value,o!=null?fl(t,!!r.multiple,o,!1):r.defaultValue!=null&&fl(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Bd)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Br(e),null;case 6:if(t&&e.stateNode!=null)Aw(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(kt(166));if(n=ss(tu.current),ss(Co.current),Fu(e)){if(r=e.stateNode,n=e.memoizedProps,r[xo]=e,(o=r.nodeValue!==n)&&(t=wi,t!==null))switch(t.tag){case 3:Zu(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Zu(r.nodeValue,n,(t.mode&1)!==0)}o&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[xo]=e,e.stateNode=r}return Br(e),null;case 13:if(Wn(Jn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Vn&&xi!==null&&e.mode&1&&!(e.flags&128))Gx(),jl(),e.flags|=98560,o=!1;else if(o=Fu(e),r!==null&&r.dehydrated!==null){if(t===null){if(!o)throw Error(kt(318));if(o=e.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(kt(317));o[xo]=e}else jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Br(e),o=!1}else Qi!==null&&(H0(Qi),Qi=null),o=!0;if(!o)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Jn.current&1?yr===0&&(yr=3):cg())),e.updateQueue!==null&&(e.flags|=4),Br(e),null);case 4:return Pl(),P0(t,e),t===null&&$c(e.stateNode.containerInfo),Br(e),null;case 10:return Km(e.type._context),Br(e),null;case 17:return ui(e.type)&&Zd(),Br(e),null;case 19:if(Wn(Jn),o=e.memoizedState,o===null)return Br(e),null;if(r=(e.flags&128)!==0,s=o.rendering,s===null)if(r)tc(o,!1);else{if(yr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(s=Gd(t),s!==null){for(e.flags|=128,tc(o,!1),r=s.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)o=n,t=r,o.flags&=14680066,s=o.alternate,s===null?(o.childLanes=0,o.lanes=t,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=s.childLanes,o.lanes=s.lanes,o.child=s.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=s.memoizedProps,o.memoizedState=s.memoizedState,o.updateQueue=s.updateQueue,o.type=s.type,t=s.dependencies,o.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return Bn(Jn,Jn.current&1|2),e.child}t=t.sibling}o.tail!==null&&or()>Nl&&(e.flags|=128,r=!0,tc(o,!1),e.lanes=4194304)}else{if(!r)if(t=Gd(s),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),tc(o,!0),o.tail===null&&o.tailMode==="hidden"&&!s.alternate&&!Vn)return Br(e),null}else 2*or()-o.renderingStartTime>Nl&&n!==1073741824&&(e.flags|=128,r=!0,tc(o,!1),e.lanes=4194304);o.isBackwards?(s.sibling=e.child,e.child=s):(n=o.last,n!==null?n.sibling=s:e.child=s,o.last=s)}return o.tail!==null?(e=o.tail,o.rendering=e,o.tail=e.sibling,o.renderingStartTime=or(),e.sibling=null,n=Jn.current,Bn(Jn,r?n&1|2:n&1),e):(Br(e),null);case 22:case 23:return lg(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vi&1073741824&&(Br(e),e.subtreeFlags&6&&(e.flags|=8192)):Br(e),null;case 24:return null;case 25:return null}throw Error(kt(156,e.tag))}function tO(t,e){switch(Hm(e),e.tag){case 1:return ui(e.type)&&Zd(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Pl(),Wn(ci),Wn(Vr),$m(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Xm(e),null;case 13:if(Wn(Jn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(kt(340));jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Wn(Jn),null;case 4:return Pl(),null;case 10:return Km(e.type._context),null;case 22:case 23:return lg(),null;case 24:return null;default:return null}}var Uu=!1,Wr=!1,nO=typeof WeakSet=="function"?WeakSet:Set,Ft=null;function tl(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qn(t,e,r)}else n.current=null}function L0(t,e,n){try{n()}catch(r){Qn(t,e,r)}}var ky=!1;function rO(t,e){if(y0=Nd,t=Px(),Zm(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var s=0,c=-1,u=-1,x=0,O=0,Y=t,b=null;t:for(;;){for(var m;Y!==n||i!==0&&Y.nodeType!==3||(c=s+i),Y!==o||r!==0&&Y.nodeType!==3||(u=s+r),Y.nodeType===3&&(s+=Y.nodeValue.length),(m=Y.firstChild)!==null;)b=Y,Y=m;for(;;){if(Y===t)break t;if(b===n&&++x===i&&(c=s),b===o&&++O===r&&(u=s),(m=Y.nextSibling)!==null)break;Y=b,b=Y.parentNode}Y=m}n=c===-1||u===-1?null:{start:c,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(b0={focusedElem:t,selectionRange:n},Nd=!1,Ft=e;Ft!==null;)if(e=Ft,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Ft=t;else for(;Ft!==null;){e=Ft;try{var a=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(a!==null){var v=a.memoizedProps,E=a.memoizedState,h=e.stateNode,f=h.getSnapshotBeforeUpdate(e.elementType===e.type?v:Ji(e.type,v),E);h.__reactInternalSnapshotBeforeUpdate=f}break;case 3:var D=e.stateNode.containerInfo;D.nodeType===1?D.textContent="":D.nodeType===9&&D.documentElement&&D.removeChild(D.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(kt(163))}}catch(k){Qn(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,Ft=t;break}Ft=e.return}return a=ky,ky=!1,a}function Oc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var o=i.destroy;i.destroy=void 0,o!==void 0&&L0(e,n,o)}i=i.next}while(i!==r)}}function Yf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function N0(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Iw(t){var e=t.alternate;e!==null&&(t.alternate=null,Iw(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[xo],delete e[Qc],delete e[k0],delete e[B8],delete e[Z8])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function jw(t){return t.tag===5||t.tag===3||t.tag===4}function Ey(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||jw(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function R0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Bd));else if(r!==4&&(t=t.child,t!==null))for(R0(t,e,n),t=t.sibling;t!==null;)R0(t,e,n),t=t.sibling}function z0(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(z0(t,e,n),t=t.sibling;t!==null;)z0(t,e,n),t=t.sibling}var Ar=null,$i=!1;function ra(t,e,n){for(n=n.child;n!==null;)_w(t,e,n),n=n.sibling}function _w(t,e,n){if(So&&typeof So.onCommitFiberUnmount=="function")try{So.onCommitFiberUnmount(Zf,n)}catch{}switch(n.tag){case 5:Wr||tl(n,e);case 6:var r=Ar,i=$i;Ar=null,ra(t,e,n),Ar=r,$i=i,Ar!==null&&($i?(t=Ar,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Ar.removeChild(n.stateNode));break;case 18:Ar!==null&&($i?(t=Ar,n=n.stateNode,t.nodeType===8?dh(t.parentNode,n):t.nodeType===1&&dh(t,n),Yc(t)):dh(Ar,n.stateNode));break;case 4:r=Ar,i=$i,Ar=n.stateNode.containerInfo,$i=!0,ra(t,e,n),Ar=r,$i=i;break;case 0:case 11:case 14:case 15:if(!Wr&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var o=i,s=o.destroy;o=o.tag,s!==void 0&&(o&2||o&4)&&L0(n,e,s),i=i.next}while(i!==r)}ra(t,e,n);break;case 1:if(!Wr&&(tl(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(c){Qn(n,e,c)}ra(t,e,n);break;case 21:ra(t,e,n);break;case 22:n.mode&1?(Wr=(r=Wr)||n.memoizedState!==null,ra(t,e,n),Wr=r):ra(t,e,n);break;default:ra(t,e,n)}}function Sy(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new nO),e.forEach(function(r){var i=fO.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Yi(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var o=t,s=e,c=s;e:for(;c!==null;){switch(c.tag){case 5:Ar=c.stateNode,$i=!1;break e;case 3:Ar=c.stateNode.containerInfo,$i=!0;break e;case 4:Ar=c.stateNode.containerInfo,$i=!0;break e}c=c.return}if(Ar===null)throw Error(kt(160));_w(o,s,i),Ar=null,$i=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(x){Qn(i,e,x)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Pw(e,t),e=e.sibling}function Pw(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Yi(e,t),ho(t),r&4){try{Oc(3,t,t.return),Yf(3,t)}catch(v){Qn(t,t.return,v)}try{Oc(5,t,t.return)}catch(v){Qn(t,t.return,v)}}break;case 1:Yi(e,t),ho(t),r&512&&n!==null&&tl(n,n.return);break;case 5:if(Yi(e,t),ho(t),r&512&&n!==null&&tl(n,n.return),t.flags&32){var i=t.stateNode;try{Uc(i,"")}catch(v){Qn(t,t.return,v)}}if(r&4&&(i=t.stateNode,i!=null)){var o=t.memoizedProps,s=n!==null?n.memoizedProps:o,c=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{c==="input"&&o.type==="radio"&&o.name!=null&&tx(i,o),l0(c,s);var x=l0(c,o);for(s=0;s<u.length;s+=2){var O=u[s],Y=u[s+1];O==="style"?ax(i,Y):O==="dangerouslySetInnerHTML"?ix(i,Y):O==="children"?Uc(i,Y):Om(i,O,Y,x)}switch(c){case"input":r0(i,o);break;case"textarea":nx(i,o);break;case"select":var b=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!o.multiple;var m=o.value;m!=null?fl(i,!!o.multiple,m,!1):b!==!!o.multiple&&(o.defaultValue!=null?fl(i,!!o.multiple,o.defaultValue,!0):fl(i,!!o.multiple,o.multiple?[]:"",!1))}i[Qc]=o}catch(v){Qn(t,t.return,v)}}break;case 6:if(Yi(e,t),ho(t),r&4){if(t.stateNode===null)throw Error(kt(162));i=t.stateNode,o=t.memoizedProps;try{i.nodeValue=o}catch(v){Qn(t,t.return,v)}}break;case 3:if(Yi(e,t),ho(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Yc(e.containerInfo)}catch(v){Qn(t,t.return,v)}break;case 4:Yi(e,t),ho(t);break;case 13:Yi(e,t),ho(t),i=t.child,i.flags&8192&&(o=i.memoizedState!==null,i.stateNode.isHidden=o,!o||i.alternate!==null&&i.alternate.memoizedState!==null||(ag=or())),r&4&&Sy(t);break;case 22:if(O=n!==null&&n.memoizedState!==null,t.mode&1?(Wr=(x=Wr)||O,Yi(e,t),Wr=x):Yi(e,t),ho(t),r&8192){if(x=t.memoizedState!==null,(t.stateNode.isHidden=x)&&!O&&t.mode&1)for(Ft=t,O=t.child;O!==null;){for(Y=Ft=O;Ft!==null;){switch(b=Ft,m=b.child,b.tag){case 0:case 11:case 14:case 15:Oc(4,b,b.return);break;case 1:tl(b,b.return);var a=b.stateNode;if(typeof a.componentWillUnmount=="function"){r=b,n=b.return;try{e=r,a.props=e.memoizedProps,a.state=e.memoizedState,a.componentWillUnmount()}catch(v){Qn(r,n,v)}}break;case 5:tl(b,b.return);break;case 22:if(b.memoizedState!==null){Dy(Y);continue}}m!==null?(m.return=b,Ft=m):Dy(Y)}O=O.sibling}e:for(O=null,Y=t;;){if(Y.tag===5){if(O===null){O=Y;try{i=Y.stateNode,x?(o=i.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(c=Y.stateNode,u=Y.memoizedProps.style,s=u!=null&&u.hasOwnProperty("display")?u.display:null,c.style.display=ox("display",s))}catch(v){Qn(t,t.return,v)}}}else if(Y.tag===6){if(O===null)try{Y.stateNode.nodeValue=x?"":Y.memoizedProps}catch(v){Qn(t,t.return,v)}}else if((Y.tag!==22&&Y.tag!==23||Y.memoizedState===null||Y===t)&&Y.child!==null){Y.child.return=Y,Y=Y.child;continue}if(Y===t)break e;for(;Y.sibling===null;){if(Y.return===null||Y.return===t)break e;O===Y&&(O=null),Y=Y.return}O===Y&&(O=null),Y.sibling.return=Y.return,Y=Y.sibling}}break;case 19:Yi(e,t),ho(t),r&4&&Sy(t);break;case 21:break;default:Yi(e,t),ho(t)}}function ho(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(jw(n)){var r=n;break e}n=n.return}throw Error(kt(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Uc(i,""),r.flags&=-33);var o=Ey(t);z0(t,o,i);break;case 3:case 4:var s=r.stateNode.containerInfo,c=Ey(t);R0(t,c,s);break;default:throw Error(kt(161))}}catch(u){Qn(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function iO(t,e,n){Ft=t,Lw(t)}function Lw(t,e,n){for(var r=(t.mode&1)!==0;Ft!==null;){var i=Ft,o=i.child;if(i.tag===22&&r){var s=i.memoizedState!==null||Uu;if(!s){var c=i.alternate,u=c!==null&&c.memoizedState!==null||Wr;c=Uu;var x=Wr;if(Uu=s,(Wr=u)&&!x)for(Ft=i;Ft!==null;)s=Ft,u=s.child,s.tag===22&&s.memoizedState!==null?Oy(i):u!==null?(u.return=s,Ft=u):Oy(i);for(;o!==null;)Ft=o,Lw(o),o=o.sibling;Ft=i,Uu=c,Wr=x}Cy(t)}else i.subtreeFlags&8772&&o!==null?(o.return=i,Ft=o):Cy(t)}}function Cy(t){for(;Ft!==null;){var e=Ft;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Wr||Yf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Wr)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:Ji(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=e.updateQueue;o!==null&&ly(e,o,r);break;case 3:var s=e.updateQueue;if(s!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}ly(e,s,n)}break;case 5:var c=e.stateNode;if(n===null&&e.flags&4){n=c;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var x=e.alternate;if(x!==null){var O=x.memoizedState;if(O!==null){var Y=O.dehydrated;Y!==null&&Yc(Y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(kt(163))}Wr||e.flags&512&&N0(e)}catch(b){Qn(e,e.return,b)}}if(e===t){Ft=null;break}if(n=e.sibling,n!==null){n.return=e.return,Ft=n;break}Ft=e.return}}function Dy(t){for(;Ft!==null;){var e=Ft;if(e===t){Ft=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Ft=n;break}Ft=e.return}}function Oy(t){for(;Ft!==null;){var e=Ft;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Yf(4,e)}catch(u){Qn(e,n,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){Qn(e,i,u)}}var o=e.return;try{N0(e)}catch(u){Qn(e,o,u)}break;case 5:var s=e.return;try{N0(e)}catch(u){Qn(e,s,u)}}}catch(u){Qn(e,e.return,u)}if(e===t){Ft=null;break}var c=e.sibling;if(c!==null){c.return=e.return,Ft=c;break}Ft=e.return}}var oO=Math.ceil,Xd=$o.ReactCurrentDispatcher,ig=$o.ReactCurrentOwner,zi=$o.ReactCurrentBatchConfig,Tn=0,Sr=null,ur=null,_r=0,vi=0,nl=Wa(0),yr=0,ou=null,Cs=0,Jf=0,og=0,Mc=null,ii=null,ag=0,Nl=1/0,Lo=null,$d=!1,B0=null,Ta=null,Vu=!1,va=null,qd=0,Tc=0,Z0=null,ad=-1,sd=0;function Xr(){return Tn&6?or():ad!==-1?ad:ad=or()}function Aa(t){return t.mode&1?Tn&2&&_r!==0?_r&-_r:H8.transition!==null?(sd===0&&(sd=yx()),sd):(t=_n,t!==0||(t=window.event,t=t===void 0?16:Cx(t.type)),t):1}function lo(t,e,n,r){if(50<Tc)throw Tc=0,Z0=null,Error(kt(185));uu(t,n,r),(!(Tn&2)||t!==Sr)&&(t===Sr&&(!(Tn&2)&&(Jf|=n),yr===4&&fa(t,_r)),di(t,r),n===1&&Tn===0&&!(e.mode&1)&&(Nl=or()+500,Vf&&Ua()))}function di(t,e){var n=t.callbackNode;HD(t,e);var r=Ld(t,t===Sr?_r:0);if(r===0)n!==null&&Nv(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&Nv(n),e===1)t.tag===0?F8(My.bind(null,t)):Ux(My.bind(null,t)),R8(function(){!(Tn&6)&&Ua()}),n=null;else{switch(bx(r)){case 1:n=jm;break;case 4:n=gx;break;case 16:n=Pd;break;case 536870912:n=vx;break;default:n=Pd}n=Ww(n,Nw.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Nw(t,e){if(ad=-1,sd=0,Tn&6)throw Error(kt(327));var n=t.callbackNode;if(vl()&&t.callbackNode!==n)return null;var r=Ld(t,t===Sr?_r:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Qd(t,r);else{e=r;var i=Tn;Tn|=2;var o=zw();(Sr!==t||_r!==e)&&(Lo=null,Nl=or()+500,hs(t,e));do try{lO();break}catch(c){Rw(t,c)}while(1);Vm(),Xd.current=o,Tn=i,ur!==null?e=0:(Sr=null,_r=0,e=yr)}if(e!==0){if(e===2&&(i=p0(t),i!==0&&(r=i,e=F0(t,i))),e===1)throw n=ou,hs(t,0),fa(t,r),di(t,or()),n;if(e===6)fa(t,r);else{if(i=t.current.alternate,!(r&30)&&!aO(i)&&(e=Qd(t,r),e===2&&(o=p0(t),o!==0&&(r=o,e=F0(t,o))),e===1))throw n=ou,hs(t,0),fa(t,r),di(t,or()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(kt(345));case 2:Qa(t,ii,Lo);break;case 3:if(fa(t,r),(r&130023424)===r&&(e=ag+500-or(),10<e)){if(Ld(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Xr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=w0(Qa.bind(null,t,ii,Lo),e);break}Qa(t,ii,Lo);break;case 4:if(fa(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var s=31-so(r);o=1<<s,s=e[s],s>i&&(i=s),r&=~o}if(r=i,r=or()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*oO(r/1960))-r,10<r){t.timeoutHandle=w0(Qa.bind(null,t,ii,Lo),r);break}Qa(t,ii,Lo);break;case 5:Qa(t,ii,Lo);break;default:throw Error(kt(329))}}}return di(t,or()),t.callbackNode===n?Nw.bind(null,t):null}function F0(t,e){var n=Mc;return t.current.memoizedState.isDehydrated&&(hs(t,e).flags|=256),t=Qd(t,e),t!==2&&(e=ii,ii=n,e!==null&&H0(e)),t}function H0(t){ii===null?ii=t:ii.push.apply(ii,t)}function aO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],o=i.getSnapshot;i=i.value;try{if(!uo(o(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function fa(t,e){for(e&=~og,e&=~Jf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-so(e),r=1<<n;t[n]=-1,e&=~r}}function My(t){if(Tn&6)throw Error(kt(327));vl();var e=Ld(t,0);if(!(e&1))return di(t,or()),null;var n=Qd(t,e);if(t.tag!==0&&n===2){var r=p0(t);r!==0&&(e=r,n=F0(t,r))}if(n===1)throw n=ou,hs(t,0),fa(t,e),di(t,or()),n;if(n===6)throw Error(kt(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Qa(t,ii,Lo),di(t,or()),null}function sg(t,e){var n=Tn;Tn|=1;try{return t(e)}finally{Tn=n,Tn===0&&(Nl=or()+500,Vf&&Ua())}}function Ds(t){va!==null&&va.tag===0&&!(Tn&6)&&vl();var e=Tn;Tn|=1;var n=zi.transition,r=_n;try{if(zi.transition=null,_n=1,t)return t()}finally{_n=r,zi.transition=n,Tn=e,!(Tn&6)&&Ua()}}function lg(){vi=nl.current,Wn(nl)}function hs(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,N8(n)),ur!==null)for(n=ur.return;n!==null;){var r=n;switch(Hm(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Zd();break;case 3:Pl(),Wn(ci),Wn(Vr),$m();break;case 5:Xm(r);break;case 4:Pl();break;case 13:Wn(Jn);break;case 19:Wn(Jn);break;case 10:Km(r.type._context);break;case 22:case 23:lg()}n=n.return}if(Sr=t,ur=t=Ia(t.current,null),_r=vi=e,yr=0,ou=null,og=Jf=Cs=0,ii=Mc=null,as!==null){for(e=0;e<as.length;e++)if(n=as[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,o=n.pending;if(o!==null){var s=o.next;o.next=i,r.next=s}n.pending=r}as=null}return t}function Rw(t,e){do{var n=ur;try{if(Vm(),rd.current=Jd,Yd){for(var r=Xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Yd=!1}if(Ss=0,wr=mr=Xn=null,Dc=!1,nu=0,ig.current=null,n===null||n.return===null){yr=1,ou=e,ur=null;break}e:{var o=t,s=n.return,c=n,u=e;if(e=_r,c.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var x=u,O=c,Y=O.tag;if(!(O.mode&1)&&(Y===0||Y===11||Y===15)){var b=O.alternate;b?(O.updateQueue=b.updateQueue,O.memoizedState=b.memoizedState,O.lanes=b.lanes):(O.updateQueue=null,O.memoizedState=null)}var m=my(s);if(m!==null){m.flags&=-257,gy(m,s,c,o,e),m.mode&1&&hy(o,x,e),e=m,u=x;var a=e.updateQueue;if(a===null){var v=new Set;v.add(u),e.updateQueue=v}else a.add(u);break e}else{if(!(e&1)){hy(o,x,e),cg();break e}u=Error(kt(426))}}else if(Vn&&c.mode&1){var E=my(s);if(E!==null){!(E.flags&65536)&&(E.flags|=256),gy(E,s,c,o,e),Wm(Ll(u,c));break e}}o=u=Ll(u,c),yr!==4&&(yr=2),Mc===null?Mc=[o]:Mc.push(o),o=s;do{switch(o.tag){case 3:o.flags|=65536,e&=-e,o.lanes|=e;var h=xw(o,u,e);sy(o,h);break e;case 1:c=u;var f=o.type,D=o.stateNode;if(!(o.flags&128)&&(typeof f.getDerivedStateFromError=="function"||D!==null&&typeof D.componentDidCatch=="function"&&(Ta===null||!Ta.has(D)))){o.flags|=65536,e&=-e,o.lanes|=e;var k=ww(o,c,e);sy(o,k);break e}}o=o.return}while(o!==null)}Zw(n)}catch(R){e=R,ur===n&&n!==null&&(ur=n=n.return);continue}break}while(1)}function zw(){var t=Xd.current;return Xd.current=Jd,t===null?Jd:t}function cg(){(yr===0||yr===3||yr===2)&&(yr=4),Sr===null||!(Cs&268435455)&&!(Jf&268435455)||fa(Sr,_r)}function Qd(t,e){var n=Tn;Tn|=2;var r=zw();(Sr!==t||_r!==e)&&(Lo=null,hs(t,e));do try{sO();break}catch(i){Rw(t,i)}while(1);if(Vm(),Tn=n,Xd.current=r,ur!==null)throw Error(kt(261));return Sr=null,_r=0,yr}function sO(){for(;ur!==null;)Bw(ur)}function lO(){for(;ur!==null&&!_D();)Bw(ur)}function Bw(t){var e=Hw(t.alternate,t,vi);t.memoizedProps=t.pendingProps,e===null?Zw(t):ur=e,ig.current=null}function Zw(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=tO(n,e),n!==null){n.flags&=32767,ur=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{yr=6,ur=null;return}}else if(n=eO(n,e,vi),n!==null){ur=n;return}if(e=e.sibling,e!==null){ur=e;return}ur=e=t}while(e!==null);yr===0&&(yr=5)}function Qa(t,e,n){var r=_n,i=zi.transition;try{zi.transition=null,_n=1,cO(t,e,n,r)}finally{zi.transition=i,_n=r}return null}function cO(t,e,n,r){do vl();while(va!==null);if(Tn&6)throw Error(kt(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(kt(177));t.callbackNode=null,t.callbackPriority=0;var o=n.lanes|n.childLanes;if(WD(t,o),t===Sr&&(ur=Sr=null,_r=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Vu||(Vu=!0,Ww(Pd,function(){return vl(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=zi.transition,zi.transition=null;var s=_n;_n=1;var c=Tn;Tn|=4,ig.current=null,rO(t,n),Pw(n,t),T8(b0),Nd=!!y0,b0=y0=null,t.current=n,iO(n),PD(),Tn=c,_n=s,zi.transition=o}else t.current=n;if(Vu&&(Vu=!1,va=t,qd=i),o=t.pendingLanes,o===0&&(Ta=null),RD(n.stateNode),di(t,or()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if($d)throw $d=!1,t=B0,B0=null,t;return qd&1&&t.tag!==0&&vl(),o=t.pendingLanes,o&1?t===Z0?Tc++:(Tc=0,Z0=t):Tc=0,Ua(),null}function vl(){if(va!==null){var t=bx(qd),e=zi.transition,n=_n;try{if(zi.transition=null,_n=16>t?16:t,va===null)var r=!1;else{if(t=va,va=null,qd=0,Tn&6)throw Error(kt(331));var i=Tn;for(Tn|=4,Ft=t.current;Ft!==null;){var o=Ft,s=o.child;if(Ft.flags&16){var c=o.deletions;if(c!==null){for(var u=0;u<c.length;u++){var x=c[u];for(Ft=x;Ft!==null;){var O=Ft;switch(O.tag){case 0:case 11:case 15:Oc(8,O,o)}var Y=O.child;if(Y!==null)Y.return=O,Ft=Y;else for(;Ft!==null;){O=Ft;var b=O.sibling,m=O.return;if(Iw(O),O===x){Ft=null;break}if(b!==null){b.return=m,Ft=b;break}Ft=m}}}var a=o.alternate;if(a!==null){var v=a.child;if(v!==null){a.child=null;do{var E=v.sibling;v.sibling=null,v=E}while(v!==null)}}Ft=o}}if(o.subtreeFlags&2064&&s!==null)s.return=o,Ft=s;else e:for(;Ft!==null;){if(o=Ft,o.flags&2048)switch(o.tag){case 0:case 11:case 15:Oc(9,o,o.return)}var h=o.sibling;if(h!==null){h.return=o.return,Ft=h;break e}Ft=o.return}}var f=t.current;for(Ft=f;Ft!==null;){s=Ft;var D=s.child;if(s.subtreeFlags&2064&&D!==null)D.return=s,Ft=D;else e:for(s=f;Ft!==null;){if(c=Ft,c.flags&2048)try{switch(c.tag){case 0:case 11:case 15:Yf(9,c)}}catch(R){Qn(c,c.return,R)}if(c===s){Ft=null;break e}var k=c.sibling;if(k!==null){k.return=c.return,Ft=k;break e}Ft=c.return}}if(Tn=i,Ua(),So&&typeof So.onPostCommitFiberRoot=="function")try{So.onPostCommitFiberRoot(Zf,t)}catch{}r=!0}return r}finally{_n=n,zi.transition=e}}return!1}function Ty(t,e,n){e=Ll(n,e),e=xw(t,e,1),t=Ma(t,e,1),e=Xr(),t!==null&&(uu(t,1,e),di(t,e))}function Qn(t,e,n){if(t.tag===3)Ty(t,t,n);else for(;e!==null;){if(e.tag===3){Ty(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ta===null||!Ta.has(r))){t=Ll(n,t),t=ww(e,t,1),e=Ma(e,t,1),t=Xr(),e!==null&&(uu(e,1,t),di(e,t));break}}e=e.return}}function uO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Xr(),t.pingedLanes|=t.suspendedLanes&n,Sr===t&&(_r&n)===n&&(yr===4||yr===3&&(_r&130023424)===_r&&500>or()-ag?hs(t,0):og|=n),di(t,e)}function Fw(t,e){e===0&&(t.mode&1?(e=Lu,Lu<<=1,!(Lu&130023424)&&(Lu=4194304)):e=1);var n=Xr();t=Jo(t,e),t!==null&&(uu(t,e,n),di(t,n))}function dO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Fw(t,n)}function fO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(kt(314))}r!==null&&r.delete(e),Fw(t,n)}var Hw;Hw=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ci.current)oi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return oi=!1,Q8(t,e,n);oi=!!(t.flags&131072)}else oi=!1,Vn&&e.flags&1048576&&Vx(e,Wd,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;od(t,e),t=e.pendingProps;var i=Il(e,Vr.current);gl(e,n),i=Qm(null,e,r,t,i,n);var o=eg();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,ui(r)?(o=!0,Fd(e)):o=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Ym(e),i.updater=Kf,e.stateNode=i,i._reactInternals=e,M0(e,r,t,n),e=I0(null,e,r,!0,o,n)):(e.tag=0,Vn&&o&&Fm(e),Yr(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(od(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=hO(r),t=Ji(r,t),i){case 0:e=A0(null,e,r,t,n);break e;case 1:e=by(null,e,r,t,n);break e;case 11:e=vy(null,e,r,t,n);break e;case 14:e=yy(null,e,r,Ji(r.type,t),n);break e}throw Error(kt(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),A0(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),by(t,e,r,i,n);case 3:e:{if(Cw(e),t===null)throw Error(kt(387));r=e.pendingProps,o=e.memoizedState,i=o.element,Jx(t,e),Kd(e,r,null,n);var s=e.memoizedState;if(r=s.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:s.cache,pendingSuspenseBoundaries:s.pendingSuspenseBoundaries,transitions:s.transitions},e.updateQueue.baseState=o,e.memoizedState=o,e.flags&256){i=Ll(Error(kt(423)),e),e=xy(t,e,r,n,i);break e}else if(r!==i){i=Ll(Error(kt(424)),e),e=xy(t,e,r,n,i);break e}else for(xi=Oa(e.stateNode.containerInfo.firstChild),wi=e,Vn=!0,Qi=null,n=Qx(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(jl(),r===i){e=Xo(t,e,n);break e}Yr(t,e,r,n)}e=e.child}return e;case 5:return ew(e),t===null&&C0(e),r=e.type,i=e.pendingProps,o=t!==null?t.memoizedProps:null,s=i.children,x0(r,i)?s=null:o!==null&&x0(r,o)&&(e.flags|=32),Sw(t,e),Yr(t,e,s,n),e.child;case 6:return t===null&&C0(e),null;case 13:return Dw(t,e,n);case 4:return Jm(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=_l(e,null,r,n):Yr(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),vy(t,e,r,i,n);case 7:return Yr(t,e,e.pendingProps,n),e.child;case 8:return Yr(t,e,e.pendingProps.children,n),e.child;case 12:return Yr(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,o=e.memoizedProps,s=i.value,Bn(Ud,r._currentValue),r._currentValue=s,o!==null)if(uo(o.value,s)){if(o.children===i.children&&!ci.current){e=Xo(t,e,n);break e}}else for(o=e.child,o!==null&&(o.return=e);o!==null;){var c=o.dependencies;if(c!==null){s=o.child;for(var u=c.firstContext;u!==null;){if(u.context===r){if(o.tag===1){u=Vo(-1,n&-n),u.tag=2;var x=o.updateQueue;if(x!==null){x=x.shared;var O=x.pending;O===null?u.next=u:(u.next=O.next,O.next=u),x.pending=u}}o.lanes|=n,u=o.alternate,u!==null&&(u.lanes|=n),D0(o.return,n,e),c.lanes|=n;break}u=u.next}}else if(o.tag===10)s=o.type===e.type?null:o.child;else if(o.tag===18){if(s=o.return,s===null)throw Error(kt(341));s.lanes|=n,c=s.alternate,c!==null&&(c.lanes|=n),D0(s,n,e),s=o.sibling}else s=o.child;if(s!==null)s.return=o;else for(s=o;s!==null;){if(s===e){s=null;break}if(o=s.sibling,o!==null){o.return=s.return,s=o;break}s=s.return}o=s}Yr(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,gl(e,n),i=Fi(i),r=r(i),e.flags|=1,Yr(t,e,r,n),e.child;case 14:return r=e.type,i=Ji(r,e.pendingProps),i=Ji(r.type,i),yy(t,e,r,i,n);case 15:return kw(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:Ji(r,i),od(t,e),e.tag=1,ui(r)?(t=!0,Fd(e)):t=!1,gl(e,n),$x(e,r,i),M0(e,r,i,n),I0(null,e,r,!0,t,n);case 19:return Ow(t,e,n);case 22:return Ew(t,e,n)}throw Error(kt(156,e.tag))};function Ww(t,e){return mx(t,e)}function pO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ni(t,e,n,r){return new pO(t,e,n,r)}function ug(t){return t=t.prototype,!(!t||!t.isReactComponent)}function hO(t){if(typeof t=="function")return ug(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Tm)return 11;if(t===Am)return 14}return 2}function Ia(t,e){var n=t.alternate;return n===null?(n=Ni(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ld(t,e,n,r,i,o){var s=2;if(r=t,typeof t=="function")ug(t)&&(s=1);else if(typeof t=="string")s=5;else e:switch(t){case Ks:return ms(n.children,i,o,e);case Mm:s=8,i|=8;break;case qh:return t=Ni(12,n,e,i|2),t.elementType=qh,t.lanes=o,t;case Qh:return t=Ni(13,n,e,i),t.elementType=Qh,t.lanes=o,t;case e0:return t=Ni(19,n,e,i),t.elementType=e0,t.lanes=o,t;case q2:return Xf(n,i,o,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case X2:s=10;break e;case $2:s=9;break e;case Tm:s=11;break e;case Am:s=14;break e;case aa:s=16,r=null;break e}throw Error(kt(130,t==null?t:typeof t,""))}return e=Ni(s,n,e,i),e.elementType=t,e.type=r,e.lanes=o,e}function ms(t,e,n,r){return t=Ni(7,t,r,e),t.lanes=n,t}function Xf(t,e,n,r){return t=Ni(22,t,r,e),t.elementType=q2,t.lanes=n,t.stateNode={isHidden:!1},t}function bh(t,e,n){return t=Ni(6,t,null,e),t.lanes=n,t}function xh(t,e,n){return e=Ni(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function mO(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eh(0),this.expirationTimes=eh(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eh(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function dg(t,e,n,r,i,o,s,c,u){return t=new mO(t,e,n,c,u),e===1?(e=1,o===!0&&(e|=8)):e=0,o=Ni(3,null,null,e),t.current=o,o.stateNode=t,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Ym(o),t}function gO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vs,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Uw(t){if(!t)return Ra;t=t._reactInternals;e:{if(Ms(t)!==t||t.tag!==1)throw Error(kt(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(ui(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(kt(171))}if(t.tag===1){var n=t.type;if(ui(n))return Wx(t,n,e)}return e}function Vw(t,e,n,r,i,o,s,c,u){return t=dg(n,r,!0,t,i,o,s,c,u),t.context=Uw(null),n=t.current,r=Xr(),i=Aa(n),o=Vo(r,i),o.callback=e??null,Ma(n,o,i),t.current.lanes=i,uu(t,i,r),di(t,r),t}function $f(t,e,n,r){var i=e.current,o=Xr(),s=Aa(i);return n=Uw(n),e.context===null?e.context=n:e.pendingContext=n,e=Vo(o,s),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ma(i,e,s),t!==null&&(lo(t,i,s,o),nd(t,i,s)),s}function ef(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Ay(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function fg(t,e){Ay(t,e),(t=t.alternate)&&Ay(t,e)}function vO(){return null}var Kw=typeof reportError=="function"?reportError:function(t){console.error(t)};function pg(t){this._internalRoot=t}qf.prototype.render=pg.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(kt(409));$f(t,e,null,null)};qf.prototype.unmount=pg.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ds(function(){$f(null,t,null,null)}),e[Yo]=null}};function qf(t){this._internalRoot=t}qf.prototype.unstable_scheduleHydration=function(t){if(t){var e=kx();t={blockedOn:null,target:t,priority:e};for(var n=0;n<da.length&&e!==0&&e<da[n].priority;n++);da.splice(n,0,t),n===0&&Sx(t)}};function hg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Iy(){}function yO(t,e,n,r,i){if(i){if(typeof r=="function"){var o=r;r=function(){var x=ef(s);o.call(x)}}var s=Vw(e,r,t,0,null,!1,!1,"",Iy);return t._reactRootContainer=s,t[Yo]=s.current,$c(t.nodeType===8?t.parentNode:t),Ds(),s}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var c=r;r=function(){var x=ef(u);c.call(x)}}var u=dg(t,0,!1,null,null,!1,!1,"",Iy);return t._reactRootContainer=u,t[Yo]=u.current,$c(t.nodeType===8?t.parentNode:t),Ds(function(){$f(e,u,n,r)}),u}function ep(t,e,n,r,i){var o=n._reactRootContainer;if(o){var s=o;if(typeof i=="function"){var c=i;i=function(){var u=ef(s);c.call(u)}}$f(e,s,t,i)}else s=yO(n,e,t,i,r);return ef(s)}xx=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=fc(e.pendingLanes);n!==0&&(_m(e,n|1),di(e,or()),!(Tn&6)&&(Nl=or()+500,Ua()))}break;case 13:Ds(function(){var r=Jo(t,1);if(r!==null){var i=Xr();lo(r,t,1,i)}}),fg(t,1)}};Pm=function(t){if(t.tag===13){var e=Jo(t,134217728);if(e!==null){var n=Xr();lo(e,t,134217728,n)}fg(t,134217728)}};wx=function(t){if(t.tag===13){var e=Aa(t),n=Jo(t,e);if(n!==null){var r=Xr();lo(n,t,e,r)}fg(t,e)}};kx=function(){return _n};Ex=function(t,e){var n=_n;try{return _n=t,e()}finally{_n=n}};u0=function(t,e,n){switch(e){case"input":if(r0(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Uf(r);if(!i)throw Error(kt(90));ex(r),r0(r,i)}}}break;case"textarea":nx(t,n);break;case"select":e=n.value,e!=null&&fl(t,!!n.multiple,e,!1)}};cx=sg;ux=Ds;var bO={usingClientEntryPoint:!1,Events:[fu,Xs,Uf,sx,lx,sg]},nc={findFiberByHostInstance:is,bundleType:0,version:"18.2.0",rendererPackageName:"react-dom"},xO={bundleType:nc.bundleType,version:nc.version,rendererPackageName:nc.rendererPackageName,rendererConfig:nc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:$o.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=px(t),t===null?null:t.stateNode},findFiberByHostInstance:nc.findFiberByHostInstance||vO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.2.0-next-9e3b772b8-20220608"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ku=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ku.isDisabled&&Ku.supportsFiber)try{Zf=Ku.inject(xO),So=Ku}catch{}}Si.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bO;Si.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!hg(e))throw Error(kt(200));return gO(t,e,null,n)};Si.createRoot=function(t,e){if(!hg(t))throw Error(kt(299));var n=!1,r="",i=Kw;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=dg(t,1,!1,null,null,n,!1,r,i),t[Yo]=e.current,$c(t.nodeType===8?t.parentNode:t),new pg(e)};Si.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(kt(188)):(t=Object.keys(t).join(","),Error(kt(268,t)));return t=px(e),t=t===null?null:t.stateNode,t};Si.flushSync=function(t){return Ds(t)};Si.hydrate=function(t,e,n){if(!Qf(e))throw Error(kt(200));return ep(null,t,e,!0,n)};Si.hydrateRoot=function(t,e,n){if(!hg(t))throw Error(kt(405));var r=n!=null&&n.hydratedSources||null,i=!1,o="",s=Kw;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(s=n.onRecoverableError)),e=Vw(e,null,t,1,n??null,i,!1,o,s),t[Yo]=e.current,$c(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new qf(e)};Si.render=function(t,e,n){if(!Qf(e))throw Error(kt(200));return ep(null,t,e,!1,n)};Si.unmountComponentAtNode=function(t){if(!Qf(t))throw Error(kt(40));return t._reactRootContainer?(Ds(function(){ep(null,null,t,!1,function(){t._reactRootContainer=null,t[Yo]=null})}),!0):!1};Si.unstable_batchedUpdates=sg;Si.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Qf(n))throw Error(kt(200));if(t==null||t._reactInternals===void 0)throw Error(kt(38));return ep(t,e,n,!1,r)};Si.version="18.2.0-next-9e3b772b8-20220608";(function(t){function e(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(n){console.error(n)}}e(),t.exports=Si})(vD);var Gw,jy=Ad;Gw=jy.createRoot,jy.hydrateRoot;var W0={},wO={get exports(){return W0},set exports(t){W0=t}},U0={},kO={get exports(){return U0},set exports(t){U0=t}};/*! For license information please see excalidraw.production.min.js.LICENSE.txt */(function(t,e){(function(n,r){t.exports=r(Hc,Ad)})(self,function(n,r){return function(){var i,o,s,c,u={45:function(b,m,a){function v(h){var f,D,k="";if(typeof h=="string"||typeof h=="number")k+=h;else if(typeof h=="object")if(Array.isArray(h))for(f=0;f<h.length;f++)h[f]&&(D=v(h[f]))&&(k&&(k+=" "),k+=D);else for(f in h)h[f]&&(k&&(k+=" "),k+=f);return k}function E(){for(var h,f,D=0,k="";D<arguments.length;)(h=arguments[D++])&&(f=v(h))&&(k&&(k+=" "),k+=f);return k}a.d(m,{Z:function(){return E}})},6233:function(b,m){var a;a=function(v){v.version="0.3.0";var E=function(){for(var D=0,k=new Array(256),R=0;R!=256;++R)D=1&(D=1&(D=1&(D=1&(D=1&(D=1&(D=1&(D=1&(D=R)?-306674912^D>>>1:D>>>1)?-306674912^D>>>1:D>>>1)?-306674912^D>>>1:D>>>1)?-306674912^D>>>1:D>>>1)?-306674912^D>>>1:D>>>1)?-306674912^D>>>1:D>>>1)?-306674912^D>>>1:D>>>1)?-306674912^D>>>1:D>>>1,k[R]=D;return typeof Int32Array<"u"?new Int32Array(k):k}(),h=typeof Buffer<"u";function f(D){for(var k=-1,R=0,d=D.length-7;R<d;)k=(k=(k=(k=(k=(k=(k=(k=k>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])];for(;R<d+7;)k=k>>>8^E[255&(k^D[R++])];return-1^k}v.table=E,v.bstr=function(D){if(D.length>32768&&h)return f(new Buffer(D));for(var k=-1,R=D.length-1,d=0;d<R;)k=E[255&(k^D.charCodeAt(d++))]^k>>>8,k=E[255&(k^D.charCodeAt(d++))]^k>>>8;return d===R&&(k=k>>>8^E[255&(k^D.charCodeAt(d))]),-1^k},v.buf=function(D){if(D.length>1e4)return f(D);for(var k=-1,R=0,d=D.length-3;R<d;)k=(k=(k=(k=k>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])])>>>8^E[255&(k^D[R++])];for(;R<d+3;)k=k>>>8^E[255&(k^D[R++])];return-1^k},v.str=function(D){for(var k,R,d=-1,Z=0,B=D.length;Z<B;)(k=D.charCodeAt(Z++))<128?d=d>>>8^E[255&(d^k)]:k<2048?d=(d=d>>>8^E[255&(d^(192|k>>6&31))])>>>8^E[255&(d^(128|63&k))]:k>=55296&&k<57344?(k=64+(1023&k),R=1023&D.charCodeAt(Z++),d=(d=(d=(d=d>>>8^E[255&(d^(240|k>>8&7))])>>>8^E[255&(d^(128|k>>2&63))])>>>8^E[255&(d^(128|R>>6&15|3&k))])>>>8^E[255&(d^(128|63&R))]):d=(d=(d=d>>>8^E[255&(d^(224|k>>12&15))])>>>8^E[255&(d^(128|k>>6&63))])>>>8^E[255&(d^(128|63&k))];return-1^d}},a(typeof DO_NOT_EXPORT_CRC>"u"?m:{})},4739:function(b,m,a){a.d(m,{KO:function(){return De},Vv:function(){return z},b9:function(){return $},cn:function(){return ve},zt:function(){return J}});var v=a(9787);const E=Symbol(),h=pe=>!!pe[E],f=pe=>{var ae,j;(j=(ae=pe[E]).c)==null||j.call(ae)},D=(pe,ae)=>{const j=pe[E].o,V=ae[E].o;return j===V||pe===V||h(j)&&D(j,ae)},k=pe=>{const ae={o:pe,c:null},j=new Promise(V=>{ae.c=()=>{ae.c=null,V()},pe.then(ae.c,ae.c)});return j[E]=ae,j};var R=Object.defineProperty,d=Object.defineProperties,Z=Object.getOwnPropertyDescriptors,B=Object.getOwnPropertySymbols,ee=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable,N=(pe,ae,j)=>ae in pe?R(pe,ae,{enumerable:!0,configurable:!0,writable:!0,value:j}):pe[ae]=j;const ke=pe=>"init"in pe,Se="r",je="w",we="c",Ee="s",Me=pe=>{const ae=new WeakMap,j=new WeakMap,V=new Map;let oe,G;if(oe=new Set,G=new Set,pe)for(const[Ve,be]of pe){const Te={v:be,r:0,d:new Map};Object.freeze(Te),ke(Ve)||console.warn("Found initial value for derived atom which can cause unexpected behavior",Ve),ae.set(Ve,Te)}const ye=new WeakMap,K=new WeakMap,H=Ve=>{let be=K.get(Ve);return be||(be=new Map,K.set(Ve,be)),be},L=(Ve,be)=>{if(Ve){const Te=H(Ve);let Ae=Te.get(be);return Ae||(Ae=L(Ve.p,be),Ae&&("p"in Ae&&Ae.p.then(()=>Te.delete(be)),Te.set(be,Ae))),Ae}return ae.get(be)},I=(Ve,be,Te)=>{if(Object.freeze(Te),Ve)H(Ve).set(be,Te);else{const Ae=ae.get(be);ae.set(be,Te),V.has(be)||V.set(be,Ae)}},F=(Ve,be=new Map,Te)=>{if(!Te)return be;const Ae=new Map;let Pe=!1;return Te.forEach(We=>{var Ue;const Je=((Ue=L(Ve,We))==null?void 0:Ue.r)||0;Ae.set(We,Je),be.get(We)!==Je&&(Pe=!0)}),be.size!==Ae.size||Pe?Ae:be},X=(Ve,be,Te,Ae,Pe)=>{const We=L(Ve,be);if(We){if(Pe&&(!("p"in We)||!D(We.p,Pe)))return We;"p"in We&&f(We.p)}const Ue={v:Te,r:(We==null?void 0:We.r)||0,d:F(Ve,We==null?void 0:We.d,Ae)};return We&&"v"in We&&Object.is(We.v,Te)?Ue.d===We.d||Ue.d.size===We.d.size&&Array.from(Ue.d.keys()).every(Je=>We.d.has(Je))||Promise.resolve().then(()=>{tt(Ve)}):(++Ue.r,Ue.d.has(be)&&(Ue.d=new Map(Ue.d).set(be,Ue.r))),I(Ve,be,Ue),Ue},le=(Ve,be,Te,Ae,Pe)=>{const We=L(Ve,be);if(We){if(Pe&&(!("p"in We)||!D(We.p,Pe)))return We;"p"in We&&f(We.p)}const Ue={e:Te,r:(We==null?void 0:We.r)||0,d:F(Ve,We==null?void 0:We.d,Ae)};return I(Ve,be,Ue),Ue},q=(Ve,be,Te,Ae)=>{const Pe=L(Ve,be);if(Pe&&"p"in Pe){if(D(Pe.p,Te))return Pe;f(Pe.p)}((Ue,Je,et)=>{let Qe=ye.get(Je);Qe||(Qe=new Map,ye.set(Je,Qe)),et.then(()=>{Qe.get(Ue)===et&&(Qe.delete(Ue),Qe.size||ye.delete(Je))}),Qe.set(Ue,et)})(Ve,be,Te);const We={p:Te,r:(Pe==null?void 0:Pe.r)||0,d:F(Ve,Pe==null?void 0:Pe.d,Ae)};return I(Ve,be,We),We},Ce=(Ve,be,Te,Ae)=>{if(Te instanceof Promise){const Pe=k(Te.then(We=>{X(Ve,be,We,Ae,Pe),tt(Ve)}).catch(We=>{if(We instanceof Promise)return h(We)?We.then(()=>{me(Ve,be,!0)}):We;le(Ve,be,We,Ae,Pe),tt(Ve)}));return q(Ve,be,Pe,Ae)}return X(Ve,be,Te,Ae)},te=(Ve,be)=>{const Te=L(Ve,be);if(Te){"p"in Te&&f(Te.p);const We=(Ae=((Ue,Je)=>{for(var et in Je||(Je={}))ee.call(Je,et)&&N(Ue,et,Je[et]);if(B)for(var et of B(Je))he.call(Je,et)&&N(Ue,et,Je[et]);return Ue})({},Te),Pe={i:Te.r},d(Ae,Z(Pe)));I(Ve,be,We)}else console.warn("[Bug] could not invalidate non existing atom",be);var Ae,Pe},me=(Ve,be,Te)=>{if(!Te){const Pe=L(Ve,be);if(Pe&&(Pe.r!==Pe.i&&"p"in Pe&&Pe.p[E].c||(Pe.d.forEach((We,Ue)=>{if(Ue!==be)if(j.has(Ue)){const Je=L(Ve,Ue);Je&&Je.r===Je.i&&me(Ve,Ue)}else me(Ve,Ue)}),Array.from(Pe.d).every(([We,Ue])=>{const Je=L(Ve,We);return Je&&"v"in Je&&Je.r===Ue}))))return Pe}const Ae=new Set;try{const Pe=be.read(We=>{Ae.add(We);const Ue=We===be?L(Ve,We):me(Ve,We);if(Ue){if("e"in Ue)throw Ue.e;if("p"in Ue)throw Ue.p;return Ue.v}if(ke(We))return We.init;throw new Error("no atom init")});return Ce(Ve,be,Pe,Ae)}catch(Pe){if(Pe instanceof Promise){const We=k(Pe);return q(Ve,be,We,Ae)}return le(Ve,be,Pe,Ae)}},Re=(Ve,be)=>me(be,Ve),Be=(Ve,be)=>!be.l.size&&(!be.t.size||be.t.size===1&&be.t.has(Ve)),Q=(Ve,be)=>{const Te=j.get(be);Te==null||Te.t.forEach(Ae=>{Ae!==be&&(te(Ve,Ae),Q(Ve,Ae))})},se=(Ve,be,Te)=>{let Ae=!0;const Pe=(Ue,Je)=>{const et=me(Ve,Ue);if("e"in et)throw et.e;if("p"in et){if(Je!=null&&Je.unstable_promise)return et.p.then(()=>Pe(Ue,Je));throw console.info("Reading pending atom state in write operation. We throw a promise for now.",Ue),et.p}if("v"in et)return et.v;throw console.warn("[Bug] no value found while reading atom in write operation. This is probably a bug.",Ue),new Error("no value found")},We=be.write(Pe,(Ue,Je)=>{let et;if(Ue===be){if(!ke(Ue))throw new Error("atom not writable");(it=>{const ft=new Set,yt=ye.get(it);return yt&&(ye.delete(it),yt.forEach((ut,pt)=>{f(ut),ft.add(pt)})),ft})(Ue).forEach(it=>{it!==Ve&&Ce(it,Ue,Je)}),Ce(Ve,Ue,Je),Q(Ve,Ue)}else et=se(Ve,Ue,Je);return Ae||tt(Ve),et},Te);return Ae=!1,Ve=void 0,We},ue=(Ve,be,Te)=>{const Ae=se(Te,Ve,be);return tt(Te),Ae},_e=(Ve,be)=>{const Te={t:new Set(be&&[be]),l:new Set};if(j.set(Ve,Te),G.add(Ve),me(void 0,Ve).d.forEach((Ae,Pe)=>{const We=j.get(Pe);We?We.t.add(Ve):Pe!==Ve&&_e(Pe,Ve)}),(Ae=>!!Ae.write)(Ve)&&Ve.onMount){const Ae=We=>ue(Ve,We),Pe=Ve.onMount(Ae);Pe&&(Te.u=Pe)}return Te},Ze=Ve=>{var be;const Te=(be=j.get(Ve))==null?void 0:be.u;Te&&Te(),j.delete(Ve),G.delete(Ve);const Ae=L(void 0,Ve);Ae?Ae.d.forEach((Pe,We)=>{if(We!==Ve){const Ue=j.get(We);Ue&&(Ue.t.delete(Ve),Be(We,Ue)&&Ze(We))}}):console.warn("[Bug] could not find atom state to unmount",Ve)},Ge=(Ve,be,Te)=>{const Ae=new Set(be.d.keys());Te==null||Te.forEach((Pe,We)=>{if(Ae.has(We))return void Ae.delete(We);const Ue=j.get(We);Ue&&(Ue.t.delete(Ve),Be(We,Ue)&&Ze(We))}),Ae.forEach(Pe=>{const We=j.get(Pe);We?We.t.add(Ve):j.has(Ve)&&_e(Pe,Ve)})},tt=Ve=>{if(Ve)H(Ve).forEach((be,Te)=>{if(be!==ae.get(Te)){const Ae=j.get(Te);Ae==null||Ae.l.forEach(Pe=>Pe(Ve))}});else{for(;V.size;){const be=Array.from(V);V.clear(),be.forEach(([Te,Ae])=>{const Pe=L(void 0,Te);Pe&&Pe.d!==(Ae==null?void 0:Ae.d)&&Ge(Te,Pe,Ae==null?void 0:Ae.d);const We=j.get(Te);We==null||We.l.forEach(Ue=>Ue())})}oe.forEach(be=>be())}},lt=(Ve,be)=>{be&&(Te=>{H(Te).forEach((Ae,Pe)=>{const We=ae.get(Pe);(Ae.r>((We==null?void 0:We.r)||0)||"v"in Ae&&Ae.r===(We==null?void 0:We.r)&&Ae.d!==(We==null?void 0:We.d))&&(ae.set(Pe,Ae),Ae.d!==(We==null?void 0:We.d)&&Ge(Pe,Ae,We==null?void 0:We.d))})})(be),tt(void 0)},nt=(Ve,be)=>{const Te=(Ae=>{let Pe=j.get(Ae);return Pe||(Pe=_e(Ae)),Pe})(Ve).l;return Te.add(be),()=>{Te.delete(be),(Ae=>{const Pe=j.get(Ae);Pe&&Be(Ae,Pe)&&Ze(Ae)})(Ve)}},qe=(Ve,be)=>{for(const[Te,Ae]of Ve)ke(Te)&&(Ce(be,Te,Ae),Q(be,Te));tt(be)};return{[Se]:Re,[je]:ue,[we]:lt,[Ee]:nt,h:qe,n:Ve=>(oe.add(Ve),()=>{oe.delete(Ve)}),l:()=>G.values(),a:Ve=>ae.get(Ve),m:Ve=>j.get(Ve)}},z=pe=>{const ae=Me(pe),j=V=>new Promise((oe,G)=>{const ye=ae.r(V);"e"in ye?G(ye.e):oe("p"in ye?ye.p.then(()=>j(V)):ye.v)});return{get:V=>{const oe=ae.r(V);if("e"in oe)throw oe.e;if(!("p"in oe))return oe.v},asyncGet:j,set:(V,oe)=>ae.w(V,oe),sub:(V,oe)=>ae.s(V,oe),SECRET_INTERNAL_store:ae}},re=(pe,ae)=>({s:ae?ae(pe).SECRET_INTERNAL_store:Me(pe)}),T=new Map,A=pe=>(T.has(pe)||T.set(pe,(0,v.createContext)(re())),T.get(pe));var U=Object.defineProperty,P=Object.defineProperties,M=Object.getOwnPropertyDescriptors,C=Object.getOwnPropertySymbols,g=Object.prototype.hasOwnProperty,l=Object.prototype.propertyIsEnumerable,w=(pe,ae,j)=>ae in pe?U(pe,ae,{enumerable:!0,configurable:!0,writable:!0,value:j}):pe[ae]=j,y=(pe,ae)=>{for(var j in ae||(ae={}))g.call(ae,j)&&w(pe,j,ae[j]);if(C)for(var j of C(ae))l.call(ae,j)&&w(pe,j,ae[j]);return pe};const S=pe=>pe.debugLabel||pe.toString(),_=([pe,ae])=>Object.fromEntries(ae.flatMap(j=>{var V,oe;const G=(V=pe.m)==null?void 0:V.call(pe,j);if(!G)return[];const ye=G.t,K=((oe=pe.a)==null?void 0:oe.call(pe,j))||{};return[[S(j),(H=y(y(y({},"e"in K&&{error:K.e}),"p"in K&&{promise:K.p}),"v"in K&&{value:K.v}),L={dependents:Array.from(ye).map(S)},P(H,M(L)))]];var H,L})),J=({children:pe,initialValues:ae,scope:j,unstable_createStore:V,unstable_enableVersionedWrite:oe})=>{const[G,ye]=(0,v.useState)();(0,v.useEffect)(()=>{G&&(K.current.s.c(null,G),delete G.p)},[G]);const K=(0,v.useRef)();K.current||(K.current=re(ae,V),oe&&(K.current.w=L=>{ye(I=>{const F=I?{p:I}:{};return L(F),F})})),oe||(L=>{const{s:I}=L,[F,X]=(0,v.useState)([]);(0,v.useEffect)(()=>{var le;const q=()=>{var te;X(Array.from(((te=I.l)==null?void 0:te.call(I))||[]))},Ce=(le=I.n)==null?void 0:le.call(I,q);return q(),Ce},[I]),(0,v.useDebugValue)([I,F],_)})(K.current);const H=A(j);return(0,v.createElement)(H.Provider,{value:K.current},pe)};let de=0;function ve(pe,ae){const j="atom"+ ++de,V={toString:()=>j};return typeof pe=="function"?V.read=pe:(V.init=pe,V.read=oe=>oe(V),V.write=(oe,G,ye)=>G(V,typeof ye=="function"?ye(oe(V)):ye)),ae&&(V.write=ae),V}function ie(pe,ae){const j=A(ae),{s:V}=(0,v.useContext)(j),oe=(0,v.useCallback)(L=>{const I=V.r(pe,L);if("e"in I)throw I.e;if("p"in I)throw I.p;if("v"in I)return I.v;throw new Error("no atom value")},[V,pe]),[[G,ye,K],H]=(0,v.useReducer)((0,v.useCallback)((L,I)=>{const F=oe(I);return Object.is(L[1],F)&&L[2]===pe?L:[I,F,pe]},[oe,pe]),void 0,()=>[void 0,oe(void 0),pe]);return K!==pe&&H(void 0),(0,v.useEffect)(()=>{const L=V.s(pe,H);return H(void 0),L},[V,pe]),(0,v.useEffect)(()=>{V.c(pe,G)}),(0,v.useDebugValue)(ye),ye}function $(pe,ae){const j=A(ae),{s:V,w:oe}=(0,v.useContext)(j);return(0,v.useCallback)(G=>{if(!("write"in pe))throw new Error("not writable atom");const ye=K=>V.w(pe,G,K);return oe?oe(ye):ye()},[V,oe,pe])}function De(pe,ae){return"scope"in pe&&(console.warn("atom.scope is deprecated. Please do useAtom(atom, scope) instead."),ae=pe.scope),[ie(pe,ae),$(pe,ae)]}},200:function(b,m,a){var v="Expected a function",E=/^\s+|\s+$/g,h=/^[-+]0x[0-9a-f]+$/i,f=/^0b[01]+$/i,D=/^0o[0-7]+$/i,k=parseInt,R=typeof a.g=="object"&&a.g&&a.g.Object===Object&&a.g,d=typeof self=="object"&&self&&self.Object===Object&&self,Z=R||d||Function("return this")(),B=Object.prototype.toString,ee=Math.max,he=Math.min,N=function(){return Z.Date.now()};function ke(we,Ee,Me){var z,re,T,A,U,P,M=0,C=!1,g=!1,l=!0;if(typeof we!="function")throw new TypeError(v);function w(ve){var ie=z,$=re;return z=re=void 0,M=ve,A=we.apply($,ie)}function y(ve){return M=ve,U=setTimeout(_,Ee),C?w(ve):A}function S(ve){var ie=ve-P;return P===void 0||ie>=Ee||ie<0||g&&ve-M>=T}function _(){var ve=N();if(S(ve))return J(ve);U=setTimeout(_,function(ie){var $=Ee-(ie-P);return g?he($,T-(ie-M)):$}(ve))}function J(ve){return U=void 0,l&&z?w(ve):(z=re=void 0,A)}function de(){var ve=N(),ie=S(ve);if(z=arguments,re=this,P=ve,ie){if(U===void 0)return y(P);if(g)return U=setTimeout(_,Ee),w(P)}return U===void 0&&(U=setTimeout(_,Ee)),A}return Ee=je(Ee)||0,Se(Me)&&(C=!!Me.leading,T=(g="maxWait"in Me)?ee(je(Me.maxWait)||0,Ee):T,l="trailing"in Me?!!Me.trailing:l),de.cancel=function(){U!==void 0&&clearTimeout(U),M=0,z=P=re=U=void 0},de.flush=function(){return U===void 0?A:J(N())},de}function Se(we){var Ee=typeof we;return!!we&&(Ee=="object"||Ee=="function")}function je(we){if(typeof we=="number")return we;if(function(z){return typeof z=="symbol"||function(re){return!!re&&typeof re=="object"}(z)&&B.call(z)=="[object Symbol]"}(we))return NaN;if(Se(we)){var Ee=typeof we.valueOf=="function"?we.valueOf():we;we=Se(Ee)?Ee+"":Ee}if(typeof we!="string")return we===0?we:+we;we=we.replace(E,"");var Me=f.test(we);return Me||D.test(we)?k(we.slice(2),Me?2:8):h.test(we)?NaN:+we}b.exports=function(we,Ee,Me){var z=!0,re=!0;if(typeof we!="function")throw new TypeError(v);return Se(Me)&&(z="leading"in Me?!!Me.leading:z,re="trailing"in Me?!!Me.trailing:re),ke(we,Ee,{leading:z,maxWait:Ee,trailing:re})}},2744:function(b,m,a){var v={};(0,a(9187).assign)(v,a(4395),a(578),a(2684)),b.exports=v},4395:function(b,m,a){var v=a(7651),E=a(9187),h=a(8592),f=a(5604),D=a(249),k=Object.prototype.toString;function R(Z){if(!(this instanceof R))return new R(Z);this.options=E.assign({level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,to:""},Z||{});var B=this.options;B.raw&&B.windowBits>0?B.windowBits=-B.windowBits:B.gzip&&B.windowBits>0&&B.windowBits<16&&(B.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new D,this.strm.avail_out=0;var ee=v.deflateInit2(this.strm,B.level,B.method,B.windowBits,B.memLevel,B.strategy);if(ee!==0)throw new Error(f[ee]);if(B.header&&v.deflateSetHeader(this.strm,B.header),B.dictionary){var he;if(he=typeof B.dictionary=="string"?h.string2buf(B.dictionary):k.call(B.dictionary)==="[object ArrayBuffer]"?new Uint8Array(B.dictionary):B.dictionary,(ee=v.deflateSetDictionary(this.strm,he))!==0)throw new Error(f[ee]);this._dict_set=!0}}function d(Z,B){var ee=new R(B);if(ee.push(Z,!0),ee.err)throw ee.msg||f[ee.err];return ee.result}R.prototype.push=function(Z,B){var ee,he,N=this.strm,ke=this.options.chunkSize;if(this.ended)return!1;he=B===~~B?B:B===!0?4:0,typeof Z=="string"?N.input=h.string2buf(Z):k.call(Z)==="[object ArrayBuffer]"?N.input=new Uint8Array(Z):N.input=Z,N.next_in=0,N.avail_in=N.input.length;do{if(N.avail_out===0&&(N.output=new E.Buf8(ke),N.next_out=0,N.avail_out=ke),(ee=v.deflate(N,he))!==1&&ee!==0)return this.onEnd(ee),this.ended=!0,!1;N.avail_out!==0&&(N.avail_in!==0||he!==4&&he!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(E.shrinkBuf(N.output,N.next_out))):this.onData(E.shrinkBuf(N.output,N.next_out)))}while((N.avail_in>0||N.avail_out===0)&&ee!==1);return he===4?(ee=v.deflateEnd(this.strm),this.onEnd(ee),this.ended=!0,ee===0):he!==2||(this.onEnd(0),N.avail_out=0,!0)},R.prototype.onData=function(Z){this.chunks.push(Z)},R.prototype.onEnd=function(Z){Z===0&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E.flattenChunks(this.chunks)),this.chunks=[],this.err=Z,this.msg=this.strm.msg},m.Deflate=R,m.deflate=d,m.deflateRaw=function(Z,B){return(B=B||{}).raw=!0,d(Z,B)},m.gzip=function(Z,B){return(B=B||{}).gzip=!0,d(Z,B)}},578:function(b,m,a){var v=a(7823),E=a(9187),h=a(8592),f=a(2684),D=a(5604),k=a(249),R=a(9968),d=Object.prototype.toString;function Z(ee){if(!(this instanceof Z))return new Z(ee);this.options=E.assign({chunkSize:16384,windowBits:0,to:""},ee||{});var he=this.options;he.raw&&he.windowBits>=0&&he.windowBits<16&&(he.windowBits=-he.windowBits,he.windowBits===0&&(he.windowBits=-15)),!(he.windowBits>=0&&he.windowBits<16)||ee&&ee.windowBits||(he.windowBits+=32),he.windowBits>15&&he.windowBits<48&&!(15&he.windowBits)&&(he.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new k,this.strm.avail_out=0;var N=v.inflateInit2(this.strm,he.windowBits);if(N!==f.Z_OK)throw new Error(D[N]);if(this.header=new R,v.inflateGetHeader(this.strm,this.header),he.dictionary&&(typeof he.dictionary=="string"?he.dictionary=h.string2buf(he.dictionary):d.call(he.dictionary)==="[object ArrayBuffer]"&&(he.dictionary=new Uint8Array(he.dictionary)),he.raw&&(N=v.inflateSetDictionary(this.strm,he.dictionary))!==f.Z_OK))throw new Error(D[N])}function B(ee,he){var N=new Z(he);if(N.push(ee,!0),N.err)throw N.msg||D[N.err];return N.result}Z.prototype.push=function(ee,he){var N,ke,Se,je,we,Ee=this.strm,Me=this.options.chunkSize,z=this.options.dictionary,re=!1;if(this.ended)return!1;ke=he===~~he?he:he===!0?f.Z_FINISH:f.Z_NO_FLUSH,typeof ee=="string"?Ee.input=h.binstring2buf(ee):d.call(ee)==="[object ArrayBuffer]"?Ee.input=new Uint8Array(ee):Ee.input=ee,Ee.next_in=0,Ee.avail_in=Ee.input.length;do{if(Ee.avail_out===0&&(Ee.output=new E.Buf8(Me),Ee.next_out=0,Ee.avail_out=Me),(N=v.inflate(Ee,f.Z_NO_FLUSH))===f.Z_NEED_DICT&&z&&(N=v.inflateSetDictionary(this.strm,z)),N===f.Z_BUF_ERROR&&re===!0&&(N=f.Z_OK,re=!1),N!==f.Z_STREAM_END&&N!==f.Z_OK)return this.onEnd(N),this.ended=!0,!1;Ee.next_out&&(Ee.avail_out!==0&&N!==f.Z_STREAM_END&&(Ee.avail_in!==0||ke!==f.Z_FINISH&&ke!==f.Z_SYNC_FLUSH)||(this.options.to==="string"?(Se=h.utf8border(Ee.output,Ee.next_out),je=Ee.next_out-Se,we=h.buf2string(Ee.output,Se),Ee.next_out=je,Ee.avail_out=Me-je,je&&E.arraySet(Ee.output,Ee.output,Se,je,0),this.onData(we)):this.onData(E.shrinkBuf(Ee.output,Ee.next_out)))),Ee.avail_in===0&&Ee.avail_out===0&&(re=!0)}while((Ee.avail_in>0||Ee.avail_out===0)&&N!==f.Z_STREAM_END);return N===f.Z_STREAM_END&&(ke=f.Z_FINISH),ke===f.Z_FINISH?(N=v.inflateEnd(this.strm),this.onEnd(N),this.ended=!0,N===f.Z_OK):ke!==f.Z_SYNC_FLUSH||(this.onEnd(f.Z_OK),Ee.avail_out=0,!0)},Z.prototype.onData=function(ee){this.chunks.push(ee)},Z.prototype.onEnd=function(ee){ee===f.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=E.flattenChunks(this.chunks)),this.chunks=[],this.err=ee,this.msg=this.strm.msg},m.Inflate=Z,m.inflate=B,m.inflateRaw=function(ee,he){return(he=he||{}).raw=!0,B(ee,he)},m.ungzip=B},9187:function(b,m){var a=typeof Uint8Array<"u"&&typeof Uint16Array<"u"&&typeof Int32Array<"u";function v(f,D){return Object.prototype.hasOwnProperty.call(f,D)}m.assign=function(f){for(var D=Array.prototype.slice.call(arguments,1);D.length;){var k=D.shift();if(k){if(typeof k!="object")throw new TypeError(k+"must be non-object");for(var R in k)v(k,R)&&(f[R]=k[R])}}return f},m.shrinkBuf=function(f,D){return f.length===D?f:f.subarray?f.subarray(0,D):(f.length=D,f)};var E={arraySet:function(f,D,k,R,d){if(D.subarray&&f.subarray)f.set(D.subarray(k,k+R),d);else for(var Z=0;Z<R;Z++)f[d+Z]=D[k+Z]},flattenChunks:function(f){var D,k,R,d,Z,B;for(R=0,D=0,k=f.length;D<k;D++)R+=f[D].length;for(B=new Uint8Array(R),d=0,D=0,k=f.length;D<k;D++)Z=f[D],B.set(Z,d),d+=Z.length;return B}},h={arraySet:function(f,D,k,R,d){for(var Z=0;Z<R;Z++)f[d+Z]=D[k+Z]},flattenChunks:function(f){return[].concat.apply([],f)}};m.setTyped=function(f){f?(m.Buf8=Uint8Array,m.Buf16=Uint16Array,m.Buf32=Int32Array,m.assign(m,E)):(m.Buf8=Array,m.Buf16=Array,m.Buf32=Array,m.assign(m,h))},m.setTyped(a)},8592:function(b,m,a){var v=a(9187),E=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch{E=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch{h=!1}for(var f=new v.Buf8(256),D=0;D<256;D++)f[D]=D>=252?6:D>=248?5:D>=240?4:D>=224?3:D>=192?2:1;function k(R,d){if(d<65534&&(R.subarray&&h||!R.subarray&&E))return String.fromCharCode.apply(null,v.shrinkBuf(R,d));for(var Z="",B=0;B<d;B++)Z+=String.fromCharCode(R[B]);return Z}f[254]=f[254]=1,m.string2buf=function(R){var d,Z,B,ee,he,N=R.length,ke=0;for(ee=0;ee<N;ee++)(64512&(Z=R.charCodeAt(ee)))==55296&&ee+1<N&&(64512&(B=R.charCodeAt(ee+1)))==56320&&(Z=65536+(Z-55296<<10)+(B-56320),ee++),ke+=Z<128?1:Z<2048?2:Z<65536?3:4;for(d=new v.Buf8(ke),he=0,ee=0;he<ke;ee++)(64512&(Z=R.charCodeAt(ee)))==55296&&ee+1<N&&(64512&(B=R.charCodeAt(ee+1)))==56320&&(Z=65536+(Z-55296<<10)+(B-56320),ee++),Z<128?d[he++]=Z:Z<2048?(d[he++]=192|Z>>>6,d[he++]=128|63&Z):Z<65536?(d[he++]=224|Z>>>12,d[he++]=128|Z>>>6&63,d[he++]=128|63&Z):(d[he++]=240|Z>>>18,d[he++]=128|Z>>>12&63,d[he++]=128|Z>>>6&63,d[he++]=128|63&Z);return d},m.buf2binstring=function(R){return k(R,R.length)},m.binstring2buf=function(R){for(var d=new v.Buf8(R.length),Z=0,B=d.length;Z<B;Z++)d[Z]=R.charCodeAt(Z);return d},m.buf2string=function(R,d){var Z,B,ee,he,N=d||R.length,ke=new Array(2*N);for(B=0,Z=0;Z<N;)if((ee=R[Z++])<128)ke[B++]=ee;else if((he=f[ee])>4)ke[B++]=65533,Z+=he-1;else{for(ee&=he===2?31:he===3?15:7;he>1&&Z<N;)ee=ee<<6|63&R[Z++],he--;he>1?ke[B++]=65533:ee<65536?ke[B++]=ee:(ee-=65536,ke[B++]=55296|ee>>10&1023,ke[B++]=56320|1023&ee)}return k(ke,B)},m.utf8border=function(R,d){var Z;for((d=d||R.length)>R.length&&(d=R.length),Z=d-1;Z>=0&&(192&R[Z])==128;)Z--;return Z<0||Z===0?d:Z+f[R[Z]]>d?Z:d}},3693:function(b){b.exports=function(m,a,v,E){for(var h=65535&m|0,f=m>>>16&65535|0,D=0;v!==0;){v-=D=v>2e3?2e3:v;do f=f+(h=h+a[E++]|0)|0;while(--D);h%=65521,f%=65521}return h|f<<16|0}},2684:function(b){b.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},8464:function(b){var m=function(){for(var a,v=[],E=0;E<256;E++){a=E;for(var h=0;h<8;h++)a=1&a?3988292384^a>>>1:a>>>1;v[E]=a}return v}();b.exports=function(a,v,E,h){var f=m,D=h+E;a^=-1;for(var k=h;k<D;k++)a=a>>>8^f[255&(a^v[k])];return-1^a}},7651:function(b,m,a){var v,E=a(9187),h=a(8676),f=a(3693),D=a(8464),k=a(5604),R=-2,d=258,Z=262,B=103,ee=113,he=666;function N(l,w){return l.msg=k[w],w}function ke(l){return(l<<1)-(l>4?9:0)}function Se(l){for(var w=l.length;--w>=0;)l[w]=0}function je(l){var w=l.state,y=w.pending;y>l.avail_out&&(y=l.avail_out),y!==0&&(E.arraySet(l.output,w.pending_buf,w.pending_out,y,l.next_out),l.next_out+=y,w.pending_out+=y,l.total_out+=y,l.avail_out-=y,w.pending-=y,w.pending===0&&(w.pending_out=0))}function we(l,w){h._tr_flush_block(l,l.block_start>=0?l.block_start:-1,l.strstart-l.block_start,w),l.block_start=l.strstart,je(l.strm)}function Ee(l,w){l.pending_buf[l.pending++]=w}function Me(l,w){l.pending_buf[l.pending++]=w>>>8&255,l.pending_buf[l.pending++]=255&w}function z(l,w){var y,S,_=l.max_chain_length,J=l.strstart,de=l.prev_length,ve=l.nice_match,ie=l.strstart>l.w_size-Z?l.strstart-(l.w_size-Z):0,$=l.window,De=l.w_mask,pe=l.prev,ae=l.strstart+d,j=$[J+de-1],V=$[J+de];l.prev_length>=l.good_match&&(_>>=2),ve>l.lookahead&&(ve=l.lookahead);do if($[(y=w)+de]===V&&$[y+de-1]===j&&$[y]===$[J]&&$[++y]===$[J+1]){J+=2,y++;do;while($[++J]===$[++y]&&$[++J]===$[++y]&&$[++J]===$[++y]&&$[++J]===$[++y]&&$[++J]===$[++y]&&$[++J]===$[++y]&&$[++J]===$[++y]&&$[++J]===$[++y]&&J<ae);if(S=d-(ae-J),J=ae-d,S>de){if(l.match_start=w,de=S,S>=ve)break;j=$[J+de-1],V=$[J+de]}}while((w=pe[w&De])>ie&&--_!=0);return de<=l.lookahead?de:l.lookahead}function re(l){var w,y,S,_,J,de,ve,ie,$,De,pe=l.w_size;do{if(_=l.window_size-l.lookahead-l.strstart,l.strstart>=pe+(pe-Z)){E.arraySet(l.window,l.window,pe,pe,0),l.match_start-=pe,l.strstart-=pe,l.block_start-=pe,w=y=l.hash_size;do S=l.head[--w],l.head[w]=S>=pe?S-pe:0;while(--y);w=y=pe;do S=l.prev[--w],l.prev[w]=S>=pe?S-pe:0;while(--y);_+=pe}if(l.strm.avail_in===0)break;if(de=l.strm,ve=l.window,ie=l.strstart+l.lookahead,$=_,De=void 0,(De=de.avail_in)>$&&(De=$),y=De===0?0:(de.avail_in-=De,E.arraySet(ve,de.input,de.next_in,De,ie),de.state.wrap===1?de.adler=f(de.adler,ve,De,ie):de.state.wrap===2&&(de.adler=D(de.adler,ve,De,ie)),de.next_in+=De,de.total_in+=De,De),l.lookahead+=y,l.lookahead+l.insert>=3)for(J=l.strstart-l.insert,l.ins_h=l.window[J],l.ins_h=(l.ins_h<<l.hash_shift^l.window[J+1])&l.hash_mask;l.insert&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[J+3-1])&l.hash_mask,l.prev[J&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=J,J++,l.insert--,!(l.lookahead+l.insert<3)););}while(l.lookahead<Z&&l.strm.avail_in!==0)}function T(l,w){for(var y,S;;){if(l.lookahead<Z){if(re(l),l.lookahead<Z&&w===0)return 1;if(l.lookahead===0)break}if(y=0,l.lookahead>=3&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,y=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),y!==0&&l.strstart-y<=l.w_size-Z&&(l.match_length=z(l,y)),l.match_length>=3)if(S=h._tr_tally(l,l.strstart-l.match_start,l.match_length-3),l.lookahead-=l.match_length,l.match_length<=l.max_lazy_match&&l.lookahead>=3){l.match_length--;do l.strstart++,l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,y=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart;while(--l.match_length!=0);l.strstart++}else l.strstart+=l.match_length,l.match_length=0,l.ins_h=l.window[l.strstart],l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+1])&l.hash_mask;else S=h._tr_tally(l,0,l.window[l.strstart]),l.lookahead--,l.strstart++;if(S&&(we(l,!1),l.strm.avail_out===0))return 1}return l.insert=l.strstart<2?l.strstart:2,w===4?(we(l,!0),l.strm.avail_out===0?3:4):l.last_lit&&(we(l,!1),l.strm.avail_out===0)?1:2}function A(l,w){for(var y,S,_;;){if(l.lookahead<Z){if(re(l),l.lookahead<Z&&w===0)return 1;if(l.lookahead===0)break}if(y=0,l.lookahead>=3&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,y=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart),l.prev_length=l.match_length,l.prev_match=l.match_start,l.match_length=2,y!==0&&l.prev_length<l.max_lazy_match&&l.strstart-y<=l.w_size-Z&&(l.match_length=z(l,y),l.match_length<=5&&(l.strategy===1||l.match_length===3&&l.strstart-l.match_start>4096)&&(l.match_length=2)),l.prev_length>=3&&l.match_length<=l.prev_length){_=l.strstart+l.lookahead-3,S=h._tr_tally(l,l.strstart-1-l.prev_match,l.prev_length-3),l.lookahead-=l.prev_length-1,l.prev_length-=2;do++l.strstart<=_&&(l.ins_h=(l.ins_h<<l.hash_shift^l.window[l.strstart+3-1])&l.hash_mask,y=l.prev[l.strstart&l.w_mask]=l.head[l.ins_h],l.head[l.ins_h]=l.strstart);while(--l.prev_length!=0);if(l.match_available=0,l.match_length=2,l.strstart++,S&&(we(l,!1),l.strm.avail_out===0))return 1}else if(l.match_available){if((S=h._tr_tally(l,0,l.window[l.strstart-1]))&&we(l,!1),l.strstart++,l.lookahead--,l.strm.avail_out===0)return 1}else l.match_available=1,l.strstart++,l.lookahead--}return l.match_available&&(S=h._tr_tally(l,0,l.window[l.strstart-1]),l.match_available=0),l.insert=l.strstart<2?l.strstart:2,w===4?(we(l,!0),l.strm.avail_out===0?3:4):l.last_lit&&(we(l,!1),l.strm.avail_out===0)?1:2}function U(l,w,y,S,_){this.good_length=l,this.max_lazy=w,this.nice_length=y,this.max_chain=S,this.func=_}function P(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new E.Buf16(1146),this.dyn_dtree=new E.Buf16(122),this.bl_tree=new E.Buf16(78),Se(this.dyn_ltree),Se(this.dyn_dtree),Se(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new E.Buf16(16),this.heap=new E.Buf16(573),Se(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new E.Buf16(573),Se(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function M(l){var w;return l&&l.state?(l.total_in=l.total_out=0,l.data_type=2,(w=l.state).pending=0,w.pending_out=0,w.wrap<0&&(w.wrap=-w.wrap),w.status=w.wrap?42:ee,l.adler=w.wrap===2?0:1,w.last_flush=0,h._tr_init(w),0):N(l,R)}function C(l){var w,y=M(l);return y===0&&((w=l.state).window_size=2*w.w_size,Se(w.head),w.max_lazy_match=v[w.level].max_lazy,w.good_match=v[w.level].good_length,w.nice_match=v[w.level].nice_length,w.max_chain_length=v[w.level].max_chain,w.strstart=0,w.block_start=0,w.lookahead=0,w.insert=0,w.match_length=w.prev_length=2,w.match_available=0,w.ins_h=0),y}function g(l,w,y,S,_,J){if(!l)return R;var de=1;if(w===-1&&(w=6),S<0?(de=0,S=-S):S>15&&(de=2,S-=16),_<1||_>9||y!==8||S<8||S>15||w<0||w>9||J<0||J>4)return N(l,R);S===8&&(S=9);var ve=new P;return l.state=ve,ve.strm=l,ve.wrap=de,ve.gzhead=null,ve.w_bits=S,ve.w_size=1<<ve.w_bits,ve.w_mask=ve.w_size-1,ve.hash_bits=_+7,ve.hash_size=1<<ve.hash_bits,ve.hash_mask=ve.hash_size-1,ve.hash_shift=~~((ve.hash_bits+3-1)/3),ve.window=new E.Buf8(2*ve.w_size),ve.head=new E.Buf16(ve.hash_size),ve.prev=new E.Buf16(ve.w_size),ve.lit_bufsize=1<<_+6,ve.pending_buf_size=4*ve.lit_bufsize,ve.pending_buf=new E.Buf8(ve.pending_buf_size),ve.d_buf=1*ve.lit_bufsize,ve.l_buf=3*ve.lit_bufsize,ve.level=w,ve.strategy=J,ve.method=y,C(l)}v=[new U(0,0,0,0,function(l,w){var y=65535;for(y>l.pending_buf_size-5&&(y=l.pending_buf_size-5);;){if(l.lookahead<=1){if(re(l),l.lookahead===0&&w===0)return 1;if(l.lookahead===0)break}l.strstart+=l.lookahead,l.lookahead=0;var S=l.block_start+y;if((l.strstart===0||l.strstart>=S)&&(l.lookahead=l.strstart-S,l.strstart=S,we(l,!1),l.strm.avail_out===0)||l.strstart-l.block_start>=l.w_size-Z&&(we(l,!1),l.strm.avail_out===0))return 1}return l.insert=0,w===4?(we(l,!0),l.strm.avail_out===0?3:4):(l.strstart>l.block_start&&(we(l,!1),l.strm.avail_out),1)}),new U(4,4,8,4,T),new U(4,5,16,8,T),new U(4,6,32,32,T),new U(4,4,16,16,A),new U(8,16,32,32,A),new U(8,16,128,128,A),new U(8,32,128,256,A),new U(32,128,258,1024,A),new U(32,258,258,4096,A)],m.deflateInit=function(l,w){return g(l,w,8,15,8,0)},m.deflateInit2=g,m.deflateReset=C,m.deflateResetKeep=M,m.deflateSetHeader=function(l,w){return l&&l.state?l.state.wrap!==2?R:(l.state.gzhead=w,0):R},m.deflate=function(l,w){var y,S,_,J;if(!l||!l.state||w>5||w<0)return l?N(l,R):R;if(S=l.state,!l.output||!l.input&&l.avail_in!==0||S.status===he&&w!==4)return N(l,l.avail_out===0?-5:R);if(S.strm=l,y=S.last_flush,S.last_flush=w,S.status===42)if(S.wrap===2)l.adler=0,Ee(S,31),Ee(S,139),Ee(S,8),S.gzhead?(Ee(S,(S.gzhead.text?1:0)+(S.gzhead.hcrc?2:0)+(S.gzhead.extra?4:0)+(S.gzhead.name?8:0)+(S.gzhead.comment?16:0)),Ee(S,255&S.gzhead.time),Ee(S,S.gzhead.time>>8&255),Ee(S,S.gzhead.time>>16&255),Ee(S,S.gzhead.time>>24&255),Ee(S,S.level===9?2:S.strategy>=2||S.level<2?4:0),Ee(S,255&S.gzhead.os),S.gzhead.extra&&S.gzhead.extra.length&&(Ee(S,255&S.gzhead.extra.length),Ee(S,S.gzhead.extra.length>>8&255)),S.gzhead.hcrc&&(l.adler=D(l.adler,S.pending_buf,S.pending,0)),S.gzindex=0,S.status=69):(Ee(S,0),Ee(S,0),Ee(S,0),Ee(S,0),Ee(S,0),Ee(S,S.level===9?2:S.strategy>=2||S.level<2?4:0),Ee(S,3),S.status=ee);else{var de=8+(S.w_bits-8<<4)<<8;de|=(S.strategy>=2||S.level<2?0:S.level<6?1:S.level===6?2:3)<<6,S.strstart!==0&&(de|=32),de+=31-de%31,S.status=ee,Me(S,de),S.strstart!==0&&(Me(S,l.adler>>>16),Me(S,65535&l.adler)),l.adler=1}if(S.status===69)if(S.gzhead.extra){for(_=S.pending;S.gzindex<(65535&S.gzhead.extra.length)&&(S.pending!==S.pending_buf_size||(S.gzhead.hcrc&&S.pending>_&&(l.adler=D(l.adler,S.pending_buf,S.pending-_,_)),je(l),_=S.pending,S.pending!==S.pending_buf_size));)Ee(S,255&S.gzhead.extra[S.gzindex]),S.gzindex++;S.gzhead.hcrc&&S.pending>_&&(l.adler=D(l.adler,S.pending_buf,S.pending-_,_)),S.gzindex===S.gzhead.extra.length&&(S.gzindex=0,S.status=73)}else S.status=73;if(S.status===73)if(S.gzhead.name){_=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>_&&(l.adler=D(l.adler,S.pending_buf,S.pending-_,_)),je(l),_=S.pending,S.pending===S.pending_buf_size)){J=1;break}J=S.gzindex<S.gzhead.name.length?255&S.gzhead.name.charCodeAt(S.gzindex++):0,Ee(S,J)}while(J!==0);S.gzhead.hcrc&&S.pending>_&&(l.adler=D(l.adler,S.pending_buf,S.pending-_,_)),J===0&&(S.gzindex=0,S.status=91)}else S.status=91;if(S.status===91)if(S.gzhead.comment){_=S.pending;do{if(S.pending===S.pending_buf_size&&(S.gzhead.hcrc&&S.pending>_&&(l.adler=D(l.adler,S.pending_buf,S.pending-_,_)),je(l),_=S.pending,S.pending===S.pending_buf_size)){J=1;break}J=S.gzindex<S.gzhead.comment.length?255&S.gzhead.comment.charCodeAt(S.gzindex++):0,Ee(S,J)}while(J!==0);S.gzhead.hcrc&&S.pending>_&&(l.adler=D(l.adler,S.pending_buf,S.pending-_,_)),J===0&&(S.status=B)}else S.status=B;if(S.status===B&&(S.gzhead.hcrc?(S.pending+2>S.pending_buf_size&&je(l),S.pending+2<=S.pending_buf_size&&(Ee(S,255&l.adler),Ee(S,l.adler>>8&255),l.adler=0,S.status=ee)):S.status=ee),S.pending!==0){if(je(l),l.avail_out===0)return S.last_flush=-1,0}else if(l.avail_in===0&&ke(w)<=ke(y)&&w!==4)return N(l,-5);if(S.status===he&&l.avail_in!==0)return N(l,-5);if(l.avail_in!==0||S.lookahead!==0||w!==0&&S.status!==he){var ve=S.strategy===2?function(ie,$){for(var De;;){if(ie.lookahead===0&&(re(ie),ie.lookahead===0)){if($===0)return 1;break}if(ie.match_length=0,De=h._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++,De&&(we(ie,!1),ie.strm.avail_out===0))return 1}return ie.insert=0,$===4?(we(ie,!0),ie.strm.avail_out===0?3:4):ie.last_lit&&(we(ie,!1),ie.strm.avail_out===0)?1:2}(S,w):S.strategy===3?function(ie,$){for(var De,pe,ae,j,V=ie.window;;){if(ie.lookahead<=d){if(re(ie),ie.lookahead<=d&&$===0)return 1;if(ie.lookahead===0)break}if(ie.match_length=0,ie.lookahead>=3&&ie.strstart>0&&(pe=V[ae=ie.strstart-1])===V[++ae]&&pe===V[++ae]&&pe===V[++ae]){j=ie.strstart+d;do;while(pe===V[++ae]&&pe===V[++ae]&&pe===V[++ae]&&pe===V[++ae]&&pe===V[++ae]&&pe===V[++ae]&&pe===V[++ae]&&pe===V[++ae]&&ae<j);ie.match_length=d-(j-ae),ie.match_length>ie.lookahead&&(ie.match_length=ie.lookahead)}if(ie.match_length>=3?(De=h._tr_tally(ie,1,ie.match_length-3),ie.lookahead-=ie.match_length,ie.strstart+=ie.match_length,ie.match_length=0):(De=h._tr_tally(ie,0,ie.window[ie.strstart]),ie.lookahead--,ie.strstart++),De&&(we(ie,!1),ie.strm.avail_out===0))return 1}return ie.insert=0,$===4?(we(ie,!0),ie.strm.avail_out===0?3:4):ie.last_lit&&(we(ie,!1),ie.strm.avail_out===0)?1:2}(S,w):v[S.level].func(S,w);if(ve!==3&&ve!==4||(S.status=he),ve===1||ve===3)return l.avail_out===0&&(S.last_flush=-1),0;if(ve===2&&(w===1?h._tr_align(S):w!==5&&(h._tr_stored_block(S,0,0,!1),w===3&&(Se(S.head),S.lookahead===0&&(S.strstart=0,S.block_start=0,S.insert=0))),je(l),l.avail_out===0))return S.last_flush=-1,0}return w!==4?0:S.wrap<=0?1:(S.wrap===2?(Ee(S,255&l.adler),Ee(S,l.adler>>8&255),Ee(S,l.adler>>16&255),Ee(S,l.adler>>24&255),Ee(S,255&l.total_in),Ee(S,l.total_in>>8&255),Ee(S,l.total_in>>16&255),Ee(S,l.total_in>>24&255)):(Me(S,l.adler>>>16),Me(S,65535&l.adler)),je(l),S.wrap>0&&(S.wrap=-S.wrap),S.pending!==0?0:1)},m.deflateEnd=function(l){var w;return l&&l.state?(w=l.state.status)!==42&&w!==69&&w!==73&&w!==91&&w!==B&&w!==ee&&w!==he?N(l,R):(l.state=null,w===ee?N(l,-3):0):R},m.deflateSetDictionary=function(l,w){var y,S,_,J,de,ve,ie,$,De=w.length;if(!l||!l.state||(J=(y=l.state).wrap)===2||J===1&&y.status!==42||y.lookahead)return R;for(J===1&&(l.adler=f(l.adler,w,De,0)),y.wrap=0,De>=y.w_size&&(J===0&&(Se(y.head),y.strstart=0,y.block_start=0,y.insert=0),$=new E.Buf8(y.w_size),E.arraySet($,w,De-y.w_size,y.w_size,0),w=$,De=y.w_size),de=l.avail_in,ve=l.next_in,ie=l.input,l.avail_in=De,l.next_in=0,l.input=w,re(y);y.lookahead>=3;){S=y.strstart,_=y.lookahead-2;do y.ins_h=(y.ins_h<<y.hash_shift^y.window[S+3-1])&y.hash_mask,y.prev[S&y.w_mask]=y.head[y.ins_h],y.head[y.ins_h]=S,S++;while(--_);y.strstart=S,y.lookahead=2,re(y)}return y.strstart+=y.lookahead,y.block_start=y.strstart,y.insert=y.lookahead,y.lookahead=0,y.match_length=y.prev_length=2,y.match_available=0,l.next_in=ve,l.input=ie,l.avail_in=de,y.wrap=J,0},m.deflateInfo="pako deflate (from Nodeca project)"},9968:function(b){b.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},9365:function(b){b.exports=function(m,a){var v,E,h,f,D,k,R,d,Z,B,ee,he,N,ke,Se,je,we,Ee,Me,z,re,T,A,U,P;v=m.state,E=m.next_in,U=m.input,h=E+(m.avail_in-5),f=m.next_out,P=m.output,D=f-(a-m.avail_out),k=f+(m.avail_out-257),R=v.dmax,d=v.wsize,Z=v.whave,B=v.wnext,ee=v.window,he=v.hold,N=v.bits,ke=v.lencode,Se=v.distcode,je=(1<<v.lenbits)-1,we=(1<<v.distbits)-1;e:do{N<15&&(he+=U[E++]<<N,N+=8,he+=U[E++]<<N,N+=8),Ee=ke[he&je];t:for(;;){if(he>>>=Me=Ee>>>24,N-=Me,(Me=Ee>>>16&255)===0)P[f++]=65535&Ee;else{if(!(16&Me)){if(!(64&Me)){Ee=ke[(65535&Ee)+(he&(1<<Me)-1)];continue t}if(32&Me){v.mode=12;break e}m.msg="invalid literal/length code",v.mode=30;break e}z=65535&Ee,(Me&=15)&&(N<Me&&(he+=U[E++]<<N,N+=8),z+=he&(1<<Me)-1,he>>>=Me,N-=Me),N<15&&(he+=U[E++]<<N,N+=8,he+=U[E++]<<N,N+=8),Ee=Se[he&we];n:for(;;){if(he>>>=Me=Ee>>>24,N-=Me,!(16&(Me=Ee>>>16&255))){if(!(64&Me)){Ee=Se[(65535&Ee)+(he&(1<<Me)-1)];continue n}m.msg="invalid distance code",v.mode=30;break e}if(re=65535&Ee,N<(Me&=15)&&(he+=U[E++]<<N,(N+=8)<Me&&(he+=U[E++]<<N,N+=8)),(re+=he&(1<<Me)-1)>R){m.msg="invalid distance too far back",v.mode=30;break e}if(he>>>=Me,N-=Me,re>(Me=f-D)){if((Me=re-Me)>Z&&v.sane){m.msg="invalid distance too far back",v.mode=30;break e}if(T=0,A=ee,B===0){if(T+=d-Me,Me<z){z-=Me;do P[f++]=ee[T++];while(--Me);T=f-re,A=P}}else if(B<Me){if(T+=d+B-Me,(Me-=B)<z){z-=Me;do P[f++]=ee[T++];while(--Me);if(T=0,B<z){z-=Me=B;do P[f++]=ee[T++];while(--Me);T=f-re,A=P}}}else if(T+=B-Me,Me<z){z-=Me;do P[f++]=ee[T++];while(--Me);T=f-re,A=P}for(;z>2;)P[f++]=A[T++],P[f++]=A[T++],P[f++]=A[T++],z-=3;z&&(P[f++]=A[T++],z>1&&(P[f++]=A[T++]))}else{T=f-re;do P[f++]=P[T++],P[f++]=P[T++],P[f++]=P[T++],z-=3;while(z>2);z&&(P[f++]=P[T++],z>1&&(P[f++]=P[T++]))}break}}break}}while(E<h&&f<k);E-=z=N>>3,he&=(1<<(N-=z<<3))-1,m.next_in=E,m.next_out=f,m.avail_in=E<h?h-E+5:5-(E-h),m.avail_out=f<k?k-f+257:257-(f-k),v.hold=he,v.bits=N}},7823:function(b,m,a){var v=a(9187),E=a(3693),h=a(8464),f=a(9365),D=a(6446),k=-2,R=12,d=30;function Z(z){return(z>>>24&255)+(z>>>8&65280)+((65280&z)<<8)+((255&z)<<24)}function B(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new v.Buf16(320),this.work=new v.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function ee(z){var re;return z&&z.state?(re=z.state,z.total_in=z.total_out=re.total=0,z.msg="",re.wrap&&(z.adler=1&re.wrap),re.mode=1,re.last=0,re.havedict=0,re.dmax=32768,re.head=null,re.hold=0,re.bits=0,re.lencode=re.lendyn=new v.Buf32(852),re.distcode=re.distdyn=new v.Buf32(592),re.sane=1,re.back=-1,0):k}function he(z){var re;return z&&z.state?((re=z.state).wsize=0,re.whave=0,re.wnext=0,ee(z)):k}function N(z,re){var T,A;return z&&z.state?(A=z.state,re<0?(T=0,re=-re):(T=1+(re>>4),re<48&&(re&=15)),re&&(re<8||re>15)?k:(A.window!==null&&A.wbits!==re&&(A.window=null),A.wrap=T,A.wbits=re,he(z))):k}function ke(z,re){var T,A;return z?(A=new B,z.state=A,A.window=null,(T=N(z,re))!==0&&(z.state=null),T):k}var Se,je,we=!0;function Ee(z){if(we){var re;for(Se=new v.Buf32(512),je=new v.Buf32(32),re=0;re<144;)z.lens[re++]=8;for(;re<256;)z.lens[re++]=9;for(;re<280;)z.lens[re++]=7;for(;re<288;)z.lens[re++]=8;for(D(1,z.lens,0,288,Se,0,z.work,{bits:9}),re=0;re<32;)z.lens[re++]=5;D(2,z.lens,0,32,je,0,z.work,{bits:5}),we=!1}z.lencode=Se,z.lenbits=9,z.distcode=je,z.distbits=5}function Me(z,re,T,A){var U,P=z.state;return P.window===null&&(P.wsize=1<<P.wbits,P.wnext=0,P.whave=0,P.window=new v.Buf8(P.wsize)),A>=P.wsize?(v.arraySet(P.window,re,T-P.wsize,P.wsize,0),P.wnext=0,P.whave=P.wsize):((U=P.wsize-P.wnext)>A&&(U=A),v.arraySet(P.window,re,T-A,U,P.wnext),(A-=U)?(v.arraySet(P.window,re,T-A,A,0),P.wnext=A,P.whave=P.wsize):(P.wnext+=U,P.wnext===P.wsize&&(P.wnext=0),P.whave<P.wsize&&(P.whave+=U))),0}m.inflateReset=he,m.inflateReset2=N,m.inflateResetKeep=ee,m.inflateInit=function(z){return ke(z,15)},m.inflateInit2=ke,m.inflate=function(z,re){var T,A,U,P,M,C,g,l,w,y,S,_,J,de,ve,ie,$,De,pe,ae,j,V,oe,G,ye=0,K=new v.Buf8(4),H=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!z||!z.state||!z.output||!z.input&&z.avail_in!==0)return k;(T=z.state).mode===R&&(T.mode=13),M=z.next_out,U=z.output,g=z.avail_out,P=z.next_in,A=z.input,C=z.avail_in,l=T.hold,w=T.bits,y=C,S=g,V=0;e:for(;;)switch(T.mode){case 1:if(T.wrap===0){T.mode=13;break}for(;w<16;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if(2&T.wrap&&l===35615){T.check=0,K[0]=255&l,K[1]=l>>>8&255,T.check=h(T.check,K,2,0),l=0,w=0,T.mode=2;break}if(T.flags=0,T.head&&(T.head.done=!1),!(1&T.wrap)||(((255&l)<<8)+(l>>8))%31){z.msg="incorrect header check",T.mode=d;break}if((15&l)!=8){z.msg="unknown compression method",T.mode=d;break}if(w-=4,j=8+(15&(l>>>=4)),T.wbits===0)T.wbits=j;else if(j>T.wbits){z.msg="invalid window size",T.mode=d;break}T.dmax=1<<j,z.adler=T.check=1,T.mode=512&l?10:R,l=0,w=0;break;case 2:for(;w<16;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if(T.flags=l,(255&T.flags)!=8){z.msg="unknown compression method",T.mode=d;break}if(57344&T.flags){z.msg="unknown header flags set",T.mode=d;break}T.head&&(T.head.text=l>>8&1),512&T.flags&&(K[0]=255&l,K[1]=l>>>8&255,T.check=h(T.check,K,2,0)),l=0,w=0,T.mode=3;case 3:for(;w<32;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}T.head&&(T.head.time=l),512&T.flags&&(K[0]=255&l,K[1]=l>>>8&255,K[2]=l>>>16&255,K[3]=l>>>24&255,T.check=h(T.check,K,4,0)),l=0,w=0,T.mode=4;case 4:for(;w<16;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}T.head&&(T.head.xflags=255&l,T.head.os=l>>8),512&T.flags&&(K[0]=255&l,K[1]=l>>>8&255,T.check=h(T.check,K,2,0)),l=0,w=0,T.mode=5;case 5:if(1024&T.flags){for(;w<16;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}T.length=l,T.head&&(T.head.extra_len=l),512&T.flags&&(K[0]=255&l,K[1]=l>>>8&255,T.check=h(T.check,K,2,0)),l=0,w=0}else T.head&&(T.head.extra=null);T.mode=6;case 6:if(1024&T.flags&&((_=T.length)>C&&(_=C),_&&(T.head&&(j=T.head.extra_len-T.length,T.head.extra||(T.head.extra=new Array(T.head.extra_len)),v.arraySet(T.head.extra,A,P,_,j)),512&T.flags&&(T.check=h(T.check,A,_,P)),C-=_,P+=_,T.length-=_),T.length))break e;T.length=0,T.mode=7;case 7:if(2048&T.flags){if(C===0)break e;_=0;do j=A[P+_++],T.head&&j&&T.length<65536&&(T.head.name+=String.fromCharCode(j));while(j&&_<C);if(512&T.flags&&(T.check=h(T.check,A,_,P)),C-=_,P+=_,j)break e}else T.head&&(T.head.name=null);T.length=0,T.mode=8;case 8:if(4096&T.flags){if(C===0)break e;_=0;do j=A[P+_++],T.head&&j&&T.length<65536&&(T.head.comment+=String.fromCharCode(j));while(j&&_<C);if(512&T.flags&&(T.check=h(T.check,A,_,P)),C-=_,P+=_,j)break e}else T.head&&(T.head.comment=null);T.mode=9;case 9:if(512&T.flags){for(;w<16;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if(l!==(65535&T.check)){z.msg="header crc mismatch",T.mode=d;break}l=0,w=0}T.head&&(T.head.hcrc=T.flags>>9&1,T.head.done=!0),z.adler=T.check=0,T.mode=R;break;case 10:for(;w<32;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}z.adler=T.check=Z(l),l=0,w=0,T.mode=11;case 11:if(T.havedict===0)return z.next_out=M,z.avail_out=g,z.next_in=P,z.avail_in=C,T.hold=l,T.bits=w,2;z.adler=T.check=1,T.mode=R;case R:if(re===5||re===6)break e;case 13:if(T.last){l>>>=7&w,w-=7&w,T.mode=27;break}for(;w<3;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}switch(T.last=1&l,w-=1,3&(l>>>=1)){case 0:T.mode=14;break;case 1:if(Ee(T),T.mode=20,re===6){l>>>=2,w-=2;break e}break;case 2:T.mode=17;break;case 3:z.msg="invalid block type",T.mode=d}l>>>=2,w-=2;break;case 14:for(l>>>=7&w,w-=7&w;w<32;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if((65535&l)!=(l>>>16^65535)){z.msg="invalid stored block lengths",T.mode=d;break}if(T.length=65535&l,l=0,w=0,T.mode=15,re===6)break e;case 15:T.mode=16;case 16:if(_=T.length){if(_>C&&(_=C),_>g&&(_=g),_===0)break e;v.arraySet(U,A,P,_,M),C-=_,P+=_,g-=_,M+=_,T.length-=_;break}T.mode=R;break;case 17:for(;w<14;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if(T.nlen=257+(31&l),l>>>=5,w-=5,T.ndist=1+(31&l),l>>>=5,w-=5,T.ncode=4+(15&l),l>>>=4,w-=4,T.nlen>286||T.ndist>30){z.msg="too many length or distance symbols",T.mode=d;break}T.have=0,T.mode=18;case 18:for(;T.have<T.ncode;){for(;w<3;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}T.lens[H[T.have++]]=7&l,l>>>=3,w-=3}for(;T.have<19;)T.lens[H[T.have++]]=0;if(T.lencode=T.lendyn,T.lenbits=7,oe={bits:T.lenbits},V=D(0,T.lens,0,19,T.lencode,0,T.work,oe),T.lenbits=oe.bits,V){z.msg="invalid code lengths set",T.mode=d;break}T.have=0,T.mode=19;case 19:for(;T.have<T.nlen+T.ndist;){for(;ie=(ye=T.lencode[l&(1<<T.lenbits)-1])>>>16&255,$=65535&ye,!((ve=ye>>>24)<=w);){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if($<16)l>>>=ve,w-=ve,T.lens[T.have++]=$;else{if($===16){for(G=ve+2;w<G;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if(l>>>=ve,w-=ve,T.have===0){z.msg="invalid bit length repeat",T.mode=d;break}j=T.lens[T.have-1],_=3+(3&l),l>>>=2,w-=2}else if($===17){for(G=ve+3;w<G;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}w-=ve,j=0,_=3+(7&(l>>>=ve)),l>>>=3,w-=3}else{for(G=ve+7;w<G;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}w-=ve,j=0,_=11+(127&(l>>>=ve)),l>>>=7,w-=7}if(T.have+_>T.nlen+T.ndist){z.msg="invalid bit length repeat",T.mode=d;break}for(;_--;)T.lens[T.have++]=j}}if(T.mode===d)break;if(T.lens[256]===0){z.msg="invalid code -- missing end-of-block",T.mode=d;break}if(T.lenbits=9,oe={bits:T.lenbits},V=D(1,T.lens,0,T.nlen,T.lencode,0,T.work,oe),T.lenbits=oe.bits,V){z.msg="invalid literal/lengths set",T.mode=d;break}if(T.distbits=6,T.distcode=T.distdyn,oe={bits:T.distbits},V=D(2,T.lens,T.nlen,T.ndist,T.distcode,0,T.work,oe),T.distbits=oe.bits,V){z.msg="invalid distances set",T.mode=d;break}if(T.mode=20,re===6)break e;case 20:T.mode=21;case 21:if(C>=6&&g>=258){z.next_out=M,z.avail_out=g,z.next_in=P,z.avail_in=C,T.hold=l,T.bits=w,f(z,S),M=z.next_out,U=z.output,g=z.avail_out,P=z.next_in,A=z.input,C=z.avail_in,l=T.hold,w=T.bits,T.mode===R&&(T.back=-1);break}for(T.back=0;ie=(ye=T.lencode[l&(1<<T.lenbits)-1])>>>16&255,$=65535&ye,!((ve=ye>>>24)<=w);){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if(ie&&!(240&ie)){for(De=ve,pe=ie,ae=$;ie=(ye=T.lencode[ae+((l&(1<<De+pe)-1)>>De)])>>>16&255,$=65535&ye,!(De+(ve=ye>>>24)<=w);){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}l>>>=De,w-=De,T.back+=De}if(l>>>=ve,w-=ve,T.back+=ve,T.length=$,ie===0){T.mode=26;break}if(32&ie){T.back=-1,T.mode=R;break}if(64&ie){z.msg="invalid literal/length code",T.mode=d;break}T.extra=15&ie,T.mode=22;case 22:if(T.extra){for(G=T.extra;w<G;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}T.length+=l&(1<<T.extra)-1,l>>>=T.extra,w-=T.extra,T.back+=T.extra}T.was=T.length,T.mode=23;case 23:for(;ie=(ye=T.distcode[l&(1<<T.distbits)-1])>>>16&255,$=65535&ye,!((ve=ye>>>24)<=w);){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if(!(240&ie)){for(De=ve,pe=ie,ae=$;ie=(ye=T.distcode[ae+((l&(1<<De+pe)-1)>>De)])>>>16&255,$=65535&ye,!(De+(ve=ye>>>24)<=w);){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}l>>>=De,w-=De,T.back+=De}if(l>>>=ve,w-=ve,T.back+=ve,64&ie){z.msg="invalid distance code",T.mode=d;break}T.offset=$,T.extra=15&ie,T.mode=24;case 24:if(T.extra){for(G=T.extra;w<G;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}T.offset+=l&(1<<T.extra)-1,l>>>=T.extra,w-=T.extra,T.back+=T.extra}if(T.offset>T.dmax){z.msg="invalid distance too far back",T.mode=d;break}T.mode=25;case 25:if(g===0)break e;if(_=S-g,T.offset>_){if((_=T.offset-_)>T.whave&&T.sane){z.msg="invalid distance too far back",T.mode=d;break}_>T.wnext?(_-=T.wnext,J=T.wsize-_):J=T.wnext-_,_>T.length&&(_=T.length),de=T.window}else de=U,J=M-T.offset,_=T.length;_>g&&(_=g),g-=_,T.length-=_;do U[M++]=de[J++];while(--_);T.length===0&&(T.mode=21);break;case 26:if(g===0)break e;U[M++]=T.length,g--,T.mode=21;break;case 27:if(T.wrap){for(;w<32;){if(C===0)break e;C--,l|=A[P++]<<w,w+=8}if(S-=g,z.total_out+=S,T.total+=S,S&&(z.adler=T.check=T.flags?h(T.check,U,S,M-S):E(T.check,U,S,M-S)),S=g,(T.flags?l:Z(l))!==T.check){z.msg="incorrect data check",T.mode=d;break}l=0,w=0}T.mode=28;case 28:if(T.wrap&&T.flags){for(;w<32;){if(C===0)break e;C--,l+=A[P++]<<w,w+=8}if(l!==(4294967295&T.total)){z.msg="incorrect length check",T.mode=d;break}l=0,w=0}T.mode=29;case 29:V=1;break e;case d:V=-3;break e;case 31:return-4;default:return k}return z.next_out=M,z.avail_out=g,z.next_in=P,z.avail_in=C,T.hold=l,T.bits=w,(T.wsize||S!==z.avail_out&&T.mode<d&&(T.mode<27||re!==4))&&Me(z,z.output,z.next_out,S-z.avail_out)?(T.mode=31,-4):(y-=z.avail_in,S-=z.avail_out,z.total_in+=y,z.total_out+=S,T.total+=S,T.wrap&&S&&(z.adler=T.check=T.flags?h(T.check,U,S,z.next_out-S):E(T.check,U,S,z.next_out-S)),z.data_type=T.bits+(T.last?64:0)+(T.mode===R?128:0)+(T.mode===20||T.mode===15?256:0),(y===0&&S===0||re===4)&&V===0&&(V=-5),V)},m.inflateEnd=function(z){if(!z||!z.state)return k;var re=z.state;return re.window&&(re.window=null),z.state=null,0},m.inflateGetHeader=function(z,re){var T;return z&&z.state&&2&(T=z.state).wrap?(T.head=re,re.done=!1,0):k},m.inflateSetDictionary=function(z,re){var T,A=re.length;return z&&z.state?(T=z.state).wrap!==0&&T.mode!==11?k:T.mode===11&&E(1,re,A,0)!==T.check?-3:Me(z,re,A,A)?(T.mode=31,-4):(T.havedict=1,0):k},m.inflateInfo="pako inflate (from Nodeca project)"},6446:function(b,m,a){var v=a(9187),E=15,h=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],f=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],D=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],k=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];b.exports=function(R,d,Z,B,ee,he,N,ke){var Se,je,we,Ee,Me,z,re,T,A,U=ke.bits,P=0,M=0,C=0,g=0,l=0,w=0,y=0,S=0,_=0,J=0,de=null,ve=0,ie=new v.Buf16(16),$=new v.Buf16(16),De=null,pe=0;for(P=0;P<=E;P++)ie[P]=0;for(M=0;M<B;M++)ie[d[Z+M]]++;for(l=U,g=E;g>=1&&ie[g]===0;g--);if(l>g&&(l=g),g===0)return ee[he++]=20971520,ee[he++]=20971520,ke.bits=1,0;for(C=1;C<g&&ie[C]===0;C++);for(l<C&&(l=C),S=1,P=1;P<=E;P++)if(S<<=1,(S-=ie[P])<0)return-1;if(S>0&&(R===0||g!==1))return-1;for($[1]=0,P=1;P<E;P++)$[P+1]=$[P]+ie[P];for(M=0;M<B;M++)d[Z+M]!==0&&(N[$[d[Z+M]]++]=M);if(R===0?(de=De=N,z=19):R===1?(de=h,ve-=257,De=f,pe-=257,z=256):(de=D,De=k,z=-1),J=0,M=0,P=C,Me=he,w=l,y=0,we=-1,Ee=(_=1<<l)-1,R===1&&_>852||R===2&&_>592)return 1;for(;;){re=P-y,N[M]<z?(T=0,A=N[M]):N[M]>z?(T=De[pe+N[M]],A=de[ve+N[M]]):(T=96,A=0),Se=1<<P-y,C=je=1<<w;do ee[Me+(J>>y)+(je-=Se)]=re<<24|T<<16|A|0;while(je!==0);for(Se=1<<P-1;J&Se;)Se>>=1;if(Se!==0?(J&=Se-1,J+=Se):J=0,M++,--ie[P]==0){if(P===g)break;P=d[Z+N[M]]}if(P>l&&(J&Ee)!==we){for(y===0&&(y=l),Me+=C,S=1<<(w=P-y);w+y<g&&!((S-=ie[w+y])<=0);)w++,S<<=1;if(_+=1<<w,R===1&&_>852||R===2&&_>592)return 1;ee[we=J&Ee]=l<<24|w<<16|Me-he|0}}return J!==0&&(ee[Me+J]=P-y<<24|4194304|0),ke.bits=l,0}},5604:function(b){b.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},8676:function(b,m,a){var v=a(9187);function E($){for(var De=$.length;--De>=0;)$[De]=0}var h=256,f=286,D=30,k=15,R=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],d=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Z=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],B=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ee=new Array(576);E(ee);var he=new Array(60);E(he);var N=new Array(512);E(N);var ke=new Array(256);E(ke);var Se=new Array(29);E(Se);var je,we,Ee,Me=new Array(D);function z($,De,pe,ae,j){this.static_tree=$,this.extra_bits=De,this.extra_base=pe,this.elems=ae,this.max_length=j,this.has_stree=$&&$.length}function re($,De){this.dyn_tree=$,this.max_code=0,this.stat_desc=De}function T($){return $<256?N[$]:N[256+($>>>7)]}function A($,De){$.pending_buf[$.pending++]=255&De,$.pending_buf[$.pending++]=De>>>8&255}function U($,De,pe){$.bi_valid>16-pe?($.bi_buf|=De<<$.bi_valid&65535,A($,$.bi_buf),$.bi_buf=De>>16-$.bi_valid,$.bi_valid+=pe-16):($.bi_buf|=De<<$.bi_valid&65535,$.bi_valid+=pe)}function P($,De,pe){U($,pe[2*De],pe[2*De+1])}function M($,De){var pe=0;do pe|=1&$,$>>>=1,pe<<=1;while(--De>0);return pe>>>1}function C($,De,pe){var ae,j,V=new Array(16),oe=0;for(ae=1;ae<=k;ae++)V[ae]=oe=oe+pe[ae-1]<<1;for(j=0;j<=De;j++){var G=$[2*j+1];G!==0&&($[2*j]=M(V[G]++,G))}}function g($){var De;for(De=0;De<f;De++)$.dyn_ltree[2*De]=0;for(De=0;De<D;De++)$.dyn_dtree[2*De]=0;for(De=0;De<19;De++)$.bl_tree[2*De]=0;$.dyn_ltree[512]=1,$.opt_len=$.static_len=0,$.last_lit=$.matches=0}function l($){$.bi_valid>8?A($,$.bi_buf):$.bi_valid>0&&($.pending_buf[$.pending++]=$.bi_buf),$.bi_buf=0,$.bi_valid=0}function w($,De,pe,ae){var j=2*De,V=2*pe;return $[j]<$[V]||$[j]===$[V]&&ae[De]<=ae[pe]}function y($,De,pe){for(var ae=$.heap[pe],j=pe<<1;j<=$.heap_len&&(j<$.heap_len&&w(De,$.heap[j+1],$.heap[j],$.depth)&&j++,!w(De,ae,$.heap[j],$.depth));)$.heap[pe]=$.heap[j],pe=j,j<<=1;$.heap[pe]=ae}function S($,De,pe){var ae,j,V,oe,G=0;if($.last_lit!==0)do ae=$.pending_buf[$.d_buf+2*G]<<8|$.pending_buf[$.d_buf+2*G+1],j=$.pending_buf[$.l_buf+G],G++,ae===0?P($,j,De):(P($,(V=ke[j])+h+1,De),(oe=R[V])!==0&&U($,j-=Se[V],oe),P($,V=T(--ae),pe),(oe=d[V])!==0&&U($,ae-=Me[V],oe));while(G<$.last_lit);P($,256,De)}function _($,De){var pe,ae,j,V=De.dyn_tree,oe=De.stat_desc.static_tree,G=De.stat_desc.has_stree,ye=De.stat_desc.elems,K=-1;for($.heap_len=0,$.heap_max=573,pe=0;pe<ye;pe++)V[2*pe]!==0?($.heap[++$.heap_len]=K=pe,$.depth[pe]=0):V[2*pe+1]=0;for(;$.heap_len<2;)V[2*(j=$.heap[++$.heap_len]=K<2?++K:0)]=1,$.depth[j]=0,$.opt_len--,G&&($.static_len-=oe[2*j+1]);for(De.max_code=K,pe=$.heap_len>>1;pe>=1;pe--)y($,V,pe);j=ye;do pe=$.heap[1],$.heap[1]=$.heap[$.heap_len--],y($,V,1),ae=$.heap[1],$.heap[--$.heap_max]=pe,$.heap[--$.heap_max]=ae,V[2*j]=V[2*pe]+V[2*ae],$.depth[j]=($.depth[pe]>=$.depth[ae]?$.depth[pe]:$.depth[ae])+1,V[2*pe+1]=V[2*ae+1]=j,$.heap[1]=j++,y($,V,1);while($.heap_len>=2);$.heap[--$.heap_max]=$.heap[1],function(H,L){var I,F,X,le,q,Ce,te=L.dyn_tree,me=L.max_code,Re=L.stat_desc.static_tree,Be=L.stat_desc.has_stree,Q=L.stat_desc.extra_bits,se=L.stat_desc.extra_base,ue=L.stat_desc.max_length,_e=0;for(le=0;le<=k;le++)H.bl_count[le]=0;for(te[2*H.heap[H.heap_max]+1]=0,I=H.heap_max+1;I<573;I++)(le=te[2*te[2*(F=H.heap[I])+1]+1]+1)>ue&&(le=ue,_e++),te[2*F+1]=le,F>me||(H.bl_count[le]++,q=0,F>=se&&(q=Q[F-se]),Ce=te[2*F],H.opt_len+=Ce*(le+q),Be&&(H.static_len+=Ce*(Re[2*F+1]+q)));if(_e!==0){do{for(le=ue-1;H.bl_count[le]===0;)le--;H.bl_count[le]--,H.bl_count[le+1]+=2,H.bl_count[ue]--,_e-=2}while(_e>0);for(le=ue;le!==0;le--)for(F=H.bl_count[le];F!==0;)(X=H.heap[--I])>me||(te[2*X+1]!==le&&(H.opt_len+=(le-te[2*X+1])*te[2*X],te[2*X+1]=le),F--)}}($,De),C(V,K,$.bl_count)}function J($,De,pe){var ae,j,V=-1,oe=De[1],G=0,ye=7,K=4;for(oe===0&&(ye=138,K=3),De[2*(pe+1)+1]=65535,ae=0;ae<=pe;ae++)j=oe,oe=De[2*(ae+1)+1],++G<ye&&j===oe||(G<K?$.bl_tree[2*j]+=G:j!==0?(j!==V&&$.bl_tree[2*j]++,$.bl_tree[32]++):G<=10?$.bl_tree[34]++:$.bl_tree[36]++,G=0,V=j,oe===0?(ye=138,K=3):j===oe?(ye=6,K=3):(ye=7,K=4))}function de($,De,pe){var ae,j,V=-1,oe=De[1],G=0,ye=7,K=4;for(oe===0&&(ye=138,K=3),ae=0;ae<=pe;ae++)if(j=oe,oe=De[2*(ae+1)+1],!(++G<ye&&j===oe)){if(G<K)do P($,j,$.bl_tree);while(--G!=0);else j!==0?(j!==V&&(P($,j,$.bl_tree),G--),P($,16,$.bl_tree),U($,G-3,2)):G<=10?(P($,17,$.bl_tree),U($,G-3,3)):(P($,18,$.bl_tree),U($,G-11,7));G=0,V=j,oe===0?(ye=138,K=3):j===oe?(ye=6,K=3):(ye=7,K=4)}}E(Me);var ve=!1;function ie($,De,pe,ae){U($,0+(ae?1:0),3),function(j,V,oe,G){l(j),G&&(A(j,oe),A(j,~oe)),v.arraySet(j.pending_buf,j.window,V,oe,j.pending),j.pending+=oe}($,De,pe,!0)}m._tr_init=function($){ve||(function(){var De,pe,ae,j,V,oe=new Array(16);for(ae=0,j=0;j<28;j++)for(Se[j]=ae,De=0;De<1<<R[j];De++)ke[ae++]=j;for(ke[ae-1]=j,V=0,j=0;j<16;j++)for(Me[j]=V,De=0;De<1<<d[j];De++)N[V++]=j;for(V>>=7;j<D;j++)for(Me[j]=V<<7,De=0;De<1<<d[j]-7;De++)N[256+V++]=j;for(pe=0;pe<=k;pe++)oe[pe]=0;for(De=0;De<=143;)ee[2*De+1]=8,De++,oe[8]++;for(;De<=255;)ee[2*De+1]=9,De++,oe[9]++;for(;De<=279;)ee[2*De+1]=7,De++,oe[7]++;for(;De<=287;)ee[2*De+1]=8,De++,oe[8]++;for(C(ee,287,oe),De=0;De<D;De++)he[2*De+1]=5,he[2*De]=M(De,5);je=new z(ee,R,257,f,k),we=new z(he,d,0,D,k),Ee=new z(new Array(0),Z,0,19,7)}(),ve=!0),$.l_desc=new re($.dyn_ltree,je),$.d_desc=new re($.dyn_dtree,we),$.bl_desc=new re($.bl_tree,Ee),$.bi_buf=0,$.bi_valid=0,g($)},m._tr_stored_block=ie,m._tr_flush_block=function($,De,pe,ae){var j,V,oe=0;$.level>0?($.strm.data_type===2&&($.strm.data_type=function(G){var ye,K=4093624447;for(ye=0;ye<=31;ye++,K>>>=1)if(1&K&&G.dyn_ltree[2*ye]!==0)return 0;if(G.dyn_ltree[18]!==0||G.dyn_ltree[20]!==0||G.dyn_ltree[26]!==0)return 1;for(ye=32;ye<h;ye++)if(G.dyn_ltree[2*ye]!==0)return 1;return 0}($)),_($,$.l_desc),_($,$.d_desc),oe=function(G){var ye;for(J(G,G.dyn_ltree,G.l_desc.max_code),J(G,G.dyn_dtree,G.d_desc.max_code),_(G,G.bl_desc),ye=18;ye>=3&&G.bl_tree[2*B[ye]+1]===0;ye--);return G.opt_len+=3*(ye+1)+5+5+4,ye}($),j=$.opt_len+3+7>>>3,(V=$.static_len+3+7>>>3)<=j&&(j=V)):j=V=pe+5,pe+4<=j&&De!==-1?ie($,De,pe,ae):$.strategy===4||V===j?(U($,2+(ae?1:0),3),S($,ee,he)):(U($,4+(ae?1:0),3),function(G,ye,K,H){var L;for(U(G,ye-257,5),U(G,K-1,5),U(G,H-4,4),L=0;L<H;L++)U(G,G.bl_tree[2*B[L]+1],3);de(G,G.dyn_ltree,ye-1),de(G,G.dyn_dtree,K-1)}($,$.l_desc.max_code+1,$.d_desc.max_code+1,oe+1),S($,$.dyn_ltree,$.dyn_dtree)),g($),ae&&l($)},m._tr_tally=function($,De,pe){return $.pending_buf[$.d_buf+2*$.last_lit]=De>>>8&255,$.pending_buf[$.d_buf+2*$.last_lit+1]=255&De,$.pending_buf[$.l_buf+$.last_lit]=255&pe,$.last_lit++,De===0?$.dyn_ltree[2*pe]++:($.matches++,De--,$.dyn_ltree[2*(ke[pe]+h+1)]++,$.dyn_dtree[2*T(De)]++),$.last_lit===$.lit_bufsize-1},m._tr_align=function($){U($,2,3),P($,256,ee),function(De){De.bi_valid===16?(A(De,De.bi_buf),De.bi_buf=0,De.bi_valid=0):De.bi_valid>=8&&(De.pending_buf[De.pending++]=255&De.bi_buf,De.bi_buf>>=8,De.bi_valid-=8)}($)}},249:function(b){b.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},9066:function(b){b.exports=function(m){m.data&&m.name&&(m=m.data);for(var a=!0,v="",E="",h=0;h<m.length;h++){var f=m[h];if(a)f?E+=String.fromCharCode(f):a=!1;else{if(!f)throw new Error("Invalid NULL character found. 0x00 character is not permitted in tEXt content");v+=String.fromCharCode(f)}}return{keyword:E,text:v}}},9686:function(b){b.exports=function(m,a){if(m=String(m),a=String(a),!/^[\x00-\xFF]+$/.test(m)||!/^[\x00-\xFF]+$/.test(a))throw new Error("Only Latin-1 characters are permitted in PNG tEXt chunks. You might want to consider base64 encoding and/or zEXt compression");if(m.length>=80)throw new Error('Keyword "'+m+'" is longer than the 79-character limit imposed by the PNG specification');for(var v,E=m.length+a.length+1,h=new Uint8Array(E),f=0,D=0;D<m.length;D++){if(!(v=m.charCodeAt(D)))throw new Error("0x00 character is not permitted in tEXt keywords");h[f++]=v}h[f++]=0;for(var k=0;k<a.length;k++){if(!(v=a.charCodeAt(k)))throw new Error("0x00 character is not permitted in tEXt content");h[f++]=v}return{name:"tEXt",data:h}}},1194:function(b,m,a){m.encode=a(9686),m.decode=a(9066)},3434:function(b,m,a){var v=a(5714),E=a(6233);b.exports=function(k){var R,d=8,Z=d;for(R=0;R<k.length;R++)d+=k[R].data.length,d+=12;var B=new Uint8Array(d);for(B[0]=137,B[1]=80,B[2]=78,B[3]=71,B[4]=13,B[5]=10,B[6]=26,B[7]=10,R=0;R<k.length;R++){var ee=k[R],he=ee.name,N=ee.data,ke=N.length,Se=[he.charCodeAt(0),he.charCodeAt(1),he.charCodeAt(2),he.charCodeAt(3)];D[0]=ke,B[Z++]=h[3],B[Z++]=h[2],B[Z++]=h[1],B[Z++]=h[0],B[Z++]=Se[0],B[Z++]=Se[1],B[Z++]=Se[2],B[Z++]=Se[3];for(var je=0;je<ke;)B[Z++]=N[je++];var we=Se.concat(v(N)),Ee=E.buf(we);f[0]=Ee,B[Z++]=h[3],B[Z++]=h[2],B[Z++]=h[1],B[Z++]=h[0]}return B};var h=new Uint8Array(4),f=new Int32Array(h.buffer),D=new Uint32Array(h.buffer)},2983:function(b,m,a){var v=a(6233);b.exports=function(D){if(D[0]!==137)throw new Error("Invalid .png file header");if(D[1]!==80)throw new Error("Invalid .png file header");if(D[2]!==78)throw new Error("Invalid .png file header");if(D[3]!==71)throw new Error("Invalid .png file header");if(D[4]!==13)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(D[5]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");if(D[6]!==26)throw new Error("Invalid .png file header");if(D[7]!==10)throw new Error("Invalid .png file header: possibly caused by DOS-Unix line ending conversion?");for(var k=!1,R=[],d=8;d<D.length;){E[3]=D[d++],E[2]=D[d++],E[1]=D[d++],E[0]=D[d++];var Z=f[0]+4,B=new Uint8Array(Z);B[0]=D[d++],B[1]=D[d++],B[2]=D[d++],B[3]=D[d++];var ee=String.fromCharCode(B[0])+String.fromCharCode(B[1])+String.fromCharCode(B[2])+String.fromCharCode(B[3]);if(!R.length&&ee!=="IHDR")throw new Error("IHDR header missing");if(ee==="IEND"){k=!0,R.push({name:ee,data:new Uint8Array(0)});break}for(var he=4;he<Z;he++)B[he]=D[d++];E[3]=D[d++],E[2]=D[d++],E[1]=D[d++],E[0]=D[d++];var N=h[0];if(v.buf(B)!==N)throw new Error("CRC values for "+ee+" header do not match, PNG file is likely corrupted");var ke=new Uint8Array(B.buffer.slice(4));R.push({name:ee,data:ke})}if(!k)throw new Error(".png file ended prematurely: no IEND header was found");return R};var E=new Uint8Array(4),h=new Int32Array(E.buffer),f=new Uint32Array(E.buffer)},1493:function(b,m,a){function v(d,Z){return Math.pow(d[0]-Z[0],2)+Math.pow(d[1]-Z[1],2)}function E(d,Z,B){const ee=v(Z,B);if(ee===0)return v(d,Z);let he=((d[0]-Z[0])*(B[0]-Z[0])+(d[1]-Z[1])*(B[1]-Z[1]))/ee;return he=Math.max(0,Math.min(1,he)),v(d,h(Z,B,he))}function h(d,Z,B){return[d[0]+(Z[0]-d[0])*B,d[1]+(Z[1]-d[1])*B]}function f(d,Z,B,ee){const he=ee||[];if(function(Se,je){const we=Se[je+0],Ee=Se[je+1],Me=Se[je+2],z=Se[je+3];let re=3*Ee[0]-2*we[0]-z[0];re*=re;let T=3*Ee[1]-2*we[1]-z[1];T*=T;let A=3*Me[0]-2*z[0]-we[0];A*=A;let U=3*Me[1]-2*z[1]-we[1];return U*=U,re<A&&(re=A),T<U&&(T=U),re+T}(d,Z)<B){const Se=d[Z+0];he.length?(N=he[he.length-1],ke=Se,Math.sqrt(v(N,ke))>1&&he.push(Se)):he.push(Se),he.push(d[Z+3])}else{const je=d[Z+0],we=d[Z+1],Ee=d[Z+2],Me=d[Z+3],z=h(je,we,.5),re=h(we,Ee,.5),T=h(Ee,Me,.5),A=h(z,re,.5),U=h(re,T,.5),P=h(A,U,.5);f([je,z,A,P],0,B,he),f([P,U,T,Me],0,B,he)}var N,ke;return he}function D(d,Z){return k(d,0,d.length,Z)}function k(d,Z,B,ee,he){const N=he||[],ke=d[Z],Se=d[B-1];let je=0,we=1;for(let Ee=Z+1;Ee<B-1;++Ee){const Me=E(d[Ee],ke,Se);Me>je&&(je=Me,we=Ee)}return Math.sqrt(je)>ee?(k(d,Z,we+1,ee,N),k(d,we,B,ee,N)):(N.length||N.push(ke),N.push(Se)),N}function R(d,Z=.15,B){const ee=[],he=(d.length-1)/3;for(let N=0;N<he;N++)f(d,3*N,Z,ee);return B&&B>0?k(ee,0,ee.length,B):ee}a.d(m,{o:function(){return D},s:function(){return R}})},6094:function(b,m,a){var v=a(9787),E=Symbol.for("react.element"),h=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,D=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function R(d,Z,B){var ee,he={},N=null,ke=null;for(ee in B!==void 0&&(N=""+B),Z.key!==void 0&&(N=""+Z.key),Z.ref!==void 0&&(ke=Z.ref),Z)f.call(Z,ee)&&!k.hasOwnProperty(ee)&&(he[ee]=Z[ee]);if(d&&d.defaultProps)for(ee in Z=d.defaultProps)he[ee]===void 0&&(he[ee]=Z[ee]);return{$$typeof:E,type:d,key:N,ref:ke,props:he,_owner:D.current}}m.Fragment=h,m.jsx=R,m.jsxs=R},4512:function(b,m,a){b.exports=a(6094)},8152:function(b,m,a){function v(){return Math.floor(Math.random()*2147483648)}a.d(m,{W:function(){return v},k:function(){return E}});class E{constructor(f){this.seed=f}next(){return this.seed?(2147483647&(this.seed=Math.imul(48271,this.seed)))/2147483648:Math.random()}}},8234:function(b,m,a){function v(K,H,L){if(K&&K.length){const[I,F]=H,X=Math.PI/180*L,le=Math.cos(X),q=Math.sin(X);K.forEach(Ce=>{const[te,me]=Ce;Ce[0]=(te-I)*le-(me-F)*q+I,Ce[1]=(te-I)*q+(me-F)*le+F})}}function E(K){const H=K[0],L=K[1];return Math.sqrt(Math.pow(H[0]-L[0],2)+Math.pow(H[1]-L[1],2))}function h(K,H){const L=H.hachureAngle+90;let I=H.hachureGap;I<0&&(I=4*H.strokeWidth),I=Math.max(I,.1);const F=[0,0];if(L)for(const le of K)v(le,F,L);const X=function(le,q){const Ce=[];for(const Q of le){const se=[...Q];se[0].join(",")!==se[se.length-1].join(",")&&se.push([se[0][0],se[0][1]]),se.length>2&&Ce.push(se)}const te=[];q=Math.max(q,.1);const me=[];for(const Q of Ce)for(let se=0;se<Q.length-1;se++){const ue=Q[se],_e=Q[se+1];if(ue[1]!==_e[1]){const Ze=Math.min(ue[1],_e[1]);me.push({ymin:Ze,ymax:Math.max(ue[1],_e[1]),x:Ze===ue[1]?ue[0]:_e[0],islope:(_e[0]-ue[0])/(_e[1]-ue[1])})}}if(me.sort((Q,se)=>Q.ymin<se.ymin?-1:Q.ymin>se.ymin?1:Q.x<se.x?-1:Q.x>se.x?1:Q.ymax===se.ymax?0:(Q.ymax-se.ymax)/Math.abs(Q.ymax-se.ymax)),!me.length)return te;let Re=[],Be=me[0].ymin;for(;Re.length||me.length;){if(me.length){let Q=-1;for(let se=0;se<me.length&&!(me[se].ymin>Be);se++)Q=se;me.splice(0,Q+1).forEach(se=>{Re.push({s:Be,edge:se})})}if(Re=Re.filter(Q=>!(Q.edge.ymax<=Be)),Re.sort((Q,se)=>Q.edge.x===se.edge.x?0:(Q.edge.x-se.edge.x)/Math.abs(Q.edge.x-se.edge.x)),Re.length>1)for(let Q=0;Q<Re.length;Q+=2){const se=Q+1;if(se>=Re.length)break;const ue=Re[Q].edge,_e=Re[se].edge;te.push([[Math.round(ue.x),Be],[Math.round(_e.x),Be]])}Be+=q,Re.forEach(Q=>{Q.edge.x=Q.edge.x+q*Q.edge.islope})}return te}(K,I);if(L){for(const le of K)v(le,F,-L);(function(le,q,Ce){const te=[];le.forEach(me=>te.push(...me)),v(te,q,Ce)})(X,F,-L)}return X}a.d(m,{Z:function(){return ye}});class f{constructor(H){this.helper=H}fillPolygons(H,L){return this._fillPolygons(H,L)}_fillPolygons(H,L){const I=h(H,L);return{type:"fillSketch",ops:this.renderLines(I,L)}}renderLines(H,L){const I=[];for(const F of H)I.push(...this.helper.doubleLineOps(F[0][0],F[0][1],F[1][0],F[1][1],L));return I}}class D extends f{fillPolygons(H,L){let I=L.hachureGap;I<0&&(I=4*L.strokeWidth),I=Math.max(I,.1);const F=h(H,Object.assign({},L,{hachureGap:I})),X=Math.PI/180*L.hachureAngle,le=[],q=.5*I*Math.cos(X),Ce=.5*I*Math.sin(X);for(const[te,me]of F)E([te,me])&&le.push([[te[0]-q,te[1]+Ce],[...me]],[[te[0]+q,te[1]-Ce],[...me]]);return{type:"fillSketch",ops:this.renderLines(le,L)}}}class k extends f{fillPolygons(H,L){const I=this._fillPolygons(H,L),F=Object.assign({},L,{hachureAngle:L.hachureAngle+90}),X=this._fillPolygons(H,F);return I.ops=I.ops.concat(X.ops),I}}class R{constructor(H){this.helper=H}fillPolygons(H,L){const I=h(H,L=Object.assign({},L,{hachureAngle:0}));return this.dotsOnLines(I,L)}dotsOnLines(H,L){const I=[];let F=L.hachureGap;F<0&&(F=4*L.strokeWidth),F=Math.max(F,.1);let X=L.fillWeight;X<0&&(X=L.strokeWidth/2);const le=F/4;for(const q of H){const Ce=E(q),te=Ce/F,me=Math.ceil(te)-1,Re=Ce-me*F,Be=(q[0][0]+q[1][0])/2-F/4,Q=Math.min(q[0][1],q[1][1]);for(let se=0;se<me;se++){const ue=Q+Re+se*F,_e=Be-le+2*Math.random()*le,Ze=ue-le+2*Math.random()*le,Ge=this.helper.ellipse(_e,Ze,X,X,L);I.push(...Ge.ops)}}return{type:"fillSketch",ops:I}}}class d{constructor(H){this.helper=H}fillPolygons(H,L){const I=h(H,L);return{type:"fillSketch",ops:this.dashedLine(I,L)}}dashedLine(H,L){const I=L.dashOffset<0?L.hachureGap<0?4*L.strokeWidth:L.hachureGap:L.dashOffset,F=L.dashGap<0?L.hachureGap<0?4*L.strokeWidth:L.hachureGap:L.dashGap,X=[];return H.forEach(le=>{const q=E(le),Ce=Math.floor(q/(I+F)),te=(q+F-Ce*(I+F))/2;let me=le[0],Re=le[1];me[0]>Re[0]&&(me=le[1],Re=le[0]);const Be=Math.atan((Re[1]-me[1])/(Re[0]-me[0]));for(let Q=0;Q<Ce;Q++){const se=Q*(I+F),ue=se+I,_e=[me[0]+se*Math.cos(Be)+te*Math.cos(Be),me[1]+se*Math.sin(Be)+te*Math.sin(Be)],Ze=[me[0]+ue*Math.cos(Be)+te*Math.cos(Be),me[1]+ue*Math.sin(Be)+te*Math.sin(Be)];X.push(...this.helper.doubleLineOps(_e[0],_e[1],Ze[0],Ze[1],L))}}),X}}class Z{constructor(H){this.helper=H}fillPolygons(H,L){const I=L.hachureGap<0?4*L.strokeWidth:L.hachureGap,F=L.zigzagOffset<0?I:L.zigzagOffset,X=h(H,L=Object.assign({},L,{hachureGap:I+F}));return{type:"fillSketch",ops:this.zigzagLines(X,F,L)}}zigzagLines(H,L,I){const F=[];return H.forEach(X=>{const le=E(X),q=Math.round(le/(2*L));let Ce=X[0],te=X[1];Ce[0]>te[0]&&(Ce=X[1],te=X[0]);const me=Math.atan((te[1]-Ce[1])/(te[0]-Ce[0]));for(let Re=0;Re<q;Re++){const Be=2*Re*L,Q=2*(Re+1)*L,se=Math.sqrt(2*Math.pow(L,2)),ue=[Ce[0]+Be*Math.cos(me),Ce[1]+Be*Math.sin(me)],_e=[Ce[0]+Q*Math.cos(me),Ce[1]+Q*Math.sin(me)],Ze=[ue[0]+se*Math.cos(me+Math.PI/4),ue[1]+se*Math.sin(me+Math.PI/4)];F.push(...this.helper.doubleLineOps(ue[0],ue[1],Ze[0],Ze[1],I),...this.helper.doubleLineOps(Ze[0],Ze[1],_e[0],_e[1],I))}}),F}}const B={};var ee=a(8152);const he={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0};function N(K,H){return K.type===H}function ke(K){const H=[],L=function(le){const q=new Array;for(;le!=="";)if(le.match(/^([ \t\r\n,]+)/))le=le.substr(RegExp.$1.length);else if(le.match(/^([aAcChHlLmMqQsStTvVzZ])/))q[q.length]={type:0,text:RegExp.$1},le=le.substr(RegExp.$1.length);else{if(!le.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/))return[];q[q.length]={type:1,text:`${parseFloat(RegExp.$1)}`},le=le.substr(RegExp.$1.length)}return q[q.length]={type:2,text:""},q}(K);let I="BOD",F=0,X=L[F];for(;!N(X,2);){let le=0;const q=[];if(I==="BOD"){if(X.text!=="M"&&X.text!=="m")return ke("M0,0"+K);F++,le=he[X.text],I=X.text}else N(X,1)?le=he[I]:(F++,le=he[X.text],I=X.text);if(!(F+le<L.length))throw new Error("Path data ended short");for(let Ce=F;Ce<F+le;Ce++){const te=L[Ce];if(!N(te,1))throw new Error("Param not a number: "+I+","+te.text);q[q.length]=+te.text}if(typeof he[I]!="number")throw new Error("Bad segment: "+I);{const Ce={key:I,data:q};H.push(Ce),F+=le,X=L[F],I==="M"&&(I="L"),I==="m"&&(I="l")}}return H}function Se(K){let H=0,L=0,I=0,F=0;const X=[];for(const{key:le,data:q}of K)switch(le){case"M":X.push({key:"M",data:[...q]}),[H,L]=q,[I,F]=q;break;case"m":H+=q[0],L+=q[1],X.push({key:"M",data:[H,L]}),I=H,F=L;break;case"L":X.push({key:"L",data:[...q]}),[H,L]=q;break;case"l":H+=q[0],L+=q[1],X.push({key:"L",data:[H,L]});break;case"C":X.push({key:"C",data:[...q]}),H=q[4],L=q[5];break;case"c":{const Ce=q.map((te,me)=>me%2?te+L:te+H);X.push({key:"C",data:Ce}),H=Ce[4],L=Ce[5];break}case"Q":X.push({key:"Q",data:[...q]}),H=q[2],L=q[3];break;case"q":{const Ce=q.map((te,me)=>me%2?te+L:te+H);X.push({key:"Q",data:Ce}),H=Ce[2],L=Ce[3];break}case"A":X.push({key:"A",data:[...q]}),H=q[5],L=q[6];break;case"a":H+=q[5],L+=q[6],X.push({key:"A",data:[q[0],q[1],q[2],q[3],q[4],H,L]});break;case"H":X.push({key:"H",data:[...q]}),H=q[0];break;case"h":H+=q[0],X.push({key:"H",data:[H]});break;case"V":X.push({key:"V",data:[...q]}),L=q[0];break;case"v":L+=q[0],X.push({key:"V",data:[L]});break;case"S":X.push({key:"S",data:[...q]}),H=q[2],L=q[3];break;case"s":{const Ce=q.map((te,me)=>me%2?te+L:te+H);X.push({key:"S",data:Ce}),H=Ce[2],L=Ce[3];break}case"T":X.push({key:"T",data:[...q]}),H=q[0],L=q[1];break;case"t":H+=q[0],L+=q[1],X.push({key:"T",data:[H,L]});break;case"Z":case"z":X.push({key:"Z",data:[]}),H=I,L=F}return X}function je(K){const H=[];let L="",I=0,F=0,X=0,le=0,q=0,Ce=0;for(const{key:te,data:me}of K){switch(te){case"M":H.push({key:"M",data:[...me]}),[I,F]=me,[X,le]=me;break;case"C":H.push({key:"C",data:[...me]}),I=me[4],F=me[5],q=me[2],Ce=me[3];break;case"L":H.push({key:"L",data:[...me]}),[I,F]=me;break;case"H":I=me[0],H.push({key:"L",data:[I,F]});break;case"V":F=me[0],H.push({key:"L",data:[I,F]});break;case"S":{let Re=0,Be=0;L==="C"||L==="S"?(Re=I+(I-q),Be=F+(F-Ce)):(Re=I,Be=F),H.push({key:"C",data:[Re,Be,...me]}),q=me[0],Ce=me[1],I=me[2],F=me[3];break}case"T":{const[Re,Be]=me;let Q=0,se=0;L==="Q"||L==="T"?(Q=I+(I-q),se=F+(F-Ce)):(Q=I,se=F);const ue=I+2*(Q-I)/3,_e=F+2*(se-F)/3,Ze=Re+2*(Q-Re)/3,Ge=Be+2*(se-Be)/3;H.push({key:"C",data:[ue,_e,Ze,Ge,Re,Be]}),q=Q,Ce=se,I=Re,F=Be;break}case"Q":{const[Re,Be,Q,se]=me,ue=I+2*(Re-I)/3,_e=F+2*(Be-F)/3,Ze=Q+2*(Re-Q)/3,Ge=se+2*(Be-se)/3;H.push({key:"C",data:[ue,_e,Ze,Ge,Q,se]}),q=Re,Ce=Be,I=Q,F=se;break}case"A":{const Re=Math.abs(me[0]),Be=Math.abs(me[1]),Q=me[2],se=me[3],ue=me[4],_e=me[5],Ze=me[6];Re===0||Be===0?(H.push({key:"C",data:[I,F,_e,Ze,_e,Ze]}),I=_e,F=Ze):(I!==_e||F!==Ze)&&(Ee(I,F,_e,Ze,Re,Be,Q,se,ue).forEach(function(Ge){H.push({key:"C",data:Ge})}),I=_e,F=Ze);break}case"Z":H.push({key:"Z",data:[]}),I=X,F=le}L=te}return H}function we(K,H,L){return[K*Math.cos(L)-H*Math.sin(L),K*Math.sin(L)+H*Math.cos(L)]}function Ee(K,H,L,I,F,X,le,q,Ce,te){const me=(Re=le,Math.PI*Re/180);var Re;let Be=[],Q=0,se=0,ue=0,_e=0;if(te)[Q,se,ue,_e]=te;else{[K,H]=we(K,H,-me),[L,I]=we(L,I,-me);const Ue=(K-L)/2,Je=(H-I)/2;let et=Ue*Ue/(F*F)+Je*Je/(X*X);et>1&&(et=Math.sqrt(et),F*=et,X*=et);const Qe=F*F,it=X*X,ft=Qe*it-Qe*Je*Je-it*Ue*Ue,yt=Qe*Je*Je+it*Ue*Ue,ut=(q===Ce?-1:1)*Math.sqrt(Math.abs(ft/yt));ue=ut*F*Je/X+(K+L)/2,_e=ut*-X*Ue/F+(H+I)/2,Q=Math.asin(parseFloat(((H-_e)/X).toFixed(9))),se=Math.asin(parseFloat(((I-_e)/X).toFixed(9))),K<ue&&(Q=Math.PI-Q),L<ue&&(se=Math.PI-se),Q<0&&(Q=2*Math.PI+Q),se<0&&(se=2*Math.PI+se),Ce&&Q>se&&(Q-=2*Math.PI),!Ce&&se>Q&&(se-=2*Math.PI)}let Ze=se-Q;if(Math.abs(Ze)>120*Math.PI/180){const Ue=se,Je=L,et=I;se=Ce&&se>Q?Q+120*Math.PI/180*1:Q+120*Math.PI/180*-1,Be=Ee(L=ue+F*Math.cos(se),I=_e+X*Math.sin(se),Je,et,F,X,le,0,Ce,[se,Ue,ue,_e])}Ze=se-Q;const Ge=Math.cos(Q),tt=Math.sin(Q),lt=Math.cos(se),nt=Math.sin(se),qe=Math.tan(Ze/4),Ve=4/3*F*qe,be=4/3*X*qe,Te=[K,H],Ae=[K+Ve*tt,H-be*Ge],Pe=[L+Ve*nt,I-be*lt],We=[L,I];if(Ae[0]=2*Te[0]-Ae[0],Ae[1]=2*Te[1]-Ae[1],te)return[Ae,Pe,We].concat(Be);{Be=[Ae,Pe,We].concat(Be);const Ue=[];for(let Je=0;Je<Be.length;Je+=3){const et=we(Be[Je][0],Be[Je][1],me),Qe=we(Be[Je+1][0],Be[Je+1][1],me),it=we(Be[Je+2][0],Be[Je+2][1],me);Ue.push([et[0],et[1],Qe[0],Qe[1],it[0],it[1]])}return Ue}}const Me={randOffset:function(K,H){return y(K,H)},randOffsetWithRange:function(K,H,L){return w(K,H,L)},ellipse:function(K,H,L,I,F){const X=U(L,I,F);return P(K,H,F,X).opset},doubleLineOps:function(K,H,L,I,F){return S(K,H,L,I,F,!0)}};function z(K,H,L,I,F){return{type:"path",ops:S(K,H,L,I,F)}}function re(K,H,L){const I=(K||[]).length;if(I>2){const F=[];for(let X=0;X<I-1;X++)F.push(...S(K[X][0],K[X][1],K[X+1][0],K[X+1][1],L));return H&&F.push(...S(K[I-1][0],K[I-1][1],K[0][0],K[0][1],L)),{type:"path",ops:F}}return I===2?z(K[0][0],K[0][1],K[1][0],K[1][1],L):{type:"path",ops:[]}}function T(K,H,L,I,F){return function(X,le){return re(X,!0,le)}([[K,H],[K+L,H],[K+L,H+I],[K,H+I]],F)}function A(K,H){let L=J(K,1*(1+.2*H.roughness),H);if(!H.disableMultiStroke){const I=J(K,1.5*(1+.22*H.roughness),function(F){const X=Object.assign({},F);return X.randomizer=void 0,F.seed&&(X.seed=F.seed+1),X}(H));L=L.concat(I)}return{type:"path",ops:L}}function U(K,H,L){const I=Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(K/2,2)+Math.pow(H/2,2))/2)),F=Math.ceil(Math.max(L.curveStepCount,L.curveStepCount/Math.sqrt(200)*I)),X=2*Math.PI/F;let le=Math.abs(K/2),q=Math.abs(H/2);const Ce=1-L.curveFitting;return le+=y(le*Ce,L),q+=y(q*Ce,L),{increment:X,rx:le,ry:q}}function P(K,H,L,I){const[F,X]=ve(I.increment,K,H,I.rx,I.ry,1,I.increment*w(.1,w(.4,1,L),L),L);let le=de(F,null,L);if(!L.disableMultiStroke&&L.roughness!==0){const[q]=ve(I.increment,K,H,I.rx,I.ry,1.5,0,L),Ce=de(q,null,L);le=le.concat(Ce)}return{estimatedPoints:X,opset:{type:"path",ops:le}}}function M(K,H,L,I,F,X,le,q,Ce){const te=K,me=H;let Re=Math.abs(L/2),Be=Math.abs(I/2);Re+=y(.01*Re,Ce),Be+=y(.01*Be,Ce);let Q=F,se=X;for(;Q<0;)Q+=2*Math.PI,se+=2*Math.PI;se-Q>2*Math.PI&&(Q=0,se=2*Math.PI);const ue=2*Math.PI/Ce.curveStepCount,_e=Math.min(ue/2,(se-Q)/2),Ze=ie(_e,te,me,Re,Be,Q,se,1,Ce);if(!Ce.disableMultiStroke){const Ge=ie(_e,te,me,Re,Be,Q,se,1.5,Ce);Ze.push(...Ge)}return le&&(q?Ze.push(...S(te,me,te+Re*Math.cos(Q),me+Be*Math.sin(Q),Ce),...S(te,me,te+Re*Math.cos(se),me+Be*Math.sin(se),Ce)):Ze.push({op:"lineTo",data:[te,me]},{op:"lineTo",data:[te+Re*Math.cos(Q),me+Be*Math.sin(Q)]})),{type:"path",ops:Ze}}function C(K,H){const L=[];for(const I of K)if(I.length){const F=H.maxRandomnessOffset||0,X=I.length;if(X>2){L.push({op:"move",data:[I[0][0]+y(F,H),I[0][1]+y(F,H)]});for(let le=1;le<X;le++)L.push({op:"lineTo",data:[I[le][0]+y(F,H),I[le][1]+y(F,H)]})}}return{type:"fillPath",ops:L}}function g(K,H){return function(L,I){let F=L.fillStyle||"hachure";if(!B[F])switch(F){case"zigzag":B[F]||(B[F]=new D(I));break;case"cross-hatch":B[F]||(B[F]=new k(I));break;case"dots":B[F]||(B[F]=new R(I));break;case"dashed":B[F]||(B[F]=new d(I));break;case"zigzag-line":B[F]||(B[F]=new Z(I));break;default:F="hachure",B[F]||(B[F]=new f(I))}return B[F]}(H,Me).fillPolygons(K,H)}function l(K){return K.randomizer||(K.randomizer=new ee.k(K.seed||0)),K.randomizer.next()}function w(K,H,L,I=1){return L.roughness*I*(l(L)*(H-K)+K)}function y(K,H,L=1){return w(-K,K,H,L)}function S(K,H,L,I,F,X=!1){const le=X?F.disableMultiStrokeFill:F.disableMultiStroke,q=_(K,H,L,I,F,!0,!1);if(le)return q;const Ce=_(K,H,L,I,F,!0,!0);return q.concat(Ce)}function _(K,H,L,I,F,X,le){const q=Math.pow(K-L,2)+Math.pow(H-I,2),Ce=Math.sqrt(q);let te=1;te=Ce<200?1:Ce>500?.4:-.0016668*Ce+1.233334;let me=F.maxRandomnessOffset||0;me*me*100>q&&(me=Ce/10);const Re=me/2,Be=.2+.2*l(F);let Q=F.bowing*F.maxRandomnessOffset*(I-H)/200,se=F.bowing*F.maxRandomnessOffset*(K-L)/200;Q=y(Q,F,te),se=y(se,F,te);const ue=[],_e=()=>y(Re,F,te),Ze=()=>y(me,F,te),Ge=F.preserveVertices;return X&&(le?ue.push({op:"move",data:[K+(Ge?0:_e()),H+(Ge?0:_e())]}):ue.push({op:"move",data:[K+(Ge?0:y(me,F,te)),H+(Ge?0:y(me,F,te))]})),le?ue.push({op:"bcurveTo",data:[Q+K+(L-K)*Be+_e(),se+H+(I-H)*Be+_e(),Q+K+2*(L-K)*Be+_e(),se+H+2*(I-H)*Be+_e(),L+(Ge?0:_e()),I+(Ge?0:_e())]}):ue.push({op:"bcurveTo",data:[Q+K+(L-K)*Be+Ze(),se+H+(I-H)*Be+Ze(),Q+K+2*(L-K)*Be+Ze(),se+H+2*(I-H)*Be+Ze(),L+(Ge?0:Ze()),I+(Ge?0:Ze())]}),ue}function J(K,H,L){const I=[];I.push([K[0][0]+y(H,L),K[0][1]+y(H,L)]),I.push([K[0][0]+y(H,L),K[0][1]+y(H,L)]);for(let F=1;F<K.length;F++)I.push([K[F][0]+y(H,L),K[F][1]+y(H,L)]),F===K.length-1&&I.push([K[F][0]+y(H,L),K[F][1]+y(H,L)]);return de(I,null,L)}function de(K,H,L){const I=K.length,F=[];if(I>3){const X=[],le=1-L.curveTightness;F.push({op:"move",data:[K[1][0],K[1][1]]});for(let q=1;q+2<I;q++){const Ce=K[q];X[0]=[Ce[0],Ce[1]],X[1]=[Ce[0]+(le*K[q+1][0]-le*K[q-1][0])/6,Ce[1]+(le*K[q+1][1]-le*K[q-1][1])/6],X[2]=[K[q+1][0]+(le*K[q][0]-le*K[q+2][0])/6,K[q+1][1]+(le*K[q][1]-le*K[q+2][1])/6],X[3]=[K[q+1][0],K[q+1][1]],F.push({op:"bcurveTo",data:[X[1][0],X[1][1],X[2][0],X[2][1],X[3][0],X[3][1]]})}if(H&&H.length===2){const q=L.maxRandomnessOffset;F.push({op:"lineTo",data:[H[0]+y(q,L),H[1]+y(q,L)]})}}else I===3?(F.push({op:"move",data:[K[1][0],K[1][1]]}),F.push({op:"bcurveTo",data:[K[1][0],K[1][1],K[2][0],K[2][1],K[2][0],K[2][1]]})):I===2&&F.push(...S(K[0][0],K[0][1],K[1][0],K[1][1],L));return F}function ve(K,H,L,I,F,X,le,q){const Ce=[],te=[];if(q.roughness===0){K/=4,te.push([H+I*Math.cos(-K),L+F*Math.sin(-K)]);for(let me=0;me<=2*Math.PI;me+=K){const Re=[H+I*Math.cos(me),L+F*Math.sin(me)];Ce.push(Re),te.push(Re)}te.push([H+I*Math.cos(0),L+F*Math.sin(0)]),te.push([H+I*Math.cos(K),L+F*Math.sin(K)])}else{const me=y(.5,q)-Math.PI/2;te.push([y(X,q)+H+.9*I*Math.cos(me-K),y(X,q)+L+.9*F*Math.sin(me-K)]);const Re=2*Math.PI+me-.01;for(let Be=me;Be<Re;Be+=K){const Q=[y(X,q)+H+I*Math.cos(Be),y(X,q)+L+F*Math.sin(Be)];Ce.push(Q),te.push(Q)}te.push([y(X,q)+H+I*Math.cos(me+2*Math.PI+.5*le),y(X,q)+L+F*Math.sin(me+2*Math.PI+.5*le)]),te.push([y(X,q)+H+.98*I*Math.cos(me+le),y(X,q)+L+.98*F*Math.sin(me+le)]),te.push([y(X,q)+H+.9*I*Math.cos(me+.5*le),y(X,q)+L+.9*F*Math.sin(me+.5*le)])}return[te,Ce]}function ie(K,H,L,I,F,X,le,q,Ce){const te=X+y(.1,Ce),me=[];me.push([y(q,Ce)+H+.9*I*Math.cos(te-K),y(q,Ce)+L+.9*F*Math.sin(te-K)]);for(let Re=te;Re<=le;Re+=K)me.push([y(q,Ce)+H+I*Math.cos(Re),y(q,Ce)+L+F*Math.sin(Re)]);return me.push([H+I*Math.cos(le),L+F*Math.sin(le)]),me.push([H+I*Math.cos(le),L+F*Math.sin(le)]),de(me,null,Ce)}function $(K,H,L,I,F,X,le,q){const Ce=[],te=[q.maxRandomnessOffset||1,(q.maxRandomnessOffset||1)+.3];let me=[0,0];const Re=q.disableMultiStroke?1:2,Be=q.preserveVertices;for(let Q=0;Q<Re;Q++)Q===0?Ce.push({op:"move",data:[le[0],le[1]]}):Ce.push({op:"move",data:[le[0]+(Be?0:y(te[0],q)),le[1]+(Be?0:y(te[0],q))]}),me=Be?[F,X]:[F+y(te[Q],q),X+y(te[Q],q)],Ce.push({op:"bcurveTo",data:[K+y(te[Q],q),H+y(te[Q],q),L+y(te[Q],q),I+y(te[Q],q),me[0],me[1]]});return Ce}function De(K){return[...K]}var pe=a(1493);const ae="none";class j{constructor(H){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,disableMultiStroke:!1,disableMultiStrokeFill:!1,preserveVertices:!1},this.config=H||{},this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return(0,ee.W)()}_o(H){return H?Object.assign({},this.defaultOptions,H):this.defaultOptions}_d(H,L,I){return{shape:H,sets:L||[],options:I||this.defaultOptions}}line(H,L,I,F,X){const le=this._o(X);return this._d("line",[z(H,L,I,F,le)],le)}rectangle(H,L,I,F,X){const le=this._o(X),q=[],Ce=T(H,L,I,F,le);if(le.fill){const te=[[H,L],[H+I,L],[H+I,L+F],[H,L+F]];le.fillStyle==="solid"?q.push(C([te],le)):q.push(g([te],le))}return le.stroke!==ae&&q.push(Ce),this._d("rectangle",q,le)}ellipse(H,L,I,F,X){const le=this._o(X),q=[],Ce=U(I,F,le),te=P(H,L,le,Ce);if(le.fill)if(le.fillStyle==="solid"){const me=P(H,L,le,Ce).opset;me.type="fillPath",q.push(me)}else q.push(g([te.estimatedPoints],le));return le.stroke!==ae&&q.push(te.opset),this._d("ellipse",q,le)}circle(H,L,I,F){const X=this.ellipse(H,L,I,I,F);return X.shape="circle",X}linearPath(H,L){const I=this._o(L);return this._d("linearPath",[re(H,!1,I)],I)}arc(H,L,I,F,X,le,q=!1,Ce){const te=this._o(Ce),me=[],Re=M(H,L,I,F,X,le,q,!0,te);if(q&&te.fill)if(te.fillStyle==="solid"){const Be=Object.assign({},te);Be.disableMultiStroke=!0;const Q=M(H,L,I,F,X,le,!0,!1,Be);Q.type="fillPath",me.push(Q)}else me.push(function(Be,Q,se,ue,_e,Ze,Ge){const tt=Be,lt=Q;let nt=Math.abs(se/2),qe=Math.abs(ue/2);nt+=y(.01*nt,Ge),qe+=y(.01*qe,Ge);let Ve=_e,be=Ze;for(;Ve<0;)Ve+=2*Math.PI,be+=2*Math.PI;be-Ve>2*Math.PI&&(Ve=0,be=2*Math.PI);const Te=(be-Ve)/Ge.curveStepCount,Ae=[];for(let Pe=Ve;Pe<=be;Pe+=Te)Ae.push([tt+nt*Math.cos(Pe),lt+qe*Math.sin(Pe)]);return Ae.push([tt+nt*Math.cos(be),lt+qe*Math.sin(be)]),Ae.push([tt,lt]),g([Ae],Ge)}(H,L,I,F,X,le,te));return te.stroke!==ae&&me.push(Re),this._d("arc",me,te)}curve(H,L){const I=this._o(L),F=[],X=A(H,I);if(I.fill&&I.fill!==ae&&H.length>=3){const le=function(Ce,te=0){const me=Ce.length;if(me<3)throw new Error("A curve must have at least three points.");const Re=[];if(me===3)Re.push(De(Ce[0]),De(Ce[1]),De(Ce[2]),De(Ce[2]));else{const Be=[];Be.push(Ce[0],Ce[0]);for(let ue=1;ue<Ce.length;ue++)Be.push(Ce[ue]),ue===Ce.length-1&&Be.push(Ce[ue]);const Q=[],se=1-te;Re.push(De(Be[0]));for(let ue=1;ue+2<Be.length;ue++){const _e=Be[ue];Q[0]=[_e[0],_e[1]],Q[1]=[_e[0]+(se*Be[ue+1][0]-se*Be[ue-1][0])/6,_e[1]+(se*Be[ue+1][1]-se*Be[ue-1][1])/6],Q[2]=[Be[ue+1][0]+(se*Be[ue][0]-se*Be[ue+2][0])/6,Be[ue+1][1]+(se*Be[ue][1]-se*Be[ue+2][1])/6],Q[3]=[Be[ue+1][0],Be[ue+1][1]],Re.push(Q[1],Q[2],Q[3])}}return Re}(H),q=(0,pe.s)(le,10,(1+I.roughness)/2);I.fillStyle==="solid"?F.push(C([q],I)):F.push(g([q],I))}return I.stroke!==ae&&F.push(X),this._d("curve",F,I)}polygon(H,L){const I=this._o(L),F=[],X=re(H,!0,I);return I.fill&&(I.fillStyle==="solid"?F.push(C([H],I)):F.push(g([H],I))),I.stroke!==ae&&F.push(X),this._d("polygon",F,I)}path(H,L){const I=this._o(L),F=[];if(!H)return this._d("path",F,I);H=(H||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");const X=I.fill&&I.fill!=="transparent"&&I.fill!==ae,le=I.stroke!==ae,q=!!(I.simplification&&I.simplification<1),Ce=function(te,me,Re){const Be=je(Se(ke(te))),Q=[];let se=[],ue=[0,0],_e=[];const Ze=()=>{_e.length>=4&&se.push(...(0,pe.s)(_e,me)),_e=[]},Ge=()=>{Ze(),se.length&&(Q.push(se),se=[])};for(const{key:lt,data:nt}of Be)switch(lt){case"M":Ge(),ue=[nt[0],nt[1]],se.push(ue);break;case"L":Ze(),se.push([nt[0],nt[1]]);break;case"C":if(!_e.length){const qe=se.length?se[se.length-1]:ue;_e.push([qe[0],qe[1]])}_e.push([nt[0],nt[1]]),_e.push([nt[2],nt[3]]),_e.push([nt[4],nt[5]]);break;case"Z":Ze(),se.push([ue[0],ue[1]])}if(Ge(),!Re)return Q;const tt=[];for(const lt of Q){const nt=(0,pe.o)(lt,Re);nt.length&&tt.push(nt)}return tt}(H,1,q?4-4*I.simplification:(1+I.roughness)/2);return X&&(I.fillStyle==="solid"?F.push(C(Ce,I)):F.push(g(Ce,I))),le&&(q?Ce.forEach(te=>{F.push(re(te,!1,I))}):F.push(function(te,me){const Re=je(Se(ke(te))),Be=[];let Q=[0,0],se=[0,0];for(const{key:ue,data:_e}of Re)switch(ue){case"M":{const Ze=1*(me.maxRandomnessOffset||0),Ge=me.preserveVertices;Be.push({op:"move",data:_e.map(tt=>tt+(Ge?0:y(Ze,me)))}),se=[_e[0],_e[1]],Q=[_e[0],_e[1]];break}case"L":Be.push(...S(se[0],se[1],_e[0],_e[1],me)),se=[_e[0],_e[1]];break;case"C":{const[Ze,Ge,tt,lt,nt,qe]=_e;Be.push(...$(Ze,Ge,tt,lt,nt,qe,se,me)),se=[nt,qe];break}case"Z":Be.push(...S(se[0],se[1],Q[0],Q[1],me)),se=[Q[0],Q[1]]}return{type:"path",ops:Be}}(H,I))),this._d("path",F,I)}opsToPath(H,L){let I="";for(const F of H.ops){const X=typeof L=="number"&&L>=0?F.data.map(le=>+le.toFixed(L)):F.data;switch(F.op){case"move":I+=`M${X[0]} ${X[1]} `;break;case"bcurveTo":I+=`C${X[0]} ${X[1]}, ${X[2]} ${X[3]}, ${X[4]} ${X[5]} `;break;case"lineTo":I+=`L${X[0]} ${X[1]} `}}return I.trim()}toPaths(H){const L=H.sets||[],I=H.options||this.defaultOptions,F=[];for(const X of L){let le=null;switch(X.type){case"path":le={d:this.opsToPath(X),stroke:I.stroke,strokeWidth:I.strokeWidth,fill:ae};break;case"fillPath":le={d:this.opsToPath(X),stroke:ae,strokeWidth:0,fill:I.fill||ae};break;case"fillSketch":le=this.fillSketch(X,I)}le&&F.push(le)}return F}fillSketch(H,L){let I=L.fillWeight;return I<0&&(I=L.strokeWidth/2),{d:this.opsToPath(H),stroke:L.fill||ae,strokeWidth:I,fill:ae}}}class V{constructor(H,L){this.canvas=H,this.ctx=this.canvas.getContext("2d"),this.gen=new j(L)}draw(H){const L=H.sets||[],I=H.options||this.getDefaultOptions(),F=this.ctx,X=H.options.fixedDecimalPlaceDigits;for(const le of L)switch(le.type){case"path":F.save(),F.strokeStyle=I.stroke==="none"?"transparent":I.stroke,F.lineWidth=I.strokeWidth,I.strokeLineDash&&F.setLineDash(I.strokeLineDash),I.strokeLineDashOffset&&(F.lineDashOffset=I.strokeLineDashOffset),this._drawToContext(F,le,X),F.restore();break;case"fillPath":{F.save(),F.fillStyle=I.fill||"";const q=H.shape==="curve"||H.shape==="polygon"||H.shape==="path"?"evenodd":"nonzero";this._drawToContext(F,le,X,q),F.restore();break}case"fillSketch":this.fillSketch(F,le,I)}}fillSketch(H,L,I){let F=I.fillWeight;F<0&&(F=I.strokeWidth/2),H.save(),I.fillLineDash&&H.setLineDash(I.fillLineDash),I.fillLineDashOffset&&(H.lineDashOffset=I.fillLineDashOffset),H.strokeStyle=I.fill||"",H.lineWidth=F,this._drawToContext(H,L,I.fixedDecimalPlaceDigits),H.restore()}_drawToContext(H,L,I,F="nonzero"){H.beginPath();for(const X of L.ops){const le=typeof I=="number"&&I>=0?X.data.map(q=>+q.toFixed(I)):X.data;switch(X.op){case"move":H.moveTo(le[0],le[1]);break;case"bcurveTo":H.bezierCurveTo(le[0],le[1],le[2],le[3],le[4],le[5]);break;case"lineTo":H.lineTo(le[0],le[1])}}L.type==="fillPath"?H.fill(F):H.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(H,L,I,F,X){const le=this.gen.line(H,L,I,F,X);return this.draw(le),le}rectangle(H,L,I,F,X){const le=this.gen.rectangle(H,L,I,F,X);return this.draw(le),le}ellipse(H,L,I,F,X){const le=this.gen.ellipse(H,L,I,F,X);return this.draw(le),le}circle(H,L,I,F){const X=this.gen.circle(H,L,I,F);return this.draw(X),X}linearPath(H,L){const I=this.gen.linearPath(H,L);return this.draw(I),I}polygon(H,L){const I=this.gen.polygon(H,L);return this.draw(I),I}arc(H,L,I,F,X,le,q=!1,Ce){const te=this.gen.arc(H,L,I,F,X,le,q,Ce);return this.draw(te),te}curve(H,L){const I=this.gen.curve(H,L);return this.draw(I),I}path(H,L){const I=this.gen.path(H,L);return this.draw(I),I}}const oe="http://www.w3.org/2000/svg";class G{constructor(H,L){this.svg=H,this.gen=new j(L)}draw(H){const L=H.sets||[],I=H.options||this.getDefaultOptions(),F=this.svg.ownerDocument||window.document,X=F.createElementNS(oe,"g"),le=H.options.fixedDecimalPlaceDigits;for(const q of L){let Ce=null;switch(q.type){case"path":Ce=F.createElementNS(oe,"path"),Ce.setAttribute("d",this.opsToPath(q,le)),Ce.setAttribute("stroke",I.stroke),Ce.setAttribute("stroke-width",I.strokeWidth+""),Ce.setAttribute("fill","none"),I.strokeLineDash&&Ce.setAttribute("stroke-dasharray",I.strokeLineDash.join(" ").trim()),I.strokeLineDashOffset&&Ce.setAttribute("stroke-dashoffset",`${I.strokeLineDashOffset}`);break;case"fillPath":Ce=F.createElementNS(oe,"path"),Ce.setAttribute("d",this.opsToPath(q,le)),Ce.setAttribute("stroke","none"),Ce.setAttribute("stroke-width","0"),Ce.setAttribute("fill",I.fill||""),H.shape!=="curve"&&H.shape!=="polygon"||Ce.setAttribute("fill-rule","evenodd");break;case"fillSketch":Ce=this.fillSketch(F,q,I)}Ce&&X.appendChild(Ce)}return X}fillSketch(H,L,I){let F=I.fillWeight;F<0&&(F=I.strokeWidth/2);const X=H.createElementNS(oe,"path");return X.setAttribute("d",this.opsToPath(L,I.fixedDecimalPlaceDigits)),X.setAttribute("stroke",I.fill||""),X.setAttribute("stroke-width",F+""),X.setAttribute("fill","none"),I.fillLineDash&&X.setAttribute("stroke-dasharray",I.fillLineDash.join(" ").trim()),I.fillLineDashOffset&&X.setAttribute("stroke-dashoffset",`${I.fillLineDashOffset}`),X}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(H,L){return this.gen.opsToPath(H,L)}line(H,L,I,F,X){const le=this.gen.line(H,L,I,F,X);return this.draw(le)}rectangle(H,L,I,F,X){const le=this.gen.rectangle(H,L,I,F,X);return this.draw(le)}ellipse(H,L,I,F,X){const le=this.gen.ellipse(H,L,I,F,X);return this.draw(le)}circle(H,L,I,F){const X=this.gen.circle(H,L,I,F);return this.draw(X)}linearPath(H,L){const I=this.gen.linearPath(H,L);return this.draw(I)}polygon(H,L){const I=this.gen.polygon(H,L);return this.draw(I)}arc(H,L,I,F,X,le,q=!1,Ce){const te=this.gen.arc(H,L,I,F,X,le,q,Ce);return this.draw(te)}curve(H,L){const I=this.gen.curve(H,L);return this.draw(I)}path(H,L){const I=this.gen.path(H,L);return this.draw(I)}}var ye={canvas:(K,H)=>new V(K,H),svg:(K,H)=>new G(K,H),generator:K=>new j(K),newSeed:()=>j.newSeed()}},5714:function(b){b.exports=function(m,a,v){var E=[],h=m.length;if(h===0)return E;var f=a<0?Math.max(0,a+h):a||0;for(v!==void 0&&(h=v<0?v+h:v);h-- >f;)E[h-f]=m[h];return E}},5422:function(b,m,a){var v=a(487),E=a.n(v),h=a(631),f=a.n(h),D=a(2052),k=a.n(D),R=a(4010),d=a.n(R),Z=a(1469),B=a.n(Z),ee=a(9329),he=a.n(ee),N=a(2044),ke={};ke.styleTagTransform=he(),ke.setAttributes=d(),ke.insert=k().bind(null,"head"),ke.domAPI=f(),ke.insertStyleElement=B(),E()(N.Z,ke),N.Z&&N.Z.locals&&N.Z.locals},487:function(b){var m=[];function a(h){for(var f=-1,D=0;D<m.length;D++)if(m[D].identifier===h){f=D;break}return f}function v(h,f){for(var D={},k=[],R=0;R<h.length;R++){var d=h[R],Z=f.base?d[0]+f.base:d[0],B=D[Z]||0,ee="".concat(Z," ").concat(B);D[Z]=B+1;var he=a(ee),N={css:d[1],media:d[2],sourceMap:d[3],supports:d[4],layer:d[5]};if(he!==-1)m[he].references++,m[he].updater(N);else{var ke=E(N,f);f.byIndex=R,m.splice(R,0,{identifier:ee,updater:ke,references:1})}k.push(ee)}return k}function E(h,f){var D=f.domAPI(f);return D.update(h),function(k){if(k){if(k.css===h.css&&k.media===h.media&&k.sourceMap===h.sourceMap&&k.supports===h.supports&&k.layer===h.layer)return;D.update(h=k)}else D.remove()}}b.exports=function(h,f){var D=v(h=h||[],f=f||{});return function(k){k=k||[];for(var R=0;R<D.length;R++){var d=a(D[R]);m[d].references--}for(var Z=v(k,f),B=0;B<D.length;B++){var ee=a(D[B]);m[ee].references===0&&(m[ee].updater(),m.splice(ee,1))}D=Z}}},2052:function(b){var m={};b.exports=function(a,v){var E=function(h){if(m[h]===void 0){var f=document.querySelector(h);if(window.HTMLIFrameElement&&f instanceof window.HTMLIFrameElement)try{f=f.contentDocument.head}catch{f=null}m[h]=f}return m[h]}(a);if(!E)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");E.appendChild(v)}},1469:function(b){b.exports=function(m){var a=document.createElement("style");return m.setAttributes(a,m.attributes),m.insert(a,m.options),a}},4010:function(b,m,a){b.exports=function(v){var E=a.nc;E&&v.setAttribute("nonce",E)}},631:function(b){b.exports=function(m){var a=m.insertStyleElement(m);return{update:function(v){(function(E,h,f){var D="";f.supports&&(D+="@supports (".concat(f.supports,") {")),f.media&&(D+="@media ".concat(f.media," {"));var k=f.layer!==void 0;k&&(D+="@layer".concat(f.layer.length>0?" ".concat(f.layer):""," {")),D+=f.css,k&&(D+="}"),f.media&&(D+="}"),f.supports&&(D+="}");var R=f.sourceMap;R&&typeof btoa<"u"&&(D+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(R))))," */")),h.styleTagTransform(D,E,h.options)})(a,m,v)},remove:function(){(function(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)})(a)}}}},9329:function(b){b.exports=function(m,a){if(a.styleSheet)a.styleSheet.cssText=m;else{for(;a.firstChild;)a.removeChild(a.firstChild);a.appendChild(document.createTextNode(m))}}},2173:function(b,m,a){var v=a(9787),E=typeof Object.is=="function"?Object.is:function(Z,B){return Z===B&&(Z!==0||1/Z==1/B)||Z!=Z&&B!=B},h=v.useState,f=v.useEffect,D=v.useLayoutEffect,k=v.useDebugValue;function R(Z){var B=Z.getSnapshot;Z=Z.value;try{var ee=B();return!E(Z,ee)}catch{return!0}}var d=typeof window>"u"||window.document===void 0||window.document.createElement===void 0?function(Z,B){return B()}:function(Z,B){var ee=B(),he=h({inst:{value:ee,getSnapshot:B}}),N=he[0].inst,ke=he[1];return D(function(){N.value=ee,N.getSnapshot=B,R(N)&&ke({inst:N})},[Z,ee,B]),f(function(){return R(N)&&ke({inst:N}),Z(function(){R(N)&&ke({inst:N})})},[Z]),k(ee),ee};m.useSyncExternalStore=v.useSyncExternalStore!==void 0?v.useSyncExternalStore:d},5917:function(b,m,a){var v=a(9787),E=a(1374),h=typeof Object.is=="function"?Object.is:function(Z,B){return Z===B&&(Z!==0||1/Z==1/B)||Z!=Z&&B!=B},f=E.useSyncExternalStore,D=v.useRef,k=v.useEffect,R=v.useMemo,d=v.useDebugValue;m.useSyncExternalStoreWithSelector=function(Z,B,ee,he,N){var ke=D(null);if(ke.current===null){var Se={hasValue:!1,value:null};ke.current=Se}else Se=ke.current;ke=R(function(){function we(T){if(!z){if(z=!0,Ee=T,T=he(T),N!==void 0&&Se.hasValue){var A=Se.value;if(N(A,T))return Me=A}return Me=T}if(A=Me,h(Ee,T))return A;var U=he(T);return N!==void 0&&N(A,U)?A:(Ee=T,Me=U)}var Ee,Me,z=!1,re=ee===void 0?null:ee;return[function(){return we(B())},re===null?void 0:function(){return we(re())}]},[B,ee,he,N]);var je=f(Z,ke[0],ke[1]);return k(function(){Se.hasValue=!0,Se.value=je},[je]),d(je),je}},1374:function(b,m,a){b.exports=a(2173)},5668:function(b,m,a){b.exports=a(5917)},940:function(b,m,a){var v={"./ar-SA.json":[7822,2091],"./bg-BG.json":[1203,1628],"./bn-BD.json":[8525,7429],"./ca-ES.json":[510,5130],"./cs-CZ.json":[7605,6265],"./da-DK.json":[2392,1790],"./de-DE.json":[2853,3082],"./el-GR.json":[9876,1513],"./en.json":[1463],"./es-ES.json":[9952,8759],"./eu-ES.json":[5658,8081],"./fa-IR.json":[3747,5330],"./fi-FI.json":[9490,3512],"./fr-FR.json":[7830,3682],"./gl-ES.json":[5199,2943],"./he-IL.json":[1994,2312],"./hi-IN.json":[4646,9828],"./hu-HU.json":[6373,7368],"./id-ID.json":[3247,3808],"./it-IT.json":[3257,6239],"./ja-JP.json":[198,1204],"./kab-KAB.json":[228,9551],"./kk-KZ.json":[8972,22],"./ko-KR.json":[7596,6844],"./ku-TR.json":[2508,3031],"./lt-LT.json":[3755,8340],"./lv-LV.json":[2327,6768],"./mr-IN.json":[5297,3397],"./my-MM.json":[7704,1477],"./nb-NO.json":[1167,2359],"./nl-NL.json":[290,3024],"./nn-NO.json":[4481,3885],"./oc-FR.json":[2284,1690],"./pa-IN.json":[5383,3162],"./percentages.json":[4451],"./pl-PL.json":[3661,3674],"./pt-BR.json":[8881,3721],"./pt-PT.json":[5622,5395],"./ro-RO.json":[2013,5089],"./ru-RU.json":[2253,8124],"./si-LK.json":[5497,1302],"./sk-SK.json":[4570,8750],"./sl-SI.json":[1984,6071],"./sv-SE.json":[6006,8534],"./ta-IN.json":[3952,2404],"./tr-TR.json":[7315,4977],"./uk-UA.json":[334,7759],"./vi-VN.json":[456,4e3],"./zh-CN.json":[1037,4680],"./zh-HK.json":[5334,7920],"./zh-TW.json":[931,3421]};function E(h){if(!a.o(v,h))return Promise.resolve().then(function(){var k=new Error("Cannot find module '"+h+"'");throw k.code="MODULE_NOT_FOUND",k});var f=v[h],D=f[0];return Promise.all(f.slice(1).map(a.e)).then(function(){return a.t(D,19)})}E.keys=function(){return Object.keys(v)},E.id=940,b.exports=E},9713:function(b){b.exports=function(m,a,v){return a in m?Object.defineProperty(m,a,{value:v,enumerable:!0,configurable:!0,writable:!0}):m[a]=v,m}},6479:function(b,m,a){var v=a(7316);b.exports=function(E,h){if(E==null)return{};var f,D,k=v(E,h);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(E);for(D=0;D<R.length;D++)f=R[D],h.indexOf(f)>=0||Object.prototype.propertyIsEnumerable.call(E,f)&&(k[f]=E[f])}return k}},7316:function(b){b.exports=function(m,a){if(m==null)return{};var v,E,h={},f=Object.keys(m);for(E=0;E<f.length;E++)v=f[E],a.indexOf(v)>=0||(h[v]=m[v]);return h}},4295:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h),D=a(1667),k=a.n(D),R=new URL(a(3940),a.b),d=new URL(a(3147),a.b),Z=new URL(a(8303),a.b),B=new URL(a(1273),a.b),ee=new URL(a(9577),a.b),he=new URL(a(9729),a.b),N=f()(E()),ke=k()(R),Se=k()(d),je=k()(Z),we=k()(B),Ee=k()(ee),Me=k()(he);N.push([b.id,'@font-face{font-family:"Virgil";src:url('+ke+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+Se+');font-display:swap}@font-face{font-family:"Assistant";src:url('+je+');font-display:swap;font-weight:400}@font-face{font-family:"Assistant";src:url('+we+');font-display:swap;font-weight:500}@font-face{font-family:"Assistant";src:url('+Ee+');font-display:swap;font-weight:600}@font-face{font-family:"Assistant";src:url('+Me+");font-display:swap;font-weight:700}",""]),m.Z=N},6086:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".zoom-actions,.undo-redo-buttons{background-color:var(--island-bg-color);border-radius:var(--border-radius-lg)}.zoom-button,.undo-redo-buttons button{border:1px solid var(--default-border-color) !important;border-radius:0 !important;background-color:rgba(0,0,0,0) !important;font-size:.875rem !important;width:var(--lg-button-size);height:var(--lg-button-size)}.zoom-button svg,.undo-redo-buttons button svg{width:var(--lg-icon-size) !important;height:var(--lg-icon-size) !important}.zoom-button .ToolIcon__icon,.undo-redo-buttons button .ToolIcon__icon{width:100%;height:100%}.reset-zoom-button{border-left:0 !important;border-right:0 !important;padding:0 .625rem !important;width:3.75rem !important;justify-content:center;color:var(--text-primary-color)}.zoom-out-button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-out-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-out-button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.zoom-in-button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .zoom-in-button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.zoom-in-button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}.undo-redo-buttons .undo-button-container button{border-top-left-radius:var(--border-radius-lg) !important;border-bottom-left-radius:var(--border-radius-lg) !important;border-right:0 !important}:root[dir=rtl] .undo-redo-buttons .undo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .undo-button-container button .ToolIcon__icon{border-top-right-radius:0 !important;border-bottom-right-radius:0 !important}.undo-redo-buttons .redo-button-container button{border-top-right-radius:var(--border-radius-lg) !important;border-bottom-right-radius:var(--border-radius-lg) !important}:root[dir=rtl] .undo-redo-buttons .redo-button-container button{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.undo-redo-buttons .redo-button-container button .ToolIcon__icon{border-top-left-radius:0 !important;border-bottom-left-radius:0 !important}",""]),m.Z=f},3729:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Avatar{width:1.25rem;height:1.25rem;position:relative;border-radius:100%;outline-offset:2px;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.625rem;font-weight:500;line-height:1}.excalidraw .Avatar-img{width:100%;height:100%;border-radius:100%}.excalidraw .Avatar::before{content:"";position:absolute;top:-3px;right:-3px;bottom:-3px;left:-3px;border:1px solid var(--avatar-border-color);border-radius:100%}',""]),m.Z=f},3137:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h),D=a(1667),k=a.n(D),R=new URL(a(7984),a.b),d=new URL(a(1639),a.b),Z=f()(E()),B=k()(R),ee=k()(d);Z.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+B+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+ee+");--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-danger: #ffa8a5;--color-promo: #d297ff}.excalidraw .excalidraw-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color))}.excalidraw .excalidraw-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .excalidraw-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .excalidraw-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .excalidraw-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .excalidraw-button.active svg{color:var(--button-color, var(--color-primary-darker))}",""]),m.Z=Z},4241:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Card{display:flex;flex-direction:column;align-items:center;max-width:290px;margin:1em;text-align:center}.excalidraw .Card .Card-icon{font-size:2.6em;display:flex;flex:0 0 auto;padding:1.4rem;border-radius:50%;background:var(--card-color);color:#fff}.excalidraw .Card .Card-icon svg{width:2.8rem;height:2.8rem}.excalidraw .Card .Card-details{font-size:.96em;min-height:90px;padding:0 1em;margin-bottom:auto}.excalidraw .Card .Card-button.ToolIcon_type_button{height:2.5rem;margin-top:1em;margin-bottom:.3em;background-color:var(--card-color)}.excalidraw .Card .Card-button.ToolIcon_type_button:hover{background-color:var(--card-color-darker)}.excalidraw .Card .Card-button.ToolIcon_type_button:active{background-color:var(--card-color-darkest)}.excalidraw .Card .Card-button.ToolIcon_type_button .ToolIcon__label{color:#fff}.excalidraw .Card .Card-button.ToolIcon_type_button .Spinner{--spinner-color: #fff}",""]),m.Z=f},6029:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Checkbox{margin:4px .3em;display:flex;align-items:center;cursor:pointer;-webkit-user-select:none;user-select:none;-webkit-tap-highlight-color:rgba(0,0,0,0)}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus){box-shadow:0 0 0 2px #4dabf7}.excalidraw .Checkbox:hover:not(.is-checked) .Checkbox-box:not(:focus) svg{display:block;opacity:.3}.excalidraw .Checkbox:active .Checkbox-box{box-shadow:0 0 2px 1px inset #1c7ed6 !important}.excalidraw .Checkbox:hover .Checkbox-box{background-color:rgba(208,235,255,.2)}.excalidraw .Checkbox.is-checked .Checkbox-box{background-color:#d0ebff}.excalidraw .Checkbox.is-checked .Checkbox-box svg{display:block}.excalidraw .Checkbox.is-checked:hover .Checkbox-box{background-color:#a5d8ff}.excalidraw .Checkbox .Checkbox-box{width:22px;height:22px;padding:0;flex:0 0 auto;margin:0 1em;display:flex;align-items:center;justify-content:center;box-shadow:0 0 0 2px #1c7ed6;background-color:rgba(0,0,0,0);border-radius:4px;color:#1c7ed6;border:0}.excalidraw .Checkbox .Checkbox-box:focus{box-shadow:0 0 0 3px #1c7ed6}.excalidraw .Checkbox .Checkbox-box svg{display:none;width:16px;height:16px;stroke-width:3px}.excalidraw .Checkbox .Checkbox-label{display:flex;align-items:center}.excalidraw .Checkbox .excalidraw-tooltip-icon{width:1em;height:1em}",""]),m.Z=f},2345:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h),D=a(1667),k=a.n(D),R=new URL(a(9669),a.b),d=f()(E()),Z=k()(R);d.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir=ltr] .excalidraw .color-picker{left:-5.5px}:root[dir=rtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .color-picker-control-container+.popover{position:static}.excalidraw .color-picker-popover-container{margin-top:-0.25rem}:root[dir=ltr] .excalidraw .color-picker-popover-container{margin-left:.5rem}:root[dir=rtl] .excalidraw .color-picker-popover-container{margin-left:-3rem}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color);position:absolute;top:10px}:root[dir=ltr] .excalidraw .color-picker-triangle{-webkit-transform:rotate(270deg);transform:rotate(270deg);left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle{-webkit-transform:rotate(90deg);transform:rotate(90deg);right:-14px}.excalidraw .color-picker-triangle-shadow{border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1)}:root[dir=ltr] .excalidraw .color-picker-triangle-shadow{left:-14px}:root[dir=rtl] .excalidraw .color-picker-triangle-shadow{right:-16px}.excalidraw .color-picker-content--default{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content--default:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content--canvas{display:flex;flex-direction:column;padding:.25rem}.excalidraw .color-picker-content--canvas-title{color:#868e96;font-size:12px;padding:0 .25rem}.excalidraw .color-picker-content--canvas-colors{padding:.5rem 0}.excalidraw .color-picker-content--canvas-colors .color-picker-swatch{margin:0 .25rem}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("+Z+') left center}.excalidraw .color-picker-hash{height:var(--default-button-size);flex-shrink:0;padding:.5rem .5rem .5rem .75rem;border:1px solid var(--default-border-color);border-right:0;box-sizing:border-box;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir=ltr] .excalidraw .color-picker-hash{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg)}:root[dir=rtl] .excalidraw .color-picker-hash{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0;border-right:1px solid var(--default-border-color);border-left:0}.excalidraw .color-input-container{display:flex}.excalidraw .color-input-container:focus-within{box-shadow:0 0 0 1px var(--color-primary-darkest);border-radius:var(--border-radius-lg)}.excalidraw .color-picker-input{box-sizing:border-box;width:100%;margin:0;font-size:.875rem;background-color:rgba(0,0,0,0);color:var(--text-primary-color);border:0;outline:none;height:var(--default-button-size);border:1px solid var(--default-border-color);border-left:0;letter-spacing:.4px;padding:.5rem;padding-left:.25rem;-webkit-appearance:none;appearance:none}:root[dir=ltr] .excalidraw .color-picker-input{border-radius:0 var(--border-radius-lg) var(--border-radius-lg) 0}:root[dir=rtl] .excalidraw .color-picker-input{border-radius:var(--border-radius-lg) 0 0 var(--border-radius-lg);border-left:1px solid var(--default-border-color);border-right:0}.excalidraw .color-picker-input:focus-visible{box-shadow:none}.excalidraw .color-picker-label-swatch-container{border:1px solid var(--default-border-color);border-radius:var(--border-radius-lg);width:var(--default-button-size);height:var(--default-button-size);box-sizing:border-box;overflow:hidden}.excalidraw .color-picker-label-swatch{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--swatch-color) !important;overflow:hidden;position:relative;-webkit-filter:var(--theme-filter);filter:var(--theme-filter);border:0 !important}.excalidraw .color-picker-label-swatch svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .color-picker-label-swatch:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .color-picker-label-swatch:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .color-picker-label-swatch.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active:hover{background-color:var(--color-primary-light)}.excalidraw .color-picker-label-swatch.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir=ltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .color-picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .color-picker-keybinding{display:none}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.theme--dark .color-picker-swatch[aria-label=transparent] .color-picker-keybinding{color:#000}',""]),m.Z=d},9393:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .confirm-dialog-buttons{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;justify-content:flex-end}",""]),m.Z=f},6578:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;-webkit-user-select:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-item{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:rgba(0,0,0,0);border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-item.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:""}.excalidraw .context-menu-item.dangerous .context-menu-item__label{color:#f03e3e}.excalidraw .context-menu-item .context-menu-item__label{justify-self:start;-webkit-margin-end:20px;margin-inline-end:20px}.excalidraw .context-menu-item .context-menu-item__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-item:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-item:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-item:hover.dangerous .context-menu-item__label{color:var(--popup-bg-color)}.excalidraw .context-menu-item:focus{z-index:1}.excalidraw--mobile.excalidraw .context-menu-item{display:block}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__label{-webkit-margin-end:0;margin-inline-end:0}.excalidraw--mobile.excalidraw .context-menu-item .context-menu-item__shortcut{display:none}.excalidraw .context-menu-item-separator{border:none;border-top:1px solid #adb5bd}',""]),m.Z=f},9482:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Dialog{-webkit-user-select:text;user-select:text;cursor:auto}.excalidraw .Dialog__title{margin:0;text-align:left;font-size:1.25rem;border-bottom:1px solid var(--dialog-border-color);padding:0 0 .75rem;margin-bottom:1.5rem}",""]),m.Z=f},6148:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw .Dialog__action-button{position:relative;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;padding:.5rem 1.5rem;border:1px solid var(--default-border-color);background-color:rgba(0,0,0,0);height:3rem;border-radius:var(--border-radius-lg);letter-spacing:.4px;color:inherit;font-family:inherit;font-size:.875rem;font-weight:600;-webkit-user-select:none;user-select:none}.excalidraw .Dialog__action-button svg{display:block;width:1rem;height:1rem}.excalidraw .Dialog__action-button--danger{background-color:var(--color-danger);border-color:var(--color-danger);color:#fff}.excalidraw .Dialog__action-button--primary{background-color:var(--color-primary);border-color:var(--color-primary);color:#fff}.excalidraw.theme--dark .Dialog__action-button--danger{color:var(--color-gray-100)}.excalidraw.theme--dark .Dialog__action-button--primary{color:var(--color-gray-100)}",""]),m.Z=f},7955:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h),D=a(1667),k=a.n(D),R=new URL(a(9669),a.b),d=f()(E()),Z=k()(R);d.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("+Z+") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor)*3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding)*2);max-height:25rem}.excalidraw.theme--dark .ExportDialog__preview canvas{-webkit-filter:none;filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor)*2);align-items:top;justify-content:space-between}.excalidraw--mobile.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw--mobile.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw--mobile.excalidraw .ExportDialog__actions>*{margin-bottom:calc(var(--space-factor)*3)}.excalidraw--mobile.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw--mobile.excalidraw .ExportDialog__dialog,.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw--mobile.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}.excalidraw .ExportDialog--json .ExportDialog-cards{display:grid;grid-template-columns:repeat(auto-fit, minmax(200px, 1fr));justify-items:center;row-gap:2em}@media(max-width: 460px){.excalidraw .ExportDialog--json .ExportDialog-cards{grid-template-columns:repeat(auto-fit, minmax(240px, 1fr))}.excalidraw .ExportDialog--json .ExportDialog-cards .Card-details{min-height:40px}}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName{width:-webkit-fit-content;width:-moz-fit-content;width:fit-content;margin:1em auto;align-items:flex-start;flex-direction:column}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName .TextInput{width:auto}.excalidraw .ExportDialog--json .ExportDialog-cards .ProjectName-label{margin:.625em 0;font-weight:bold}.excalidraw button.ExportDialog-imageExportButton{border:0;width:5rem;height:5rem;margin:0 .2em;padding:0;display:flex;align-items:center;justify-content:center;border-radius:1rem;background-color:var(--button-color);box-shadow:0 3px 5px -1px rgba(0,0,0,.28),0 6px 10px 0 rgba(0,0,0,.14);font-family:Cascadia;font-size:1.8em;color:#fff}.excalidraw button.ExportDialog-imageExportButton:hover{background-color:var(--button-color-darker)}.excalidraw button.ExportDialog-imageExportButton:active{background-color:var(--button-color-darkest);box-shadow:none}.excalidraw button.ExportDialog-imageExportButton svg{width:.9em}",""]),m.Z=d},3195:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .FixedSideContainer{position:absolute;pointer-events:none}.excalidraw .FixedSideContainer>*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--editor-container-padding);top:var(--editor-container-padding);right:var(--editor-container-padding);bottom:var(--editor-container-padding);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]),m.Z=f},2978:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HelpDialog .Modal__content{max-width:960px}.excalidraw .HelpDialog h3{margin:1.5rem 0;font-weight:bold;font-size:1.125rem}.excalidraw .HelpDialog__header{display:flex;flex-wrap:wrap;gap:.75rem}.excalidraw .HelpDialog__btn{display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;align-items:center;border:1px solid var(--default-border-color);padding:.625rem 1rem;border-radius:var(--border-radius-lg);color:var(--text-primary-color);font-weight:600;font-size:.75rem;letter-spacing:.4px}.excalidraw .HelpDialog__btn:hover{text-decoration:none}.excalidraw .HelpDialog__link-icon{line-height:0}.excalidraw .HelpDialog__link-icon svg{width:1rem;height:1rem}.excalidraw .HelpDialog__islands-container{display:grid;grid-column-gap:1.5rem;grid-row-gap:2rem}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__islands-container{grid-template-columns:1fr 1fr}}@media screen and (min-width: 1024px){.excalidraw .HelpDialog__island--tools{grid-area:1/1/2/2}.excalidraw .HelpDialog__island--view{grid-area:2/1/3/2}.excalidraw .HelpDialog__island--editor{grid-area:1/2/3/3}}.excalidraw .HelpDialog__island h4{font-size:1rem;font-weight:bold;margin:0;margin-bottom:.625rem}.excalidraw .HelpDialog__island-content{border:1px solid var(--dialog-border-color);border-radius:var(--border-radius-lg)}.excalidraw .HelpDialog__shortcut{border-bottom:1px solid var(--dialog-border-color);padding:.375rem .75rem;display:flex;justify-content:space-between;align-items:center;font-size:.875rem;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .HelpDialog__shortcut:last-child{border-bottom:none}.excalidraw .HelpDialog__key-container{display:flex;align-items:center;-webkit-column-gap:.25rem;column-gap:.25rem;flex-shrink:0}.excalidraw .HelpDialog__key{display:flex;box-sizing:border-box;font-size:.625rem;background-color:var(--color-primary-light);border-radius:var(--border-radius-md);padding:.5rem;word-break:keep-all;align-items:center;font-family:inherit;line-height:1}",""]),m.Z=f},1587:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:.5rem;text-align:center;color:var(--color-gray-40);font-size:.75rem}.excalidraw--mobile.excalidraw .HintViewer{position:static;padding-right:2rem}.excalidraw .HintViewer>span{padding:.25rem}.excalidraw.theme--dark .HintViewer{color:var(--color-gray-60)}",""]),m.Z=f},9478:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 2px 2px 4px 2px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus-visible,.excalidraw .picker button:focus-visible{outline:rgba(0,0,0,0);background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus-visible svg,.excalidraw .picker button:focus-visible svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir=ltr] .excalidraw .picker-triangle{left:12px}:root[dir=rtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:rgba(0,0,0,0) rgba(0,0,0,0) var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(3, auto);grid-gap:.5rem;border-radius:4px}:root[dir=rtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir=ltr] .excalidraw .picker-keybinding{right:2px}:root[dir=rtl] .excalidraw .picker-keybinding{left:2px}.excalidraw--mobile.excalidraw .picker-keybinding{display:none}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label=transparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.theme--dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.theme--dark .picker-swatch[aria-label=transparent] .picker-keybinding{color:#000}',""]),m.Z=f},7369:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw .Island{--padding: 0;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]),m.Z=f},1434:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .layer-ui__wrapper.animate{transition:width .1s ease-in-out}.excalidraw .layer-ui__wrapper{position:absolute;width:100%;height:100%;pointer-events:none;z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper__top-right{display:flex;gap:.75rem}.excalidraw .layer-ui__wrapper__footer{width:100%}.excalidraw .layer-ui__wrapper__footer-right{z-index:100;display:flex}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:-webkit-transform .5s ease-in-out;transition:transform .5s ease-in-out;transition:transform .5s ease-in-out, -webkit-transform .5s ease-in-out}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}:root[dir=ltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{-webkit-transform:translate(999px, 0);transform:translate(999px, 0)}:root[dir=rtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{-webkit-transform:translate(-999px, 0);transform:translate(-999px, 0)}.excalidraw .layer-ui__wrapper .zen-mode-transition.layer-ui__wrapper__footer-left--transition-bottom{-webkit-transform:translate(0, 92px);transform:translate(0, 92px)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir=ltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir=rtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-left,.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right,.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{pointer-events:all}.excalidraw .layer-ui__wrapper .layer-ui__wrapper__footer-right{margin-top:auto;margin-bottom:auto}",""]),m.Z=f},2316:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.library-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:auto;height:var(--lg-button-size);display:flex;align-items:center;gap:.5rem;line-height:0;font-size:.75rem;letter-spacing:.4px}.library-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.library-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.library-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.library-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.library-button.active:hover{background-color:var(--color-primary-light)}.library-button.active svg{color:var(--button-color, var(--color-primary-darker))}.library-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.library-button__label{display:none}@media screen and (min-width: 1024px){.library-button__label{display:block}}",""]),m.Z=f},8923:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw .layer-ui__library-sidebar{display:flex;flex-direction:column}.excalidraw .layer-ui__library{display:flex;flex-direction:column;flex:1 1 auto}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0 15px 0}.excalidraw .layer-ui__library .layer-ui__library-header .Spinner{margin-right:1rem}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__sidebar .library-menu-items-container{height:100%;width:100%}.excalidraw .library-actions-counter{background-color:var(--color-primary);color:var(--color-primary-light);font-weight:bold;display:flex;align-items:center;justify-content:center;border-radius:50%;width:1rem;height:1rem;position:absolute;bottom:-0.25rem;right:-0.25rem;font-size:.625rem;pointer-events:none}.excalidraw .layer-ui__library-message{padding:2rem;min-width:200px;display:flex;flex-direction:column;align-items:center;flex-grow:1;justify-content:center}.excalidraw .layer-ui__library-message span{font-size:.8em}.excalidraw .publish-library-success .Dialog__content{display:flex;flex-direction:column}.excalidraw .publish-library-success-close.ToolIcon_type_button{background-color:#228be6;align-self:flex-end}.excalidraw .publish-library-success-close.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library-success-close.ToolIcon_type_button .ToolIcon__icon{width:auto;font-size:1rem;color:#fff;padding:0 .5rem}.excalidraw .library-menu-browse-button{margin:1rem auto;padding:.875rem 1rem;display:flex;align-items:center;justify-content:center;overflow:hidden;position:relative;border-radius:var(--border-radius-lg);background-color:var(--color-primary);color:#fff;text-align:center;white-space:nowrap;text-decoration:none !important;font-weight:600;font-size:.75rem}.excalidraw .library-menu-browse-button:hover{background-color:var(--color-primary-darker)}.excalidraw .library-menu-browse-button:active{background-color:var(--color-primary-darkest)}.excalidraw.theme--dark .library-menu-browse-button{color:var(--color-gray-100)}.excalidraw .library-menu-browse-button--mobile{min-height:22px;margin-left:auto}.excalidraw .library-menu-browse-button--mobile a{padding-right:0}.excalidraw .layer-ui__sidebar__header .dropdown-menu.dropdown-menu--mobile{top:100%}.excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{--gap: 0;z-index:1;position:absolute;top:100%;left:0;width:196px;box-shadow:var(--library-dropdown-shadow);border-radius:var(--border-radius-lg);padding:.25rem .5rem}:root[dir=rtl] .excalidraw .layer-ui__sidebar__header .dropdown-menu .dropdown-menu-container{right:0;left:auto}",""]),m.Z=f},6440:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw{--container-padding-y: 1.5rem;--container-padding-x: 0.75rem}.excalidraw .library-menu-items__no-items{text-align:center;color:var(--color-gray-70);line-height:1.5;font-size:.875rem;width:100%}.excalidraw .library-menu-items__no-items__label{color:var(--color-primary);font-weight:bold;font-size:1.125rem;margin-bottom:.75rem}.excalidraw.theme--dark .library-menu-items__no-items{color:var(--color-gray-40)}.excalidraw .library-menu-items-container{display:flex;flex-grow:1;flex-shrink:1;flex-basis:0;overflow-y:auto;flex-direction:column;height:100%;justify-content:center;margin:0;border-bottom:1px solid var(--sidebar-border-color);position:relative}.excalidraw .library-menu-items-container__row{display:grid;grid-template-columns:repeat(4, 1fr);gap:1rem}.excalidraw .library-menu-items-container__items{row-gap:.5rem;padding:var(--container-padding-y) var(--container-padding-x);flex:1;overflow-y:auto;overflow-x:hidden;margin-bottom:1rem}.excalidraw .library-menu-items-container__header{color:var(--color-primary);font-size:1.125rem;font-weight:bold;margin-bottom:.75rem}.excalidraw .library-menu-items-container__header--excal{margin-top:2.5rem}.excalidraw .library-menu-items-container .separator{width:100%;display:flex;align-items:center;font-weight:500;font-size:.9rem;margin:.6em .2em;color:var(--text-primary-color)}",""]),m.Z=f},2701:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .library-unit{align-items:center;border:1px solid rgba(0,0,0,0);display:flex;justify-content:center;position:relative;width:55px;height:55px;box-sizing:border-box;border-radius:var(--border-radius-lg)}.excalidraw .library-unit--hover{border-color:var(--color-primary)}.excalidraw .library-unit--selected{border-color:var(--color-primary);border-width:1px}.excalidraw .library-unit__dragger{display:flex;align-items:center;justify-content:center;height:100%;width:100%}.excalidraw .library-unit__dragger>svg{-webkit-filter:var(--theme-filter);filter:var(--theme-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__checkbox-container,.excalidraw .library-unit__checkbox-container:hover,.excalidraw .library-unit__checkbox-container:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:.5rem;position:absolute;left:2rem;bottom:2rem;cursor:pointer}.excalidraw .library-unit__checkbox-container input,.excalidraw .library-unit__checkbox-container:hover input,.excalidraw .library-unit__checkbox-container:active input{cursor:pointer}.excalidraw .library-unit__checkbox{position:absolute;top:.125rem;right:.125rem;margin:0}.excalidraw .library-unit__checkbox .Checkbox-box{margin:0;width:1rem;height:1rem;border-radius:4px;background-color:var(--color-primary-light);border:1px solid var(--color-primary);box-shadow:none !important;padding:2px}.excalidraw .library-unit__checkbox.Checkbox:hover .Checkbox-box{background-color:var(--color-primary-light)}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box{background-color:var(--color-primary) !important}.excalidraw .library-unit__checkbox.is-checked .Checkbox-box svg{color:var(--color-primary-light)}.excalidraw .library-unit__removeFromLibrary>svg{height:16px;width:16px}.excalidraw .library-unit__adder{-webkit-transform:scale(1);transform:scale(1);-webkit-animation:library-unit__adder-animation 1s ease-in infinite;animation:library-unit__adder-animation 1s ease-in infinite;position:absolute;width:1.5rem;height:1.5rem;background-color:var(--color-primary);border-radius:var(--border-radius-md);display:flex;justify-content:center;align-items:center;pointer-events:none}.excalidraw .library-unit__adder svg{color:var(--color-primary-light);width:1rem;height:1rem}.excalidraw .library-unit:active .library-unit__adder{-webkit-animation:none;animation:none;-webkit-transform:scale(0.8);transform:scale(0.8)}.excalidraw .library-unit__active{cursor:pointer}@-webkit-keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}@keyframes library-unit__adder-animation{0%{-webkit-transform:scale(0.85);transform:scale(0.85)}50%{-webkit-transform:scale(1);transform:scale(1)}100%{-webkit-transform:scale(0.85);transform:scale(0.85)}}",""]),m.Z=f},6843:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor)*10)}.excalidraw .Modal .Island{padding:2.5rem !important}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(18,18,18,.2)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px);-webkit-animation:Modal__content_fade-in .1s ease-out .05s forwards;animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);border:1px solid var(--dialog-border-color);box-shadow:var(--modal-shadow);border-radius:6px;box-sizing:border-box}.excalidraw .Modal__content:focus{outline:none}.excalidraw--mobile.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}@-webkit-keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}@keyframes Modal__content_fade-in{from{opacity:0;-webkit-transform:translateY(10px);transform:translateY(10px)}to{opacity:1;-webkit-transform:translateY(0);transform:translateY(0)}}.excalidraw .Modal__close{color:var(--icon-fill-color);margin:0;padding:.375rem;position:absolute;top:1rem;right:1rem;border:0;background-color:rgba(0,0,0,0);line-height:0;cursor:pointer}.excalidraw .Modal__close svg{width:1.5rem;height:1.5rem}.excalidraw--mobile.excalidraw .Modal{padding:0}.excalidraw--mobile.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}",""]),m.Z=f},8461:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw--mobile.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}.excalidraw--mobile.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:rgba(0,0,0,0)}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",""]),m.Z=f},9935:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw .popover{position:absolute;z-index:10;padding:5px 0 5px}",""]),m.Z=f},532:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".ProjectName{margin:auto;display:flex;align-items:center}.ProjectName .TextInput{height:calc(1rem - 3px);width:200px;overflow:hidden;text-align:center;margin-left:8px;text-overflow:ellipsis}.ProjectName .TextInput--readonly{background:none;border:none;width:auto;max-width:200px;padding-left:2px}.ProjectName .TextInput--readonly:hover{background:none}",""]),m.Z=f},7589:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .publish-library__fields{display:flex;flex-direction:column}.excalidraw .publish-library__fields label{padding:1em 0;display:flex;justify-content:space-between;align-items:center}.excalidraw .publish-library__fields label span{font-weight:500;font-size:1rem;color:#868e96}.excalidraw .publish-library__fields label input,.excalidraw .publish-library__fields label textarea{width:70%;padding:.6em;font-family:var(--ui-font)}.excalidraw .publish-library__fields label .required{color:#e03131;margin:.2rem}.excalidraw .publish-library__buttons{display:flex;padding:.2rem 0;justify-content:flex-end;gap:.5rem}.excalidraw .publish-library__buttons .ToolIcon__icon{min-width:2.5rem;width:auto;font-size:1rem}.excalidraw .publish-library__buttons .ToolIcon_type_button{margin-left:1rem;padding:0 .5rem}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button{background-color:#228be6}.excalidraw .publish-library__buttons--confirm.ToolIcon_type_button:hover{background-color:#1971c2}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button{background-color:#adb5bd}.excalidraw .publish-library__buttons--cancel.ToolIcon_type_button:hover{background-color:#868e96}.excalidraw .publish-library__buttons .ToolIcon__icon{color:#fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner{--spinner-color: #fff}.excalidraw .publish-library__buttons .ToolIcon__icon .Spinner svg{padding:.5rem}.excalidraw .publish-library .selected-library-items{display:flex;flex-wrap:wrap}.excalidraw .publish-library .selected-library-items .single-library-item-wrapper{width:9rem}.excalidraw .publish-library-warning{color:#fa5252}.excalidraw .publish-library-note{padding:1em 0;font-style:italic;font-size:14px;display:block}",""]),m.Z=f},8208:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Sidebar__close-btn,.excalidraw .Sidebar__pin-btn,.excalidraw .Sidebar__dropdown-btn{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));width:var(--lg-button-size);height:var(--lg-button-size);padding:0}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .Sidebar__close-btn:hover,.excalidraw .Sidebar__pin-btn:hover,.excalidraw .Sidebar__dropdown-btn:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .Sidebar__close-btn:active,.excalidraw .Sidebar__pin-btn:active,.excalidraw .Sidebar__dropdown-btn:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .Sidebar__close-btn.active,.excalidraw .Sidebar__pin-btn.active,.excalidraw .Sidebar__dropdown-btn.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active:hover,.excalidraw .Sidebar__pin-btn.active:hover,.excalidraw .Sidebar__dropdown-btn.active:hover{background-color:var(--color-primary-light)}.excalidraw .Sidebar__close-btn.active svg,.excalidraw .Sidebar__pin-btn.active svg,.excalidraw .Sidebar__dropdown-btn.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .Sidebar__close-btn svg,.excalidraw .Sidebar__pin-btn svg,.excalidraw .Sidebar__dropdown-btn svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .Sidebar__pin-btn--pinned{background-color:var(--color-primary);border-color:var(--color-primary)}.excalidraw .Sidebar__pin-btn--pinned svg{color:#fff}.excalidraw .Sidebar__pin-btn--pinned:hover,.excalidraw .Sidebar__pin-btn--pinned:active{background-color:var(--color-primary-darker)}.excalidraw.theme--dark .Sidebar__pin-btn--pinned svg{color:var(--color-gray-90)}.excalidraw .layer-ui__sidebar{position:absolute;top:0;bottom:0;right:0;z-index:5;margin:0;background-color:var(--sidebar-bg-color);box-shadow:var(--sidebar-shadow);overflow:hidden;border-radius:0;width:calc(302px - var(--space-factor) * 2);border-left:1px solid var(--sidebar-border-color);padding:0;box-sizing:border-box}:root[dir=rtl] .excalidraw .layer-ui__sidebar{left:0;right:auto}.excalidraw .layer-ui__sidebar--docked{box-shadow:none}:root[dir=rtl] .excalidraw .layer-ui__sidebar{border-right:1px solid var(--sidebar-border-color);border-left:0}.excalidraw .layer-ui__sidebar .Island{box-shadow:none}.excalidraw .layer-ui__sidebar .ToolIcon__icon{border-radius:var(--border-radius-md)}.excalidraw .layer-ui__sidebar .ToolIcon__icon__close .Modal__close{width:calc(var(--space-factor)*7);height:calc(var(--space-factor)*7);display:flex;justify-content:center;align-items:center;color:var(--color-text)}.excalidraw .layer-ui__sidebar .Island{--padding: 0;background-color:var(--island-bg-color);border-radius:var(--border-radius-lg);padding:calc(var(--padding)*var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .layer-ui__sidebar__header{box-sizing:border-box;display:flex;justify-content:space-between;align-items:center;width:100%;padding:1rem;border-bottom:1px solid var(--sidebar-border-color)}.excalidraw .layer-ui__sidebar__header__buttons{display:flex;align-items:center;gap:.625rem}",""]),m.Z=f},8465:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .single-library-item{position:relative}.excalidraw .single-library-item-status{position:absolute;top:.3rem;left:.3rem;font-size:.7rem;color:#f03e3e;background:rgba(255,255,255,.9);padding:.1rem .2rem;border-radius:.2rem}.excalidraw .single-library-item__svg{background-color:#fff;padding:.3rem;width:7.5rem;height:7.5rem;border:1px solid var(--button-gray-2)}.excalidraw .single-library-item__svg svg{width:100%;height:100%}.excalidraw .single-library-item .ToolIcon__icon{background-color:#fff;width:auto;height:auto;margin:0 .5rem}.excalidraw .single-library-item .ToolIcon,.excalidraw .single-library-item .ToolIcon_type_button:hover{background-color:#fff}.excalidraw .single-library-item .required,.excalidraw .single-library-item .error{color:#e03131;font-weight:bold;font-size:1rem;margin:.2rem}.excalidraw .single-library-item .error{font-weight:500;margin:0;padding:.3em 0}.excalidraw .single-library-item--remove{position:absolute;top:.2rem;right:1rem}.excalidraw .single-library-item--remove .ToolIcon__icon{margin:0}.excalidraw .single-library-item--remove .ToolIcon__icon{background-color:#fa5252}.excalidraw .single-library-item--remove .ToolIcon__icon:hover{background-color:#f03e3e}.excalidraw .single-library-item--remove .ToolIcon__icon:active{background-color:#e03131}.excalidraw .single-library-item--remove svg{color:#fff;padding:.26rem;border-radius:.3em;width:1rem;height:1rem}",""]),m.Z=f},5892:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw .Spinner{display:flex;align-items:center;justify-content:center;height:100%;margin-left:auto;margin-right:auto;--spinner-color: var(--icon-fill-color)}.excalidraw .Spinner svg{-webkit-animation:rotate 1.6s linear infinite;animation:rotate 1.6s linear infinite;-webkit-transform-origin:center center;transform-origin:center center}.excalidraw .Spinner circle{stroke:var(--spinner-color);-webkit-animation:dash 1.6s linear 0s infinite;animation:dash 1.6s linear 0s infinite;stroke-linecap:round}@-webkit-keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@keyframes rotate{100%{-webkit-transform:rotate(360deg);transform:rotate(360deg)}}@-webkit-keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}@keyframes dash{0%{stroke-dasharray:1,300;stroke-dashoffset:0}50%{stroke-dasharray:150,300;stroke-dashoffset:-200}100%{stroke-dasharray:1,300;stroke-dashoffset:-280}}",""]),m.Z=f},3874:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor)*var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:-webkit-min-content;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:-webkit-min-content;grid-auto-columns:min-content}",""]),m.Z=f},2681:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:10;pointer-events:all}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir=rtl] .excalidraw .Stats{left:12px;right:initial}:root[dir=rtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir=rtl] .excalidraw .Stats .close{float:left}",""]),m.Z=f},6759:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .TextInput{display:inline-block}",""]),m.Z=f},9650:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .Toast{-webkit-animation:fade-in .5s;animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast .Toast__message{padding:0 1.6rem;color:var(--popup-text-color);white-space:pre-wrap}.excalidraw .Toast .close{position:absolute;top:0;right:0;padding:.4rem}.excalidraw .Toast .close .ToolIcon__icon{width:1.2rem;height:1.2rem}@-webkit-keyframes fade-in{from{opacity:0}to{opacity:1}}@keyframes fade-in{from{opacity:0}to{opacity:1}}",""]),m.Z=f},2044:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .ToolIcon{border-radius:var(--border-radius-lg);display:inline-flex;align-items:center;position:relative;cursor:pointer;-webkit-tap-highlight-color:rgba(0,0,0,0);-webkit-user-select:none;user-select:none}.excalidraw .ToolIcon__hidden{display:none !important}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon{--icon-fill-color: var(--color-primary-darker)}.excalidraw .ToolIcon.fillable .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon.fillable .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{fill:var(--icon-fill-color)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon{background:var(--color-primary-light);--keybinding-color: var(--color-gray-60)}.excalidraw .ToolIcon .ToolIcon_type_radio:checked+.ToolIcon__icon svg,.excalidraw .ToolIcon .ToolIcon_type_checkbox:checked+.ToolIcon__icon svg{color:var(--color-primary-darker)}.excalidraw .ToolIcon .ToolIcon__keybinding{bottom:4px;right:4px}.excalidraw .ToolIcon .ToolIcon__icon:hover{background:var(--button-hover-bg)}.excalidraw .ToolIcon .ToolIcon__icon:active{background:var(--button-hover-bg);border:1px solid var(--color-primary-darkest)}.excalidraw .ToolIcon--plain{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon--plain .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon__icon{box-sizing:border-box;width:var(--default-button-size);height:var(--default-button-size);color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--border-radius-lg)}.excalidraw .ToolIcon__icon+.ToolIcon__label{-webkit-margin-start:0;margin-inline-start:0}.excalidraw .ToolIcon__icon svg{position:relative;width:var(--default-icon-size);height:var(--default-icon-size);color:var(--icon-fill-color)}.excalidraw .ToolIcon__label{display:flex;align-items:center;color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon__label .Spinner{margin-left:.6em}.excalidraw .ToolIcon_size_small .ToolIcon__icon{width:2rem;height:2rem;font-size:.8em}.excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit;background-color:initial}.excalidraw .ToolIcon_type_button:focus-visible,.excalidraw .Modal .ToolIcon_type_button:focus-visible,.excalidraw .ToolIcon_type_button:focus-visible{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{display:none !important}.excalidraw .ToolIcon_type_floating{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:hover{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating:active{background-color:rgba(0,0,0,0)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{background-color:var(--button-gray-1);width:2rem;height:2rem}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:hover{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_floating .ToolIcon__icon:active{background-color:var(--button-gray-3)}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.625rem;color:var(--keybinding-color);font-family:var(--ui-font);-webkit-user-select:none;user-select:none}:root[dir=ltr] .excalidraw .unlocked-icon{left:2px}:root[dir=rtl] .excalidraw .unlocked-icon{right:2px}.excalidraw .App-toolbar-container .ToolIcon__icon{width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .App-toolbar-container .ToolIcon__icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}",""]),m.Z=f},9144:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .App-toolbar.zen-mode .ToolIcon__keybinding,.excalidraw .App-toolbar.zen-mode .HintViewer{display:none}.excalidraw .App-toolbar__divider{width:1px;height:1.5rem;align-self:center;background-color:var(--default-border-color);margin:0 .5rem}",""]),m.Z=f},6626:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-tooltip{position:fixed;z-index:1000;padding:8px;border-radius:6px;box-sizing:border-box;pointer-events:none;word-wrap:break-word;background:#000;line-height:1.5;text-align:center;font-size:13px;font-weight:500;color:#fff;display:none}.excalidraw-tooltip.excalidraw-tooltip--visible{display:block}.excalidraw-tooltip-wrapper{display:flex}.excalidraw-tooltip-icon{width:.9em;height:.9em;margin-left:5px;margin-top:1px;display:flex}.excalidraw--mobile.excalidraw-tooltip-icon{display:none}",""]),m.Z=f},6359:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) var(--space-factor) var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end;align-items:center;gap:.625rem;max-height:140px;max-width:290px;overflow:hidden}.excalidraw .UserList:empty{display:none}.excalidraw .UserList>*{pointer-events:all}.excalidraw .UserList_mobile{padding:0;justify-content:normal;margin:.5rem 0}",""]),m.Z=f},7399:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .dropdown-menu{position:absolute;top:100%;margin-top:.25rem}.excalidraw .dropdown-menu--mobile{bottom:55px;top:auto;left:0;width:100%;display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .dropdown-menu--mobile .dropdown-menu-container{padding:8px 8px;box-sizing:border-box;background-color:var(--island-bg-color);box-shadow:var(--shadow-island);border-radius:var(--border-radius-lg);position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .dropdown-menu--mobile .dropdown-menu-container.zen-mode{box-shadow:none}.excalidraw .dropdown-menu .dropdown-menu-container{background-color:#fff !important;max-height:calc(100vh - 150px);overflow-y:auto;--gap: 2}.excalidraw .dropdown-menu .dropdown-menu-item-base{display:flex;padding:0 .625rem;-webkit-column-gap:.625rem;column-gap:.625rem;font-size:.875rem;color:var(--color-gray-100);width:100%;box-sizing:border-box;font-weight:normal;font-family:inherit}.excalidraw .dropdown-menu .dropdown-menu-item{background-color:rgba(0,0,0,0);border:0;align-items:center;height:2rem;cursor:pointer;border-radius:var(--border-radius-md)}@media screen and (min-width: 1921px){.excalidraw .dropdown-menu .dropdown-menu-item{height:2.25rem}}.excalidraw .dropdown-menu .dropdown-menu-item__text{text-overflow:ellipsis;overflow:hidden;white-space:nowrap}.excalidraw .dropdown-menu .dropdown-menu-item__shortcut{-webkit-margin-start:auto;margin-inline-start:auto;opacity:.5}.excalidraw .dropdown-menu .dropdown-menu-item:hover{background-color:var(--button-hover-bg);text-decoration:none}.excalidraw .dropdown-menu .dropdown-menu-item svg{width:1rem;height:1rem;display:block}.excalidraw .dropdown-menu .dropdown-menu-item-custom{margin-top:.5rem}.excalidraw .dropdown-menu .dropdown-menu-group-title{font-size:14px;text-align:left;margin:10px 0;font-weight:500}.excalidraw.theme--dark .dropdown-menu-item{color:var(--color-gray-40)}.excalidraw.theme--dark .dropdown-menu-container{background-color:var(--color-gray-90) !important}.excalidraw .dropdown-menu-button{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .dropdown-menu-button svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .dropdown-menu-button:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .dropdown-menu-button:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .dropdown-menu-button.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active:hover{background-color:var(--color-primary-light)}.excalidraw .dropdown-menu-button.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .dropdown-menu-button svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .dropdown-menu-button--mobile{border:none;margin:0;padding:0;width:var(--default-button-size);height:var(--default-button-size)}",""]),m.Z=f},8793:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".footer-center{pointer-events:none;display:flex;width:100%;justify-content:flex-start}.footer-center>*{pointer-events:all}",""]),m.Z=f},3397:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,':export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw .collab-button{--button-bg: var(--color-primary);--button-color: white;--button-border: var(--color-primary);--button-width: var(--lg-button-size);--button-height: var(--lg-button-size);--button-hover-bg: var(--color-primary-darker);--button-hover-border: var(--color-primary-darker);--button-active-bg: var(--color-primary-darker);flex-shrink:0}.excalidraw .collab-button.active.active{background-color:#0fb884;border-color:#0fb884}.excalidraw .collab-button.active.active svg{color:#fff}.excalidraw .collab-button.active.active:hover,.excalidraw .collab-button.active.active:active{background-color:#0fb884;border-color:#0fb884}.excalidraw.theme--dark .collab-button{color:var(--color-gray-90)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;min-height:1em;line-height:1;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#b2f2bb;color:#2b8a3e;font-size:.6rem;font-family:"Cascadia"}:root[dir=ltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir=rtl] .excalidraw .CollabButton-collaborators{left:-5px}',""]),m.Z=f},4343:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".excalidraw .ActiveFile .ActiveFile__fileName{display:flex;align-items:center}.excalidraw .ActiveFile .ActiveFile__fileName span{text-overflow:ellipsis;overflow:hidden;white-space:nowrap;width:9.3em}.excalidraw .ActiveFile .ActiveFile__fileName svg{width:1.15em;-webkit-margin-end:.3em;margin-inline-end:.3em;-webkit-transform:scaleY(0.9);transform:scaleY(0.9)}",""]),m.Z=f},1569:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,'.excalidraw .virgil{font-family:"Virgil"}.excalidraw .welcome-screen-decor{pointer-events:none;color:var(--color-gray-40)}.excalidraw.theme--dark .welcome-screen-decor{color:var(--color-gray-60)}@media(max-height: 599px){.excalidraw .welcome-screen-decor-hint{display:none !important}}@media(max-width: 1024px),(max-width: 800px){.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--help,.excalidraw .welcome-screen-decor-hint .welcome-screen-decor--menu{display:none}}.excalidraw .welcome-screen-decor-hint--help{display:flex;position:absolute;right:0;bottom:100%}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help{left:0;right:auto}.excalidraw .welcome-screen-decor-hint--help svg{margin-top:.5rem;width:85px;height:71px;-webkit-transform:scaleX(-1) rotate(80deg);transform:scaleX(-1) rotate(80deg)}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--help svg{-webkit-transform:rotate(80deg);transform:rotate(80deg)}.excalidraw .welcome-screen-decor-hint--toolbar{position:absolute;top:100%;left:50%;-webkit-transform:translateX(-50%);transform:translateX(-50%);margin-top:2.5rem;display:flex;align-items:baseline}.excalidraw .welcome-screen-decor-hint--toolbar .welcome-screen-decor-hint__label{width:120px;position:relative;top:-0.5rem}.excalidraw .welcome-screen-decor-hint--toolbar svg{width:38px;height:78px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--toolbar svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .welcome-screen-decor-hint--menu{position:absolute;width:320px;font-size:1rem;top:100%;margin-top:.25rem;-webkit-margin-start:.6rem;margin-inline-start:.6rem;display:flex;align-items:flex-end;gap:.5rem}.excalidraw .welcome-screen-decor-hint--menu svg{width:41px;height:94px}:root[dir=rtl] .excalidraw .welcome-screen-decor-hint--menu svg{-webkit-transform:scaleX(-1);transform:scaleX(-1)}@media(max-width: 860px){.excalidraw .welcome-screen-decor-hint--menu .welcome-screen-decor-hint__label{max-width:160px}}.excalidraw .welcome-screen-center{display:flex;flex-direction:column;gap:2rem;justify-content:center;align-items:center;position:absolute;pointer-events:none;left:1rem;top:1rem;right:1rem;bottom:1rem}.excalidraw .welcome-screen-center__logo{display:flex;align-items:center;-webkit-column-gap:.75rem;column-gap:.75rem;font-size:2.25rem}.excalidraw .welcome-screen-center__logo svg{width:1.625rem;height:auto}.excalidraw .welcome-screen-center__heading{font-size:1.125rem;text-align:center}.excalidraw .welcome-screen-menu{display:flex;flex-direction:column;gap:2px;justify-content:center;align-items:center}.excalidraw .welcome-screen-menu-item{box-sizing:border-box;pointer-events:all;color:var(--color-gray-50);font-size:.875rem;width:100%;min-width:300px;max-width:400px;display:grid;align-items:center;justify-content:space-between;background:none;border:none;padding:.75rem;border-radius:var(--border-radius-md);grid-template-columns:calc(var(--default-icon-size) + .5rem) 1fr 3rem}.excalidraw .welcome-screen-menu-item__text{display:flex;align-items:center;margin-right:auto;text-align:left;-webkit-column-gap:.5rem;column-gap:.5rem}.excalidraw .welcome-screen-menu-item__icon{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .welcome-screen-menu-item__shortcut{margin-left:auto;color:var(--color-gray-40);font-size:.75rem}.excalidraw:not(:active) .welcome-screen-menu-item:hover{text-decoration:none;background:var(--color-gray-10)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active{background:var(--color-gray-20)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-100)}.excalidraw .welcome-screen-menu-item:active--promo{color:var(--color-promo) !important}.excalidraw .welcome-screen-menu-item:active--promo:hover .welcome-screen-menu-item__text{color:var(--color-promo) !important}.excalidraw.theme--dark .welcome-screen-menu-item{color:var(--color-gray-60)}.excalidraw.theme--dark .welcome-screen-menu-item__shortcut{color:var(--color-gray-60)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover{background:var(--color-gray-85)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__shortcut{color:var(--color-gray-50)}.excalidraw.theme--dark:not(:active) .welcome-screen-menu-item:hover .welcome-screen-menu-item__text{color:var(--color-gray-10)}.excalidraw.theme--dark .welcome-screen-menu-item:active{background-color:var(--color-gray-90)}.excalidraw.theme--dark .welcome-screen-menu-item:active .welcome-screen-menu-item__text{color:var(--color-gray-10)}@media(max-height: 599px){.excalidraw .welcome-screen-center{margin-top:4rem}}@media(min-height: 600px)and (max-height: 900px){.excalidraw .welcome-screen-center{margin-top:8rem}}@media(max-height: 500px),(max-width: 320px){.excalidraw .welcome-screen-center{display:none}}',""]),m.Z=f},9915:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap;-webkit-user-select:none;user-select:none}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;flex-direction:column;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage .Spinner{font-size:2.8em}.LoadingMessage .LoadingMessage-text{margin-top:1em;font-size:.8em}.LoadingMessage--dark{background-color:#121212;color:#ced4da}",""]),m.Z=f},9310:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h),D=a(1667),k=a.n(D),R=new URL(a(7984),a.b),d=new URL(a(1639),a.b),Z=f()(E()),B=k()(R),ee=k()(d);Z.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}:export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw{--theme-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: var(--color-gray-20);--dropdown-icon: url("+B+");--focus-highlight-color: #a5d8ff;--icon-fill-color: var(--color-gray-80);--icon-green-fill-color: #2b8a3e;--default-bg-color: #ffffff;--input-bg-color: #ffffff;--input-border-color: #ced4da;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.96);--keybinding-color: var(--color-gray-40);--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0px 7px 14px rgba(0, 0, 0, 0.05), 0px 0px 3.12708px rgba(0, 0, 0, 0.0798), 0px 0px 0.931014px rgba(0, 0, 0, 0.1702);--button-hover-bg: var(--color-gray-10);--default-border-color: var(--color-gray-30);--default-button-size: 2rem;--default-icon-size: 1rem;--lg-button-size: 2.25rem;--lg-icon-size: 1rem;--editor-container-padding: 1rem;--scrollbar-thumb: var(--button-gray-2);--scrollbar-thumb-hover: var(--button-gray-3);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-20);--sidebar-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--sidebar-border-color: var(--color-gray-20);--sidebar-bg-color: #fff;--library-dropdown-shadow: 0px 15px 6px rgba(0, 0, 0, 0.01), 0px 8px 5px rgba(0, 0, 0, 0.05), 0px 4px 4px rgba(0, 0, 0, 0.09), 0px 1px 2px rgba(0, 0, 0, 0.1), 0px 0px 0px rgba(0, 0, 0, 0.1);--space-factor: 0.25rem;--text-primary-color: var(--color-gray-80);--color-selection: #6965db;--color-primary: #6965db;--color-primary-darker: #5b57d1;--color-primary-darkest: #4a47b1;--color-primary-light: #e3e2fe;--color-gray-10: #f5f5f5;--color-gray-20: #ebebeb;--color-gray-30: #d6d6d6;--color-gray-40: #b8b8b8;--color-gray-50: #999999;--color-gray-60: #7a7a7a;--color-gray-70: #5c5c5c;--color-gray-80: #3d3d3d;--color-gray-85: #242424;--color-gray-90: #1e1e1e;--color-gray-100: #121212;--color-danger: #db6965;--color-promo: #e70078;--border-radius-md: 0.375rem;--border-radius-lg: 0.5rem}@media screen and (min-device-width: 1921px){.excalidraw{--lg-button-size: 2.5rem;--lg-icon-size: 1.25rem;--default-button-size: 2.25rem;--default-icon-size: 1.25rem}}.excalidraw.theme--dark.theme--dark-background-none{background:none}.excalidraw.theme--dark{--theme-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: var(--color-gray-80);--dropdown-icon: url("+ee+');--focus-highlight-color: #228be6;--icon-fill-color: var(--color-gray-40);--icon-green-fill-color: #69db7c;--default-bg-color: #121212;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #262627;--keybinding-color: var(--color-gray-60);--link-color: #4dabf7;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--text-primary-color: var(--color-gray-40);--button-hover-bg: var(--color-gray-80);--default-border-color: var(--color-gray-80);--shadow-island: 0px 13px 33px rgba(0, 0, 0, 0.07), 0px 4.13px 9.94853px rgba(0, 0, 0, 0.0456112), 0px 1.13px 4.13211px rgba(0, 0, 0, 0.035), 0px 0.769896px 1.4945px rgba(0, 0, 0, 0.0243888);--modal-shadow: 0px 100px 80px rgba(0, 0, 0, 0.07), 0px 41.7776px 33.4221px rgba(0, 0, 0, 0.0503198), 0px 22.3363px 17.869px rgba(0, 0, 0, 0.0417275), 0px 12.5216px 10.0172px rgba(0, 0, 0, 0.035), 0px 6.6501px 5.32008px rgba(0, 0, 0, 0.0282725), 0px 2.76726px 2.21381px rgba(0, 0, 0, 0.0196802);--avatar-border-color: var(--color-gray-85);--sidebar-border-color: var(--color-gray-85);--sidebar-bg-color: #191919;--scrollbar-thumb: #343a40;--scrollbar-thumb-hover: #495057;--color-selection: #3530c4;--color-primary: #a8a5ff;--color-primary-darker: #b2aeff;--color-primary-darkest: #beb9ff;--color-primary-light: #4f4d6f;--color-danger: #ffa8a5;--color-promo: #d297ff}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{--ui-font: Assistant, system-ui, BlinkMacSystemFont, -apple-system, Segoe UI, Roboto, Helvetica, Arial, sans-serif;font-family:var(--ui-font);position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0;height:100%;width:100%;-webkit-user-select:none;user-select:none}.excalidraw button{cursor:pointer}.excalidraw:focus{outline:none}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw__canvas{position:absolute}.excalidraw.theme--dark canvas{-webkit-filter:var(--theme-filter);filter:var(--theme-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column;row-gap:.75rem}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin:0;margin-bottom:.25rem;font-size:.75rem;color:var(--text-primary-color);font-weight:normal;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap;display:flex;-webkit-column-gap:.5rem;column-gap:.5rem;row-gap:.5rem}.excalidraw .panelColumn .buttonList label{font-size:.75rem}.excalidraw .panelColumn .buttonList input[type=radio],.excalidraw .panelColumn .buttonList input[type=button]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn fieldset{margin:0;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus-visible{outline:rgba(0,0,0,0);box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .buttonList .ToolIcon__icon{all:unset !important;display:flex !important}.excalidraw .buttonList button{background-color:rgba(0,0,0,0)}.excalidraw .buttonList label,.excalidraw .buttonList button,.excalidraw .buttonList .zIndexButton{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));padding:0}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .buttonList label:hover,.excalidraw .buttonList button:hover,.excalidraw .buttonList .zIndexButton:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .buttonList label:active,.excalidraw .buttonList button:active,.excalidraw .buttonList .zIndexButton:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .buttonList label.active,.excalidraw .buttonList button.active,.excalidraw .buttonList .zIndexButton.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .buttonList label.active:hover,.excalidraw .buttonList button.active:hover,.excalidraw .buttonList .zIndexButton.active:hover{background-color:var(--color-primary-light)}.excalidraw .buttonList label.active svg,.excalidraw .buttonList button.active svg,.excalidraw .buttonList .zIndexButton.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .buttonList label svg,.excalidraw .buttonList button svg,.excalidraw .buttonList .zIndexButton svg{width:var(--default-icon-size);height:var(--default-icon-size)}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar>.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar>.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%}.excalidraw .App-toolbar .eraser.ToolIcon:hover{--icon-fill-color: #fff;--keybinding-color: #fff}.excalidraw .App-toolbar .eraser.active{background-color:var(--color-primary)}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .shapes-section{display:flex;justify-content:center;pointer-events:none !important}.excalidraw .shapes-section>*{pointer-events:all}.excalidraw .App-menu_top{grid-template-columns:1fr 2fr 1fr;grid-gap:2rem;align-items:flex-start;cursor:default;pointer-events:none !important}@media(min-width: 1536px){.excalidraw .App-menu_top{grid-template-columns:1fr 1fr 1fr;grid-gap:3rem}}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top>*{pointer-events:all}.excalidraw .App-menu_top>*:first-child{justify-self:flex-start}.excalidraw .App-menu_top>*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:1rem;display:flex;justify-content:space-between;align-items:flex-start;cursor:default;pointer-events:none !important;box-sizing:border-box;padding:0 1rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .App-menu_bottom>*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom>*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto;padding:.75rem;width:202px;box-sizing:border-box;position:absolute}.excalidraw .dropdown-select{height:1.5rem;padding:0;-webkit-padding-start:.5rem;padding-inline-start:.5rem;-webkit-padding-end:1.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;-webkit-appearance:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir=rtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select__language{height:2rem;background-color:var(--island-bg-color);border-color:var(--default-border-color) !important;cursor:pointer}.excalidraw .dropdown-select__language:hover{background-color:var(--island-bg-color)}.excalidraw .disable-zen-mode{border-radius:var(--border-radius-lg);background-color:var(--color-gray-20);border:1px solid var(--color-gray-30);padding:10px 20px}.excalidraw .disable-zen-mode:hover{background-color:var(--color-gray-30)}.excalidraw .scroll-back-to-content{border-radius:var(--border-radius-lg);background-color:var(--island-bg-color);color:var(--icon-fill-color);border:1px solid var(--default-border-color);padding:10px 20px;position:absolute;left:50%;bottom:30px;-webkit-transform:translateX(-50%);transform:translateX(-50%);pointer-events:all}.excalidraw .scroll-back-to-content:hover{background-color:var(--button-hover-bg)}.excalidraw .scroll-back-to-content:active{border:1px solid var(--color-primary-darkest)}.excalidraw .help-icon{display:flex;justify-content:center;align-items:center;padding:.625rem;width:var(--button-width, var(--default-button-size));height:var(--button-height, var(--default-button-size));box-sizing:border-box;border-width:1px;border-style:solid;border-color:var(--button-border, var(--default-border-color));border-radius:var(--border-radius-lg);cursor:pointer;background-color:var(--button-bg, var(--island-bg-color));color:var(--button-color, var(--text-primary-color));background-color:var(--island-bg-color);width:var(--lg-button-size);height:var(--lg-button-size)}.excalidraw .help-icon svg{width:var(--button-width, var(--lg-icon-size));height:var(--button-height, var(--lg-icon-size))}.excalidraw .help-icon:hover{background-color:var(--button-hover-bg, var(--island-bg-color));border-color:var(--button-hover-border, var(--default-border-color))}.excalidraw .help-icon:active{background-color:var(--button-active-bg, var(--island-bg-color));border-color:var(--button-active-border, var(--color-primary-darkest))}.excalidraw .help-icon.active{background-color:var(--color-primary-light);border-color:var(--color-primary-light)}.excalidraw .help-icon.active:hover{background-color:var(--color-primary-light)}.excalidraw .help-icon.active svg{color:var(--button-color, var(--color-primary-darker))}.excalidraw .help-icon svg{width:var(--lg-icon-size);height:var(--lg-icon-size)}.excalidraw .reset-zoom-button{font-family:var(--ui-font)}.excalidraw .finalize-button{display:grid;grid-auto-flow:column;gap:.4em;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw .undo-redo-buttons,.excalidraw .eraser-buttons{display:grid;grid-auto-flow:column;margin-top:auto;margin-bottom:auto;-webkit-margin-start:.6em;margin-inline-start:.6em}.excalidraw--mobile.excalidraw aside{display:none}.excalidraw--mobile.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}:root[dir=rtl] .excalidraw .rtl-mirror{-webkit-transform:scaleX(-1);transform:scaleX(-1)}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}.excalidraw input[type=text],.excalidraw textarea:not(.excalidraw-wysiwyg){color:var(--text-primary-color);border:1.5px solid var(--input-border-color);padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw input[type=text]:not(:focus):hover,.excalidraw textarea:not(.excalidraw-wysiwyg):not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw input[type=text]:focus,.excalidraw textarea:not(.excalidraw-wysiwyg):focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.excalidraw ::-webkit-scrollbar{width:3px}.excalidraw ::-webkit-scrollbar-thumb{background:var(--scrollbar-thumb);border-radius:10px}.excalidraw ::-webkit-scrollbar-thumb:hover{background:var(--scrollbar-thumb-hover)}.excalidraw ::-webkit-scrollbar-thumb:active{background:var(--scrollbar-thumb)}.excalidraw .mobile-misc-tools-container{position:absolute;top:calc(5rem - var(--editor-container-padding));right:calc(var(--editor-container-padding)*-1);display:flex;flex-direction:column;border:1px solid var(--sidebar-border-color);border-top-left-radius:var(--border-radius-lg);border-bottom-left-radius:var(--border-radius-lg);border-right:0;overflow:hidden;background-color:var(--island-bg-color)}.excalidraw .mobile-misc-tools-container .ToolIcon__icon{border-radius:0}.excalidraw .mobile-misc-tools-container .library-button{border:0}.excalidraw .App-toolbar--mobile{overflow-x:hidden;max-width:100vw}.excalidraw .App-toolbar--mobile .ToolIcon__keybinding{display:none}.excalidraw .UserList-Wrapper{margin:0;padding:0;border:none;text-align:left}.excalidraw .UserList-Wrapper legend{display:block;font-size:.75rem;font-weight:400;margin:0 0 .25rem;padding:0}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;-webkit-user-select:text;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',""]),m.Z=Z},6464:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,"",""]),f.locals={themeFilter:"invert(93%) hue-rotate(180deg)",rightSidebarWidth:"302px"},m.Z=f},5260:function(b,m,a){var v=a(8081),E=a.n(v),h=a(3645),f=a.n(h)()(E());f.push([b.id,":export{themeFilter:invert(93%) hue-rotate(180deg);rightSidebarWidth:302px}.excalidraw-hyperlinkContainer{display:flex;align-items:center;justify-content:space-between;position:absolute;box-shadow:0px 2px 4px 0 rgba(0,0,0,.3);z-index:100;background:var(--island-bg-color);border-radius:var(--border-radius-md);box-sizing:border-box;min-height:42px}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer button{z-index:100}.excalidraw-hyperlinkContainer-input,.excalidraw-hyperlinkContainer-link{height:24px;padding:0 8px;line-height:24px;font-size:.9rem;font-weight:500;font-family:var(--ui-font)}.excalidraw-hyperlinkContainer-input{width:18rem;border:none;background-color:rgba(0,0,0,0);color:var(--text-primary-color);outline:none;border:none;box-shadow:none !important}.excalidraw-hyperlinkContainer-link{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;max-width:15rem}.excalidraw-hyperlinkContainer button{color:#228be6;background-color:rgba(0,0,0,0) !important;font-weight:500}.excalidraw-hyperlinkContainer button.excalidraw-hyperlinkContainer--remove{color:#c92a2a}.excalidraw-hyperlinkContainer .d-none{display:none}.excalidraw-hyperlinkContainer--remove .ToolIcon__icon svg{color:#fa5252}.excalidraw-hyperlinkContainer .ToolIcon__icon{width:2rem;height:2rem}.excalidraw-hyperlinkContainer__buttons{flex:0 0 auto}",""]),m.Z=f},3645:function(b){b.exports=function(m){var a=[];return a.toString=function(){return this.map(function(v){var E="",h=v[5]!==void 0;return v[4]&&(E+="@supports (".concat(v[4],") {")),v[2]&&(E+="@media ".concat(v[2]," {")),h&&(E+="@layer".concat(v[5].length>0?" ".concat(v[5]):""," {")),E+=m(v),h&&(E+="}"),v[2]&&(E+="}"),v[4]&&(E+="}"),E}).join("")},a.i=function(v,E,h,f,D){typeof v=="string"&&(v=[[null,v,void 0]]);var k={};if(h)for(var R=0;R<this.length;R++){var d=this[R][0];d!=null&&(k[d]=!0)}for(var Z=0;Z<v.length;Z++){var B=[].concat(v[Z]);h&&k[B[0]]||(D!==void 0&&(B[5]===void 0||(B[1]="@layer".concat(B[5].length>0?" ".concat(B[5]):""," {").concat(B[1],"}")),B[5]=D),E&&(B[2]&&(B[1]="@media ".concat(B[2]," {").concat(B[1],"}")),B[2]=E),f&&(B[4]?(B[1]="@supports (".concat(B[4],") {").concat(B[1],"}"),B[4]=f):B[4]="".concat(f)),a.push(B))}},a}},1667:function(b){b.exports=function(m,a){return a||(a={}),m&&(m=String(m.__esModule?m.default:m),/^['"].*['"]$/.test(m)&&(m=m.slice(1,-1)),a.hash&&(m+=a.hash),/["'() \t\n]|(%20)/.test(m)||a.needQuotes?'"'.concat(m.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):m)}},8081:function(b){b.exports=function(m){return m[1]}},2416:function(b,m,a){a.d(m,{CZ:function(){return A},Lo:function(){return T},Zp:function(){return M},eF:function(){return C},mo:function(){return re}});var v=a(2577),E=a(7169),h=a(4499),f=a(3646),D=a(1319),k=a(2335),R=a(1047),d=a(8211),Z=a(6066),B=a(75),ee=a(2264),he=a(746),N=a(6340),ke=a(7901),Se=a(1894),je=a(1935),we=a(8897),Ee=a(4512);function Me(g,l){var w=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);l&&(y=y.filter(function(S){return Object.getOwnPropertyDescriptor(g,S).enumerable})),w.push.apply(w,y)}return w}function z(g){for(var l=1;l<arguments.length;l++){var w=arguments[l]!=null?arguments[l]:{};l%2?Me(Object(w),!0).forEach(function(y){(0,E.Z)(g,y,w[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):Me(Object(w)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(w,y))})}return g}(0,ke.z)({name:"changeViewBackgroundColor",trackEvent:!1,predicate:function(g,l,w,y){return!!y.props.UIOptions.canvasActions.changeViewBackgroundColor&&!l.viewModeEnabled},perform:function(g,l,w){return{appState:z(z({},l),w),commitToHistory:!!w.viewBackgroundColor}},PanelComponent:function(g){var l=g.elements,w=g.appState,y=g.updateData;return(0,Ee.jsx)("div",{style:{position:"relative"},children:(0,Ee.jsx)(h.z,{label:(0,d.t)("labels.canvasBackground"),type:"canvasBackground",color:w.viewBackgroundColor,onChange:function(S){return y({viewBackgroundColor:S})},isActive:w.openPopup==="canvasColorPicker",setActive:function(S){return y({openPopup:S?"canvasColorPicker":null})},"data-testid":"canvas-background-picker",elements:l,appState:w})})}});var re=(0,ke.z)({name:"clearCanvas",trackEvent:{category:"canvas"},predicate:function(g,l,w,y){return!!y.props.UIOptions.canvasActions.clearCanvas&&!l.viewModeEnabled},perform:function(g,l,w,y){return y.imageCache.clear(),{elements:g.map(function(S){return(0,je.BE)(S,{isDeleted:!0})}),appState:z(z({},(0,we.im)()),{},{files:{},theme:l.theme,penMode:l.penMode,penDetected:l.penDetected,exportBackground:l.exportBackground,exportEmbedScene:l.exportEmbedScene,gridSize:l.gridSize,showStats:l.showStats,pasteDialog:l.pasteDialog,activeTool:l.activeTool.type==="image"?z(z({},l.activeTool),{},{type:"selection"}):l.activeTool}),commitToHistory:!0}}}),T=(0,ke.z)({name:"zoomIn",viewMode:!0,trackEvent:{category:"canvas"},perform:function(g,l,w,y){return{appState:z(z({},l),(0,he.E)({viewportX:l.width/2+l.offsetLeft,viewportY:l.height/2+l.offsetTop,nextZoom:(0,B.j)(l.zoom.value+k.V4)},l)),commitToHistory:!1}},PanelComponent:function(g){var l=g.updateData;return(0,Ee.jsx)(D.V,{type:"button",className:"zoom-in-button zoom-button",icon:f.Sd,title:"".concat((0,d.t)("buttons.zoomIn"),"  ").concat((0,N.uY)("CtrlOrCmd++")),"aria-label":(0,d.t)("buttons.zoomIn"),onClick:function(){l(null)}})},keyTest:function(g){return(g.code===Z.aU.EQUAL||g.code===Z.aU.NUM_ADD)&&(g[Z.tW.CTRL_OR_CMD]||g.shiftKey)}}),A=(0,ke.z)({name:"zoomOut",viewMode:!0,trackEvent:{category:"canvas"},perform:function(g,l,w,y){return{appState:z(z({},l),(0,he.E)({viewportX:l.width/2+l.offsetLeft,viewportY:l.height/2+l.offsetTop,nextZoom:(0,B.j)(l.zoom.value-k.V4)},l)),commitToHistory:!1}},PanelComponent:function(g){var l=g.updateData;return(0,Ee.jsx)(D.V,{type:"button",className:"zoom-out-button zoom-button",icon:f.xL,title:"".concat((0,d.t)("buttons.zoomOut"),"  ").concat((0,N.uY)("CtrlOrCmd+-")),"aria-label":(0,d.t)("buttons.zoomOut"),onClick:function(){l(null)}})},keyTest:function(g){return(g.code===Z.aU.MINUS||g.code===Z.aU.NUM_SUBTRACT)&&(g[Z.tW.CTRL_OR_CMD]||g.shiftKey)}}),U=((0,ke.z)({name:"resetZoom",viewMode:!0,trackEvent:{category:"canvas"},perform:function(g,l,w,y){return{appState:z(z({},l),(0,he.E)({viewportX:l.width/2+l.offsetLeft,viewportY:l.height/2+l.offsetTop,nextZoom:(0,B.j)(1)},l)),commitToHistory:!1}},PanelComponent:function(g){var l=g.updateData,w=g.appState;return(0,Ee.jsx)(Se.u,{label:(0,d.t)("buttons.resetZoom"),style:{height:"100%"},children:(0,Ee.jsxs)(D.V,{type:"button",className:"reset-zoom-button zoom-button",title:(0,d.t)("buttons.resetZoom"),"aria-label":(0,d.t)("buttons.resetZoom"),onClick:function(){l(null)},children:[(100*w.zoom.value).toFixed(0),"%"]})})},keyTest:function(g){return(g.code===Z.aU.ZERO||g.code===Z.aU.NUM_ZERO)&&(g[Z.tW.CTRL_OR_CMD]||g.shiftKey)}}),function(g,l){var w=(0,v.Z)(g,4),y=w[0],S=w[1],_=w[2],J=w[3],de=_-y,ve=l.width/de,ie=J-S,$=l.height/ie,De=Math.min(ve,$),pe=Math.floor(De/k.V4)*k.V4;return Math.min(Math.max(pe,k.Zj),1)}),P=function(g,l,w){var y=(0,R.Lm)(g),S=(0,B.eD)(y,l),_=w&&S.length>0?(0,R.KP)(S):(0,R.KP)(y),J={value:U(_,{width:l.width,height:l.height})},de=(0,v.Z)(_,4),ve=de[0],ie=de[1],$=(ve+de[2])/2,De=(ie+de[3])/2;return{appState:z(z(z({},l),(0,ee.s)({scenePoint:{x:$,y:De},viewportDimensions:{width:l.width,height:l.height},zoom:J})),{},{zoom:J}),commitToHistory:!1}},M=((0,ke.z)({name:"zoomToSelection",trackEvent:{category:"canvas"},perform:function(g,l){return P(g,l,!0)},keyTest:function(g){return g.code===Z.aU.TWO&&g.shiftKey&&!g.altKey&&!g[Z.tW.CTRL_OR_CMD]}}),(0,ke.z)({name:"zoomToFit",viewMode:!0,trackEvent:{category:"canvas"},perform:function(g,l){return P(g,l,!1)},keyTest:function(g){return g.code===Z.aU.ONE&&g.shiftKey&&!g.altKey&&!g[Z.tW.CTRL_OR_CMD]}}),(0,ke.z)({name:"toggleTheme",viewMode:!0,trackEvent:{category:"canvas"},perform:function(g,l,w){return{appState:z(z({},l),{},{theme:w||(l.theme===k.C6.LIGHT?k.C6.DARK:k.C6.LIGHT)}),commitToHistory:!1}},keyTest:function(g){return g.altKey&&g.shiftKey&&g.code===Z.aU.D},predicate:function(g,l,w,y){return!!y.props.UIOptions.canvasActions.toggleTheme}})),C=((0,ke.z)({name:"toggleEraserTool",trackEvent:{category:"toolbar"},perform:function(g,l){var w;return w=(0,we.EN)(l)?(0,N.Om)(l,z(z({},l.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,N.Om)(l,{type:"eraser",lastActiveToolBeforeEraser:l.activeTool}),{appState:z(z({},l),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:w}),commitToHistory:!0}},keyTest:function(g){return g.key===Z.tW.E}}),(0,ke.z)({name:"toggleHandTool",trackEvent:{category:"toolbar"},perform:function(g,l,w,y){var S;return(0,we.l$)(l)?S=(0,N.Om)(l,z(z({},l.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(S=(0,N.Om)(l,{type:"hand",lastActiveToolBeforeEraser:l.activeTool}),(0,N.KJ)(y.canvas,k.oc.GRAB)),{appState:z(z({},l),{},{selectedElementIds:{},selectedGroupIds:{},activeTool:S}),commitToHistory:!0}},keyTest:function(g){return g.key===Z.tW.H}}))},4688:function(b,m,a){a.d(m,{FA:function(){return z},ZM:function(){return Me},jK:function(){return re},uN:function(){return we},yQ:function(){return Ee},zp:function(){return T}});var v=a(7169),E=a(8950),h=a(2975),f=a.n(h),D=a(6066),k=a(7901),R=a(6665),d=a(533),Z=a(1868),B=a(9485),ee=a(1047),he=a(8211);function N(A,U){var P=Object.keys(A);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(A);U&&(M=M.filter(function(C){return Object.getOwnPropertyDescriptor(A,C).enumerable})),P.push.apply(P,M)}return P}function ke(A){for(var U=1;U<arguments.length;U++){var P=arguments[U]!=null?arguments[U]:{};U%2?N(Object(P),!0).forEach(function(M){(0,v.Z)(A,M,P[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(P)):N(Object(P)).forEach(function(M){Object.defineProperty(A,M,Object.getOwnPropertyDescriptor(P,M))})}return A}var Se,je,we=(0,k.z)({name:"copy",trackEvent:{category:"element"},perform:function(A,U,P,M){var C=(0,Z.eD)(A,U,!0);return(0,R.vQ)(C,U,M.files),{commitToHistory:!1}},predicate:function(A,U,P,M){return M.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.copy",keyTest:void 0}),Ee=(0,k.z)({name:"paste",trackEvent:{category:"element"},perform:function(A,U,P,M){return M.pasteFromClipboard(null),{commitToHistory:!1}},predicate:function(A,U,P,M){return M.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.paste",keyTest:void 0}),Me=(0,k.z)({name:"cut",trackEvent:{category:"element"},perform:function(A,U,P,M){return we.perform(A,U,P,M),d.X.perform(A,U)},predicate:function(A,U,P,M){return M.device.isMobile&&!!navigator.clipboard},contextItemLabel:"labels.cut",keyTest:function(A){return A[D.tW.CTRL_OR_CMD]&&A.key===D.tW.X}}),z=(0,k.z)({name:"copyAsSvg",trackEvent:{category:"element"},perform:(Se=(0,E.Z)(f().mark(function A(U,P,M,C){var g;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(C.canvas){l.next=2;break}return l.abrupt("return",{commitToHistory:!1});case 2:return g=(0,Z.eD)((0,ee.Lm)(U),P,!0),l.prev=3,l.next=6,(0,B.p1)("clipboard-svg",g.length?g:(0,ee.Lm)(U),P,C.files,P);case 6:return l.abrupt("return",{commitToHistory:!1});case 9:return l.prev=9,l.t0=l.catch(3),console.error(l.t0),l.abrupt("return",{appState:ke(ke({},P),{},{errorMessage:l.t0.message}),commitToHistory:!1});case 13:case"end":return l.stop()}},A,null,[[3,9]])})),function(A,U,P,M){return Se.apply(this,arguments)}),predicate:function(A){return R.wx&&A.length>0},contextItemLabel:"labels.copyAsSvg"}),re=(0,k.z)({name:"copyAsPng",trackEvent:{category:"element"},perform:(je=(0,E.Z)(f().mark(function A(U,P,M,C){var g;return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(C.canvas){l.next=2;break}return l.abrupt("return",{commitToHistory:!1});case 2:return g=(0,Z.eD)((0,ee.Lm)(U),P,!0),l.prev=3,l.next=6,(0,B.p1)("clipboard",g.length?g:(0,ee.Lm)(U),P,C.files,P);case 6:return l.abrupt("return",{appState:ke(ke({},P),{},{toast:{message:(0,he.t)("toast.copyToClipboardAsPng",{exportSelection:g.length?(0,he.t)("toast.selection"):(0,he.t)("toast.canvas"),exportColorScheme:P.exportWithDarkMode?(0,he.t)("buttons.darkMode"):(0,he.t)("buttons.lightMode")})}}),commitToHistory:!1});case 9:return l.prev=9,l.t0=l.catch(3),console.error(l.t0),l.abrupt("return",{appState:ke(ke({},P),{},{errorMessage:l.t0.message}),commitToHistory:!1});case 13:case"end":return l.stop()}},A,null,[[3,9]])})),function(A,U,P,M){return je.apply(this,arguments)}),predicate:function(A){return R.vt&&A.length>0},contextItemLabel:"labels.copyAsPng",keyTest:function(A){return A.code===D.aU.C&&A.altKey&&A.shiftKey}}),T=(0,k.z)({name:"copyText",trackEvent:{category:"element"},perform:function(A,U){var P=(0,Z.eD)((0,ee.Lm)(A),U,!0).reduce(function(M,C){return(0,ee.iB)(C)&&M.push(C.text),M},[]).join(`

`);return(0,R.dd)(P),{commitToHistory:!1}},predicate:function(A,U){return R.wx&&(0,Z.eD)(A,U,!0).some(ee.iB)},contextItemLabel:"labels.copyText"})},533:function(b,m,a){a.d(m,{X:function(){return Me}});var v=a(7169),E=a(75),h=a(6066),f=a(1319),D=a(8211),k=a(7901),R=a(1047),d=a(1935),Z=a(242),B=a(6938),ee=a(8290),he=a(1974),N=a(6340),ke=a(3646),Se=a(4512);function je(z,re){var T=Object.keys(z);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(z);re&&(A=A.filter(function(U){return Object.getOwnPropertyDescriptor(z,U).enumerable})),T.push.apply(T,A)}return T}function we(z){for(var re=1;re<arguments.length;re++){var T=arguments[re]!=null?arguments[re]:{};re%2?je(Object(T),!0).forEach(function(A){(0,v.Z)(z,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(z,Object.getOwnPropertyDescriptors(T)):je(Object(T)).forEach(function(A){Object.defineProperty(z,A,Object.getOwnPropertyDescriptor(T,A))})}return z}var Ee=function(z,re){if(z.editingGroupId){var T=(0,Z.Fb)((0,R.Lm)(re),z.editingGroupId);if(T.length)return we(we({},z),{},{selectedElementIds:(0,v.Z)({},T[0].id,!0)})}return z},Me=(0,k.z)({name:"deleteSelectedElements",trackEvent:{category:"element",action:"delete"},perform:function(z,re){if(re.editingLinearElement){var T=re.editingLinearElement,A=T.elementId,U=T.selectedPointsIndices,P=T.startBindingElement,M=T.endBindingElement,C=B._.getElement(A);if(!C||U==null)return!1;if(C.points.length<2){var g=z.map(function(_){return _.id===C.id?(0,d.BE)(_,{isDeleted:!0}):_});return{elements:g,appState:we(we({},Ee(re,g)),{},{editingLinearElement:null}),commitToHistory:!1}}var l={startBindingElement:U!=null&&U.includes(0)?null:P,endBindingElement:U!=null&&U.includes(C.points.length-1)?null:M};return B._.deletePoints(C,U),{elements:z,appState:we(we({},re),{},{editingLinearElement:we(we(we({},re.editingLinearElement),l),{},{selectedPointsIndices:(U==null?void 0:U[0])>0?[U[0]-1]:[0]})}),commitToHistory:!0}}var w=function(_,J){return{elements:_.map(function(de){return J.selectedElementIds[de.id]||(0,he.Xh)(de)&&J.selectedElementIds[de.containerId]?(0,d.BE)(de,{isDeleted:!0}):de}),appState:we(we({},J),{},{selectedElementIds:{}})}}(z,re),y=w.elements,S=w.appState;return(0,ee.$q)(y,z.filter(function(_){var J=_.id;return re.selectedElementIds[J]})),{elements:y,appState:we(we({},S=Ee(S,y)),{},{activeTool:(0,N.Om)(re,{type:"selection"}),multiElement:null}),commitToHistory:(0,E.N)((0,R.Lm)(z),re)}},contextItemLabel:"labels.delete",keyTest:function(z){return z.key===h.tW.BACKSPACE||z.key===h.tW.DELETE},PanelComponent:function(z){var re=z.elements,T=z.appState,A=z.updateData;return(0,Se.jsx)(f.V,{type:"button",icon:ke.XH,title:(0,D.t)("labels.delete"),"aria-label":(0,D.t)("labels.delete"),onClick:function(){return A(null)},visible:(0,E.N)((0,R.Lm)(re),T)})}})},8671:function(b,m,a){a.d(m,{_d:function(){return le},mM:function(){return X},ns:function(){return F}});var v=a(8950),E=a(2577),h=a(7169),f=a(2975),D=a.n(f),k=a(3646),R=a(487),d=a.n(R),Z=a(631),B=a.n(Z),ee=a(2052),he=a.n(ee),N=a(4010),ke=a.n(N),Se=a(1469),je=a.n(Se),we=a(9329),Ee=a.n(we),Me=a(6759),z={};z.styleTagTransform=Ee(),z.setAttributes=ke(),z.insert=he().bind(null,"head"),z.domAPI=B(),z.insertStyleElement=je(),d()(Me.Z,z),Me.Z&&Me.Z.locals&&Me.Z.locals;var re=a(9787),T=a(6340),A=a(532),U={};U.styleTagTransform=Ee(),U.setAttributes=ke(),U.insert=he().bind(null,"head"),U.domAPI=B(),U.insertStyleElement=je(),d()(A.Z,U),A.Z&&A.Z.locals&&A.Z.locals;var P=a(4206),M=a(4512),C=function(q){var Ce=(0,P.J0)().id,te=(0,re.useState)(q.value),me=(0,E.Z)(te,2),Re=me[0],Be=me[1];return(0,M.jsxs)("div",{className:"ProjectName",children:[(0,M.jsx)("label",{className:"ProjectName-label",htmlFor:"filename",children:"".concat(q.label).concat(q.isNameEditable?"":":")}),q.isNameEditable?(0,M.jsx)("input",{type:"text",className:"TextInput",onBlur:function(Q){(0,T.qz)(Q.target);var se=Q.target.value;se!==q.value&&q.onChange(se)},onKeyDown:function(Q){if(Q.key==="Enter"){if(Q.preventDefault(),Q.nativeEvent.isComposing||Q.keyCode===229)return;Q.currentTarget.blur()}},id:"".concat(Ce,"-filename"),value:Re,onChange:function(Q){return Be(Q.target.value)}}):(0,M.jsx)("span",{className:"TextInput TextInput--readonly",id:"".concat(Ce,"-filename"),children:q.value})]})},g=a(1319),l=a(1894),w=(a(5422),a(8211)),y=a(2335),S=function(q){var Ce=q.title||(q.value==="dark"?(0,w.t)("buttons.lightMode"):(0,w.t)("buttons.darkMode"));return(0,M.jsx)(g.V,{type:"icon",icon:q.value===y.C6.LIGHT?_.MOON:_.SUN,title:Ce,"aria-label":Ce,onClick:function(){return q.onChange(q.value===y.C6.DARK?y.C6.LIGHT:y.C6.DARK)},"data-testid":"toggle-dark-mode"})},_={SUN:(0,M.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,M.jsx)("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})}),MOON:(0,M.jsx)("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512",children:(0,M.jsx)("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"})})},J=a(9485),de=a(1047),ve=a(434);function ie(q,Ce){var te=Object.keys(q);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(q);Ce&&(me=me.filter(function(Re){return Object.getOwnPropertyDescriptor(q,Re).enumerable})),te.push.apply(te,me)}return te}function $(q){for(var Ce=1;Ce<arguments.length;Ce++){var te=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ie(Object(te),!0).forEach(function(me){(0,h.Z)(q,me,te[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(te)):ie(Object(te)).forEach(function(me){Object.defineProperty(q,me,Object.getOwnPropertyDescriptor(te,me))})}return q}var De=function(){var q=(0,v.Z)(D().mark(function Ce(te,me,Re){var Be,Q,se,ue,_e,Ze;return D().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:if(Q=(Be=me).exportBackground,se=Be.viewBackgroundColor,ue=Be.name,_e=Be.fileHandle,Ze=(0,ve.Qk)(_e),_e&&(0,ve.DQ)(Ze)){Ge.next=4;break}throw new Error("fileHandle should exist and should be of type svg or png when resaving");case 4:return me=$($({},me),{},{exportEmbedScene:!0}),Ge.next=7,(0,J.p1)(Ze,(0,de.Lm)(te),me,Re,{exportBackground:Q,viewBackgroundColor:se,name:ue,fileHandle:_e});case 7:return Ge.abrupt("return",{fileHandle:_e});case 8:case"end":return Ge.stop()}},Ce)}));return function(Ce,te,me){return q.apply(this,arguments)}}(),pe=a(6066),ae=a(7901),j=a(3807),V=a(4162),oe=a(75),G=a(1393);function ye(q,Ce){var te=Object.keys(q);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(q);Ce&&(me=me.filter(function(Re){return Object.getOwnPropertyDescriptor(q,Re).enumerable})),te.push.apply(te,me)}return te}function K(q){for(var Ce=1;Ce<arguments.length;Ce++){var te=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?ye(Object(te),!0).forEach(function(me){(0,h.Z)(q,me,te[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(te)):ye(Object(te)).forEach(function(me){Object.defineProperty(q,me,Object.getOwnPropertyDescriptor(te,me))})}return q}(0,ae.z)({name:"changeProjectName",trackEvent:!1,perform:function(q,Ce,te){return{appState:K(K({},Ce),{},{name:te}),commitToHistory:!1}},PanelComponent:function(q){var Ce=q.appState,te=q.updateData,me=q.appProps;return(0,M.jsx)(C,{label:(0,w.t)("labels.fileTitle"),value:Ce.name||"Unnamed",onChange:function(Re){return te(Re)},isNameEditable:me.name===void 0&&!Ce.viewModeEnabled})}}),(0,ae.z)({name:"changeExportScale",trackEvent:{category:"export",action:"scale"},perform:function(q,Ce,te){return{appState:K(K({},Ce),{},{exportScale:te}),commitToHistory:!1}},PanelComponent:function(q){var Ce=q.elements,te=q.appState,me=q.updateData,Re=(0,de.Lm)(Ce),Be=(0,oe.N)(Re,te)?(0,oe.eD)(Re,te):Re;return(0,M.jsx)(M.Fragment,{children:y.ZB.map(function(Q){var se=(0,V.Cg)(Be,y.qy,Q),ue=(0,E.Z)(se,2),_e=ue[0],Ze=ue[1],Ge="".concat((0,w.t)("buttons.scale")," ").concat(Q,"x (").concat(_e,"x").concat(Ze,")");return(0,M.jsx)(g.V,{size:"small",type:"radio",icon:"".concat(Q,"x"),name:"export-canvas-scale",title:Ge,"aria-label":Ge,id:"export-canvas-scale",checked:Q===te.exportScale,onChange:function(){return me(Q)}},Q)})})}}),(0,ae.z)({name:"changeExportBackground",trackEvent:{category:"export",action:"toggleBackground"},perform:function(q,Ce,te){return{appState:K(K({},Ce),{},{exportBackground:te}),commitToHistory:!1}},PanelComponent:function(q){var Ce=q.appState,te=q.updateData;return(0,M.jsx)(j.o,{checked:Ce.exportBackground,onChange:function(me){return te(me)},children:(0,w.t)("labels.withBackground")})}}),(0,ae.z)({name:"changeExportEmbedScene",trackEvent:{category:"export",action:"embedScene"},perform:function(q,Ce,te){return{appState:K(K({},Ce),{},{exportEmbedScene:te}),commitToHistory:!1}},PanelComponent:function(q){var Ce=q.appState,te=q.updateData;return(0,M.jsxs)(j.o,{checked:Ce.exportEmbedScene,onChange:function(me){return te(me)},children:[(0,w.t)("labels.exportEmbedScene"),(0,M.jsx)(l.u,{label:(0,w.t)("labels.exportEmbedScene_details"),long:!0,children:(0,M.jsx)("div",{className:"excalidraw-tooltip-icon",children:k.Vl})})]})}});var H,L,I,F=(0,ae.z)({name:"saveToActiveFile",trackEvent:{category:"export"},predicate:function(q,Ce,te,me){return!!me.props.UIOptions.canvasActions.saveToActiveFile&&!!Ce.fileHandle&&!Ce.viewModeEnabled},perform:(H=(0,v.Z)(D().mark(function q(Ce,te,me,Re){var Be,Q,se;return D().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:if(Be=!!te.fileHandle,ue.prev=1,!(0,ve.g8)(te.fileHandle)){ue.next=8;break}return ue.next=5,De(Ce,te,Re.files);case 5:ue.t0=ue.sent,ue.next=11;break;case 8:return ue.next=10,(0,J.Um)(Ce,te,Re.files);case 10:ue.t0=ue.sent;case 11:return Q=ue.t0,se=Q.fileHandle,ue.abrupt("return",{commitToHistory:!1,appState:K(K({},te),{},{fileHandle:se,toast:Be?{message:se!=null&&se.name?(0,w.t)("toast.fileSavedToFilename").replace("{filename}",'"'.concat(se.name,'"')):(0,w.t)("toast.fileSaved")}:null})});case 16:return ue.prev=16,ue.t1=ue.catch(1),(ue.t1===null||ue.t1===void 0?void 0:ue.t1.name)!=="AbortError"?console.error(ue.t1):console.warn(ue.t1),ue.abrupt("return",{commitToHistory:!1});case 20:case"end":return ue.stop()}},q,null,[[1,16]])})),function(q,Ce,te,me){return H.apply(this,arguments)}),keyTest:function(q){return q.key===pe.tW.S&&q[pe.tW.CTRL_OR_CMD]&&!q.shiftKey}}),X=(0,ae.z)({name:"saveFileToDisk",viewMode:!0,trackEvent:{category:"export"},perform:(L=(0,v.Z)(D().mark(function q(Ce,te,me,Re){var Be,Q;return D().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return se.prev=0,se.next=3,(0,J.Um)(Ce,K(K({},te),{},{fileHandle:null}),Re.files);case 3:return Be=se.sent,Q=Be.fileHandle,se.abrupt("return",{commitToHistory:!1,appState:K(K({},te),{},{fileHandle:Q})});case 8:return se.prev=8,se.t0=se.catch(0),(se.t0===null||se.t0===void 0?void 0:se.t0.name)!=="AbortError"?console.error(se.t0):console.warn(se.t0),se.abrupt("return",{commitToHistory:!1});case 12:case"end":return se.stop()}},q,null,[[0,8]])})),function(q,Ce,te,me){return L.apply(this,arguments)}),keyTest:function(q){return q.key===pe.tW.S&&q.shiftKey&&q[pe.tW.CTRL_OR_CMD]},PanelComponent:function(q){var Ce=q.updateData;return(0,M.jsx)(g.V,{type:"button",icon:k.po,title:(0,w.t)("buttons.saveAs"),"aria-label":(0,w.t)("buttons.saveAs"),showAriaLabel:(0,P.Fy)().isMobile,hidden:!G.kr,onClick:function(){return Ce(null)},"data-testid":"save-as-button"})}}),le=(0,ae.z)({name:"loadScene",trackEvent:{category:"export"},predicate:function(q,Ce,te,me){return!!me.props.UIOptions.canvasActions.loadScene&&!Ce.viewModeEnabled},perform:(I=(0,v.Z)(D().mark(function q(Ce,te,me,Re){var Be,Q,se,ue;return D().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return _e.prev=0,_e.next=3,(0,J.n8)(te,Ce);case 3:return Be=_e.sent,Q=Be.elements,se=Be.appState,ue=Be.files,_e.abrupt("return",{elements:Q,appState:se,files:ue,commitToHistory:!0});case 10:if(_e.prev=10,_e.t0=_e.catch(0),(_e.t0===null||_e.t0===void 0?void 0:_e.t0.name)!=="AbortError"){_e.next=15;break}return console.warn(_e.t0),_e.abrupt("return",!1);case 15:return _e.abrupt("return",{elements:Ce,appState:K(K({},te),{},{errorMessage:_e.t0.message}),files:Re.files,commitToHistory:!1});case 16:case"end":return _e.stop()}},q,null,[[0,10]])})),function(q,Ce,te,me){return I.apply(this,arguments)}),keyTest:function(q){return q[pe.tW.CTRL_OR_CMD]&&q.key===pe.tW.O}});(0,ae.z)({name:"exportWithDarkMode",trackEvent:{category:"export",action:"toggleTheme"},perform:function(q,Ce,te){return{appState:K(K({},Ce),{},{exportWithDarkMode:te}),commitToHistory:!1}},PanelComponent:function(q){var Ce=q.appState,te=q.updateData;return(0,M.jsx)("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",marginBottom:"10px"},children:(0,M.jsx)(S,{value:Ce.exportWithDarkMode?y.C6.DARK:y.C6.LIGHT,onChange:function(me){te(me===y.C6.DARK)},title:(0,w.t)("labels.toggleExportColorScheme")})})}})},6208:function(b,m,a){a.d(m,{Tu:function(){return K},Zq:function(){return H}});var v=a(1930),E=a(7169),h=a(45),f=a(4512),D=function(L){var I=L.options,F=L.value,X=L.onChange,le=L.group;return(0,f.jsx)("div",{className:"buttonList buttonListIcon",children:I.map(function(q){return(0,f.jsxs)("label",{className:(0,h.Z)({active:F===q.value}),title:q.text,children:[(0,f.jsx)("input",{type:"radio",name:le,onChange:function(){return X(q.value)},checked:F===q.value,"data-testid":q.testId}),q.icon]},q.text)})})},k=a(4499),R=a(2577),d=a(9787),Z=a.n(d),B=a(2891),ee=a(487),he=a.n(ee),N=a(631),ke=a.n(N),Se=a(2052),je=a.n(Se),we=a(4010),Ee=a.n(we),Me=a(1469),z=a.n(Me),re=a(9329),T=a.n(re),A=a(9478),U={};U.styleTagTransform=T(),U.setAttributes=Ee(),U.insert=je().bind(null,"head"),U.domAPI=ke(),U.insertStyleElement=z(),he()(A.Z,U),A.Z&&A.Z.locals&&A.Z.locals;var P=a(6066),M=a(8211);function C(L,I){var F=Object.keys(L);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(L);I&&(X=X.filter(function(le){return Object.getOwnPropertyDescriptor(L,le).enumerable})),F.push.apply(F,X)}return F}function g(L){for(var I=1;I<arguments.length;I++){var F=arguments[I]!=null?arguments[I]:{};I%2?C(Object(F),!0).forEach(function(X){(0,E.Z)(L,X,F[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(F)):C(Object(F)).forEach(function(X){Object.defineProperty(L,X,Object.getOwnPropertyDescriptor(F,X))})}return L}function l(L){var I=L.options,F=L.value,X=L.label,le=L.onChange,q=L.onClose,Ce=Z().useRef(),te=Z().useRef(),me=Z().useRef(null);return Z().useEffect(function(){te.current?te.current.focus():me.current&&me.current.focus()},[]),(0,f.jsx)("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":X,onKeyDown:function(Re){var Be=I.find(function(tt){return tt.keyBinding===Re.key.toLowerCase()});if(Re.metaKey||Re.altKey||Re.ctrlKey||!Be)if(Re.key===P.tW.TAB)setTimeout(function(){te.current!==document.activeElement&&q()},0);else if((0,P.Wl)(Re.key)){var Q=document.activeElement,se=(0,M.G3)().rtl,ue=Array.prototype.indexOf.call(me.current.children,Q);if(ue!==-1){var _e=I.length,Ze=ue;switch(Re.key){case(se?P.tW.ARROW_LEFT:P.tW.ARROW_RIGHT):case P.tW.ARROW_DOWN:Ze=(ue+1)%_e;break;case(se?P.tW.ARROW_RIGHT:P.tW.ARROW_LEFT):case P.tW.ARROW_UP:Ze=(_e+ue-1)%_e}me.current.children[Ze].focus()}Re.preventDefault()}else Re.key!==P.tW.ESCAPE&&Re.key!==P.tW.ENTER||(Re.preventDefault(),q());else{var Ge=I.indexOf(Be);me.current.children[Ge].focus(),Re.preventDefault()}Re.nativeEvent.stopImmediatePropagation(),Re.stopPropagation()},children:(0,f.jsx)("div",{className:"picker-content",ref:me,children:I.map(function(Re,Be){return(0,f.jsxs)("button",{className:(0,h.Z)("picker-option",{active:F===Re.value}),onClick:function(Q){Q.currentTarget.focus(),le(Re.value)},title:"".concat(Re.text,"  ").concat(Re.keyBinding.toUpperCase()),"aria-label":Re.text||"none","aria-keyshortcuts":Re.keyBinding,ref:function(Q){Q&&Be===0&&(Ce.current=Q),Q&&Re.value===F&&(te.current=Q)},onFocus:function(){le(Re.value)},children:[Re.icon,(0,f.jsx)("span",{className:"picker-keybinding",children:Re.keyBinding})]},Re.text)})})})}function w(L){var I,F=L.value,X=L.label,le=L.options,q=L.onChange,Ce=L.group,te=Ce===void 0?"":Ce,me=Z().useState(!1),Re=(0,R.Z)(me,2),Be=Re[0],Q=Re[1],se=Z().useRef(null),ue=(0,M.G3)().rtl;return(0,f.jsxs)("div",{children:[(0,f.jsx)("button",{name:te,className:Be?"active":"","aria-label":X,onClick:function(){return Q(!Be)},ref:se,children:(I=le.find(function(_e){return _e.value===F}))===null||I===void 0?void 0:I.icon}),(0,f.jsx)(Z().Suspense,{fallback:"",children:Be?(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(B.J,g(g({onCloseRequest:function(_e){return _e.target!==se.current&&Q(!1)}},ue?{right:5.5}:{left:-5.5}),{},{children:(0,f.jsx)(l,{options:le,value:F,label:X,onChange:q,onClose:function(){var _e;Q(!1),(_e=se.current)===null||_e===void 0||_e.focus()}})})),(0,f.jsx)("div",{className:"picker-triangle"})]}):null})]})}var y=a(3646),S=a(2335),_=a(1047),J=a(1935),de=a(5710),ve=a(1974),ie=a(6954),$=a(75),De=a(8120),pe=a(6340),ae=a(7901);function j(L,I){var F=Object.keys(L);if(Object.getOwnPropertySymbols){var X=Object.getOwnPropertySymbols(L);I&&(X=X.filter(function(le){return Object.getOwnPropertyDescriptor(L,le).enumerable})),F.push.apply(F,X)}return F}function V(L){for(var I=1;I<arguments.length;I++){var F=arguments[I]!=null?arguments[I]:{};I%2?j(Object(F),!0).forEach(function(X){(0,E.Z)(L,X,F[X])}):Object.getOwnPropertyDescriptors?Object.defineProperties(L,Object.getOwnPropertyDescriptors(F)):j(Object(F)).forEach(function(X){Object.defineProperty(L,X,Object.getOwnPropertyDescriptor(F,X))})}return L}var oe=function(L,I,F){var X=arguments.length>3&&arguments[3]!==void 0&&arguments[3],le=(0,pe.xn)((0,$.eD)(L,I,X));return L.map(function(q){var Ce;return le.get(q.id)||q.id===((Ce=I.editingElement)===null||Ce===void 0?void 0:Ce.id)?F(q):q})},G=function(L,I,F,X){var le,q,Ce=I.editingElement,te=(0,_.Lm)(L);return(le=(q=Ce&&F(Ce))!==null&&q!==void 0?q:(0,$.N)(te,I)?(0,$.PR)(te,I,F):X)!==null&&le!==void 0?le:null},ye=function(L,I,F,X){var le=new Set;return{elements:oe(L,I,function(q){if((0,_.iB)(q)){var Ce=F(q);le.add(Ce);var te=(0,J.BE)(q,{fontSize:Ce});return(0,_.oN)(te,(0,de.tl)(q)),me=q,Re=te,te=(0,ve.Xh)(Re)?Re:(0,J.DR)(Re,{x:me.textAlign==="left"?me.x:me.x+(me.width-Re.width)/(me.textAlign==="center"?2:1),y:me.y+(me.height-Re.height)/2},!1)}var me,Re;return q},!0),appState:V(V({},I),{},{currentItemFontSize:le.size===1?(0,v.Z)(le)[0]:X??I.currentItemFontSize}),commitToHistory:!0}},K=((0,ae.z)({name:"changeStrokeColor",trackEvent:!1,perform:function(L,I,F){return V(V({},F.currentItemStrokeColor&&{elements:oe(L,I,function(X){return(0,De.PD)(X.type)?(0,J.BE)(X,{strokeColor:F.currentItemStrokeColor}):X},!0)}),{},{appState:V(V({},I),F),commitToHistory:!!F.currentItemStrokeColor})},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{"aria-hidden":"true",children:(0,M.t)("labels.stroke")}),(0,f.jsx)(k.z,{type:"elementStroke",label:(0,M.t)("labels.stroke"),color:G(I,F,function(le){return le.strokeColor},F.currentItemStrokeColor),onChange:function(le){return X({currentItemStrokeColor:le})},isActive:F.openPopup==="strokeColorPicker",setActive:function(le){return X({openPopup:le?"strokeColorPicker":null})},elements:I,appState:F})]})}}),(0,ae.z)({name:"changeBackgroundColor",trackEvent:!1,perform:function(L,I,F){return V(V({},F.currentItemBackgroundColor&&{elements:oe(L,I,function(X){return(0,J.BE)(X,{backgroundColor:F.currentItemBackgroundColor})})}),{},{appState:V(V({},I),F),commitToHistory:!!F.currentItemBackgroundColor})},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)("h3",{"aria-hidden":"true",children:(0,M.t)("labels.background")}),(0,f.jsx)(k.z,{type:"elementBackground",label:(0,M.t)("labels.background"),color:G(I,F,function(le){return le.backgroundColor},F.currentItemBackgroundColor),onChange:function(le){return X({currentItemBackgroundColor:le})},isActive:F.openPopup==="backgroundColorPicker",setActive:function(le){return X({openPopup:le?"backgroundColorPicker":null})},elements:I,appState:F})]})}}),(0,ae.z)({name:"changeFillStyle",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){return(0,J.BE)(X,{fillStyle:F})}),appState:V(V({},I),{},{currentItemFillStyle:F}),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.fill")}),(0,f.jsx)(D,{options:[{value:"hachure",text:(0,M.t)("labels.hachure"),icon:y.a0},{value:"cross-hatch",text:(0,M.t)("labels.crossHatch"),icon:y.np},{value:"solid",text:(0,M.t)("labels.solid"),icon:y.X7}],group:"fill",value:G(I,F,function(le){return le.fillStyle},F.currentItemFillStyle),onChange:function(le){X(le)}})]})}}),(0,ae.z)({name:"changeStrokeWidth",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){return(0,J.BE)(X,{strokeWidth:F})}),appState:V(V({},I),{},{currentItemStrokeWidth:F}),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.strokeWidth")}),(0,f.jsx)(D,{group:"stroke-width",options:[{value:1,text:(0,M.t)("labels.thin"),icon:y.ZA},{value:2,text:(0,M.t)("labels.bold"),icon:y.Wl},{value:4,text:(0,M.t)("labels.extraBold"),icon:y.m9}],value:G(I,F,function(le){return le.strokeWidth},F.currentItemStrokeWidth),onChange:function(le){return X(le)}})]})}}),(0,ae.z)({name:"changeSloppiness",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){return(0,J.BE)(X,{seed:(0,ie.LU)(),roughness:F})}),appState:V(V({},I),{},{currentItemRoughness:F}),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.sloppiness")}),(0,f.jsx)(D,{group:"sloppiness",options:[{value:0,text:(0,M.t)("labels.architect"),icon:y.bf},{value:1,text:(0,M.t)("labels.artist"),icon:y.kM},{value:2,text:(0,M.t)("labels.cartoonist"),icon:y.W2}],value:G(I,F,function(le){return le.roughness},F.currentItemRoughness),onChange:function(le){return X(le)}})]})}}),(0,ae.z)({name:"changeStrokeStyle",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){return(0,J.BE)(X,{strokeStyle:F})}),appState:V(V({},I),{},{currentItemStrokeStyle:F}),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.strokeStyle")}),(0,f.jsx)(D,{group:"strokeStyle",options:[{value:"solid",text:(0,M.t)("labels.strokeStyle_solid"),icon:y.ZA},{value:"dashed",text:(0,M.t)("labels.strokeStyle_dashed"),icon:y.a5},{value:"dotted",text:(0,M.t)("labels.strokeStyle_dotted"),icon:y.aT}],value:G(I,F,function(le){return le.strokeStyle},F.currentItemStrokeStyle),onChange:function(le){return X(le)}})]})}}),(0,ae.z)({name:"changeOpacity",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){return(0,J.BE)(X,{opacity:F})},!0),appState:V(V({},I),{},{currentItemOpacity:F}),commitToHistory:!0}},PanelComponent:function(L){var I,F=L.elements,X=L.appState,le=L.updateData;return(0,f.jsxs)("label",{className:"control-label",children:[(0,M.t)("labels.opacity"),(0,f.jsx)("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(q){return le(+q.target.value)},value:(I=G(F,X,function(q){return q.opacity},X.currentItemOpacity))!==null&&I!==void 0?I:void 0})]})}}),(0,ae.z)({name:"changeFontSize",trackEvent:!1,perform:function(L,I,F){return ye(L,I,function(){return F},F)},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.fontSize")}),(0,f.jsx)(D,{group:"font-size",options:[{value:16,text:(0,M.t)("labels.small"),icon:y.q0,testId:"fontSize-small"},{value:20,text:(0,M.t)("labels.medium"),icon:y.nq,testId:"fontSize-medium"},{value:28,text:(0,M.t)("labels.large"),icon:y.tW,testId:"fontSize-large"},{value:36,text:(0,M.t)("labels.veryLarge"),icon:y.OA,testId:"fontSize-veryLarge"}],value:G(I,F,function(le){if((0,_.iB)(le))return le.fontSize;var q=(0,de.WJ)(le);return q?q.fontSize:null},F.currentItemFontSize||S.n5),onChange:function(le){return X(le)}})]})}}),(0,ae.z)({name:"decreaseFontSize",trackEvent:!1,perform:function(L,I,F){return ye(L,I,function(X){return Math.round(1/1.1*X.fontSize)})},keyTest:function(L){return L[P.tW.CTRL_OR_CMD]&&L.shiftKey&&(L.key===P.tW.CHEVRON_LEFT||L.key===P.tW.COMMA)}})),H=(0,ae.z)({name:"increaseFontSize",trackEvent:!1,perform:function(L,I,F){return ye(L,I,function(X){return Math.round(1.1*X.fontSize)})},keyTest:function(L){return L[P.tW.CTRL_OR_CMD]&&L.shiftKey&&(L.key===P.tW.CHEVRON_RIGHT||L.key===P.tW.PERIOD)}});(0,ae.z)({name:"changeFontFamily",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){if((0,_.iB)(X)){var le=(0,J.BE)(X,{fontFamily:F});return(0,_.oN)(le,(0,de.tl)(X)),le}return X},!0),appState:V(V({},I),{},{currentItemFontFamily:F}),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData,le=[{value:S.ut.Virgil,text:(0,M.t)("labels.handDrawn"),icon:y.Pm},{value:S.ut.Helvetica,text:(0,M.t)("labels.normal"),icon:y.vo},{value:S.ut.Cascadia,text:(0,M.t)("labels.code"),icon:y.z6}];return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.fontFamily")}),(0,f.jsx)(D,{group:"font-family",options:le,value:G(I,F,function(q){if((0,_.iB)(q))return q.fontFamily;var Ce=(0,de.WJ)(q);return Ce?Ce.fontFamily:null},F.currentItemFontFamily||S.rk),onChange:function(q){return X(q)}})]})}}),(0,ae.z)({name:"changeTextAlign",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){if((0,_.iB)(X)){var le=(0,J.BE)(X,{textAlign:F});return(0,_.oN)(le,(0,de.tl)(X)),le}return X},!0),appState:V(V({},I),{},{currentItemTextAlign:F}),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.textAlign")}),(0,f.jsx)(D,{group:"text-align",options:[{value:"left",text:(0,M.t)("labels.left"),icon:y.rr},{value:"center",text:(0,M.t)("labels.center"),icon:y.o3},{value:"right",text:(0,M.t)("labels.right"),icon:y.oT}],value:G(I,F,function(le){if((0,_.iB)(le))return le.textAlign;var q=(0,de.WJ)(le);return q?q.textAlign:null},F.currentItemTextAlign),onChange:function(le){return X(le)}})]})}}),(0,ae.z)({name:"changeVerticalAlign",trackEvent:{category:"element"},perform:function(L,I,F){return{elements:oe(L,I,function(X){if((0,_.iB)(X)){var le=(0,J.BE)(X,{verticalAlign:F});return(0,_.oN)(le,(0,de.tl)(X)),le}return X},!0),appState:V({},I),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData;return(0,f.jsx)("fieldset",{children:(0,f.jsx)(D,{group:"text-align",options:[{value:S.oX.TOP,text:(0,M.t)("labels.alignTop"),icon:(0,f.jsx)(y.EO,{theme:F.theme}),testId:"align-top"},{value:S.oX.MIDDLE,text:(0,M.t)("labels.centerVertically"),icon:(0,f.jsx)(y.P7,{theme:F.theme}),testId:"align-middle"},{value:S.oX.BOTTOM,text:(0,M.t)("labels.alignBottom"),icon:(0,f.jsx)(y.aA,{theme:F.theme}),testId:"align-bottom"}],value:G(I,F,function(le){if((0,_.iB)(le)&&le.containerId)return le.verticalAlign;var q=(0,de.WJ)(le);return q?q.verticalAlign:null}),onChange:function(le){return X(le)}})})}}),(0,ae.z)({name:"changeRoundness",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){return(0,J.BE)(X,{roundness:F==="round"?{type:(0,ve.QI)(X.type)?S.a6.ADAPTIVE_RADIUS:S.a6.PROPORTIONAL_RADIUS}:null})}),appState:V(V({},I),{},{currentItemRoundness:F}),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData,le=(0,$.Zs)((0,_.Lm)(I),F).some(function(q){var Ce;return((Ce=q.roundness)===null||Ce===void 0?void 0:Ce.type)===S.a6.LEGACY});return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.edges")}),(0,f.jsx)(D,{group:"edges",options:[{value:"sharp",text:(0,M.t)("labels.sharp"),icon:y.wr},{value:"round",text:(0,M.t)("labels.round"),icon:y.DS}],value:G(I,F,function(q){return le?null:q.roundness?"round":"sharp"},(0,$.sh)(F.activeTool.type)&&F.currentItemRoundness||null),onChange:function(q){return X(q)}})]})}}),(0,ae.z)({name:"changeArrowhead",trackEvent:!1,perform:function(L,I,F){return{elements:oe(L,I,function(X){if((0,ve.bt)(X)){var le=F.position,q=F.type;if(le==="start")return(0,J.BE)(X,{startArrowhead:q});if(le==="end")return(0,J.BE)(X,{endArrowhead:q})}return X}),appState:V(V({},I),{},(0,E.Z)({},F.position==="start"?"currentItemStartArrowhead":"currentItemEndArrowhead",F.type)),commitToHistory:!0}},PanelComponent:function(L){var I=L.elements,F=L.appState,X=L.updateData,le=(0,M.G3)().rtl;return(0,f.jsxs)("fieldset",{children:[(0,f.jsx)("legend",{children:(0,M.t)("labels.arrowheads")}),(0,f.jsxs)("div",{className:"iconSelectList buttonList",children:[(0,f.jsx)(w,{label:"arrowhead_start",options:[{value:null,text:(0,M.t)("labels.arrowhead_none"),icon:y.fr,keyBinding:"q"},{value:"arrow",text:(0,M.t)("labels.arrowhead_arrow"),icon:(0,f.jsx)(y.il,{flip:!le}),keyBinding:"w"},{value:"bar",text:(0,M.t)("labels.arrowhead_bar"),icon:(0,f.jsx)(y.m,{flip:!le}),keyBinding:"e"},{value:"dot",text:(0,M.t)("labels.arrowhead_dot"),icon:(0,f.jsx)(y.tn,{flip:!le}),keyBinding:"r"},{value:"triangle",text:(0,M.t)("labels.arrowhead_triangle"),icon:(0,f.jsx)(y.j8,{flip:!le}),keyBinding:"t"}],value:G(I,F,function(q){return(0,ve.bt)(q)&&(0,$.Un)(q.type)?q.startArrowhead:F.currentItemStartArrowhead},F.currentItemStartArrowhead),onChange:function(q){return X({position:"start",type:q})}}),(0,f.jsx)(w,{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:(0,M.t)("labels.arrowhead_none"),keyBinding:"q",icon:y.fr},{value:"arrow",text:(0,M.t)("labels.arrowhead_arrow"),keyBinding:"w",icon:(0,f.jsx)(y.il,{flip:le})},{value:"bar",text:(0,M.t)("labels.arrowhead_bar"),keyBinding:"e",icon:(0,f.jsx)(y.m,{flip:le})},{value:"dot",text:(0,M.t)("labels.arrowhead_dot"),keyBinding:"r",icon:(0,f.jsx)(y.tn,{flip:le})},{value:"triangle",text:(0,M.t)("labels.arrowhead_triangle"),icon:(0,f.jsx)(y.j8,{flip:le}),keyBinding:"t"}],value:G(I,F,function(q){return(0,ve.bt)(q)&&(0,$.Un)(q.type)?q.endArrowhead:F.currentItemEndArrowhead},F.currentItemEndArrowhead),onChange:function(q){return X({position:"end",type:q})}})]})]})}})},4958:function(b,m,a){a.d(m,{u:function(){return k}});var v=a(7169),E=a(7901),h=a(6066);function f(R,d){var Z=Object.keys(R);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(R);d&&(B=B.filter(function(ee){return Object.getOwnPropertyDescriptor(R,ee).enumerable})),Z.push.apply(Z,B)}return Z}function D(R){for(var d=1;d<arguments.length;d++){var Z=arguments[d]!=null?arguments[d]:{};d%2?f(Object(Z),!0).forEach(function(B){(0,v.Z)(R,B,Z[B])}):Object.getOwnPropertyDescriptors?Object.defineProperties(R,Object.getOwnPropertyDescriptors(Z)):f(Object(Z)).forEach(function(B){Object.defineProperty(R,B,Object.getOwnPropertyDescriptor(Z,B))})}return R}var k=(0,E.z)({name:"stats",viewMode:!0,trackEvent:{category:"menu"},perform:function(R,d){return{appState:D(D({},d),{},{showStats:!this.checked(d)}),commitToHistory:!1}},checked:function(R){return R.showStats},contextItemLabel:"stats.title",keyTest:function(R){return!R[h.tW.CTRL_OR_CMD]&&R.altKey&&R.code===h.aU.SLASH}})},5654:function(b,m,a){a.d(m,{FL:function(){return Ht},vD:function(){return Ki},yA:function(){return U},BZ:function(){return M},mo:function(){return ae.mo},uN:function(){return Jt.uN},jK:function(){return Jt.jK},FA:function(){return Jt.FA},pw:function(){return F},ZM:function(){return Jt.ZM},X9:function(){return v.X},xF:function(){return De},pL:function(){return ye},jl:function(){return St},kt:function(){return At},EQ:function(){return _e},nz:function(){return Di.nz},_d:function(){return K._d},W3:function(){return X},ns:function(){return K.ns},Yy:function(){return _},V:function(){return A},zi:function(){return P},jY:function(){return Ce},Pb:function(){return Gn},Qs:function(){return As},iL:function(){return Kr},u0:function(){return En.u},Zp:function(){return ae.Zp},JN:function(){return dn},y7:function(){return Vi},s:function(){return Ze},zp:function(){return Jt.zp}});var v=a(533),E=a(1930),h=a(1935),f=a(242),D=a(75),k=a(1564),R=a(6340),d=function(fe,Oe){for(var ze=[],Fe=[],ot=null,dt=-1,jt=(0,R.xn)((0,D.eD)(fe,Oe,!0));++dt<fe.length;)jt.get(fe[dt].id)?(Fe.length&&(ze=ze.concat(Fe),Fe=[]),ze.push(dt),ot=dt+1):fe[dt].isDeleted&&ot===dt?(ot=dt+1,Fe.push(dt)):Fe=[];return ze},Z=function(fe,Oe,ze){if("containerId"in fe&&fe.containerId){if(ze!=="left")return Oe.indexOf(fe);var Fe=k.Z.getScene(fe).getElement(fe.containerId);if(Fe)return Oe.indexOf(Fe)}else{var ot,dt,jt=(ot=fe.boundElements)===null||ot===void 0||(dt=ot.find(function(Et){return Et.type!=="arrow"}))===null||dt===void 0?void 0:dt.id;if(jt){if(ze==="left")return Oe.indexOf(fe);var Pt=k.Z.getScene(fe).getElement(jt);if(Pt)return Oe.indexOf(Pt)}}},B=function(fe,Oe){return Oe.reduce(function(ze,Fe){var ot=fe[Fe];return ze[ot.id]=ot,ze},{})},ee=function(fe,Oe,ze){var Fe,ot,dt=d(Oe,fe),jt=B(Oe,dt),Pt=(ot=0,(Fe=dt).reduce(function(Et,nn,Tt){return Tt>0&&Fe[Tt-1]!==nn-1&&(ot=++ot),(Et[ot]||(Et[ot]=[])).push(nn),Et},[]));return ze==="right"&&(Pt=Pt.reverse()),Pt.forEach(function(Et,nn){var Tt=Et[0],mn=Et[Et.length-1],On=ze==="left"?Tt:mn,fn=function(sr,Fn,Or,pi){var Mi,Ti=Fn[Or],Dt=function(hi){return!hi.isDeleted&&(!sr.editingGroupId||hi.groupIds.includes(sr.editingGroupId))},Rr=pi==="left"?(0,R.qr)(Fn,Dt,Math.max(0,Or-1)):(0,R.cx)(Fn,Dt,Or+1),Yn=Fn[Rr];if(!Yn)return-1;if(sr.editingGroupId){var Ai;if((Ti==null?void 0:Ti.groupIds.join(""))===(Yn==null?void 0:Yn.groupIds.join("")))return(Ai=Z(Yn,Fn,pi))!==null&&Ai!==void 0?Ai:Rr;if(Yn==null||!Yn.groupIds.includes(sr.editingGroupId))return-1}if(!Yn.groupIds.length)return(Mi=Z(Yn,Fn,pi))!==null&&Mi!==void 0?Mi:Rr;var _o=sr.editingGroupId?Yn.groupIds[Yn.groupIds.indexOf(sr.editingGroupId)-1]:Yn.groupIds[Yn.groupIds.length-1],Mr=(0,f.Fb)(Fn,_o);return Mr.length?pi==="left"?Fn.indexOf(Mr[0]):Fn.indexOf(Mr[Mr.length-1]):Rr}(fe,Oe,On,ze);if(fn!==-1&&On!==fn){var Mn=ze==="left"?Oe.slice(0,fn):Oe.slice(0,Tt),ln=Oe.slice(Tt,mn+1),Kt=ze==="left"?Oe.slice(fn,Tt):Oe.slice(mn+1,fn+1),dr=ze==="left"?Oe.slice(mn+1):Oe.slice(fn+1);Oe=ze==="left"?[].concat((0,E.Z)(Mn),(0,E.Z)(ln),(0,E.Z)(Kt),(0,E.Z)(dr)):[].concat((0,E.Z)(Mn),(0,E.Z)(Kt),(0,E.Z)(ln),(0,E.Z)(dr))}}),Oe.map(function(Et){return jt[Et.id]?(0,h.ZP)(Et):Et})},he=function(fe,Oe,ze){var Fe,ot,dt=d(fe,Oe),jt=B(fe,dt),Pt=[];if(ze==="left"){if(Oe.editingGroupId){var Et=(0,f.Fb)(fe,Oe.editingGroupId);if(!Et.length)return fe;Fe=fe.indexOf(Et[0])}else Fe=0;ot=dt[dt.length-1]}else{if(Oe.editingGroupId){var nn=(0,f.Fb)(fe,Oe.editingGroupId);if(!nn.length)return fe;ot=fe.indexOf(nn[nn.length-1])}else ot=fe.length-1;Fe=dt[0]}for(var Tt=Fe;Tt<ot+1;Tt++)dt.includes(Tt)||Pt.push(fe[Tt]);var mn=Object.values(jt).map(function(Mn){return(0,h.ZP)(Mn)}),On=fe.slice(0,Fe),fn=fe.slice(ot+1);return ze==="left"?[].concat((0,E.Z)(On),(0,E.Z)(mn),Pt,(0,E.Z)(fn)):[].concat((0,E.Z)(On),Pt,(0,E.Z)(mn),(0,E.Z)(fn))},N=function(fe,Oe){return ee(Oe,fe,"left")},ke=function(fe,Oe){return ee(Oe,fe,"right")},Se=function(fe,Oe){return he(fe,Oe,"left")},je=function(fe,Oe){return he(fe,Oe,"right")},we=a(6066),Ee=a(8211),Me=a(7901),z=a(3646),re=a(2335),T=a(4512),A=(0,Me.z)({name:"sendBackward",trackEvent:{category:"element"},perform:function(fe,Oe){return{elements:N(fe,Oe),appState:Oe,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&!fe.shiftKey&&fe.code===we.aU.BRACKET_LEFT},PanelComponent:function(fe){var Oe=fe.updateData;return fe.appState,(0,T.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Oe(null)},title:"".concat((0,Ee.t)("labels.sendBackward"),"  ").concat((0,R.uY)("CtrlOrCmd+[")),children:z.Gc})}}),U=(0,Me.z)({name:"bringForward",trackEvent:{category:"element"},perform:function(fe,Oe){return{elements:ke(fe,Oe),appState:Oe,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&!fe.shiftKey&&fe.code===we.aU.BRACKET_RIGHT},PanelComponent:function(fe){var Oe=fe.updateData;return fe.appState,(0,T.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Oe(null)},title:"".concat((0,Ee.t)("labels.bringForward"),"  ").concat((0,R.uY)("CtrlOrCmd+]")),children:z.t5})}}),P=(0,Me.z)({name:"sendToBack",trackEvent:{category:"element"},perform:function(fe,Oe){return{elements:Se(fe,Oe),appState:Oe,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(fe){return re.Um?fe[we.tW.CTRL_OR_CMD]&&fe.altKey&&fe.code===we.aU.BRACKET_LEFT:fe[we.tW.CTRL_OR_CMD]&&fe.shiftKey&&fe.code===we.aU.BRACKET_LEFT},PanelComponent:function(fe){var Oe=fe.updateData;return fe.appState,(0,T.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(){return Oe(null)},title:"".concat((0,Ee.t)("labels.sendToBack"),"  ").concat(re.Um?(0,R.uY)("CtrlOrCmd+Alt+["):(0,R.uY)("CtrlOrCmd+Shift+[")),children:z.pw})}}),M=(0,Me.z)({name:"bringToFront",trackEvent:{category:"element"},perform:function(fe,Oe){return{elements:je(fe,Oe),appState:Oe,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(fe){return re.Um?fe[we.tW.CTRL_OR_CMD]&&fe.altKey&&fe.code===we.aU.BRACKET_RIGHT:fe[we.tW.CTRL_OR_CMD]&&fe.shiftKey&&fe.code===we.aU.BRACKET_RIGHT},PanelComponent:function(fe){var Oe=fe.updateData;return fe.appState,(0,T.jsx)("button",{type:"button",className:"zIndexButton",onClick:function(ze){return Oe(null)},title:"".concat((0,Ee.t)("labels.bringToFront"),"  ").concat(re.Um?(0,R.uY)("CtrlOrCmd+Alt+]"):(0,R.uY)("CtrlOrCmd+Shift+]")),children:z.IN})}}),C=a(7169),g=a(1047),l=a(1974),w=a(6938);function y(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function S(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?y(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):y(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var _=(0,Me.z)({name:"selectAll",trackEvent:{category:"canvas"},perform:function(fe,Oe,ze,Fe){if(Oe.editingLinearElement)return!1;var ot=fe.reduce(function(dt,jt){return jt.isDeleted||(0,g.iB)(jt)&&jt.containerId||jt.locked||(dt[jt.id]=!0),dt},{});return{appState:(0,f.bO)(S(S({},Oe),{},{selectedLinearElement:Object.keys(ot).length===1&&(0,l.bt)(fe[0])?new w._(fe[0],Fe.scene):null,editingGroupId:null,selectedElementIds:ot}),(0,g.Lm)(fe)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.key===we.tW.A}}),J=a(1319),de=a(8290),ve=a(5710);function ie(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function $(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?ie(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):ie(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var De=(0,Me.z)({name:"duplicateSelection",trackEvent:{category:"element"},perform:function(fe,Oe){if(Oe.editingLinearElement){var ze=w._.duplicateSelectedPoints(Oe);return!!ze&&{elements:fe,appState:ze.appState,commitToHistory:!0}}return $($({},pe(fe,Oe)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.key===we.tW.D},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{type:"button",icon:z.NA,title:"".concat((0,Ee.t)("labels.duplicateSelection"),"  ").concat((0,R.uY)("CtrlOrCmd+D")),"aria-label":(0,Ee.t)("labels.duplicateSelection"),onClick:function(){return Fe(null)},visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),pe=function(fe,Oe){for(var ze=new Map,Fe=[],ot=[],dt=new Map,jt=function(fn){var Mn=(0,g.Sy)(Oe.editingGroupId,ze,fn,{x:fn.x+re.k/2,y:fn.y+re.k/2});return dt.set(fn.id,Mn.id),ot.push(fn),Fe.push(Mn),Mn},Pt=[],Et=0,nn=(0,R.xn)((0,D.eD)(fe,Oe,!0));Et<fe.length;){var Tt=fe[Et];if(nn.get(Tt.id)){if(Tt.groupIds.length){var mn=(0,f.yO)(Oe,Tt);if(mn){var On=(0,f.Fb)(fe,mn);Pt.push.apply(Pt,(0,E.Z)(On).concat((0,E.Z)(On.map(function(fn){return jt(fn)})))),Et+=On.length;continue}}Pt.push(Tt,jt(Tt))}else Pt.push(Tt);Et++}return(0,ve.P7)(Pt,ot,dt),(0,de.ek)(Pt,ot,dt),{elements:Pt,appState:(0,f.bO)($($({},Oe),{},{selectedGroupIds:{},selectedElementIds:Fe.reduce(function(fn,Mn){return(0,l.Xh)(Mn)||(fn[Mn.id]=!0),fn},{})}),(0,g.Lm)(Pt))}},ae=(a(6208),a(2416)),j=a(2577),V=a(6552);function oe(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function G(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?oe(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):oe(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var ye=(0,Me.z)({name:"finalize",trackEvent:!1,perform:function(fe,Oe,ze,Fe){var ot,dt=Fe.canvas,jt=Fe.focusContainer,Pt=Fe.scene;if(Oe.editingLinearElement){var Et=Oe.editingLinearElement,nn=Et.elementId,Tt=Et.startBindingElement,mn=Et.endBindingElement,On=w._.getElement(nn);if(On)return(0,l.Mn)(On)&&(0,de.HG)(On,Tt,mn),{elements:On.points.length<2||(0,g.QD)(On)?fe.filter(function(Yn){return Yn.id!==On.id}):void 0,appState:G(G({},Oe),{},{cursorButton:"up",editingLinearElement:null}),commitToHistory:!0}}var fn=fe,Mn=Oe.pendingImageElementId&&Pt.getElement(Oe.pendingImageElementId);Mn&&(0,h.DR)(Mn,{isDeleted:!0},!1),window.document.activeElement instanceof HTMLElement&&jt();var ln,Kt=Oe.multiElement?Oe.multiElement:((ot=Oe.editingElement)===null||ot===void 0?void 0:ot.type)==="freedraw"?Oe.editingElement:null;if(Kt){if(Kt.type!=="freedraw"&&Oe.lastPointerDownWith!=="touch"){var dr=Kt.points,sr=Kt.lastCommittedPoint;sr&&dr[dr.length-1]===sr||(0,h.DR)(Kt,{points:Kt.points.slice(0,-1)})}(0,g.QD)(Kt)&&(fn=fn.slice(0,-1));var Fn=(0,V.g6)(Kt.points,Oe.zoom.value);if((Kt.type==="line"||Kt.type==="freedraw")&&Fn){var Or=Kt.points,pi=Or[0];(0,h.DR)(Kt,{points:Or.map(function(Yn,Ai){return Ai===Or.length-1?[pi[0],pi[1]]:Yn})})}if((0,l.Mn)(Kt)&&!Fn&&Kt.points.length>1){var Mi=w._.getPointAtIndexGlobalCoordinates(Kt,-1),Ti=(0,j.Z)(Mi,2),Dt=Ti[0],Rr=Ti[1];(0,de.R)(Kt,Oe,k.Z.getScene(Kt),{x:Dt,y:Rr})}Oe.activeTool.locked||Oe.activeTool.type==="freedraw"||(Oe.selectedElementIds[Kt.id]=!0)}return(Oe.activeTool.locked||Oe.activeTool.type==="freedraw")&&Kt||(0,R.z8)(dt),ln=Oe.activeTool.type==="eraser"?(0,R.Om)(Oe,G(G({},Oe.activeTool.lastActiveTool||{type:"selection"}),{},{lastActiveToolBeforeEraser:null})):(0,R.Om)(Oe,{type:"selection"}),{elements:fn,appState:G(G({},Oe),{},{cursorButton:"up",activeTool:(Oe.activeTool.locked||Oe.activeTool.type==="freedraw")&&Kt?Oe.activeTool:ln,draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:Kt&&!Oe.activeTool.locked&&Oe.activeTool.type!=="freedraw"?G(G({},Oe.selectedElementIds),{},(0,C.Z)({},Kt.id,!0)):Oe.selectedElementIds,selectedLinearElement:Kt&&(0,l.bt)(Kt)?new w._(Kt,Pt):Oe.selectedLinearElement,pendingImageElementId:null}),commitToHistory:Oe.activeTool.type==="freedraw"}},keyTest:function(fe,Oe){return fe.key===we.tW.ESCAPE&&(Oe.editingLinearElement!==null||!Oe.draggingElement&&Oe.multiElement===null)||(fe.key===we.tW.ESCAPE||fe.key===we.tW.ENTER)&&Oe.multiElement!==null},PanelComponent:function(fe){var Oe=fe.appState,ze=fe.updateData,Fe=fe.data;return(0,T.jsx)(J.V,{type:"button",icon:z.$c,title:(0,Ee.t)("buttons.done"),"aria-label":(0,Ee.t)("buttons.done"),onClick:ze,visible:Oe.multiElement!=null,size:(Fe==null?void 0:Fe.size)||"medium"})}}),K=a(8671);function H(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function L(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?H(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):H(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var I="{}",F=(0,Me.z)({name:"copyStyles",trackEvent:{category:"element"},perform:function(fe,Oe){var ze=[],Fe=fe.find(function(dt){return Oe.selectedElementIds[dt.id]});if(ze.push(Fe),Fe&&(0,l.Xo)(Fe)){var ot=(0,ve.WJ)(Fe);ze.push(ot)}return Fe&&(I=JSON.stringify(ze)),{appState:L(L({},Oe),{},{toast:{message:(0,Ee.t)("toast.copyStyles")}}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.altKey&&fe.code===we.aU.C}}),X=(0,Me.z)({name:"pasteStyles",trackEvent:{category:"element"},perform:function(fe,Oe){var ze=JSON.parse(I),Fe=ze[0],ot=ze[1];if(!(0,g.r2)(Fe))return{elements:fe,commitToHistory:!1};var dt=(0,D.eD)(fe,Oe,!0),jt=dt.map(function(Pt){return Pt.id});return{elements:fe.map(function(Pt){if(jt.includes(Pt.id)){var Et,nn,Tt,mn,On,fn,Mn,ln=Fe;if((0,g.iB)(Pt)&&Pt.containerId&&(ln=ot),!ln)return Pt;var Kt=(0,h.BE)(Pt,{backgroundColor:(Et=ln)===null||Et===void 0?void 0:Et.backgroundColor,strokeWidth:(nn=ln)===null||nn===void 0?void 0:nn.strokeWidth,strokeColor:(Tt=ln)===null||Tt===void 0?void 0:Tt.strokeColor,strokeStyle:(mn=ln)===null||mn===void 0?void 0:mn.strokeStyle,fillStyle:(On=ln)===null||On===void 0?void 0:On.fillStyle,opacity:(fn=ln)===null||fn===void 0?void 0:fn.opacity,roughness:(Mn=ln)===null||Mn===void 0?void 0:Mn.roughness,roundness:ln.roundness?(0,l.eK)(ln.roundness.type,Pt)?ln.roundness:(0,l.UQ)(Pt):null});if((0,g.iB)(Kt)){var dr,sr,Fn,Or=null;(Kt=(0,h.BE)(Kt,{fontSize:((dr=ln)===null||dr===void 0?void 0:dr.fontSize)||re.n5,fontFamily:((sr=ln)===null||sr===void 0?void 0:sr.fontFamily)||re.rk,textAlign:((Fn=ln)===null||Fn===void 0?void 0:Fn.textAlign)||re.Hg})).containerId&&(Or=dt.find(function(pi){return(0,g.iB)(Kt)&&pi.id===Kt.containerId})||null),(0,g.oN)(Kt,Or)}return Kt.type==="arrow"&&(Kt=(0,h.BE)(Kt,{startArrowhead:ln.startArrowhead,endArrowhead:ln.endArrowhead})),Kt}return Pt}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.altKey&&fe.code===we.aU.V}});function le(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function q(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?le(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):le(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}(0,Me.z)({name:"toggleCanvasMenu",trackEvent:{category:"menu"},perform:function(fe,Oe){return{appState:q(q({},Oe),{},{openMenu:Oe.openMenu==="canvas"?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(fe){var Oe=fe.appState,ze=fe.updateData;return(0,T.jsx)(J.V,{type:"button",icon:z.RY,"aria-label":(0,Ee.t)("buttons.menu"),onClick:ze,selected:Oe.openMenu==="canvas"})}}),(0,Me.z)({name:"toggleEditMenu",trackEvent:{category:"menu"},perform:function(fe,Oe){return{appState:q(q({},Oe),{},{openMenu:Oe.openMenu==="shape"?null:"shape"}),commitToHistory:!1}},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{visible:(0,g.RT)(ze,(0,g.Lm)(Oe)),type:"button",icon:z.DG,"aria-label":(0,Ee.t)("buttons.edit"),onClick:Fe,selected:ze.openMenu==="shape"})}}),(0,Me.z)({name:"toggleFullScreen",viewMode:!0,trackEvent:{category:"canvas",predicate:function(fe){return!(0,R.rB)()}},perform:function(){return(0,R.rB)()||(0,R.wo)(),(0,R.rB)()&&(0,R.Pr)(),{commitToHistory:!1}},keyTest:function(fe){return fe.key===we.tW.F&&!fe[we.tW.CTRL_OR_CMD]}});var Ce=(0,Me.z)({name:"toggleShortcuts",viewMode:!0,trackEvent:{category:"menu",action:"toggleHelpDialog"},perform:function(fe,Oe,ze,Fe){var ot=Fe.focusContainer;return Oe.openDialog==="help"&&ot(),{appState:q(q({},Oe),{},{openDialog:Oe.openDialog==="help"?null:"help"}),commitToHistory:!1}},keyTest:function(fe){return fe.key===we.tW.QUESTION_MARK}}),te=a(6655),me=a(6954);function Re(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function Be(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Re(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):Re(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}function Q(fe,Oe){var ze=typeof Symbol<"u"&&fe[Symbol.iterator]||fe["@@iterator"];if(!ze){if(Array.isArray(fe)||(ze=function(Et,nn){if(Et){if(typeof Et=="string")return se(Et,nn);var Tt=Object.prototype.toString.call(Et).slice(8,-1);if(Tt==="Object"&&Et.constructor&&(Tt=Et.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(Et);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return se(Et,nn)}}(fe))||Oe&&fe&&typeof fe.length=="number"){ze&&(fe=ze);var Fe=0,ot=function(){};return{s:ot,n:function(){return Fe>=fe.length?{done:!0}:{done:!1,value:fe[Fe++]}},e:function(Et){throw Et},f:ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dt,jt=!0,Pt=!1;return{s:function(){ze=ze.call(fe)},n:function(){var Et=ze.next();return jt=Et.done,Et},e:function(Et){Pt=!0,dt=Et},f:function(){try{jt||ze.return==null||ze.return()}finally{if(Pt)throw dt}}}}function se(fe,Oe){(Oe==null||Oe>fe.length)&&(Oe=fe.length);for(var ze=0,Fe=new Array(Oe);ze<Oe;ze++)Fe[ze]=fe[ze];return Fe}var ue=function(fe,Oe){var ze=(0,D.eD)((0,g.Lm)(fe),Oe,!0);return ze.length>=2&&!function(Fe){if(Fe.length>=2){var ot,dt=Q(Fe[0].groupIds);try{var jt=function(){var Et=ot.value;if(Fe.reduce(function(nn,Tt){return nn&&(0,f.Nd)(Tt,Et)},!0))return{v:!0}};for(dt.s();!(ot=dt.n()).done;){var Pt=jt();if((0,te.Z)(Pt)==="object")return Pt.v}}catch(Et){dt.e(Et)}finally{dt.f()}}return!1}(ze)},_e=(0,Me.z)({name:"group",trackEvent:{category:"element"},perform:function(fe,Oe){var ze=(0,D.eD)((0,g.Lm)(fe),Oe,!0);if(ze.length<2)return{appState:Oe,elements:fe,commitToHistory:!1};var Fe=(0,f.iJ)(Oe);if(Fe.length===1){var ot=Fe[0],dt=new Set((0,f.Fb)(fe,ot).map(function(Kt){return Kt.id})),jt=new Set(ze.map(function(Kt){return Kt.id}));if(new Set([].concat((0,E.Z)(Array.from(dt)),(0,E.Z)(Array.from(jt)))).size===dt.size)return{appState:Oe,elements:fe,commitToHistory:!1}}var Pt=(0,me.kb)(),Et=(0,R.xn)(ze),nn=fe.map(function(Kt){return Et.get(Kt.id)?(0,h.BE)(Kt,{groupIds:(0,f.S_)(Kt.groupIds,Pt,Oe.editingGroupId)}):Kt}),Tt=(0,f.Fb)(nn,Pt),mn=Tt[Tt.length-1],On=nn.lastIndexOf(mn),fn=nn.slice(On+1),Mn=nn.slice(0,On).filter(function(Kt){return!(0,f.Nd)(Kt,Pt)}),ln=[].concat((0,E.Z)(Mn),(0,E.Z)(Tt),(0,E.Z)(fn));return{appState:(0,f.F$)(Pt,Be(Be({},Oe),{},{selectedGroupIds:{}}),(0,g.Lm)(ln)),elements:ln,commitToHistory:!0}},contextItemLabel:"labels.group",predicate:function(fe,Oe){return ue(fe,Oe)},keyTest:function(fe){return!fe.shiftKey&&fe[we.tW.CTRL_OR_CMD]&&fe.key===we.tW.G},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!ue(Oe,ze),type:"button",icon:(0,T.jsx)(z.BF,{theme:ze.theme}),onClick:function(){return Fe(null)},title:"".concat((0,Ee.t)("labels.group"),"  ").concat((0,R.uY)("CtrlOrCmd+G")),"aria-label":(0,Ee.t)("labels.group"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),Ze=(0,Me.z)({name:"ungroup",trackEvent:{category:"element"},perform:function(fe,Oe){if((0,f.iJ)(Oe).length===0)return{appState:Oe,elements:fe,commitToHistory:!1};var ze=[],Fe=fe.map(function(dt){(0,l.Xh)(dt)&&ze.push(dt.id);var jt=(0,f.h6)(dt.groupIds,Oe.selectedGroupIds);return jt.length===dt.groupIds.length?dt:(0,h.BE)(dt,{groupIds:jt})}),ot=(0,f.bO)(Be(Be({},Oe),{},{selectedGroupIds:{}}),(0,g.Lm)(Fe));return ze.forEach(function(dt){return ot.selectedElementIds[dt]=!1}),{appState:ot,elements:Fe,commitToHistory:!0}},keyTest:function(fe){return fe.shiftKey&&fe[we.tW.CTRL_OR_CMD]&&fe.key===we.tW.G.toUpperCase()},contextItemLabel:"labels.ungroup",predicate:function(fe,Oe){return(0,f.iJ)(Oe).length>0},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{type:"button",hidden:(0,f.iJ)(ze).length===0,icon:(0,T.jsx)(z.RJ,{theme:ze.theme}),onClick:function(){return Fe(null)},title:"".concat((0,Ee.t)("labels.ungroup"),"  ").concat((0,R.uY)("CtrlOrCmd+Shift+G")),"aria-label":(0,Ee.t)("labels.ungroup"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),Ge=a(8982),tt=a(487),lt=a.n(tt),nt=a(631),qe=a.n(nt),Ve=a(2052),be=a.n(Ve),Te=a(4010),Ae=a.n(Te),Pe=a(1469),We=a.n(Pe),Ue=a(9329),Je=a.n(Ue),et=a(3729),Qe={};Qe.styleTagTransform=Je(),Qe.setAttributes=Ae(),Qe.insert=be().bind(null,"head"),Qe.domAPI=qe(),Qe.insertStyleElement=We(),lt()(et.Z,Qe),et.Z&&et.Z.locals&&et.Z.locals;var it=a(9787),ft=function(fe){var Oe=fe.color,ze=fe.onClick,Fe=fe.name,ot=fe.src,dt=(0,Ge.f)(Fe),jt=(0,it.useState)(!1),Pt=(0,j.Z)(jt,2),Et=Pt[0],nn=Pt[1],Tt=!Et&&ot,mn=Tt?void 0:{background:Oe};return(0,T.jsx)("div",{className:"Avatar",style:mn,onClick:ze,children:Tt?(0,T.jsx)("img",{className:"Avatar-img",src:ot,alt:dt,referrerPolicy:"no-referrer",onError:function(){return nn(!0)}}):dt})},yt=a(2264);function ut(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function pt(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?ut(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):ut(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}(0,Me.z)({name:"goToCollaborator",viewMode:!0,trackEvent:{category:"collab"},perform:function(fe,Oe,ze){var Fe=ze;return Fe?{appState:pt(pt(pt({},Oe),(0,yt.s)({scenePoint:Fe,viewportDimensions:{width:Oe.width,height:Oe.height},zoom:Oe.zoom})),{},{openMenu:Oe.openMenu==="canvas"?null:Oe.openMenu}),commitToHistory:!1}:{appState:Oe,commitToHistory:!1}},PanelComponent:function(fe){var Oe=fe.appState,ze=fe.updateData,Fe=fe.data,ot=(0,j.Z)(Fe,2),dt=ot[0],jt=ot[1],Pt=(0,Ge.X)(dt,Oe),Et=Pt.background,nn=Pt.stroke;return(0,T.jsx)(ft,{color:Et,border:nn,onClick:function(){return ze(jt.pointer)},name:jt.username||"",src:jt.avatarUrl})}});var wt=a(2791);function zt(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function Yt(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?zt(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):zt(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var Ht=(0,Me.z)({name:"addToLibrary",trackEvent:{category:"element"},perform:function(fe,Oe,ze,Fe){var ot=(0,D.eD)((0,g.Lm)(fe),Oe,!0);return ot.some(function(dt){return dt.type==="image"})?{commitToHistory:!1,appState:Yt(Yt({},Oe),{},{errorMessage:"Support for adding images to the library coming soon!"})}:Fe.library.getLatestLibrary().then(function(dt){return Fe.library.setLibrary([{id:(0,me.kb)(),status:"unpublished",elements:ot.map(wt.OL),created:Date.now()}].concat((0,E.Z)(dt)))}).then(function(){return{commitToHistory:!1,appState:Yt(Yt({},Oe),{},{toast:{message:(0,Ee.t)("toast.addedToLibrary")}})}}).catch(function(dt){return{commitToHistory:!1,appState:Yt(Yt({},Oe),{},{errorMessage:dt.message})}})},contextItemLabel:"labels.addToLibrary"}),It=a(8925);function _t(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function Ct(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?_t(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):_t(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var Bt=function(fe,Oe,ze){var Fe=ze.axis,ot=ze.position,dt=(0,It.v2)(fe),jt=Fe==="x"?["minX","maxX"]:["minY","maxY"],Pt=(0,j.Z)(jt,2),Et=Pt[0],nn=Pt[1],Tt={x:0,y:0};return Ct(Ct({},Tt),{},ot==="start"?(0,C.Z)({},Fe,Oe[Et]-dt[Et]):ot==="end"?(0,C.Z)({},Fe,Oe[nn]-dt[nn]):(0,C.Z)({},Fe,(Oe[Et]+Oe[nn])/2-(dt[Et]+dt[nn])/2))},hn=function(fe,Oe){return(0,D.eD)((0,g.Lm)(fe),Oe).length>1},wn=function(fe,Oe,ze){var Fe=function(dt,jt){var Pt=(0,f.AI)(dt),Et=(0,It.v2)(dt);return Pt.flatMap(function(nn){var Tt=Bt(nn,Et,jt);return nn.map(function(mn){return(0,h.BE)(mn,{x:mn.x+Tt.x,y:mn.y+Tt.y})})})}((0,D.eD)((0,g.Lm)(fe),Oe),ze),ot=(0,R.xn)(Fe);return fe.map(function(dt){return ot.get(dt.id)||dt})};(0,Me.z)({name:"alignTop",trackEvent:{category:"element"},perform:function(fe,Oe){return{appState:Oe,elements:wn(fe,Oe,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.shiftKey&&fe.key===we.tW.ARROW_UP},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!hn(Oe,ze),type:"button",icon:z.Ct,onClick:function(){return Fe(null)},title:"".concat((0,Ee.t)("labels.alignTop"),"  ").concat((0,R.uY)("CtrlOrCmd+Shift+Up")),"aria-label":(0,Ee.t)("labels.alignTop"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),(0,Me.z)({name:"alignBottom",trackEvent:{category:"element"},perform:function(fe,Oe){return{appState:Oe,elements:wn(fe,Oe,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.shiftKey&&fe.key===we.tW.ARROW_DOWN},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!hn(Oe,ze),type:"button",icon:z.HL,onClick:function(){return Fe(null)},title:"".concat((0,Ee.t)("labels.alignBottom"),"  ").concat((0,R.uY)("CtrlOrCmd+Shift+Down")),"aria-label":(0,Ee.t)("labels.alignBottom"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),(0,Me.z)({name:"alignLeft",trackEvent:{category:"element"},perform:function(fe,Oe){return{appState:Oe,elements:wn(fe,Oe,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.shiftKey&&fe.key===we.tW.ARROW_LEFT},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!hn(Oe,ze),type:"button",icon:z.xs,onClick:function(){return Fe(null)},title:"".concat((0,Ee.t)("labels.alignLeft"),"  ").concat((0,R.uY)("CtrlOrCmd+Shift+Left")),"aria-label":(0,Ee.t)("labels.alignLeft"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),(0,Me.z)({name:"alignRight",trackEvent:{category:"element"},perform:function(fe,Oe){return{appState:Oe,elements:wn(fe,Oe,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.shiftKey&&fe.key===we.tW.ARROW_RIGHT},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!hn(Oe,ze),type:"button",icon:z.mh,onClick:function(){return Fe(null)},title:"".concat((0,Ee.t)("labels.alignRight"),"  ").concat((0,R.uY)("CtrlOrCmd+Shift+Right")),"aria-label":(0,Ee.t)("labels.alignRight"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),(0,Me.z)({name:"alignVerticallyCentered",trackEvent:{category:"element"},perform:function(fe,Oe){return{appState:Oe,elements:wn(fe,Oe,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!hn(Oe,ze),type:"button",icon:z.ST,onClick:function(){return Fe(null)},title:(0,Ee.t)("labels.centerVertically"),"aria-label":(0,Ee.t)("labels.centerVertically"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),(0,Me.z)({name:"alignHorizontallyCentered",trackEvent:{category:"element"},perform:function(fe,Oe){return{appState:Oe,elements:wn(fe,Oe,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!hn(Oe,ze),type:"button",icon:z.gK,onClick:function(){return Fe(null)},title:(0,Ee.t)("labels.centerHorizontally"),"aria-label":(0,Ee.t)("labels.centerHorizontally"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}});function Vt(fe,Oe){var ze=typeof Symbol<"u"&&fe[Symbol.iterator]||fe["@@iterator"];if(!ze){if(Array.isArray(fe)||(ze=function(Et,nn){if(Et){if(typeof Et=="string")return Qt(Et,nn);var Tt=Object.prototype.toString.call(Et).slice(8,-1);if(Tt==="Object"&&Et.constructor&&(Tt=Et.constructor.name),Tt==="Map"||Tt==="Set")return Array.from(Et);if(Tt==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Tt))return Qt(Et,nn)}}(fe))||Oe&&fe&&typeof fe.length=="number"){ze&&(fe=ze);var Fe=0,ot=function(){};return{s:ot,n:function(){return Fe>=fe.length?{done:!0}:{done:!1,value:fe[Fe++]}},e:function(Et){throw Et},f:ot}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var dt,jt=!0,Pt=!1;return{s:function(){ze=ze.call(fe)},n:function(){var Et=ze.next();return jt=Et.done,Et},e:function(Et){Pt=!0,dt=Et},f:function(){try{jt||ze.return==null||ze.return()}finally{if(Pt)throw dt}}}}function Qt(fe,Oe){(Oe==null||Oe>fe.length)&&(Oe=fe.length);for(var ze=0,Fe=new Array(Oe);ze<Oe;ze++)Fe[ze]=fe[ze];return Fe}var $e=function(fe,Oe){return(0,D.eD)((0,g.Lm)(fe),Oe).length>1},rt=function(fe,Oe,ze){var Fe=function(dt,jt){var Pt,Et=jt.axis==="x"?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],nn=(0,j.Z)(Et,4),Tt=nn[0],mn=nn[1],On=nn[2],fn=nn[3],Mn=(0,It.v2)(dt),ln=(0,f.AI)(dt).map(function(Dt){return[Dt,(0,It.v2)(Dt)]}).sort(function(Dt,Rr){return Dt[1][mn]-Rr[1][mn]}),Kt=0,dr=Vt(ln);try{for(dr.s();!(Pt=dr.n()).done;)Kt+=Pt.value[1][fn]}catch(Dt){dr.e(Dt)}finally{dr.f()}var sr=(Mn[fn]-Kt)/(ln.length-1);if(sr<0){var Fn=ln.findIndex(function(Dt){return Dt[1][Tt]===Mn[Tt]}),Or=ln.findIndex(function(Dt){return Dt[1][On]===Mn[On]}),pi=(ln[Or][1][mn]-ln[Fn][1][mn])/(ln.length-1),Mi=ln[Fn][1][mn];return ln.flatMap(function(Dt,Rr){var Yn=(0,j.Z)(Dt,2),Ai=Yn[0],_o=Yn[1],Mr={x:0,y:0};return Rr!==Fn&&Rr!==Or&&(Mi+=pi,Mr[jt.axis]=Mi-_o[mn]),Ai.map(function(hi){return(0,h.BE)(hi,{x:hi.x+Mr.x,y:hi.y+Mr.y})})})}var Ti=Mn[Tt];return ln.flatMap(function(Dt){var Rr=(0,j.Z)(Dt,2),Yn=Rr[0],Ai=Rr[1],_o={x:0,y:0};return _o[jt.axis]=Ti-Ai[Tt],Ti+=sr,Ti+=Ai[fn],Yn.map(function(Mr){return(0,h.BE)(Mr,{x:Mr.x+_o.x,y:Mr.y+_o.y})})})}((0,D.eD)((0,g.Lm)(fe),Oe),ze),ot=(0,R.xn)(Fe);return fe.map(function(dt){return ot.get(dt.id)||dt})},gt=((0,Me.z)({name:"distributeHorizontally",trackEvent:{category:"element"},perform:function(fe,Oe){return{appState:Oe,elements:rt(fe,Oe,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(fe){return!fe[we.tW.CTRL_OR_CMD]&&fe.altKey&&fe.code===we.aU.H},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!$e(Oe,ze),type:"button",icon:z.uD,onClick:function(){return Fe(null)},title:"".concat((0,Ee.t)("labels.distributeHorizontally"),"  ").concat((0,R.uY)("Alt+H")),"aria-label":(0,Ee.t)("labels.distributeHorizontally"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),(0,Me.z)({name:"distributeVertically",trackEvent:{category:"element"},perform:function(fe,Oe){return{appState:Oe,elements:rt(fe,Oe,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(fe){return!fe[we.tW.CTRL_OR_CMD]&&fe.altKey&&fe.code===we.aU.V},PanelComponent:function(fe){var Oe=fe.elements,ze=fe.appState,Fe=fe.updateData;return(0,T.jsx)(J.V,{hidden:!$e(Oe,ze),type:"button",icon:z.W5,onClick:function(){return Fe(null)},title:"".concat((0,Ee.t)("labels.distributeVertically"),"  ").concat((0,R.uY)("Alt+V")),"aria-label":(0,Ee.t)("labels.distributeVertically"),visible:(0,D.N)((0,g.Lm)(Oe),ze)})}}),a(8634)),vt=a(267),St=(0,Me.z)({name:"flipHorizontal",trackEvent:{category:"element"},perform:function(fe,Oe){return{elements:Zt(fe,Oe,"horizontal"),appState:Oe,commitToHistory:!0}},keyTest:function(fe){return fe.shiftKey&&fe.code==="KeyH"},contextItemLabel:"labels.flipHorizontal",predicate:function(fe,Oe){return function(ze,Fe){var ot=(0,D.eD)((0,g.Lm)(ze),Fe);return ot.length===1&&ot[0].type!=="text"}(fe,Oe)}}),At=(0,Me.z)({name:"flipVertical",trackEvent:{category:"element"},perform:function(fe,Oe){return{elements:Zt(fe,Oe,"vertical"),appState:Oe,commitToHistory:!0}},keyTest:function(fe){return fe.shiftKey&&fe.code==="KeyV"&&!fe[we.tW.CTRL_OR_CMD]},contextItemLabel:"labels.flipVertical",predicate:function(fe,Oe){return function(ze,Fe){return(0,D.eD)((0,g.Lm)(ze),Fe).length===1}(fe,Oe)}}),Zt=function(fe,Oe,ze){var Fe=(0,D.eD)((0,g.Lm)(fe),Oe);if(Fe.length>1)return fe;var ot=Wt(Fe,Oe,ze),dt=(0,R.xn)(ot);return fe.map(function(jt){return dt.get(jt.id)||jt})},Wt=function(fe,Oe,ze){return fe.forEach(function(Fe){en(Fe,Oe),ze==="vertical"&&sn(Fe,Math.PI)}),fe},en=function(fe,Oe){var ze=fe.x,Fe=fe.y,ot=fe.width,dt=fe.height,jt=(0,gt.LW)(fe.angle);(0,h.DR)(fe,{angle:(0,gt.LW)(0)});var Pt=(0,vt.PC)(fe,Oe.zoom),Et=!0,nn=Pt.nw;if(nn||(Et=!1,nn=Pt.ne)){var Tt,mn=0;(0,l.bt)(fe)&&fe.points.length<3&&(mn=2*fe.points.reduce(function(Fn,Or){return Math.max(Fn,Or[0])},0)-fe.width),(0,l.bt)(fe)&&(Tt=(0,It.Ut)(fe,fe.points));var On=(0,It.qf)(fe);if((0,l.bt)(fe)&&fe.points.length<3){for(var fn=1;fn<fe.points.length;fn++)w._.movePoints(fe,[{index:fn,point:[-fe.points[fn][0],fe.points[fn][1]]}]);w._.normalizePoints(fe)}else{var Mn=Tt?Tt[2]-Tt[0]:On[2]-On[0],ln=Tt?[Tt[0],Tt[1]]:[On[0],On[1]];(0,gt.l2)(new Map().set(fe.id,fe),!1,fe,Et?"nw":"ne",!0,Et?ln[0]+Mn:ln[0]-Mn,ln[1])}var Kt=(0,gt.LW)(2*Math.PI-jt);if(Kt<0&&(Kt=(0,gt.LW)(Kt+2*Math.PI)),(0,h.DR)(fe,{angle:Kt}),(0,h.DR)(fe,{x:ze+mn,y:Fe,width:ot,height:dt}),(0,de.Ww)(fe),Tt&&(0,l.bt)(fe)){var dr=(0,It.Ut)(fe,fe.points),sr=Tt[0]-dr[0]+(Tt[2]-dr[2]);(0,h.DR)(fe,{x:fe.x+.5*sr,y:fe.y,width:ot,height:dt})}}else(0,h.DR)(fe,{angle:jt})},sn=function(fe,Oe){var ze=fe.x,Fe=fe.y,ot=(0,gt.LW)(fe.angle+Oe);ot<0&&(ot=(0,gt.LW)(2*Math.PI+ot)),(0,h.DR)(fe,{angle:ot}),(0,h.DR)(fe,{x:ze,y:Fe})},Jt=a(4688);function kn(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function Nn(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?kn(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):kn(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var Gn=(0,Me.z)({name:"gridMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(fe){return!fe.gridSize}},perform:function(fe,Oe){return{appState:Nn(Nn({},Oe),{},{gridSize:this.checked(Oe)?null:re.k}),commitToHistory:!1}},checked:function(fe){return fe.gridSize!==null},predicate:function(fe,Oe,ze){return ze.gridModeEnabled===void 0},contextItemLabel:"labels.showGrid",keyTest:function(fe){return fe[we.tW.CTRL_OR_CMD]&&fe.code===we.aU.QUOTE}});function Zn(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function tn(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Zn(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):Zn(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var dn=(0,Me.z)({name:"zenMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(fe){return!fe.zenModeEnabled}},perform:function(fe,Oe){return{appState:tn(tn({},Oe),{},{zenModeEnabled:!this.checked(Oe)}),commitToHistory:!1}},checked:function(fe){return fe.zenModeEnabled},predicate:function(fe,Oe,ze){return ze.zenModeEnabled===void 0},contextItemLabel:"buttons.zenMode",keyTest:function(fe){return!fe[we.tW.CTRL_OR_CMD]&&fe.altKey&&fe.code===we.aU.Z}}),En=a(4958),Un=a(6906);function Dr(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function Ui(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?Dr(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):Dr(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var Vi=(0,Me.z)({name:"unbindText",contextItemLabel:"labels.unbindText",trackEvent:{category:"element"},predicate:function(fe,Oe){return(0,D.eD)(fe,Oe).some(function(ze){return(0,l.Xo)(ze)})},perform:function(fe,Oe){return(0,D.eD)((0,g.Lm)(fe),Oe).forEach(function(ze){var Fe=(0,ve.WJ)(ze);if(Fe){var ot,dt=(0,ve.X1)(Fe.originalText,(0,R.mO)(Fe)),jt=dt.width,Pt=dt.height,Et=dt.baseline,nn=(0,Un.eR)(ze.id);(0,Un.kT)(ze.id),(0,h.DR)(Fe,{containerId:null,width:jt,height:Pt,baseline:Et,text:Fe.originalText}),(0,h.DR)(ze,{boundElements:(ot=ze.boundElements)===null||ot===void 0?void 0:ot.filter(function(Tt){return Tt.id!==Fe.id}),height:nn||ze.height})}}),{elements:fe,appState:Oe,commitToHistory:!0}}}),Ki=(0,Me.z)({name:"bindText",contextItemLabel:"labels.bindText",trackEvent:{category:"element"},predicate:function(fe,Oe){var ze=(0,D.eD)(fe,Oe);if(ze.length===2){var Fe,ot=(0,g.iB)(ze[0])||(0,g.iB)(ze[1]);if((0,l.mG)(ze[0])?Fe=ze[0]:(0,l.mG)(ze[1])&&(Fe=ze[1]),ot&&Fe&&(0,ve.WJ)(Fe)===null)return!0}return!1},perform:function(fe,Oe){var ze,Fe,ot=(0,D.eD)((0,g.Lm)(fe),Oe);(0,g.iB)(ot[0])&&(0,l.mG)(ot[1])?(ze=ot[0],Fe=ot[1]):(ze=ot[1],Fe=ot[0]),(0,h.DR)(ze,{containerId:Fe.id,verticalAlign:re.oX.MIDDLE}),(0,h.DR)(Fe,{boundElements:(Fe.boundElements||[]).concat({type:"text",id:ze.id})}),(0,ve.oN)(ze,Fe);var dt=fe.slice(),jt=dt.findIndex(function(Et){return Et.id===ze.id});dt.splice(jt,1);var Pt=dt.findIndex(function(Et){return Et.id===Fe.id});return dt.splice(Pt+1,0,ze),{elements:dt,appState:Ui(Ui({},Oe),{},{selectedElementIds:(0,C.Z)({},Fe.id,!0)}),commitToHistory:!0}}}),Di=a(4929);function nr(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function Io(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?nr(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):nr(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var Kr=(0,Me.z)({name:"toggleLock",trackEvent:{category:"element"},perform:function(fe,Oe){var ze=(0,D.eD)(fe,Oe,!0);if(!ze.length)return!1;var Fe=Oi(ze),ot=(0,R.xn)(ze),dt=Fe==="lock";return{elements:fe.map(function(jt){return ot.has(jt.id)?(0,h.BE)(jt,{locked:dt}):jt}),appState:Io(Io({},Oe),{},{selectedLinearElement:dt?null:Oe.selectedLinearElement}),commitToHistory:!0}},contextItemLabel:function(fe,Oe){var ze=(0,D.eD)(fe,Oe,!1);return ze.length===1?ze[0].locked?"labels.elementLock.unlock":"labels.elementLock.lock":Oi(ze)==="lock"?"labels.elementLock.lockAll":"labels.elementLock.unlockAll"},keyTest:function(fe,Oe,ze){return fe.key.toLocaleLowerCase()===we.tW.L&&fe[we.tW.CTRL_OR_CMD]&&fe.shiftKey&&(0,D.eD)(ze,Oe,!1).length>0}}),Oi=function(fe){return fe.some(function(Oe){return!Oe.locked})?"lock":"unlock"};function jo(fe,Oe){var ze=Object.keys(fe);if(Object.getOwnPropertySymbols){var Fe=Object.getOwnPropertySymbols(fe);Oe&&(Fe=Fe.filter(function(ot){return Object.getOwnPropertyDescriptor(fe,ot).enumerable})),ze.push.apply(ze,Fe)}return ze}function Gi(fe){for(var Oe=1;Oe<arguments.length;Oe++){var ze=arguments[Oe]!=null?arguments[Oe]:{};Oe%2?jo(Object(ze),!0).forEach(function(Fe){(0,C.Z)(fe,Fe,ze[Fe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(fe,Object.getOwnPropertyDescriptors(ze)):jo(Object(ze)).forEach(function(Fe){Object.defineProperty(fe,Fe,Object.getOwnPropertyDescriptor(ze,Fe))})}return fe}var As=(0,Me.z)({name:"toggleLinearEditor",trackEvent:{category:"element"},predicate:function(fe,Oe){var ze=(0,D.eD)(fe,Oe);return!(ze.length!==1||!(0,l.bt)(ze[0]))},perform:function(fe,Oe,ze,Fe){var ot,dt=(0,D.eD)((0,g.Lm)(fe),Oe,!0)[0],jt=((ot=Oe.editingLinearElement)===null||ot===void 0?void 0:ot.elementId)===dt.id?null:new w._(dt,Fe.scene);return{appState:Gi(Gi({},Oe),{},{editingLinearElement:jt}),commitToHistory:!1}},contextItemLabel:function(fe,Oe){var ze,Fe=(0,D.eD)((0,g.Lm)(fe),Oe,!0)[0];return((ze=Oe.editingLinearElement)===null||ze===void 0?void 0:ze.elementId)===Fe.id?"labels.lineEditor.exit":"labels.lineEditor.edit"}})},7901:function(b,m,a){a.d(m,{N:function(){return v},z:function(){return E}});var v=[],E=function(h){return v=v.concat(h),h}},785:function(b,m,a){a.d(m,{C:function(){return D}});var v=a(2335),E=a(8211),h=a(6340),f={toggleTheme:[(0,h.uY)("Shift+Alt+D")],saveScene:[(0,h.uY)("CtrlOrCmd+S")],loadScene:[(0,h.uY)("CtrlOrCmd+O")],imageExport:[(0,h.uY)("CtrlOrCmd+Shift+E")],cut:[(0,h.uY)("CtrlOrCmd+X")],copy:[(0,h.uY)("CtrlOrCmd+C")],paste:[(0,h.uY)("CtrlOrCmd+V")],copyStyles:[(0,h.uY)("CtrlOrCmd+Alt+C")],pasteStyles:[(0,h.uY)("CtrlOrCmd+Alt+V")],selectAll:[(0,h.uY)("CtrlOrCmd+A")],deleteSelectedElements:[(0,h.uY)("Delete")],duplicateSelection:[(0,h.uY)("CtrlOrCmd+D"),(0,h.uY)("Alt+".concat((0,E.t)("helpDialog.drag")))],sendBackward:[(0,h.uY)("CtrlOrCmd+[")],bringForward:[(0,h.uY)("CtrlOrCmd+]")],sendToBack:[v.Um?(0,h.uY)("CtrlOrCmd+Alt+["):(0,h.uY)("CtrlOrCmd+Shift+[")],bringToFront:[v.Um?(0,h.uY)("CtrlOrCmd+Alt+]"):(0,h.uY)("CtrlOrCmd+Shift+]")],copyAsPng:[(0,h.uY)("Shift+Alt+C")],copyAsSvg:[],group:[(0,h.uY)("CtrlOrCmd+G")],ungroup:[(0,h.uY)("CtrlOrCmd+Shift+G")],gridMode:[(0,h.uY)("CtrlOrCmd+'")],zenMode:[(0,h.uY)("Alt+Z")],stats:[(0,h.uY)("Alt+/")],addToLibrary:[],flipHorizontal:[(0,h.uY)("Shift+H")],flipVertical:[(0,h.uY)("Shift+V")],viewMode:[(0,h.uY)("Alt+R")],hyperlink:[(0,h.uY)("CtrlOrCmd+K")],toggleLock:[(0,h.uY)("CtrlOrCmd+Shift+L")]},D=function(k){var R=f[k];return R&&R.length>0?R[0]:""}},7047:function(b,m,a){var v,E;a.d(m,{L:function(){return h}});var h=typeof process<"u"&&(v={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})!==null&&v!==void 0&&v.REACT_APP_GOOGLE_ANALYTICS_ID&&typeof window<"u"&&window.gtag?function(f,D,k,R){try{window.gtag("event",D,{event_category:f,event_label:k,value:R})}catch(d){console.error("error logging to ga",d)}}:(typeof process<"u"&&(E={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})!==null&&E!==void 0&&E.JEST_WORKER_ID,function(f,D,k,R){})},8897:function(b,m,a){a.d(m,{EN:function(){return ee},eS:function(){return B},im:function(){return k},l$:function(){return he},s:function(){return Z}});var v=a(5284),E=a(2335),h=a(8211),f=a(6340),D=E.ZB.includes(devicePixelRatio)?devicePixelRatio:1,k=function(){return{showWelcomeScreen:!1,theme:E.C6.LIGHT,collaborators:new Map,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:E.rk,currentItemFontSize:E.n5,currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:v.black,currentItemRoundness:"round",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:E.Hg,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,activeTool:{type:"selection",customType:null,locked:!1,lastActiveTool:null},penMode:!1,penDetected:!1,errorMessage:null,exportBackground:!0,exportScale:D,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,isBindingEnabled:!0,isSidebarDocked:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:"".concat((0,h.t)("labels.untitled"),"-").concat((0,f.Fc)()),contextMenu:null,openMenu:null,openPopup:null,openSidebar:null,openDialog:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldCacheIgnoreZoom:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toast:null,viewBackgroundColor:v.white,zenModeEnabled:!1,zoom:{value:1},viewModeEnabled:!1,pendingImageElementId:null,showHyperlinkPopup:!1,selectedLinearElement:null}},R={showWelcomeScreen:{browser:!0,export:!1,server:!1},theme:{browser:!0,export:!1,server:!1},collaborators:{browser:!1,export:!1,server:!1},currentChartType:{browser:!0,export:!1,server:!1},currentItemBackgroundColor:{browser:!0,export:!1,server:!1},currentItemEndArrowhead:{browser:!0,export:!1,server:!1},currentItemFillStyle:{browser:!0,export:!1,server:!1},currentItemFontFamily:{browser:!0,export:!1,server:!1},currentItemFontSize:{browser:!0,export:!1,server:!1},currentItemRoundness:{browser:!0,export:!1,server:!1},currentItemOpacity:{browser:!0,export:!1,server:!1},currentItemRoughness:{browser:!0,export:!1,server:!1},currentItemStartArrowhead:{browser:!0,export:!1,server:!1},currentItemStrokeColor:{browser:!0,export:!1,server:!1},currentItemStrokeStyle:{browser:!0,export:!1,server:!1},currentItemStrokeWidth:{browser:!0,export:!1,server:!1},currentItemTextAlign:{browser:!0,export:!1,server:!1},cursorButton:{browser:!0,export:!1,server:!1},draggingElement:{browser:!1,export:!1,server:!1},editingElement:{browser:!1,export:!1,server:!1},editingGroupId:{browser:!0,export:!1,server:!1},editingLinearElement:{browser:!1,export:!1,server:!1},activeTool:{browser:!0,export:!1,server:!1},penMode:{browser:!0,export:!1,server:!1},penDetected:{browser:!0,export:!1,server:!1},errorMessage:{browser:!1,export:!1,server:!1},exportBackground:{browser:!0,export:!1,server:!1},exportEmbedScene:{browser:!0,export:!1,server:!1},exportScale:{browser:!0,export:!1,server:!1},exportWithDarkMode:{browser:!0,export:!1,server:!1},fileHandle:{browser:!1,export:!1,server:!1},gridSize:{browser:!0,export:!0,server:!0},height:{browser:!1,export:!1,server:!1},isBindingEnabled:{browser:!1,export:!1,server:!1},isSidebarDocked:{browser:!0,export:!1,server:!1},isLoading:{browser:!1,export:!1,server:!1},isResizing:{browser:!1,export:!1,server:!1},isRotating:{browser:!1,export:!1,server:!1},lastPointerDownWith:{browser:!0,export:!1,server:!1},multiElement:{browser:!1,export:!1,server:!1},name:{browser:!0,export:!1,server:!1},offsetLeft:{browser:!1,export:!1,server:!1},offsetTop:{browser:!1,export:!1,server:!1},contextMenu:{browser:!1,export:!1,server:!1},openMenu:{browser:!0,export:!1,server:!1},openPopup:{browser:!1,export:!1,server:!1},openSidebar:{browser:!0,export:!1,server:!1},openDialog:{browser:!1,export:!1,server:!1},pasteDialog:{browser:!1,export:!1,server:!1},previousSelectedElementIds:{browser:!0,export:!1,server:!1},resizingElement:{browser:!1,export:!1,server:!1},scrolledOutside:{browser:!0,export:!1,server:!1},scrollX:{browser:!0,export:!1,server:!1},scrollY:{browser:!0,export:!1,server:!1},selectedElementIds:{browser:!0,export:!1,server:!1},selectedGroupIds:{browser:!0,export:!1,server:!1},selectionElement:{browser:!1,export:!1,server:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1,server:!1},showStats:{browser:!0,export:!1,server:!1},startBoundElement:{browser:!1,export:!1,server:!1},suggestedBindings:{browser:!1,export:!1,server:!1},toast:{browser:!1,export:!1,server:!1},viewBackgroundColor:{browser:!0,export:!0,server:!0},width:{browser:!1,export:!1,server:!1},zenModeEnabled:{browser:!0,export:!1,server:!1},zoom:{browser:!0,export:!1,server:!1},viewModeEnabled:{browser:!1,export:!1,server:!1},pendingImageElementId:{browser:!1,export:!1,server:!1},showHyperlinkPopup:{browser:!1,export:!1,server:!1},selectedLinearElement:{browser:!0,export:!1,server:!1}},d=function(N,ke){for(var Se={},je=0,we=Object.keys(N);je<we.length;je++){var Ee=we[je],Me=R[Ee];if(Me!=null&&Me[ke]){var z=N[Ee];Se[Ee]=z}}return Se},Z=function(N){return d(N,"export")},B=function(N){return d(N,"server")},ee=function(N){return N.activeTool.type==="eraser"},he=function(N){return N.activeTool.type==="hand"}},5674:function(b,m,a){a.d(m,{dz:function(){return z},i$:function(){return je},ps:function(){return P}});var v=a(1930),E=a(7169),h=a(2577),f=a(56),D=a(2335),k=a(1047),R=a(6954);function d(M,C){var g=typeof Symbol<"u"&&M[Symbol.iterator]||M["@@iterator"];if(!g){if(Array.isArray(M)||(g=function(J,de){if(J){if(typeof J=="string")return Z(J,de);var ve=Object.prototype.toString.call(J).slice(8,-1);if(ve==="Object"&&J.constructor&&(ve=J.constructor.name),ve==="Map"||ve==="Set")return Array.from(J);if(ve==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ve))return Z(J,de)}}(M))||C&&M&&typeof M.length=="number"){g&&(M=g);var l=0,w=function(){};return{s:w,n:function(){return l>=M.length?{done:!0}:{done:!1,value:M[l++]}},e:function(J){throw J},f:w}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var y,S=!0,_=!1;return{s:function(){g=g.call(M)},n:function(){var J=g.next();return S=J.done,J},e:function(J){_=!0,y=J},f:function(){try{S||g.return==null||g.return()}finally{if(_)throw y}}}}function Z(M,C){(C==null||C>M.length)&&(C=M.length);for(var g=0,l=new Array(C);g<C;g++)l[g]=M[g];return l}function B(M,C){var g=Object.keys(M);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(M);C&&(l=l.filter(function(w){return Object.getOwnPropertyDescriptor(M,w).enumerable})),g.push.apply(g,l)}return g}function ee(M){for(var C=1;C<arguments.length;C++){var g=arguments[C]!=null?arguments[C]:{};C%2?B(Object(g),!0).forEach(function(l){(0,E.Z)(M,l,g[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(g)):B(Object(g)).forEach(function(l){Object.defineProperty(M,l,Object.getOwnPropertyDescriptor(g,l))})}return M}var he=32,N=12,ke=256,Se="NOT_SPREADSHEET",je="VALID_SPREADSHEET",we=function(M){var C=/^([-+]?)[$]?([-+]?)([\d.,]+)[%]?$/.exec(M);return C?parseFloat("".concat((C[1]||C[2])+C[3]).replace(/,/g,"")):null},Ee=function(M,C){return M.slice(1).every(function(g){return we(g[C])!==null})},Me=function(M){var C=M[0].length;if(C>2)return{type:Se,reason:"More than 2 columns"};if(C===1){if(!Ee(M,0))return{type:Se,reason:"Value is not numeric"};var g=we(M[0][0])===null,l=(g?M.slice(1):M).map(function($){return we($[0])});return l.length<2?{type:Se,reason:"Less than two rows"}:{type:je,spreadsheet:{title:g?M[0][0]:null,labels:null,values:l}}}var w=Ee(M,0),y=Ee(M,1);if(!w&&!y)return{type:Se,reason:"Value is not numeric"};var S=y?[0,1]:[1,0],_=(0,h.Z)(S,2),J=_[0],de=_[1],ve=we(M[0][de])===null,ie=ve?M.slice(1):M;return ie.length<2?{type:Se,reason:"Less than 2 rows"}:{type:je,spreadsheet:{title:ve?M[0][de]:null,labels:ie.map(function($){return $[J]}),values:ie.map(function($){return we($[de])})}}},z=function(M){var C=M.trim().split(`
`).map(function(y){return y.trim().split("	")});if(C.length&&C[0].length!==2&&(C=M.trim().split(`
`).map(function(y){return y.trim().split(",")})),C.length===0)return{type:Se,reason:"No values"};var g=C[0].length;if(!C.every(function(y){return y.length===g}))return{type:Se,reason:"All rows don't have same number of columns"};var l=Me(C);if(l.type!==je){var w=Me(function(y){for(var S=[],_=0;_<y[0].length;_++){for(var J=[],de=0;de<y.length;de++)J.push(y[de][_]);S.push(J)}return S}(C));if(w.type===je)return w}return l},re=f.Z.elementBackground.slice(2,f.Z.elementBackground.length),T={fillStyle:"hachure",fontFamily:D.rk,fontSize:D.n5,opacity:100,roughness:1,strokeColor:f.Z.elementStroke[0],roundness:null,strokeStyle:"solid",strokeWidth:1,verticalAlign:D.oX.MIDDLE,locked:!1},A=function(M){return{chartWidth:44*M.values.length+N,chartHeight:280}},U=function(M,C,g,l,w,y){var S=A(M),_=S.chartWidth,J=S.chartHeight,de=M.title?(0,k.VL)(ee(ee({backgroundColor:w,groupIds:[l]},T),{},{text:M.title,x:C+_/2,y:g-ke-24-D.n5,roundness:null,strokeStyle:"solid",textAlign:"center"})):null,ve=y?(0,k.Up)(ee(ee({backgroundColor:w,groupIds:[l]},T),{},{type:"rectangle",x:C,y:g-J,width:_,height:J,strokeColor:f.Z.elementStroke[0],fillStyle:"solid",opacity:6})):null;return[].concat((0,v.Z)(ve?[ve]:[]),(0,v.Z)(de?[de]:[]),(0,v.Z)(function(ie,$,De,pe,ae){var j;return((j=ie.labels)===null||j===void 0?void 0:j.map(function(V,oe){return(0,k.VL)(ee(ee({groupIds:[pe],backgroundColor:ae},T),{},{text:V.length>8?"".concat(V.slice(0,5),"..."):V,x:$+44*oe+24,y:De+6,width:he,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(M,C,g,l,w)),(0,v.Z)(function(ie,$,De,pe,ae){var j=(0,k.VL)(ee(ee({groupIds:[pe],backgroundColor:ae},T),{},{x:$-N,y:De-N,text:"0",textAlign:"right"}));return[j,(0,k.VL)(ee(ee({groupIds:[pe],backgroundColor:ae},T),{},{x:$-N,y:De-ke-j.height/2,text:Math.max.apply(Math,(0,v.Z)(ie.values)).toLocaleString(),textAlign:"right"}))]}(M,C,g,l,w)),(0,v.Z)(function(ie,$,De,pe,ae){var j=A(ie),V=j.chartWidth,oe=j.chartHeight;return[(0,k.y8)(ee(ee({backgroundColor:ae,groupIds:[pe]},T),{},{type:"line",x:$,y:De,startArrowhead:null,endArrowhead:null,width:V,points:[[0,0],[V,0]]})),(0,k.y8)(ee(ee({backgroundColor:ae,groupIds:[pe]},T),{},{type:"line",x:$,y:De,startArrowhead:null,endArrowhead:null,height:oe,points:[[0,0],[0,-oe]]})),(0,k.y8)(ee(ee({backgroundColor:ae,groupIds:[pe]},T),{},{type:"line",x:$,y:De-ke-N,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:V,opacity:50,points:[[0,0],[V,0]]}))]}(M,C,g,l,w)))},P=function(M,C,g,l){return M==="line"?function(w,y,S){var _,J=Math.max.apply(Math,(0,v.Z)(w.values)),de=(0,R.kb)(),ve=re[Math.floor(Math.random()*re.length)],ie=0,$=[],De=d(w.values);try{for(De.s();!(_=De.n()).done;){var pe=_.value,ae=44*ie,j=-pe/J*ke;$.push([ae,j]),ie++}}catch(I){De.e(I)}finally{De.f()}var V=Math.max.apply(Math,(0,v.Z)($.map(function(I){return I[0]}))),oe=Math.max.apply(Math,(0,v.Z)($.map(function(I){return I[1]}))),G=Math.min.apply(Math,(0,v.Z)($.map(function(I){return I[0]}))),ye=Math.min.apply(Math,(0,v.Z)($.map(function(I){return I[1]}))),K=(0,k.y8)(ee(ee({backgroundColor:ve,groupIds:[de]},T),{},{type:"line",x:y+N+16,y:S-N,startArrowhead:null,endArrowhead:null,height:oe-ye,width:V-G,strokeWidth:2,points:$})),H=w.values.map(function(I,F){var X=44*F+6,le=-I/J*ke+6;return(0,k.Up)(ee(ee({backgroundColor:ve,groupIds:[de]},T),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:y+X+16,y:S+le-24,width:N,height:N}))}),L=w.values.map(function(I,F){var X=44*F+6,le=I/J*ke+6+N;return(0,k.y8)(ee(ee({backgroundColor:ve,groupIds:[de]},T),{},{type:"line",x:y+X+16+6,y:S-le,startArrowhead:null,endArrowhead:null,height:le,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,le]]}))});return[].concat((0,v.Z)(U(w,y,S,de,ve,D.Vi.DEVELOPMENT==="production")),[K],(0,v.Z)(L),(0,v.Z)(H))}(C,g,l):function(w,y,S){var _=Math.max.apply(Math,(0,v.Z)(w.values)),J=(0,R.kb)(),de=re[Math.floor(Math.random()*re.length)],ve=w.values.map(function(ie,$){var De=ie/_*ke;return(0,k.Up)(ee(ee({backgroundColor:de,groupIds:[J]},T),{},{type:"rectangle",x:y+44*$+N,y:S-De-N,width:he,height:De}))});return[].concat((0,v.Z)(ve),(0,v.Z)(U(w,y,S,J,de,D.Vi.DEVELOPMENT==="production")))}(C,g,l)}},8982:function(b,m,a){a.d(m,{X:function(){return E},f:function(){return h}});var v=a(56),E=function(f,D){if(D!=null&&D.collaborators){var k=D.collaborators.get(f);if(k!=null&&k.color)return k.color}var R=f.split("").reduce(function(B,ee){return B+ee.charCodeAt(0)},0),d=v.Z.elementBackground.slice(3),Z=v.Z.elementStroke.slice(3);return{background:d[R%d.length],stroke:Z[R%Z.length]}},h=function(f){return f?f.trim()[0].toUpperCase():"?"}},6665:function(b,m,a){a.d(m,{dd:function(){return U},mQ:function(){return T},uR:function(){return A},vQ:function(){return Ee},vt:function(){return je},wx:function(){return Se}});var v=a(7169),E=a(8950),h=a(2975),f=a.n(h),D=a(4162),k=a(5674),R=a(2335),d=a(1974),Z=a(6340);function B(M,C){var g=Object.keys(M);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(M);C&&(l=l.filter(function(w){return Object.getOwnPropertyDescriptor(M,w).enumerable})),g.push.apply(g,l)}return g}function ee(M){for(var C=1;C<arguments.length;C++){var g=arguments[C]!=null?arguments[C]:{};C%2?B(Object(g),!0).forEach(function(l){(0,v.Z)(M,l,g[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(M,Object.getOwnPropertyDescriptors(g)):B(Object(g)).forEach(function(l){Object.defineProperty(M,l,Object.getOwnPropertyDescriptor(g,l))})}return M}var he="",N=!1,ke="clipboard"in navigator&&"readText"in navigator.clipboard,Se="clipboard"in navigator&&"writeText"in navigator.clipboard,je="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,we=function(M){return!(![R.r8.excalidraw,R.r8.excalidrawClipboard].includes(M==null?void 0:M.type)||!Array.isArray(M.elements))},Ee=function(){var M=(0,E.Z)(f().mark(function C(g,l,w){var y,S;return f().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return y={type:R.r8.excalidrawClipboard,elements:g,files:w?g.reduce(function(J,de){return(0,d.wi)(de)&&w[de.fileId]&&(J[de.fileId]=w[de.fileId]),J},{}):void 0},S=JSON.stringify(y),he=S,_.prev=3,N=!1,_.next=7,U(S);case 7:_.next=13;break;case 9:_.prev=9,_.t0=_.catch(3),N=!0,console.error(_.t0);case 13:case"end":return _.stop()}},C,null,[[3,9]])}));return function(C,g,l){return M.apply(this,arguments)}}(),Me=function(){if(!he)return{};try{return JSON.parse(he)}catch(M){return console.error(M),{}}},z=function(M){var C=(0,k.dz)(M);return C.type===k.i$?{spreadsheet:C.spreadsheet}:null},re=function(){var M=(0,E.Z)(f().mark(function C(g){var l,w;return f().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(y.prev=0,!g){y.next=5;break}y.t0=(l=g.clipboardData)===null||l===void 0?void 0:l.getData("text/plain"),y.next=11;break;case 5:if(y.t1=ke,!y.t1){y.next=10;break}return y.next=9,navigator.clipboard.readText();case 9:y.t1=y.sent;case 10:y.t0=y.t1;case 11:return w=y.t0,y.abrupt("return",(w||"").trim());case 15:return y.prev=15,y.t2=y.catch(0),y.abrupt("return","");case 18:case"end":return y.stop()}},C,null,[[0,15]])}));return function(C){return M.apply(this,arguments)}}(),T=function(){var M=(0,E.Z)(f().mark(function C(g){var l,w,y,S,_,J=arguments;return f().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return l=J.length>1&&J[1]!==void 0&&J[1],de.next=3,re(g);case 3:if((w=de.sent)&&(l||!w.includes(D.oj))){de.next=6;break}return de.abrupt("return",Me());case 6:if(!(y=!l&&z(w))){de.next=9;break}return de.abrupt("return",y);case 9:if(S=Me(),de.prev=10,_=JSON.parse(w),!we(_)){de.next=14;break}return de.abrupt("return",{elements:_.elements,files:_.files,text:l?JSON.stringify(_.elements,null,2):void 0});case 14:de.next=18;break;case 16:de.prev=16,de.t0=de.catch(10);case 18:return de.abrupt("return",N&&S.elements?ee(ee({},S),{},{text:l?JSON.stringify(S.elements,null,2):void 0}):{text:w});case 19:case"end":return de.stop()}},C,null,[[10,16]])}));return function(C){return M.apply(this,arguments)}}(),A=function(){var M=(0,E.Z)(f().mark(function C(g){return f().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.prev=0,l.next=3,navigator.clipboard.write([new window.ClipboardItem((0,v.Z)({},R.LO.png,g))]);case 3:case 21:l.next=24;break;case 5:if(l.prev=5,l.t0=l.catch(0),!(0,Z.y8)(g)){l.next=23;break}return l.t1=navigator.clipboard,l.t2=window.ClipboardItem,l.t3=v.Z,l.t4={},l.t5=R.LO.png,l.next=15,g;case 15:return l.t6=l.sent,l.t7=(0,l.t3)(l.t4,l.t5,l.t6),l.t8=new l.t2(l.t7),l.t9=[l.t8],l.next=21,l.t1.write.call(l.t1,l.t9);case 23:throw l.t0;case 24:case"end":return l.stop()}},C,null,[[0,5]])}));return function(C){return M.apply(this,arguments)}}(),U=function(){var M=(0,E.Z)(f().mark(function C(g){var l;return f().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(l=!1,!Se){w.next=11;break}return w.prev=2,w.next=5,navigator.clipboard.writeText(g||"");case 5:l=!0,w.next=11;break;case 8:w.prev=8,w.t0=w.catch(2),console.error(w.t0);case 11:if(l||P(g||" ")){w.next=13;break}throw new Error("couldn't copy");case 13:case"end":return w.stop()}},C,null,[[2,8]])}));return function(C){return M.apply(this,arguments)}}(),P=function(M){var C=document.documentElement.getAttribute("dir")==="rtl",g=document.createElement("textarea");g.style.border="0",g.style.padding="0",g.style.margin="0",g.style.position="absolute",g.style[C?"right":"left"]="-9999px";var l=window.pageYOffset||document.documentElement.scrollTop;g.style.top="".concat(l,"px"),g.style.fontSize="12pt",g.setAttribute("readonly",""),g.value=M,document.body.appendChild(g);var w=!1;try{g.select(),g.setSelectionRange(0,g.value.length),w=document.execCommand("copy")}catch(y){console.error(y)}return g.remove(),w}},56:function(b,m,a){var v=a(1930),E=a(5284),h=function(f){return[E.red[f],E.pink[f],E.grape[f],E.violet[f],E.indigo[f],E.blue[f],E.cyan[f],E.teal[f],E.green[f],E.lime[f],E.yellow[f],E.orange[f]]};m.Z={canvasBackground:[E.white,E.gray[0],E.gray[1]].concat((0,v.Z)(h(0))),elementBackground:["transparent",E.gray[4],E.gray[6]].concat((0,v.Z)(h(6))),elementStroke:[E.black,E.gray[8],E.gray[7]].concat((0,v.Z)(h(9)))}},6798:function(b,m,a){a.d(m,{o:function(){return Z},w:function(){return d}});var v=a(2577),E=a(4739),h=a(5654),f=a(8211),D=a(4206),k=a(7046),R=a(4512),d=(0,E.cn)(null),Z=function(){var B=(0,E.KO)(d),ee=(0,v.Z)(B,2),he=ee[0],N=ee[1],ke=(0,D.eh)();return he&&he==="clearCanvas"?(0,R.jsx)(k.Z,{onConfirm:function(){ke.executeAction(h.mo),N(null)},onCancel:function(){return N(null)},title:(0,f.t)("clearCanvasDialog.title"),children:(0,R.jsxs)("p",{className:"clear-canvas__content",children:[" ",(0,f.t)("alerts.clearReset")]})}):null}},4206:function(b,m,a){a.d(m,{ZP:function(){return Rk},Fy:function(){return Va},eh:function(){return Lk},gF:function(){return Fg},J0:function(){return cp},bd:function(){return up},n9:function(){return dp}});var v=a(6655),E=a(2577),h=a(1930),f=a(8950),D=a(8821),k=a(5169),R=a(3173),d=a(2248),Z=a(7245),B=a(2312),ee=a(7169),he=a(2975),N=a.n(he),ke=a(9787),Se=a.n(ke),je=a(5156),we=a(8234),Ee=a(45),Me=a(5605),z=a(5654),re=a(3646),T=a(1319),A=a(8211),U=a(6066),P=a(1935),M=a(8290),C=a(6340),g=a(2335),l=a(4512);function w(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}function y(p){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?w(Object(ce),!0).forEach(function(xe){(0,ee.Z)(p,xe,ce[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(ce)):w(Object(ce)).forEach(function(xe){Object.defineProperty(p,xe,Object.getOwnPropertyDescriptor(ce,xe))})}return p}var S=function(p,W,ce){var xe=!1;if(!(W.multiElement||W.resizingElement||W.editingElement||W.draggingElement)){var Ne=ce();if(Ne===null)return{commitToHistory:xe};var ge=(0,C.xn)(p),ne=Ne.elements,Ie=(0,C.xn)(ne),Le=p.filter(function(Ke){return!Ie.has(Ke.id)}),He=ne.map(function(Ke){return(0,P.BE)(ge.get(Ke.id)||Ke,Ke)}).concat(Le.map(function(Ke){return(0,P.BE)(Ke,{isDeleted:!0})}));return(0,M.$q)(He,Le),{elements:He,appState:y(y({},W),Ne.appState),commitToHistory:xe,syncHistory:!0}}return{commitToHistory:xe}},_=a(7047),J=function(p,W,ce,xe,Ne,ge){if(p.trackEvent)try{(0,v.Z)(p.trackEvent)==="object"&&(!p.trackEvent.predicate||p.trackEvent.predicate(ce,xe,ge))&&(0,_.L)(p.trackEvent.category,p.trackEvent.action||p.name,"".concat(W," (").concat(Ne.device.isMobile?"mobile":"desktop",")"))}catch(ne){console.error("error while logging action:",ne)}},de=function(){function p(W,ce,xe,Ne){var ge=this;(0,D.Z)(this,p),this.actions={},this.renderAction=function(ne,Ie){var Le=ge.app.props.UIOptions.canvasActions;if(ge.actions[ne]&&"PanelComponent"in ge.actions[ne]&&(!(ne in Le)||Le[ne])){var He=ge.actions[ne],Ke=He.PanelComponent;Ke.displayName="PanelComponent";var Ye=ge.getElementsIncludingDeleted(),Xe=ge.getAppState();return(0,l.jsx)(Ke,{elements:ge.getElementsIncludingDeleted(),appState:ge.getAppState(),updateData:function(st){J(He,"ui",Xe,Ye,ge.app,st),ge.updater(He.perform(ge.getElementsIncludingDeleted(),ge.getAppState(),st,ge.app))},appProps:ge.app.props,data:Ie})}return null},this.isActionEnabled=function(ne){var Ie=ge.getElementsIncludingDeleted(),Le=ge.getAppState();return!ne.predicate||ne.predicate(Ie,Le,ge.app.props,ge.app)},this.updater=function(ne){if(!ne||!("then"in ne))return W(ne);ne.then(function(Ie){return W(Ie)})},this.getAppState=ce,this.getElementsIncludingDeleted=xe,this.app=Ne}return(0,k.Z)(p,[{key:"registerAction",value:function(W){this.actions[W.name]=W}},{key:"registerAll",value:function(W){var ce=this;W.forEach(function(xe){return ce.registerAction(xe)})}},{key:"handleKeyDown",value:function(W){var ce=this,xe=this.app.props.UIOptions.canvasActions,Ne=Object.values(this.actions).sort(function(Le,He){return(He.keyPriority||0)-(Le.keyPriority||0)}).filter(function(Le){return(!(Le.name in xe)||xe[Le.name])&&Le.keyTest&&Le.keyTest(W,ce.getAppState(),ce.getElementsIncludingDeleted())});if(Ne.length!==1)return Ne.length>1&&console.warn("Canceling as multiple actions match this shortcut",Ne),!1;var ge=Ne[0];if(this.getAppState().viewModeEnabled&&ge.viewMode!==!0)return!1;var ne=this.getElementsIncludingDeleted(),Ie=this.getAppState();return J(ge,"keyboard",Ie,ne,this.app,null),W.preventDefault(),W.stopPropagation(),this.updater(Ne[0].perform(ne,Ie,null,this.app)),!0}},{key:"executeAction",value:function(W){var ce=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"api",xe=this.getElementsIncludingDeleted(),Ne=this.getAppState(),ge=null;J(W,ce,Ne,xe,this.app,ge),this.updater(W.perform(xe,Ne,ge,this.app))}}]),p}(),ve=a(7901),ie=a(8897),$=a(6665),De=a(9485),pe=a(7053),ae=a(679),j=a(1047),V=a(6938),oe=a(2791),G=a(1974),ye=function(p){var W=Array.from(p.values());return{x:H(W,function(ce){return ce.x})/W.length,y:H(W,function(ce){return ce.y})/W.length}},K=function(p){var W=(0,E.Z)(p,2),ce=W[0],xe=W[1];return Math.hypot(ce.x-xe.x,ce.y-xe.y)},H=function(p,W){return p.reduce(function(ce,xe){return ce+W(xe)},0)},L=a(242);function I(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}function F(p){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?I(Object(ce),!0).forEach(function(xe){(0,ee.Z)(p,xe,ce[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(ce)):I(Object(ce)).forEach(function(xe){Object.defineProperty(p,xe,Object.getOwnPropertyDescriptor(ce,xe))})}return p}var X=function(p){return{selectedElementIds:p.selectedElementIds,selectedGroupIds:p.selectedGroupIds,viewBackgroundColor:p.viewBackgroundColor,editingLinearElement:p.editingLinearElement,editingGroupId:p.editingGroupId,name:p.name}},le=function(){function p(){var W=this;(0,D.Z)(this,p),this.elementCache=new Map,this.recording=!0,this.stateHistory=[],this.redoStack=[],this.lastEntry=null,this.generateEntry=function(ce,xe){return W.dehydrateHistoryEntry({appState:X(ce),elements:xe.reduce(function(Ne,ge){if((0,G.bt)(ge)&&ce.multiElement&&ce.multiElement.id===ge.id){if(ce.multiElement&&ce.multiElement.id===ge.id&&ge.points.length<2)return Ne;Ne.push(F(F({},ge),{},{points:ge.lastCommittedPoint!==ge.points[ge.points.length-1]?ge.points.slice(0,-1):ge.points}))}else Ne.push(ge);return Ne},[])})}}return(0,k.Z)(p,[{key:"hydrateHistoryEntry",value:function(W){var ce=this,xe=W.appState,Ne=W.elements;return{appState:JSON.parse(xe),elements:Ne.map(function(ge){var ne,Ie=(ne=ce.elementCache.get(ge.id))===null||ne===void 0?void 0:ne.get(ge.versionNonce);if(!Ie)throw new Error("Element not found: ".concat(ge.id,":").concat(ge.versionNonce));return Ie})}}},{key:"dehydrateHistoryEntry",value:function(W){var ce=this,xe=W.appState,Ne=W.elements;return{appState:JSON.stringify(xe),elements:Ne.map(function(ge){ce.elementCache.has(ge.id)||ce.elementCache.set(ge.id,new Map);var ne=ce.elementCache.get(ge.id);return ne.has(ge.versionNonce)||ne.set(ge.versionNonce,(0,oe.OL)(ge)),{id:ge.id,versionNonce:ge.versionNonce}})}}},{key:"getSnapshotForTest",value:function(){var W=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(ce){return W.hydrateHistoryEntry(ce)}),redoStack:this.redoStack.map(function(ce){return W.hydrateHistoryEntry(ce)})}}},{key:"clear",value:function(){this.stateHistory.length=0,this.redoStack.length=0,this.lastEntry=null,this.elementCache.clear()}},{key:"shouldCreateEntry",value:function(W){var ce,xe=this.lastEntry;if(!xe||W.elements.length!==xe.elements.length)return!0;for(var Ne=W.elements.length-1;Ne>-1;Ne--){var ge=W.elements[Ne],ne=xe.elements[Ne];if(!ge||!ne||ge.id!==ne.id||ge.versionNonce!==ne.versionNonce)return!0}for(ce in W.appState){var Ie,Le;if(!(ce==="editingLinearElement"&&((Ie=W.appState[ce])===null||Ie===void 0?void 0:Ie.elementId)===((Le=xe.appState[ce])===null||Le===void 0?void 0:Le.elementId))&&ce!=="selectedElementIds"&&ce!=="selectedGroupIds"&&W.appState[ce]!==xe.appState[ce])return!0}return!1}},{key:"pushEntry",value:function(W,ce){var xe=this.generateEntry(W,ce),Ne=this.hydrateHistoryEntry(xe);if(Ne){if(!this.shouldCreateEntry(Ne))return;this.stateHistory.push(xe),this.lastEntry=Ne,this.clearRedoStack()}}},{key:"clearRedoStack",value:function(){this.redoStack.splice(0,this.redoStack.length)}},{key:"redoOnce",value:function(){if(this.redoStack.length===0)return null;var W=this.redoStack.pop();return W!==void 0?(this.stateHistory.push(W),this.hydrateHistoryEntry(W)):null}},{key:"undoOnce",value:function(){if(this.stateHistory.length===1)return null;var W=this.stateHistory.pop(),ce=this.stateHistory[this.stateHistory.length-1];return W!==void 0?(this.redoStack.push(W),this.hydrateHistoryEntry(ce)):null}},{key:"setCurrentState",value:function(W,ce){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(W,ce))}},{key:"resumeRecording",value:function(){this.recording=!0}},{key:"record",value:function(W,ce){this.recording&&(this.pushEntry(W,ce),this.recording=!1)}}]),p}(),q=a(6552),Ce=a(3547),te=a(3063),me=a(75),Re=a(1564),Be=a(746),Q=[{icon:re.zu,value:"selection",key:U.tW.V,numericKey:U.tW[1],fillable:!0},{icon:re.OW,value:"rectangle",key:U.tW.R,numericKey:U.tW[2],fillable:!0},{icon:re.nb,value:"diamond",key:U.tW.D,numericKey:U.tW[3],fillable:!0},{icon:re.Re,value:"ellipse",key:U.tW.O,numericKey:U.tW[4],fillable:!0},{icon:re.e0,value:"arrow",key:U.tW.A,numericKey:U.tW[5],fillable:!0},{icon:re.zb,value:"line",key:U.tW.L,numericKey:U.tW[6],fillable:!0},{icon:re.Pm,value:"freedraw",key:[U.tW.P,U.tW.X],numericKey:U.tW[7],fillable:!1},{icon:re.VL,value:"text",key:U.tW.T,numericKey:U.tW[8],fillable:!1},{icon:re.XB,value:"image",key:null,numericKey:U.tW[9],fillable:!1},{icon:re.$q,value:"eraser",key:U.tW.E,numericKey:U.tW[0],fillable:!1}],se=a(2891),ue=a(487),_e=a.n(ue),Ze=a(631),Ge=a.n(Ze),tt=a(2052),lt=a.n(tt),nt=a(4010),qe=a.n(nt),Ve=a(1469),be=a.n(Ve),Te=a(9329),Ae=a.n(Te),Pe=a(6578),We={};We.styleTagTransform=Ae(),We.setAttributes=qe(),We.insert=lt().bind(null,"head"),We.domAPI=Ge(),We.insertStyleElement=be(),_e()(Pe.Z,We),Pe.Z&&Pe.Z.locals&&Pe.Z.locals;var Ue=a(785),Je="separator",et=Se().memo(function(p){var W=p.actionManager,ce=p.items,xe=p.top,Ne=p.left,ge=Fg(),ne=dp(),Ie=up(),Le=ce.reduce(function(He,Ke){return!Ke||Ke!==Je&&Ke.predicate&&!Ke.predicate(Ie,ge,W.app.props,W.app)||He.push(Ke),He},[]);return(0,l.jsx)(se.J,{onCloseRequest:function(){return ne({contextMenu:null})},top:xe,left:Ne,fitInViewport:!0,offsetLeft:ge.offsetLeft,offsetTop:ge.offsetTop,viewportWidth:ge.width,viewportHeight:ge.height,children:(0,l.jsx)("ul",{className:"context-menu",onContextMenu:function(He){return He.preventDefault()},children:Le.map(function(He,Ke){var Ye;if(He===Je)return Le[Ke-1]&&Le[Ke-1]!==Je?(0,l.jsx)("hr",{className:"context-menu-item-separator"},Ke):null;var Xe=He.name,st="";return He.contextItemLabel&&(st=typeof He.contextItemLabel=="function"?(0,A.t)(He.contextItemLabel(Ie,ge)):(0,A.t)(He.contextItemLabel)),(0,l.jsx)("li",{"data-testid":Xe,onClick:function(){ne({contextMenu:null},function(){W.executeAction(He,"contextMenu")})},children:(0,l.jsxs)("button",{className:(0,Ee.Z)("context-menu-item",{dangerous:Xe==="deleteSelectedElements",checkmark:(Ye=He.checked)===null||Ye===void 0?void 0:Ye.call(He,ge)}),children:[(0,l.jsx)("div",{className:"context-menu-item__label",children:st}),(0,l.jsx)("kbd",{className:"context-menu-item__shortcut",children:Xe?(0,Ue.C)(Xe):""})]})},Ke)})})})}),Qe=a(2726),it=a(7239),ft=a(8120),yt=a(6086),ut={};ut.styleTagTransform=Ae(),ut.setAttributes=qe(),ut.insert=lt().bind(null,"head"),ut.domAPI=Ge(),ut.insertStyleElement=be(),_e()(yt.Z,ut),yt.Z&&yt.Z.locals&&yt.Z.locals;var pt=a(1894),wt=a(5710);function zt(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}function Yt(p){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?zt(Object(ce),!0).forEach(function(xe){(0,ee.Z)(p,xe,ce[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(ce)):zt(Object(ce)).forEach(function(xe){Object.defineProperty(p,xe,Object.getOwnPropertyDescriptor(ce,xe))})}return p}function Ht(p,W){var ce=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!ce){if(Array.isArray(p)||(ce=function(Le,He){if(Le){if(typeof Le=="string")return It(Le,He);var Ke=Object.prototype.toString.call(Le).slice(8,-1);if(Ke==="Object"&&Le.constructor&&(Ke=Le.constructor.name),Ke==="Map"||Ke==="Set")return Array.from(Le);if(Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke))return It(Le,He)}}(p))||W&&p&&typeof p.length=="number"){ce&&(p=ce);var xe=0,Ne=function(){};return{s:Ne,n:function(){return xe>=p.length?{done:!0}:{done:!1,value:p[xe++]}},e:function(Le){throw Le},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,ne=!0,Ie=!1;return{s:function(){ce=ce.call(p)},n:function(){var Le=ce.next();return ne=Le.done,Le},e:function(Le){Ie=!0,ge=Le},f:function(){try{ne||ce.return==null||ce.return()}finally{if(Ie)throw ge}}}}function It(p,W){(W==null||W>p.length)&&(W=p.length);for(var ce=0,xe=new Array(W);ce<W;ce++)xe[ce]=p[ce];return xe}var _t=function(p){var W,ce=p.appState,xe=p.elements,Ne=p.renderAction,ge=(0,me.Zs)((0,j.Lm)(xe),ce),ne=!1;ge.length===2&&((0,G.Xo)(ge[0])||(0,G.Xo)(ge[1]))&&(ne=!0);var Ie,Le=Boolean(ce.editingElement),He=Va(),Ke=document.documentElement.getAttribute("dir")==="rtl",Ye=(0,me.$b)(ce.activeTool.type)||ge.some(function(Ot){return(0,me.$b)(Ot.type)&&!(0,C.Qm)(Ot.backgroundColor)}),Xe=(0,me.$b)(ce.activeTool.type)||ge.some(function(Ot){return(0,me.$b)(Ot.type)}),st=ge.length===1||ne,ct=((W=ge[0])===null||W===void 0?void 0:W.type)||null,at=Ht(ge);try{for(at.s();!(Ie=at.n()).done;)if(Ie.value.type!==ct){ct=null;break}}catch(Ot){at.e(Ot)}finally{at.f()}return(0,l.jsxs)("div",{className:"panelColumn",children:[(0,l.jsx)("div",{children:((0,ft.PD)(ce.activeTool.type)&&ce.activeTool.type!=="image"&&ct!=="image"||ge.some(function(Ot){return(0,ft.PD)(Ot.type)}))&&Ne("changeStrokeColor")}),Xe&&(0,l.jsx)("div",{children:Ne("changeBackgroundColor")}),Ye&&Ne("changeFillStyle"),((0,me.Zd)(ce.activeTool.type)||ge.some(function(Ot){return(0,me.Zd)(Ot.type)}))&&Ne("changeStrokeWidth"),(ce.activeTool.type==="freedraw"||ge.some(function(Ot){return Ot.type==="freedraw"}))&&Ne("changeStrokeShape"),((0,me.M9)(ce.activeTool.type)||ge.some(function(Ot){return(0,me.M9)(Ot.type)}))&&(0,l.jsxs)(l.Fragment,{children:[Ne("changeStrokeStyle"),Ne("changeSloppiness")]}),((0,me.sh)(ce.activeTool.type)||ge.some(function(Ot){return(0,me.sh)(Ot.type)}))&&(0,l.jsx)(l.Fragment,{children:Ne("changeRoundness")}),((0,me.bZ)(ce.activeTool.type)||ge.some(function(Ot){return(0,me.bZ)(Ot.type)}))&&(0,l.jsxs)(l.Fragment,{children:[Ne("changeFontSize"),Ne("changeFontFamily"),Ne("changeTextAlign")]}),(0,wt.cn)(ge)&&Ne("changeVerticalAlign"),((0,me.Un)(ce.activeTool.type)||ge.some(function(Ot){return(0,me.Un)(Ot.type)}))&&(0,l.jsx)(l.Fragment,{children:Ne("changeArrowhead")}),Ne("changeOpacity"),(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,A.t)("labels.layers")}),(0,l.jsxs)("div",{className:"buttonList",children:[Ne("sendToBack"),Ne("sendBackward"),Ne("bringToFront"),Ne("bringForward")]})]}),ge.length>1&&!ne&&(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,A.t)("labels.align")}),(0,l.jsxs)("div",{className:"buttonList",children:[Ke?(0,l.jsxs)(l.Fragment,{children:[Ne("alignRight"),Ne("alignHorizontallyCentered"),Ne("alignLeft")]}):(0,l.jsxs)(l.Fragment,{children:[Ne("alignLeft"),Ne("alignHorizontallyCentered"),Ne("alignRight")]}),ge.length>2&&Ne("distributeHorizontally"),(0,l.jsx)("div",{style:{flexBasis:"100%",height:0}}),(0,l.jsxs)("div",{style:{display:"flex",flexWrap:"wrap",gap:".5rem",marginTop:"-0.5rem"},children:[Ne("alignTop"),Ne("alignVerticallyCentered"),Ne("alignBottom"),ge.length>2&&Ne("distributeVertically")]})]})]}),!Le&&ge.length>0&&(0,l.jsxs)("fieldset",{children:[(0,l.jsx)("legend",{children:(0,A.t)("labels.actions")}),(0,l.jsxs)("div",{className:"buttonList",children:[!He.isMobile&&Ne("duplicateSelection"),!He.isMobile&&Ne("deleteSelectedElements"),Ne("group"),Ne("ungroup"),st&&Ne("hyperlink")]})]})]})},Ct=function(p){var W=p.canvas,ce=p.activeTool,xe=p.setAppState,Ne=p.onImageAction,ge=p.appState;return(0,l.jsx)(l.Fragment,{children:Q.map(function(ne,Ie){var Le=ne.value,He=ne.icon,Ke=ne.key,Ye=ne.numericKey,Xe=ne.fillable,st=(0,A.t)("toolBar.".concat(Le)),ct=Ke&&(0,C.Oo)(typeof Ke=="string"?Ke:Ke[0]),at=ct?"".concat(ct," ").concat((0,A.t)("helpDialog.or")," ").concat(Ye):"".concat(Ye);return(0,l.jsx)(T.V,{className:(0,Ee.Z)("Shape",{fillable:Xe}),type:"radio",icon:He,checked:ce.type===Le,name:"editor-current-shape",title:"".concat((0,C.Oo)(st),"  ").concat(at),keyBindingLabel:Ye||ct,"aria-label":(0,C.Oo)(st),"aria-keyshortcuts":at,"data-testid":"toolbar-".concat(Le),onPointerDown:function(Ot){var bt=Ot.pointerType;ge.penDetected||bt!=="pen"||xe({penDetected:!0,penMode:!0})},onChange:function(Ot){var bt=Ot.pointerType;ge.activeTool.type!==Le&&(0,_.L)("toolbar",Le,"ui");var Rt=(0,C.Om)(ge,{type:Le});xe({activeTool:Rt,multiElement:null,selectedElementIds:{}}),(0,C.Uk)(W,Yt(Yt({},ge),{},{activeTool:Rt})),Le==="image"&&Ne({pointerType:bt})}},Le)})})},Bt=function(p){var W=p.renderAction;return p.zoom,(0,l.jsx)(it.Z.Col,{gap:1,className:"zoom-actions",children:(0,l.jsxs)(it.Z.Row,{align:"center",children:[W("zoomOut"),W("resetZoom"),W("zoomIn")]})})},hn=function(p){var W=p.renderAction,ce=p.className;return(0,l.jsxs)("div",{className:"undo-redo-buttons ".concat(ce),children:[(0,l.jsx)("div",{className:"undo-button-container",children:(0,l.jsx)(pt.u,{label:(0,A.t)("buttons.undo"),children:W("undo")})}),(0,l.jsx)("div",{className:"redo-button-container",children:(0,l.jsxs)(pt.u,{label:(0,A.t)("buttons.redo"),children:[" ",W("redo")]})})]})},wn=function(p){var W=p.actionManager,ce=p.showExitZenModeBtn;return(0,l.jsx)("button",{className:(0,Ee.Z)("disable-zen-mode",{"disable-zen-mode--visible":ce}),onClick:function(){return W.executeAction(z.JN)},children:(0,A.t)("buttons.exitZenMode")})},Vt=function(p){var W=p.renderAction,ce=p.className;return(0,l.jsx)("div",{className:"finalize-button ".concat(ce),children:W("finalize",{size:"small"})})},Qt=a(8396),$e=function(p){var W=p.message,ce=p.onClose,xe=(0,ke.useState)(!!W),Ne=(0,E.Z)(xe,2),ge=Ne[0],ne=Ne[1],Ie=cp().container,Le=Se().useCallback(function(){ne(!1),ce&&ce(),Ie==null||Ie.focus()},[ce,Ie]);return(0,l.jsx)(l.Fragment,{children:ge&&(0,l.jsx)(Qt.V,{small:!0,onCloseRequest:Le,title:(0,A.t)("errorDialog.title"),children:(0,l.jsx)("div",{style:{whiteSpace:"pre-wrap"},children:W})})})},rt=a(434),gt=a(4162),vt=a(7955),St={};St.styleTagTransform=Ae(),St.setAttributes=qe(),St.insert=lt().bind(null,"head"),St.domAPI=Ge(),St.insertStyleElement=be(),_e()(vt.Z,St),vt.Z&&vt.Z.locals&&vt.Z.locals;var At=a(5284),Zt=a(3807),Wt=a(1393),en="filter"in document.createElement("canvas").getContext("2d"),sn=function(){return(0,l.jsxs)("div",{children:[(0,l.jsx)("h3",{children:(0,A.t)("canvasError.cannotShowPreview")}),(0,l.jsx)("p",{children:(0,l.jsx)("span",{children:(0,A.t)("canvasError.canvasTooBig")})}),(0,l.jsxs)("em",{children:["(",(0,A.t)("canvasError.canvasTooBigTip"),")"]})]})},Jt=function(p){var W,ce=p.children,xe=p.title,Ne=p.onClick,ge=p.color,ne=p.shade,Ie=ne===void 0?6:ne;return(0,l.jsx)("button",{className:"ExportDialog-imageExportButton",style:(W={},(0,ee.Z)(W,"--button-color",At[ge][Ie]),(0,ee.Z)(W,"--button-color-darker",At[ge][Ie+1]),(0,ee.Z)(W,"--button-color-darkest",At[ge][Ie+2]),W),title:xe,"aria-label":xe,onClick:Ne,children:ce})},kn=function(p){var W=p.elements,ce=p.appState,xe=p.files,Ne=p.exportPadding,ge=Ne===void 0?g.qy:Ne,ne=p.actionManager,Ie=p.onExportToPng,Le=p.onExportToSvg,He=p.onExportToClipboard,Ke=(0,me.N)(W,ce),Ye=(0,ke.useState)(Ke),Xe=(0,E.Z)(Ye,2),st=Xe[0],ct=Xe[1],at=(0,ke.useRef)(null),Ot=ce.exportBackground,bt=ce.viewBackgroundColor,Rt=(0,ke.useState)(null),mt=(0,E.Z)(Rt,2),on=mt[0],$t=mt[1],Gt=st?(0,me.eD)(W,ce,!0):W;return(0,ke.useEffect)(function(){ct(Ke)},[Ke]),(0,ke.useEffect)(function(){var cn=at.current;cn&&(0,gt.NL)(Gt,ce,xe,{exportBackground:Ot,viewBackgroundColor:bt,exportPadding:ge}).then(function(Nt){return $t(null),(0,rt._c)(Nt).then(function(){cn.replaceChildren(Nt)})}).catch(function(Nt){console.error(Nt),$t(Nt)})},[ce,xe,Gt,Ot,ge,bt]),(0,l.jsxs)("div",{className:"ExportDialog",children:[(0,l.jsx)("div",{className:"ExportDialog__preview",ref:at,children:on&&(0,l.jsx)(sn,{})}),en&&ne.renderAction("exportWithDarkMode"),(0,l.jsx)("div",{style:{display:"grid",gridTemplateColumns:"1fr"},children:(0,l.jsxs)("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(190px, 1fr))",overflow:"hidden"},children:[ne.renderAction("changeExportBackground"),Ke&&(0,l.jsx)(Zt.o,{checked:st,onChange:function(cn){return ct(cn)},children:(0,A.t)("labels.onlySelected")}),ne.renderAction("changeExportEmbedScene")]})}),(0,l.jsxs)("div",{style:{display:"flex",alignItems:"center",marginTop:".6em"},children:[(0,l.jsx)(it.Z.Row,{gap:2,children:ne.renderAction("changeExportScale")}),(0,l.jsx)("p",{style:{marginLeft:"1em",userSelect:"none"},children:(0,A.t)("buttons.scale")})]}),(0,l.jsx)("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",margin:".6em 0"},children:!Wt.kr&&ne.renderAction("changeProjectName")}),(0,l.jsxs)(it.Z.Row,{gap:2,justifyContent:"center",style:{margin:"2em 0"},children:[(0,l.jsx)(Jt,{color:"indigo",title:(0,A.t)("buttons.exportToPng"),"aria-label":(0,A.t)("buttons.exportToPng"),onClick:function(){return Ie(Gt)},children:"PNG"}),(0,l.jsx)(Jt,{color:"red",title:(0,A.t)("buttons.exportToSvg"),"aria-label":(0,A.t)("buttons.exportToSvg"),onClick:function(){return Le(Gt)},children:"SVG"}),($.vt||g.vU)&&(0,l.jsx)(Jt,{title:(0,A.t)("buttons.copyPngToClipboard"),onClick:function(){return He(Gt)},color:"gray",shade:7,children:re.BR})]})]})},Nn=function(p){var W=p.elements,ce=p.appState,xe=p.setAppState,Ne=p.files,ge=p.exportPadding,ne=ge===void 0?g.qy:ge,Ie=p.actionManager,Le=p.onExportToPng,He=p.onExportToSvg,Ke=p.onExportToClipboard,Ye=Se().useCallback(function(){xe({openDialog:null})},[xe]);return(0,l.jsx)(l.Fragment,{children:ce.openDialog==="imageExport"&&(0,l.jsx)(Qt.V,{onCloseRequest:Ye,title:(0,A.t)("buttons.exportImage"),children:(0,l.jsx)(kn,{elements:W,appState:ce,files:Ne,exportPadding:ne,actionManager:Ie,onExportToPng:Le,onExportToSvg:He,onExportToClipboard:Ke,onCloseRequest:Ye})})})},Gn=a(3195),Zn={};Zn.styleTagTransform=Ae(),Zn.setAttributes=qe(),Zn.insert=lt().bind(null,"head"),Zn.domAPI=Ge(),Zn.insertStyleElement=be(),_e()(Gn.Z,Zn),Gn.Z&&Gn.Z.locals&&Gn.Z.locals;var tn=function(p){var W=p.children,ce=p.side,xe=p.className;return(0,l.jsx)("div",{className:(0,Ee.Z)("FixedSideContainer","FixedSideContainer_side_".concat(ce),xe),children:W})},dn=a(1587),En={};En.styleTagTransform=Ae(),En.setAttributes=qe(),En.insert=lt().bind(null,"head"),En.domAPI=Ge(),En.insertStyleElement=be(),_e()(dn.Z,En),dn.Z&&dn.Z.locals&&dn.Z.locals;var Un=function(p){var W=function(ce){var xe=ce.appState,Ne=ce.elements,ge=ce.isMobile,ne=ce.device,Ie=xe.activeTool,Le=xe.isResizing,He=xe.isRotating,Ke=xe.lastPointerDownWith,Ye=xe.multiElement!==null;if(xe.openSidebar==="library"&&!ne.canDeviceFitSidebar)return null;if((0,ie.EN)(xe))return(0,A.t)("hints.eraserRevert");if(Ie.type==="arrow"||Ie.type==="line")return Ye?(0,A.t)("hints.linearElementMulti"):(0,A.t)("hints.linearElement");if(Ie.type==="freedraw")return(0,A.t)("hints.freeDraw");if(Ie.type==="text")return(0,A.t)("hints.text");if(xe.activeTool.type==="image"&&xe.pendingImageElementId)return(0,A.t)("hints.placeImage");var Xe=(0,me.eD)(Ne,xe);if(Le&&Ke==="mouse"&&Xe.length===1){var st=Xe[0];return(0,G.bt)(st)&&st.points.length===2?(0,A.t)("hints.lockAngle"):(0,G.pC)(st)?(0,A.t)("hints.resizeImage"):(0,A.t)("hints.resize")}if(He&&Ke==="mouse")return(0,A.t)("hints.rotate");if(Xe.length===1&&(0,G.iB)(Xe[0]))return(0,A.t)("hints.text_selected");if(xe.editingElement&&(0,G.iB)(xe.editingElement))return(0,A.t)("hints.text_editing");if(Ie.type==="selection"){var ct;if(((ct=xe.draggingElement)===null||ct===void 0?void 0:ct.type)==="selection"&&!xe.editingElement&&!xe.editingLinearElement)return(0,A.t)("hints.deepBoxSelect");if(!Xe.length&&!ge)return(0,A.t)("hints.canvasPanning")}if(Xe.length===1){if((0,G.bt)(Xe[0]))return xe.editingLinearElement?xe.editingLinearElement.selectedPointsIndices?(0,A.t)("hints.lineEditor_pointSelected"):(0,A.t)("hints.lineEditor_nothingSelected"):(0,A.t)("hints.lineEditor_info");if((0,G.mG)(Xe[0]))return(0,A.t)("hints.bindTextToElement")}return null}({appState:p.appState,elements:p.elements,isMobile:p.isMobile,device:p.device});return W?(W=(0,C.uY)(W),(0,l.jsx)("div",{className:"HintViewer",children:(0,l.jsx)("span",{children:W})})):null},Dr=a(1881),Ui=a(5440),Vi=(a(5422),{CHECKED:re.FC,UNCHECKED:re._C}),Ki=function(p){return(0,l.jsxs)("label",{className:(0,Ee.Z)("ToolIcon ToolIcon__lock","ToolIcon_size_".concat("medium"),{"is-mobile":p.isMobile}),title:"".concat(p.title,"  Q"),children:[(0,l.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:p.name,onChange:p.onChange,checked:p.checked,"aria-label":p.title,"data-testid":"toolbar-lock"}),(0,l.jsx)("div",{className:"ToolIcon__icon",children:p.checked?Vi.CHECKED:Vi.UNCHECKED})]})},Di=["heading","children"];function nr(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}function Io(p){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?nr(Object(ce),!0).forEach(function(xe){(0,ee.Z)(p,xe,ce[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(ce)):nr(Object(ce)).forEach(function(xe){Object.defineProperty(p,xe,Object.getOwnPropertyDescriptor(ce,xe))})}return p}var Kr=function(p){var W=p.heading,ce=p.children,xe=(0,Qe.Z)(p,Di),Ne=cp().id,ge=(0,l.jsx)("h2",{className:"visually-hidden",id:"".concat(Ne,"-").concat(W,"-title"),children:(0,A.t)("headings.".concat(W))});return(0,l.jsx)("section",Io(Io({},xe),{},{"aria-labelledby":"".concat(Ne,"-").concat(W,"-title"),children:typeof ce=="function"?ce(ge):(0,l.jsxs)(l.Fragment,{children:[ge,ce]})}))},Oi=a(756),jo=a(2316),Gi={};Gi.styleTagTransform=Ae(),Gi.setAttributes=qe(),Gi.insert=lt().bind(null,"head"),Gi.domAPI=Ge(),Gi.insertStyleElement=be(),_e()(jo.Z,Gi),jo.Z&&jo.Z.locals&&jo.Z.locals;var As=function(p){var W=p.appState,ce=p.setAppState,xe=p.isMobile,Ne=Va(),ge=!xe;return W.isSidebarDocked&&W.openSidebar==="library"?null:(0,l.jsxs)("label",{title:"".concat((0,C.Oo)((0,A.t)("toolBar.library"))),children:[(0,l.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:"editor-library",onChange:function(ne){var Ie;(Ie=document.querySelector(".layer-ui__wrapper"))===null||Ie===void 0||Ie.classList.remove("animate");var Le=ne.target.checked;ce({openSidebar:Le?"library":null}),Le&&(0,_.L)("library","toggleLibrary (open)","toolbar (".concat(Ne.isMobile?"mobile":"desktop",")"))},checked:W.openSidebar==="library","aria-label":(0,C.Oo)((0,A.t)("toolBar.library")),"aria-keyshortcuts":"0"}),(0,l.jsxs)("div",{className:"library-button",children:[(0,l.jsx)("div",{children:re.Vq}),ge&&(0,l.jsx)("div",{className:"library-button__label",children:(0,A.t)("toolBar.library")})]})]})},fe=function(p){return p.penDetected?(0,l.jsxs)("label",{className:(0,Ee.Z)("ToolIcon ToolIcon__penMode","ToolIcon_size_".concat("medium"),{"is-mobile":p.isMobile}),title:"".concat(p.title),children:[(0,l.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:p.name,onChange:p.onChange,checked:p.checked,"aria-label":p.title}),(0,l.jsx)("div",{className:"ToolIcon__icon",children:re.tb})]}):null},Oe=a(8925),ze=a(2681),Fe={};Fe.styleTagTransform=Ae(),Fe.setAttributes=qe(),Fe.insert=lt().bind(null,"head"),Fe.domAPI=Ge(),Fe.insertStyleElement=be(),_e()(ze.Z,Fe),ze.Z&&ze.Z.locals&&ze.Z.locals;var ot=function(p){var W,ce=(0,Oe.KP)(p.elements),xe=(0,me.Zs)(p.elements,p.appState),Ne=(0,Oe.KP)(xe);return(0,l.jsx)("div",{className:"Stats",children:(0,l.jsxs)(Dr.W,{padding:2,children:[(0,l.jsx)("div",{className:"close",onClick:p.onClose,children:re.Tw}),(0,l.jsx)("h3",{children:(0,A.t)("stats.title")}),(0,l.jsx)("table",{children:(0,l.jsxs)("tbody",{children:[(0,l.jsx)("tr",{children:(0,l.jsx)("th",{colSpan:2,children:(0,A.t)("stats.scene")})}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,A.t)("stats.elements")}),(0,l.jsx)("td",{children:p.elements.length})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,A.t)("stats.width")}),(0,l.jsx)("td",{children:Math.round(ce[2])-Math.round(ce[0])})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,A.t)("stats.height")}),(0,l.jsx)("td",{children:Math.round(ce[3])-Math.round(ce[1])})]}),xe.length===1&&(0,l.jsx)("tr",{children:(0,l.jsx)("th",{colSpan:2,children:(0,A.t)("stats.element")})}),xe.length>1&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("tr",{children:(0,l.jsx)("th",{colSpan:2,children:(0,A.t)("stats.selected")})}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,A.t)("stats.elements")}),(0,l.jsx)("td",{children:xe.length})]})]}),xe.length>0&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"x"}),(0,l.jsx)("td",{children:Math.round(Ne[0])})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:"y"}),(0,l.jsx)("td",{children:Math.round(Ne[1])})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,A.t)("stats.width")}),(0,l.jsx)("td",{children:Math.round(Ne[2]-Ne[0])})]}),(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,A.t)("stats.height")}),(0,l.jsx)("td",{children:Math.round(Ne[3]-Ne[1])})]})]}),xe.length===1&&(0,l.jsxs)("tr",{children:[(0,l.jsx)("td",{children:(0,A.t)("stats.angle")}),(0,l.jsx)("td",{children:"".concat(Math.round(180*xe[0].angle/Math.PI),"")})]}),(W=p.renderCustomStats)===null||W===void 0?void 0:W.call(p,p.elements,p.appState)]})})]})})},dt=function(p){return(0,l.jsx)(T.V,{className:(0,Ee.Z)("Shape",{fillable:!1}),type:"radio",icon:re.Hk,name:"editor-current-shape",checked:p.checked,title:"".concat(p.title,"  H"),keyBindingLabel:p.isMobile?void 0:U.tW.H.toLocaleUpperCase(),"aria-label":"".concat(p.title,"  H"),"aria-keyshortcuts":U.tW.H,"data-testid":"toolbar-hand",onChange:function(){var W;return(W=p.onChange)===null||W===void 0?void 0:W.call(p)}})},jt=a(8888);function Pt(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}var Et=function(p){var W=p.appState,ce=p.elements,xe=p.actionManager,Ne=p.setAppState,ge=p.onLockToggle,ne=p.onHandToolToggle,Ie=p.onPenModeToggle,Le=p.canvas,He=p.onImageAction,Ke=p.renderTopRightUI,Ye=p.renderCustomStats,Xe=p.renderSidebars,st=p.device,ct=(0,jt.R6)(),at=ct.welcomeScreenCenterTunnel,Ot=ct.mainMenuTunnel;return(0,l.jsxs)(l.Fragment,{children:[Xe(),!W.viewModeEnabled&&(0,l.jsxs)(tn,{side:"top",className:"App-top-bar",children:[(0,l.jsx)(at.Out,{}),(0,l.jsx)(Kr,{heading:"shapes",children:function(bt){return(0,l.jsx)(it.Z.Col,{gap:4,align:"center",children:(0,l.jsxs)(it.Z.Row,{gap:1,className:"App-toolbar-container",children:[(0,l.jsxs)(Dr.W,{padding:1,className:"App-toolbar App-toolbar--mobile",children:[bt,(0,l.jsx)(it.Z.Row,{gap:1,children:(0,l.jsx)(Ct,{appState:W,canvas:Le,activeTool:W.activeTool,setAppState:Ne,onImageAction:function(Rt){var mt=Rt.pointerType;He({insertOnCanvasDirectly:mt!=="mouse"})}})})]}),Ke&&Ke(!0,W),(0,l.jsxs)("div",{className:"mobile-misc-tools-container",children:[!W.viewModeEnabled&&(0,l.jsx)(As,{appState:W,setAppState:Ne,isMobile:!0}),(0,l.jsx)(fe,{checked:W.penMode,onChange:Ie,title:(0,A.t)("toolBar.penMode"),isMobile:!0,penDetected:W.penDetected}),(0,l.jsx)(Ki,{checked:W.activeTool.locked,onChange:ge,title:(0,A.t)("toolBar.lock"),isMobile:!0}),(0,l.jsx)(dt,{checked:(0,ie.l$)(W),onChange:function(){return ne()},title:(0,A.t)("toolBar.hand"),isMobile:!0})]})]})})}}),(0,l.jsx)(Un,{appState:W,elements:ce,isMobile:!0,device:st})]}),!W.openMenu&&W.showStats&&(0,l.jsx)(ot,{appState:W,setAppState:Ne,elements:ce,onClose:function(){xe.executeAction(z.u0)},renderCustomStats:Ye}),(0,l.jsx)("div",{className:"App-bottom-bar",style:{marginBottom:Oi.nn+2*Oi.WM,marginLeft:Oi.nn+2*Oi.WM,marginRight:Oi.nn+2*Oi.WM},children:(0,l.jsxs)(Dr.W,{padding:0,children:[W.openMenu==="shape"&&!W.viewModeEnabled&&(0,j.RT)(W,ce)?(0,l.jsx)(Kr,{className:"App-mobile-menu",heading:"selectedShapeActions",children:(0,l.jsx)(_t,{appState:W,elements:ce,renderAction:xe.renderAction})}):null,(0,l.jsxs)("footer",{className:"App-toolbar",children:[W.viewModeEnabled?(0,l.jsx)("div",{className:"App-toolbar-content",children:(0,l.jsx)(Ot.Out,{})}):(0,l.jsxs)("div",{className:"App-toolbar-content",children:[(0,l.jsx)(Ot.Out,{}),xe.renderAction("toggleEditMenu"),xe.renderAction("undo"),xe.renderAction("redo"),xe.renderAction(W.multiElement?"finalize":"duplicateSelection"),xe.renderAction("deleteSelectedElements")]}),W.scrolledOutside&&!W.openMenu&&W.openSidebar!=="library"&&(0,l.jsx)("button",{className:"scroll-back-to-content",onClick:function(){Ne(function(bt){for(var Rt=1;Rt<arguments.length;Rt++){var mt=arguments[Rt]!=null?arguments[Rt]:{};Rt%2?Pt(Object(mt),!0).forEach(function(on){(0,ee.Z)(bt,on,mt[on])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(mt)):Pt(Object(mt)).forEach(function(on){Object.defineProperty(bt,on,Object.getOwnPropertyDescriptor(mt,on))})}return bt}({},(0,me.W)(ce,W,Le)))},children:(0,A.t)("buttons.scrollBackToContent")})]})]})})]})},nn=a(5674),Tt=a(8461),mn={};mn.styleTagTransform=Ae(),mn.setAttributes=qe(),mn.insert=lt().bind(null,"head"),mn.domAPI=Ge(),mn.insertStyleElement=be(),_e()(Tt.Z,mn),Tt.Z&&Tt.Z.locals&&Tt.Z.locals;var On=function(p){var W=(0,ke.useRef)(null),ce=(0,ke.useState)(null),xe=(0,E.Z)(ce,2),Ne=xe[0],ge=xe[1];return(0,ke.useLayoutEffect)(function(){if(p.spreadsheet){var ne,Ie=(0,nn.ps)(p.chartType,p.spreadsheet,0,0);ge(Ie);var Le=W.current;return(0,f.Z)(N().mark(function He(){var Ke;return N().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.next=2,(0,gt.$D)(Ie,{exportBackground:!1,viewBackgroundColor:At.white},null);case 2:ne=Ye.sent,(Ke=ne.querySelector(".style-fonts"))===null||Ke===void 0||Ke.remove(),Le.replaceChildren(),Le.appendChild(ne),p.selected&&Le.parentNode.focus();case 7:case"end":return Ye.stop()}},He)}))(),function(){Le.replaceChildren()}}},[p.spreadsheet,p.chartType,p.selected]),(0,l.jsx)("button",{className:"ChartPreview",onClick:function(){Ne&&p.onClick(p.chartType,Ne)},children:(0,l.jsx)("div",{ref:W})})},fn=function(p){var W=p.setAppState,ce=p.appState,xe=p.onClose,Ne=p.onInsertChart,ge=Se().useCallback(function(){xe&&xe()},[xe]),ne=function(Ie,Le){Ne(Le),(0,_.L)("magic","chart",Ie),W({currentChartType:Ie,pasteDialog:{shown:!1,data:null}})};return(0,l.jsx)(Qt.V,{small:!0,onCloseRequest:ge,title:(0,A.t)("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1,children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)(On,{chartType:"bar",spreadsheet:ce.pasteDialog.data,selected:ce.currentChartType==="bar",onClick:ne}),(0,l.jsx)(On,{chartType:"line",spreadsheet:ce.pasteDialog.data,selected:ce.currentChartType==="line",onClick:ne})]})})},Mn=a(2978),ln={};ln.styleTagTransform=Ae(),ln.setAttributes=qe(),ln.insert=lt().bind(null,"head"),ln.domAPI=Ge(),ln.insertStyleElement=be(),_e()(Mn.Z,ln),Mn.Z&&Mn.Z.locals&&Mn.Z.locals;function Kt(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}var dr=N().mark(Ti);function sr(p,W){var ce=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!ce){if(Array.isArray(p)||(ce=function(Le,He){if(Le){if(typeof Le=="string")return Fn(Le,He);var Ke=Object.prototype.toString.call(Le).slice(8,-1);if(Ke==="Object"&&Le.constructor&&(Ke=Le.constructor.name),Ke==="Map"||Ke==="Set")return Array.from(Le);if(Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke))return Fn(Le,He)}}(p))||W&&p&&typeof p.length=="number"){ce&&(p=ce);var xe=0,Ne=function(){};return{s:Ne,n:function(){return xe>=p.length?{done:!0}:{done:!1,value:p[xe++]}},e:function(Le){throw Le},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,ne=!0,Ie=!1;return{s:function(){ce=ce.call(p)},n:function(){var Le=ce.next();return ne=Le.done,Le},e:function(Le){Ie=!0,ge=Le},f:function(){try{ne||ce.return==null||ce.return()}finally{if(Ie)throw ge}}}}function Fn(p,W){(W==null||W>p.length)&&(W=p.length);for(var ce=0,xe=new Array(W);ce<W;ce++)xe[ce]=p[ce];return xe}var Or=function(){return(0,l.jsxs)("div",{className:"HelpDialog__header",children:[(0,l.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer",children:[(0,A.t)("helpDialog.documentation"),(0,l.jsx)("div",{className:"HelpDialog__link-icon",children:re.h0})]}),(0,l.jsxs)("a",{className:"HelpDialog__btn",href:"https://blog.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:[(0,A.t)("helpDialog.blog"),(0,l.jsx)("div",{className:"HelpDialog__link-icon",children:re.h0})]}),(0,l.jsxs)("a",{className:"HelpDialog__btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer",children:[(0,A.t)("helpDialog.github"),(0,l.jsx)("div",{className:"HelpDialog__link-icon",children:re.h0})]})]})},pi=function(p){return(0,l.jsxs)(l.Fragment,{children:[(0,l.jsx)("h3",{children:p.title}),(0,l.jsx)("div",{className:"HelpDialog__islands-container",children:p.children})]})},Mi=function(p){return(0,l.jsxs)("div",{className:"HelpDialog__island ".concat(p.className),children:[(0,l.jsx)("h4",{className:"HelpDialog__island-title",children:p.caption}),(0,l.jsx)("div",{className:"HelpDialog__island-content",children:p.children})]})};function Ti(p,W){var ce,xe,Ne,ge;return N().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:ce=!0,xe=sr(p),ne.prev=2,xe.s();case 4:if((Ne=xe.n()).done){ne.next=14;break}if(ge=Ne.value,ce){ne.next=9;break}return ne.next=9,W;case 9:return ce=!1,ne.next=12,ge;case 12:ne.next=4;break;case 14:ne.next=19;break;case 16:ne.prev=16,ne.t0=ne.catch(2),xe.e(ne.t0);case 19:return ne.prev=19,xe.f(),ne.finish(19);case 22:case"end":return ne.stop()}},dr,null,[[2,16,19,22]])}var Dt=function(p){var W=p.label,ce=p.shortcuts,xe=p.isOr,Ne=xe===void 0||xe,ge=ce.map(function(ne){return(ne.endsWith("++")?[].concat((0,h.Z)(ne.slice(0,-2).split("+")),["+"]):ne.split("+")).map(function(Ie){return(0,l.jsx)(Rr,{children:(Le=Ie,Le.replace(/\b[a-z]\b/,function(He){return He.toUpperCase()}))},Ie);var Le})});return(0,l.jsxs)("div",{className:"HelpDialog__shortcut",children:[(0,l.jsx)("div",{children:W}),(0,l.jsx)("div",{className:"HelpDialog__key-container",children:(0,h.Z)(Ti(ge,Ne?(0,A.t)("helpDialog.or"):null))})]})},Rr=function(p){return(0,l.jsx)("kbd",function(W){for(var ce=1;ce<arguments.length;ce++){var xe=arguments[ce]!=null?arguments[ce]:{};ce%2?Kt(Object(xe),!0).forEach(function(Ne){(0,ee.Z)(W,Ne,xe[Ne])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(xe)):Kt(Object(xe)).forEach(function(Ne){Object.defineProperty(W,Ne,Object.getOwnPropertyDescriptor(xe,Ne))})}return W}({className:"HelpDialog__key"},p))},Yn=function(p){var W=p.onClose,ce=Se().useCallback(function(){W&&W()},[W]);return(0,l.jsx)(l.Fragment,{children:(0,l.jsxs)(Qt.V,{onCloseRequest:ce,title:(0,A.t)("helpDialog.title"),className:"HelpDialog",children:[(0,l.jsx)(Or,{}),(0,l.jsxs)(pi,{title:(0,A.t)("helpDialog.shortcuts"),children:[(0,l.jsxs)(Mi,{className:"HelpDialog__island--tools",caption:(0,A.t)("helpDialog.tools"),children:[(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.hand"),shortcuts:[U.tW.H]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.selection"),shortcuts:[U.tW.V,U.tW[1]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.rectangle"),shortcuts:[U.tW.R,U.tW[2]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.diamond"),shortcuts:[U.tW.D,U.tW[3]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.ellipse"),shortcuts:[U.tW.O,U.tW[4]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.arrow"),shortcuts:[U.tW.A,U.tW[5]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.line"),shortcuts:[U.tW.L,U.tW[6]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.freedraw"),shortcuts:[U.tW.P,U.tW[7]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.text"),shortcuts:[U.tW.T,U.tW[8]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.image"),shortcuts:[U.tW[9]]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.eraser"),shortcuts:[U.tW.E,U.tW[0]]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.editSelectedShape"),shortcuts:[(0,C.uY)("CtrlOrCmd+Enter"),(0,C.uY)("CtrlOrCmd + ".concat((0,A.t)("helpDialog.doubleClick")))]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.textNewLine"),shortcuts:[(0,C.uY)("Enter"),(0,C.uY)("Shift+Enter")]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.textFinish"),shortcuts:[(0,C.uY)("Esc"),(0,C.uY)("CtrlOrCmd+Enter")]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.curvedArrow"),shortcuts:["A",(0,A.t)("helpDialog.click"),(0,A.t)("helpDialog.click"),(0,A.t)("helpDialog.click")],isOr:!1}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.curvedLine"),shortcuts:["L",(0,A.t)("helpDialog.click"),(0,A.t)("helpDialog.click"),(0,A.t)("helpDialog.click")],isOr:!1}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.lock"),shortcuts:[U.tW.Q]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.preventBinding"),shortcuts:[(0,C.uY)("CtrlOrCmd")]}),(0,l.jsx)(Dt,{label:(0,A.t)("toolBar.link"),shortcuts:[(0,C.uY)("CtrlOrCmd+K")]})]}),(0,l.jsxs)(Mi,{className:"HelpDialog__island--view",caption:(0,A.t)("helpDialog.view"),children:[(0,l.jsx)(Dt,{label:(0,A.t)("buttons.zoomIn"),shortcuts:[(0,C.uY)("CtrlOrCmd++")]}),(0,l.jsx)(Dt,{label:(0,A.t)("buttons.zoomOut"),shortcuts:[(0,C.uY)("CtrlOrCmd+-")]}),(0,l.jsx)(Dt,{label:(0,A.t)("buttons.resetZoom"),shortcuts:[(0,C.uY)("CtrlOrCmd+0")]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.movePageUpDown"),shortcuts:["PgUp/PgDn"]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.movePageLeftRight"),shortcuts:["Shift+PgUp/PgDn"]}),(0,l.jsx)(Dt,{label:(0,A.t)("buttons.fullScreen"),shortcuts:["F"]}),(0,l.jsx)(Dt,{label:(0,A.t)("buttons.zenMode"),shortcuts:[(0,C.uY)("Alt+Z")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.showGrid"),shortcuts:[(0,C.uY)("CtrlOrCmd+'")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.viewMode"),shortcuts:[(0,C.uY)("Alt+R")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.toggleTheme"),shortcuts:[(0,C.uY)("Alt+Shift+D")]}),(0,l.jsx)(Dt,{label:(0,A.t)("stats.title"),shortcuts:[(0,C.uY)("Alt+/")]})]}),(0,l.jsxs)(Mi,{className:"HelpDialog__island--editor",caption:(0,A.t)("helpDialog.editor"),children:[(0,l.jsx)(Dt,{label:(0,A.t)("labels.selectAll"),shortcuts:[(0,C.uY)("CtrlOrCmd+A")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.multiSelect"),shortcuts:[(0,C.uY)("Shift+".concat((0,A.t)("helpDialog.click")))]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.deepSelect"),shortcuts:[(0,C.uY)("CtrlOrCmd+".concat((0,A.t)("helpDialog.click")))]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.deepBoxSelect"),shortcuts:[(0,C.uY)("CtrlOrCmd+".concat((0,A.t)("helpDialog.drag")))]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.moveCanvas"),shortcuts:[(0,C.uY)("Space+".concat((0,A.t)("helpDialog.drag"))),(0,C.uY)("Wheel+".concat((0,A.t)("helpDialog.drag")))],isOr:!0}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.cut"),shortcuts:[(0,C.uY)("CtrlOrCmd+X")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.copy"),shortcuts:[(0,C.uY)("CtrlOrCmd+C")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.paste"),shortcuts:[(0,C.uY)("CtrlOrCmd+V")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.pasteAsPlaintext"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+V")]}),($.vt||g.vU)&&(0,l.jsx)(Dt,{label:(0,A.t)("labels.copyAsPng"),shortcuts:[(0,C.uY)("Shift+Alt+C")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.copyStyles"),shortcuts:[(0,C.uY)("CtrlOrCmd+Alt+C")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.pasteStyles"),shortcuts:[(0,C.uY)("CtrlOrCmd+Alt+V")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.delete"),shortcuts:[(0,C.uY)("Delete")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.sendToBack"),shortcuts:[g.Um?(0,C.uY)("CtrlOrCmd+Alt+["):(0,C.uY)("CtrlOrCmd+Shift+[")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.bringToFront"),shortcuts:[g.Um?(0,C.uY)("CtrlOrCmd+Alt+]"):(0,C.uY)("CtrlOrCmd+Shift+]")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.sendBackward"),shortcuts:[(0,C.uY)("CtrlOrCmd+[")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.bringForward"),shortcuts:[(0,C.uY)("CtrlOrCmd+]")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.alignTop"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+Up")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.alignBottom"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+Down")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.alignLeft"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+Left")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.alignRight"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+Right")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.duplicateSelection"),shortcuts:[(0,C.uY)("CtrlOrCmd+D"),(0,C.uY)("Alt+".concat((0,A.t)("helpDialog.drag")))]}),(0,l.jsx)(Dt,{label:(0,A.t)("helpDialog.toggleElementLock"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+L")]}),(0,l.jsx)(Dt,{label:(0,A.t)("buttons.undo"),shortcuts:[(0,C.uY)("CtrlOrCmd+Z")]}),(0,l.jsx)(Dt,{label:(0,A.t)("buttons.redo"),shortcuts:g.ED?[(0,C.uY)("CtrlOrCmd+Y"),(0,C.uY)("CtrlOrCmd+Shift+Z")]:[(0,C.uY)("CtrlOrCmd+Shift+Z")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.group"),shortcuts:[(0,C.uY)("CtrlOrCmd+G")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.ungroup"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+G")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.flipHorizontal"),shortcuts:[(0,C.uY)("Shift+H")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.flipVertical"),shortcuts:[(0,C.uY)("Shift+V")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.showStroke"),shortcuts:[(0,C.uY)("S")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.showBackground"),shortcuts:[(0,C.uY)("G")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.decreaseFontSize"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+<")]}),(0,l.jsx)(Dt,{label:(0,A.t)("labels.increaseFontSize"),shortcuts:[(0,C.uY)("CtrlOrCmd+Shift+>")]})]})]})]})})},Ai=a(6773),_o=a(8671),Mr=a(4241),hi={};hi.styleTagTransform=Ae(),hi.setAttributes=qe(),hi.insert=lt().bind(null,"head"),hi.domAPI=Ge(),hi.insertStyleElement=be(),_e()(Mr.Z,hi),Mr.Z&&Mr.Z.locals&&Mr.Z.locals;var Sg=function(p){var W,ce=p.children,xe=p.color;return(0,l.jsx)("div",{className:"Card",style:(W={},(0,ee.Z)(W,"--card-color",xe==="primary"?"var(--color-primary)":At[xe][7]),(0,ee.Z)(W,"--card-color-darker",xe==="primary"?"var(--color-primary-darker)":At[xe][8]),(0,ee.Z)(W,"--card-color-darkest",xe==="primary"?"var(--color-primary-darkest)":At[xe][9]),W),children:ce})},lk=function(p){var W=p.elements,ce=p.appState,xe=p.files,Ne=p.actionManager,ge=p.exportOpts,ne=p.canvas,Ie=ge.onExportToBackend;return(0,l.jsx)("div",{className:"ExportDialog ExportDialog--json",children:(0,l.jsxs)("div",{className:"ExportDialog-cards",children:[ge.saveFileToDisk&&(0,l.jsxs)(Sg,{color:"lime",children:[(0,l.jsx)("div",{className:"Card-icon",children:re.TP}),(0,l.jsx)("h2",{children:(0,A.t)("exportDialog.disk_title")}),(0,l.jsxs)("div",{className:"Card-details",children:[(0,A.t)("exportDialog.disk_details"),!Wt.kr&&Ne.renderAction("changeProjectName")]}),(0,l.jsx)(T.V,{className:"Card-button",type:"button",title:(0,A.t)("exportDialog.disk_button"),"aria-label":(0,A.t)("exportDialog.disk_button"),showAriaLabel:!0,onClick:function(){Ne.executeAction(_o.mM,"ui")}})]}),Ie&&(0,l.jsxs)(Sg,{color:"pink",children:[(0,l.jsx)("div",{className:"Card-icon",children:re.xP}),(0,l.jsx)("h2",{children:(0,A.t)("exportDialog.link_title")}),(0,l.jsx)("div",{className:"Card-details",children:(0,A.t)("exportDialog.link_details")}),(0,l.jsx)(T.V,{className:"Card-button",type:"button",title:(0,A.t)("exportDialog.link_button"),"aria-label":(0,A.t)("exportDialog.link_button"),showAriaLabel:!0,onClick:function(){Ie(W,ce,xe,ne),(0,_.L)("export","link","ui (".concat((0,C.$h)(),")"))}})]}),ge.renderCustomUI&&ge.renderCustomUI(W,ce,xe,ne)]})})},ck=function(p){var W=p.elements,ce=p.appState,xe=p.files,Ne=p.actionManager,ge=p.exportOpts,ne=p.canvas,Ie=p.setAppState,Le=Se().useCallback(function(){Ie({openDialog:null})},[Ie]);return(0,l.jsx)(l.Fragment,{children:ce.openDialog==="jsonExport"&&(0,l.jsx)(Qt.V,{onCloseRequest:Le,title:(0,A.t)("buttons.export"),children:(0,l.jsx)(lk,{elements:W,appState:ce,files:xe,actionManager:Ne,onCloseRequest:Le,exportOpts:ge,canvas:ne})})})},uk=a(6954),hu=a(8923),Is={};Is.styleTagTransform=Ae(),Is.setAttributes=qe(),Is.insert=lt().bind(null,"head"),Is.domAPI=Ge(),Is.insertStyleElement=be(),_e()(hu.Z,Is),hu.Z&&hu.Z.locals&&hu.Z.locals;var dk=a(5523),mu=a(2701),js={};js.styleTagTransform=Ae(),js.setAttributes=qe(),js.insert=lt().bind(null,"head"),js.domAPI=Ge(),js.insertStyleElement=be(),_e()(mu.Z,js),mu.Z&&mu.Z.locals&&mu.Z.locals;var fk=function(p){var W=p.id,ce=p.elements,xe=p.isPending,Ne=p.onClick,ge=p.selected,ne=p.onToggle,Ie=p.onDrag,Le=(0,ke.useRef)(null);(0,ke.useEffect)(function(){var at=Le.current;if(at)return(0,f.Z)(N().mark(function Ot(){var bt,Rt;return N().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:if(ce){mt.next=2;break}return mt.abrupt("return");case 2:return mt.next=4,(0,gt.$D)(ce,{exportBackground:!1,viewBackgroundColor:At.white},null);case 4:Rt=mt.sent,(bt=Rt.querySelector(".style-fonts"))===null||bt===void 0||bt.remove(),at.innerHTML=Rt.outerHTML;case 7:case"end":return mt.stop()}},Ot)}))(),function(){at.innerHTML=""}},[ce]);var He=(0,ke.useState)(!1),Ke=(0,E.Z)(He,2),Ye=Ke[0],Xe=Ke[1],st=Va().isMobile,ct=xe&&(0,l.jsx)("div",{className:"library-unit__adder",children:re.pO});return(0,l.jsxs)("div",{className:(0,Ee.Z)("library-unit",{"library-unit__active":ce,"library-unit--hover":ce&&Ye,"library-unit--selected":ge}),onMouseEnter:function(){return Xe(!0)},onMouseLeave:function(){return Xe(!1)},children:[(0,l.jsx)("div",{className:(0,Ee.Z)("library-unit__dragger",{"library-unit__pulse":!!xe}),ref:Le,draggable:!!ce,onClick:ce||xe?function(at){W&&at.shiftKey?ne(W,at):Ne()}:void 0,onDragStart:function(at){W?(Xe(!1),Ie(W,at)):at.preventDefault()}}),ct,W&&ce&&(Ye||st||ge)&&(0,l.jsx)(Zt.o,{checked:ge,onChange:function(at,Ot){return ne(W,Ot)},className:"library-unit__checkbox"})]})},gu=a(6440),_s={};_s.styleTagTransform=Ae(),_s.setAttributes=qe(),_s.insert=lt().bind(null,"head"),_s.domAPI=Ge(),_s.insertStyleElement=be(),_e()(gu.Z,_s),gu.Z&&gu.Z.locals&&gu.Z.locals;var Cg=a(5644),Dg=function(p){var W=p.theme,ce=p.id,xe=p.libraryReturnUrl||window.location.origin+window.location.pathname;return(0,l.jsx)("a",{className:"library-menu-browse-button",href:"".concat("https://libraries.excalidraw.com","?target=").concat(window.name||"_blank","&referrer=").concat(xe,"&useHash=true&token=").concat(ce,"&theme=").concat(W,"&version=").concat(g.Kr.excalidrawLibrary),target:"_excalidraw_libraries",children:(0,A.t)("labels.libraries")})},pk=function(p){var W=p.isLoading,ce=p.libraryItems,xe=p.onAddToLibrary,Ne=p.onInsertLibraryItems,ge=p.pendingElements,ne=p.selectedItems,Ie=p.onSelectItems,Le=p.theme,He=p.id,Ke=p.libraryReturnUrl,Ye=(0,ke.useState)(null),Xe=(0,E.Z)(Ye,2),st=Xe[0],ct=Xe[1],at=function(Gt,cn){var Nt=!ne.includes(Gt),Xt=[].concat((0,h.Z)(mt),(0,h.Z)(on));if(Nt){if(cn.shiftKey&&st){var gn=Xt.findIndex(function(qn){return qn.id===st}),rr=Xt.findIndex(function(qn){return qn.id===Gt});if(gn===-1||rr===-1)return void Ie([].concat((0,h.Z)(ne),[Gt]));var fr=(0,C.xn)(ne),br=Xt.reduce(function(qn,gi,bn){return(bn>=gn&&bn<=rr||fr.has(gi.id))&&qn.push(gi.id),qn},[]);Ie(br)}else Ie([].concat((0,h.Z)(ne),[Gt]));ct(Gt)}else ct(null),Ie(ne.filter(function(qn){return qn!==Gt}))},Ot=function(Gt){return ne.includes(Gt)?ce.filter(function(cn){return ne.includes(cn.id)}):ce.filter(function(cn){return cn.id===Gt})},bt=function(Gt){var cn,Nt,Xt,gn,rr;return(0,l.jsx)(it.Z.Col,{children:(0,l.jsx)(fk,{elements:(cn=Gt.item)===null||cn===void 0?void 0:cn.elements,isPending:!((Nt=Gt.item)!==null&&Nt!==void 0&&Nt.id||(Xt=Gt.item)===null||Xt===void 0||!Xt.elements),onClick:Gt.onClick||function(){},id:((gn=Gt.item)===null||gn===void 0?void 0:gn.id)||null,selected:!((rr=Gt.item)===null||rr===void 0||!rr.id)&&ne.includes(Gt.item.id),onToggle:at,onDrag:function(fr,br){br.dataTransfer.setData(g.LO.excalidrawlib,(0,dk.NI)(Ot(fr)))}})},Gt.key)},Rt=function(Gt){var cn=Gt.map(function(Xt){return Xt.id?bt({item:Xt,onClick:function(){return Ne(Ot(Xt.id))},key:Xt.id}):bt({key:"__pending__item__",item:Xt,onClick:function(){return xe(ge)}})}),Nt=(0,C.yo)(cn,4);return Nt.length||(Nt=[[]]),Nt.map(function(Xt,gn,rr){return gn===rr.length-1&&(Xt=Xt.concat(new Array(4-Xt.length).fill(null).map(function(fr,br){return bt({key:"empty_".concat(br),item:null})}))),(0,l.jsx)(it.Z.Row,{align:"center",className:"library-menu-items-container__row",children:Xt},gn)})},mt=ce.filter(function(Gt){return Gt.status!=="published"}),on=ce.filter(function(Gt){return Gt.status==="published"}),$t=!(ce.length||mt.length||on.length||ge.length);return(0,l.jsx)("div",{className:"library-menu-items-container",style:ge.length||mt.length||on.length?{justifyContent:"flex-start"}:{},children:(0,l.jsxs)(it.Z.Col,{className:"library-menu-items-container__items",align:"start",gap:1,style:{flex:on.length>0?1:"0 1 auto",marginBottom:0},children:[(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{children:[(ge.length>0||mt.length>0||on.length>0)&&(0,l.jsx)("div",{className:"library-menu-items-container__header",children:(0,A.t)("labels.personalLib")}),W&&(0,l.jsx)("div",{style:{position:"absolute",top:"var(--container-padding-y)",right:"var(--container-padding-x)",transform:"translateY(50%)"},children:(0,l.jsx)(Cg.Z,{})})]}),ge.length||mt.length?Rt([].concat((0,h.Z)(ge.length?[{id:null,elements:ge}]:[]),(0,h.Z)(mt))):(0,l.jsxs)("div",{className:"library-menu-items__no-items",children:[(0,l.jsx)("div",{className:(0,Ee.Z)({"library-menu-items__no-items__label":$t}),children:(0,A.t)("library.noItems")}),(0,l.jsx)("div",{className:"library-menu-items__no-items__hint",children:on.length>0?(0,A.t)("library.hint_emptyPrivateLibrary"):(0,A.t)("library.hint_emptyLibrary")})]})]}),(0,l.jsxs)(l.Fragment,{children:[(on.length>0||ge.length>0||mt.length>0)&&(0,l.jsx)("div",{className:"library-menu-items-container__header library-menu-items-container__header--excal",children:(0,A.t)("labels.excalidrawLib")}),on.length>0?Rt(on):mt.length>0?(0,l.jsx)("div",{style:{margin:"1rem 0",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",width:"100%",fontSize:".9rem"},children:(0,A.t)("library.noItems")}):null]}),$t&&(0,l.jsx)(Dg,{id:He,libraryReturnUrl:Ke,theme:Le})]})})},vu=a(4739),tp=a(9487),np=a(9430),hk=a(770),Og=(0,ke.forwardRef)(function(p,W){var ce=p.children;return(0,l.jsx)("div",{ref:W,className:"layer-ui__library",children:ce})}),mk=function(p){var W=p.onInsertLibraryItems,ce=p.pendingElements,xe=p.onAddToLibrary,Ne=p.setAppState,ge=p.libraryReturnUrl,ne=p.library,Ie=p.id,Le=p.appState,He=p.selectedItems,Ke=p.onSelectItems,Ye=(0,vu.KO)(pe.rF,tp.yE),Xe=(0,E.Z)(Ye,1)[0],st=(0,ke.useCallback)(function(){var at=(0,f.Z)(N().mark(function Ot(bt,Rt){var mt;return N().wrap(function(on){for(;;)switch(on.prev=on.next){case 0:if((0,_.L)("element","addToLibrary","ui"),!bt.some(function($t){return $t.type==="image"})){on.next=3;break}return on.abrupt("return",Ne({errorMessage:"Support for adding images to the library coming soon!"}));case 3:mt=[{status:"unpublished",elements:bt,id:(0,uk.kb)(),created:Date.now()}].concat((0,h.Z)(Rt)),xe(),ne.setLibrary(mt).catch(function(){Ne({errorMessage:(0,A.t)("alerts.errorAddingToLibrary")})});case 6:case"end":return on.stop()}},Ot)}));return function(Ot,bt){return at.apply(this,arguments)}}(),[xe,ne,Ne]);if(Xe.status==="loading"&&!Xe.isInitialized)return(0,l.jsx)(Og,{children:(0,l.jsx)("div",{className:"layer-ui__library-message",children:(0,l.jsxs)("div",{children:[(0,l.jsx)(Cg.Z,{size:"2em"}),(0,l.jsx)("span",{children:(0,A.t)("labels.libraryLoadingMessage")})]})})});var ct=Xe.libraryItems.length>0||ce.length>0;return(0,l.jsxs)(Og,{children:[(0,l.jsx)(pk,{isLoading:Xe.status==="loading",libraryItems:Xe.libraryItems,onAddToLibrary:function(at){return st(at,Xe.libraryItems)},onInsertLibraryItems:W,pendingElements:ce,selectedItems:He,onSelectItems:Ke,id:Ie,libraryReturnUrl:ge,theme:Le.theme}),ct&&(0,l.jsx)(Dg,{id:Ie,libraryReturnUrl:ge,theme:Le.theme})]})},gk=function(p){var W=p.appState,ce=p.onInsertElements,xe=p.libraryReturnUrl,Ne=p.focusContainer,ge=p.library,ne=p.id,Ie=dp(),Le=up(),He=Va(),Ke=(0,ke.useState)([]),Ye=(0,E.Z)(Ke,2),Xe=Ye[0],st=Ye[1],ct=(0,vu.KO)(pe.rF,tp.yE),at=(0,E.Z)(ct,1)[0],Ot=(0,ke.useRef)(null),bt=(0,ke.useCallback)(function(){document.querySelector(".Dialog")||Ie({openSidebar:null})},[Ie]);(function($t,Gt){(0,ke.useEffect)(function(){var cn=function(Nt){$t.current&&(Nt.target instanceof Element&&($t.current.contains(Nt.target)||!document.body.contains(Nt.target))||Gt(Nt))};return document.addEventListener("pointerdown",cn,!1),function(){document.removeEventListener("pointerdown",cn)}},[$t,Gt])})(Ot,(0,ke.useCallback)(function($t){$t.target.closest(".ToolIcon__library")||W.isSidebarDocked&&He.canDeviceFitSidebar||bt()},[bt,W.isSidebarDocked,He.canDeviceFitSidebar])),(0,ke.useEffect)(function(){var $t=function(Gt){Gt.key!==U.tW.ESCAPE||W.isSidebarDocked&&He.canDeviceFitSidebar||bt()};return document.addEventListener(g.Ks.KEYDOWN,$t),function(){document.removeEventListener(g.Ks.KEYDOWN,$t)}},[bt,W.isSidebarDocked,He.canDeviceFitSidebar]);var Rt=(0,ke.useCallback)(function(){Ie({selectedElementIds:{},selectedGroupIds:{}})},[Ie]),mt=(0,ke.useCallback)(function(){var $t=(0,f.Z)(N().mark(function Gt(cn){var Nt;return N().wrap(function(Xt){for(;;)switch(Xt.prev=Xt.next){case 0:Nt=cn.filter(function(gn){return!Xe.includes(gn.id)}),ge.setLibrary(Nt).catch(function(){Ie({errorMessage:(0,A.t)("alerts.errorRemovingFromLibrary")})}),st([]);case 3:case"end":return Xt.stop()}},Gt)}));return function(Gt){return $t.apply(this,arguments)}}(),[ge,Ie,Xe,st]),on=(0,ke.useCallback)(function(){ge.resetLibrary(),Ne()},[ge,Ne]);return(0,l.jsxs)(np.Y,{__isInternal:!0,className:"layer-ui__library-sidebar",initialDockedState:W.isSidebarDocked,onDock:function($t){(0,_.L)("library","toggleLibraryDock (".concat($t?"dock":"undock",")"),"sidebar (".concat(He.isMobile?"mobile":"desktop",")"))},ref:Ot,children:[(0,l.jsx)(np.Y.Header,{className:"layer-ui__library-header",children:(0,l.jsx)(hk.W,{appState:W,setAppState:Ie,selectedItems:Xe,onSelectItems:st,library:ge,onRemoveFromLibrary:function(){return mt(at.libraryItems)},resetLibrary:on})}),(0,l.jsx)(mk,{pendingElements:(0,me.eD)(Le,W,!0),onInsertLibraryItems:function($t){ce((0,pe.WV)($t))},onAddToLibrary:Rt,setAppState:Ie,libraryReturnUrl:xe,library:ge,id:ne,appState:W,selectedItems:Xe,onSelectItems:st})]},"library")},yu=a(1434),Ps={};Ps.styleTagTransform=Ae(),Ps.setAttributes=qe(),Ps.insert=lt().bind(null,"head"),Ps.domAPI=Ge(),Ps.insertStyleElement=be(),_e()(yu.Z,Ps),yu.Z&&yu.Z.locals&&yu.Z.locals;var bu=a(9144),Ls={};Ls.styleTagTransform=Ae(),Ls.setAttributes=qe(),Ls.insert=lt().bind(null,"head"),Ls.domAPI=Ge(),Ls.insertStyleElement=be(),_e()(bu.Z,Ls),bu.Z&&bu.Z.locals&&bu.Z.locals;var vk=a(4958),yk=function(p){return(0,l.jsx)("button",{className:"help-icon",onClick:p.onClick,type:"button",title:"".concat(p.title,"  ?"),"aria-label":p.title,children:re.by})},Mg=function(p){var W=p.appState,ce=p.actionManager,xe=p.showExitZenModeBtn,Ne=p.renderWelcomeScreen,ge=(0,jt.R6)(),ne=ge.footerCenterTunnel,Ie=ge.welcomeScreenHelpHintTunnel,Le=Va(),He=!W.viewModeEnabled&&W.multiElement&&Le.isTouchScreen;return(0,l.jsxs)("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer App-menu App-menu_bottom",children:[(0,l.jsx)("div",{className:(0,Ee.Z)("layer-ui__wrapper__footer-left zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":W.zenModeEnabled}),children:(0,l.jsx)(it.Z.Col,{gap:2,children:(0,l.jsxs)(Kr,{heading:"canvasActions",children:[(0,l.jsx)(Bt,{renderAction:ce.renderAction,zoom:W.zoom}),!W.viewModeEnabled&&(0,l.jsx)(hn,{renderAction:ce.renderAction,className:(0,Ee.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":W.zenModeEnabled})}),He&&(0,l.jsx)(Vt,{renderAction:ce.renderAction,className:(0,Ee.Z)("zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-left":W.zenModeEnabled})})]})})}),(0,l.jsx)(ne.Out,{}),(0,l.jsx)("div",{className:(0,Ee.Z)("layer-ui__wrapper__footer-right zen-mode-transition",{"transition-right disable-pointerEvents":W.zenModeEnabled}),children:(0,l.jsxs)("div",{style:{position:"relative"},children:[Ne&&(0,l.jsx)(Ie.Out,{}),(0,l.jsx)(yk,{onClick:function(){return ce.executeAction(z.jY)}})]})}),(0,l.jsx)(wn,{actionManager:ce,showExitZenModeBtn:xe})]})},bk=Mg;Mg.displayName="Footer";var mi=a(4709),xk=a(6798),wk=["suggestedBindings","startBoundElement","cursorButton"],kk=["canvas","onInsertElements","appState"],Ek=["canvas","onInsertElements","appState"];function Tg(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}var Sk=function(p){var W=p.UIOptions;return(0,l.jsxs)(mi.Z,{__fallback:!0,children:[(0,l.jsx)(mi.Z.DefaultItems.LoadScene,{}),(0,l.jsx)(mi.Z.DefaultItems.SaveToActiveFile,{}),W.canvasActions.export&&(0,l.jsx)(mi.Z.DefaultItems.Export,{}),W.canvasActions.saveAsImage&&(0,l.jsx)(mi.Z.DefaultItems.SaveAsImage,{}),(0,l.jsx)(mi.Z.DefaultItems.Help,{}),(0,l.jsx)(mi.Z.DefaultItems.ClearCanvas,{}),(0,l.jsx)(mi.Z.Separator,{}),(0,l.jsx)(mi.Z.Group,{title:"Excalidraw links",children:(0,l.jsx)(mi.Z.DefaultItems.Socials,{})}),(0,l.jsx)(mi.Z.Separator,{}),(0,l.jsx)(mi.Z.DefaultItems.ToggleTheme,{}),(0,l.jsx)(mi.Z.DefaultItems.ChangeCanvasBackground,{})]})},Ck=function(p){var W,ce=p.actionManager,xe=p.appState,Ne=p.files,ge=p.setAppState,ne=p.elements,Ie=p.canvas,Le=p.onLockToggle,He=p.onHandToolToggle,Ke=p.onPenModeToggle,Ye=p.onInsertElements,Xe=p.showExitZenModeBtn,st=p.renderTopRightUI,ct=p.renderCustomStats,at=p.renderCustomSidebar,Ot=p.libraryReturnUrl,bt=p.UIOptions,Rt=p.focusContainer,mt=p.library,on=p.id,$t=p.onImageAction,Gt=p.renderWelcomeScreen,cn=p.children,Nt=Va(),Xt=(0,jt.ZC)(),gn=function(){return bt.canvasActions.export?(0,l.jsx)(ck,{elements:ne,appState:xe,files:Ne,actionManager:ce,exportOpts:bt.canvasActions.export,canvas:Ie,setAppState:ge}):null},rr=function(){if(!bt.canvasActions.saveAsImage)return null;var bn=function(pr){return function(){var ir=(0,f.Z)(N().mark(function Gr(pn){var Dn;return N().wrap(function(hr){for(;;)switch(hr.prev=hr.next){case 0:return(0,_.L)("export",pr,"ui"),hr.next=3,(0,De.p1)(pr,pn,xe,Ne,{exportBackground:xe.exportBackground,name:xe.name,viewBackgroundColor:xe.viewBackgroundColor}).catch(C.FG).catch(function(ta){console.error(ta),ge({errorMessage:ta.message})});case 3:Dn=hr.sent,xe.exportEmbedScene&&Dn&&(0,rt.g8)(Dn)&&ge({fileHandle:Dn});case 5:case"end":return hr.stop()}},Gr)}));return function(Gr){return ir.apply(this,arguments)}}()};return(0,l.jsx)(Nn,{elements:ne,appState:xe,setAppState:ge,files:Ne,actionManager:ce,onExportToPng:bn("png"),onExportToSvg:bn("svg"),onExportToClipboard:bn("clipboard")})},fr=function(){return xe.openSidebar==="customSidebar"?(at==null?void 0:at())||null:xe.openSidebar==="library"?(0,l.jsx)(gk,{appState:xe,onInsertElements:Ye,libraryReturnUrl:Ot,focusContainer:Rt,library:mt,id:on}):null},br=(0,vu.KO)(np.b,tp.yE),qn=(0,E.Z)(br,1)[0],gi=(0,l.jsxs)(l.Fragment,{children:[cn,(0,l.jsx)(Sk,{UIOptions:bt}),xe.isLoading&&(0,l.jsx)(Ui.z,{delay:250}),xe.errorMessage&&(0,l.jsx)($e,{message:xe.errorMessage,onClose:function(){return ge({errorMessage:null})}}),xe.openDialog==="help"&&(0,l.jsx)(Yn,{onClose:function(){ge({openDialog:null})}}),(0,l.jsx)(xk.o,{}),rr(),gn(),xe.pasteDialog.shown&&(0,l.jsx)(fn,{setAppState:ge,appState:xe,onInsertChart:Ye,onClose:function(){return ge({pasteDialog:{shown:!1,data:null}})}}),Nt.isMobile&&(0,l.jsx)(Et,{appState:xe,elements:ne,actionManager:ce,renderJSONExportDialog:gn,renderImageExportDialog:rr,setAppState:ge,onLockToggle:Le,onHandToolToggle:He,onPenModeToggle:Ke,canvas:Ie,onImageAction:$t,renderTopRightUI:st,renderCustomStats:ct,renderSidebars:fr,device:Nt}),!Nt.isMobile&&(0,l.jsxs)(l.Fragment,{children:[(0,l.jsxs)("div",{className:(0,Ee.Z)("layer-ui__wrapper",{"disable-pointerEvents":xe.draggingElement||xe.resizingElement||xe.editingElement&&!(0,j.iB)(xe.editingElement)}),style:(xe.openSidebar==="library"&&xe.isSidebarDocked||qn.docked)&&Nt.canDeviceFitSidebar?{width:"calc(100% - ".concat(g.EE,"px)")}:{},children:[Gt&&(0,l.jsx)(Xt.welcomeScreenCenterTunnel.Out,{}),(W=(0,j.RT)(xe,ne),(0,l.jsx)(tn,{side:"top",children:(0,l.jsxs)("div",{className:"App-menu App-menu_top",children:[(0,l.jsxs)(it.Z.Col,{gap:6,className:(0,Ee.Z)("App-menu_top__left",{"disable-pointerEvents":xe.zenModeEnabled}),children:[(0,l.jsxs)("div",{style:{position:"relative"},children:[(0,l.jsx)(Xt.mainMenuTunnel.Out,{}),Gt&&(0,l.jsx)(Xt.welcomeScreenMenuHintTunnel.Out,{})]}),W&&(0,l.jsx)(Kr,{heading:"selectedShapeActions",className:(0,Ee.Z)("selected-shape-actions zen-mode-transition",{"transition-left":xe.zenModeEnabled}),children:(0,l.jsx)(Dr.W,{className:g.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(xe.height-166,"px")},children:(0,l.jsx)(_t,{appState:xe,elements:ne,renderAction:ce.renderAction})})})]}),!xe.viewModeEnabled&&(0,l.jsx)(Kr,{heading:"shapes",className:"shapes-section",children:function(bn){return(0,l.jsxs)("div",{style:{position:"relative"},children:[Gt&&(0,l.jsx)(Xt.welcomeScreenToolbarHintTunnel.Out,{}),(0,l.jsx)(it.Z.Col,{gap:4,align:"start",children:(0,l.jsx)(it.Z.Row,{gap:1,className:(0,Ee.Z)("App-toolbar-container",{"zen-mode":xe.zenModeEnabled}),children:(0,l.jsxs)(Dr.W,{padding:1,className:(0,Ee.Z)("App-toolbar",{"zen-mode":xe.zenModeEnabled}),children:[(0,l.jsx)(Un,{appState:xe,elements:ne,isMobile:Nt.isMobile,device:Nt}),bn,(0,l.jsxs)(it.Z.Row,{gap:1,children:[(0,l.jsx)(fe,{zenModeEnabled:xe.zenModeEnabled,checked:xe.penMode,onChange:Ke,title:(0,A.t)("toolBar.penMode"),penDetected:xe.penDetected}),(0,l.jsx)(Ki,{checked:xe.activeTool.locked,onChange:Le,title:(0,A.t)("toolBar.lock")}),(0,l.jsx)("div",{className:"App-toolbar__divider"}),(0,l.jsx)(dt,{checked:(0,ie.l$)(xe),onChange:function(){return He()},title:(0,A.t)("toolBar.hand"),isMobile:!0}),(0,l.jsx)(Ct,{appState:xe,canvas:Ie,activeTool:xe.activeTool,setAppState:ge,onImageAction:function(pr){var ir=pr.pointerType;$t({insertOnCanvasDirectly:ir!=="mouse"})}})]})]})})})]})}}),(0,l.jsxs)("div",{className:(0,Ee.Z)("layer-ui__wrapper__top-right zen-mode-transition",{"transition-right":xe.zenModeEnabled}),children:[(0,l.jsx)(Ai.Z,{collaborators:xe.collaborators}),st==null?void 0:st(Nt.isMobile,xe),!xe.viewModeEnabled&&(0,l.jsx)(As,{appState:xe,setAppState:ge})]})]})})),(0,l.jsx)(bk,{appState:xe,actionManager:ce,showExitZenModeBtn:Xe,renderWelcomeScreen:Gt}),xe.showStats&&(0,l.jsx)(ot,{appState:xe,setAppState:ge,elements:ne,onClose:function(){ce.executeAction(vk.u)},renderCustomStats:ct}),xe.scrolledOutside&&(0,l.jsx)("button",{className:"scroll-back-to-content",onClick:function(){ge(function(bn){for(var pr=1;pr<arguments.length;pr++){var ir=arguments[pr]!=null?arguments[pr]:{};pr%2?Tg(Object(ir),!0).forEach(function(Gr){(0,ee.Z)(bn,Gr,ir[Gr])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bn,Object.getOwnPropertyDescriptors(ir)):Tg(Object(ir)).forEach(function(Gr){Object.defineProperty(bn,Gr,Object.getOwnPropertyDescriptor(ir,Gr))})}return bn}({},(0,me.W)(ne,xe,Ie)))},children:(0,A.t)("buttons.scrollBackToContent")})]}),fr()]})]});return(0,l.jsx)(vu.zt,{scope:Xt.jotaiScope,children:(0,l.jsx)(jt.A3.Provider,{value:Xt,children:gi})})},Ag=function(p){return p.suggestedBindings,p.startBoundElement,p.cursorButton,(0,Qe.Z)(p,wk)},Dk=function(p,W){if(p.children!==W.children)return!1;p.canvas,p.onInsertElements;var ce=p.appState,xe=(0,Qe.Z)(p,kk),Ne=(W.canvas,W.onInsertElements,W.appState),ge=(0,Qe.Z)(W,Ek);return(0,C.w8)(Ag(ce),Ag(Ne))&&(0,C.w8)(xe,ge)},Ok=Se().memo(Ck,Dk),xu=a(9650),Ns={};Ns.styleTagTransform=Ae(),Ns.setAttributes=qe(),Ns.insert=lt().bind(null,"head"),Ns.domAPI=Ge(),Ns.insertStyleElement=be(),_e()(xu.Z,Ns),xu.Z&&xu.Z.locals&&xu.Z.locals;var Mk=function(p){var W=p.message,ce=p.onClose,xe=p.closable,Ne=xe!==void 0&&xe,ge=p.duration,ne=ge===void 0?5e3:ge,Ie=(0,ke.useRef)(0),Le=ne!==1/0,He=(0,ke.useCallback)(function(){Le&&(Ie.current=window.setTimeout(function(){return ce()},ne))},[ce,ne,Le]);(0,ke.useEffect)(function(){if(Le)return He(),function(){return clearTimeout(Ie.current)}},[He,W,ne,Le]);var Ke=Le?function(){return clearTimeout(Ie==null?void 0:Ie.current)}:void 0,Ye=Le?He:void 0;return(0,l.jsxs)("div",{className:"Toast",onMouseEnter:Ke,onMouseLeave:Ye,children:[(0,l.jsx)("p",{className:"Toast__message",children:W}),Ne&&(0,l.jsx)(T.V,{icon:re.Tw,"aria-label":"close",type:"icon",onClick:ce,className:"close"})]})};function Ig(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}function jg(p){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?Ig(Object(ce),!0).forEach(function(xe){(0,ee.Z)(p,xe,ce[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(ce)):Ig(Object(ce)).forEach(function(xe){Object.defineProperty(p,xe,Object.getOwnPropertyDescriptor(ce,xe))})}return p}var _g=(0,ve.z)({name:"viewMode",viewMode:!0,trackEvent:{category:"canvas",predicate:function(p){return!p.viewModeEnabled}},perform:function(p,W){return{appState:jg(jg({},W),{},{viewModeEnabled:!this.checked(W)}),commitToHistory:!1}},checked:function(p){return p.viewModeEnabled},predicate:function(p,W,ce){return ce.viewModeEnabled===void 0},contextItemLabel:"labels.viewMode",keyTest:function(p){return!p[U.tW.CTRL_OR_CMD]&&p.altKey&&p.code===U.aU.R}}),wu=a(5637),Tk=a(200),Ak=a.n(Tk),Ik=a(2325),qo=a(4929),jk=a(267);function Pg(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}var Lg=(0,k.Z)(function p(W){var ce=this,xe=W.scene,Ne=W.onSceneUpdated;(0,D.Z)(this,p),this.onFontsLoaded=function(ge){if(ge.every(function(Ie){var Le="".concat(Ie.family,"-").concat(Ie.style,"-").concat(Ie.weight);return!!p.loadedFontFaces.has(Le)||(p.loadedFontFaces.add(Le),!1)}))return!1;var ne=!1;ce.scene.mapElements(function(Ie){return(0,j.iB)(Ie)?((0,te.bI)(Ie),ne=!0,(0,P.BE)(Ie,function(Le){for(var He=1;He<arguments.length;He++){var Ke=arguments[He]!=null?arguments[He]:{};He%2?Pg(Object(Ke),!0).forEach(function(Ye){(0,ee.Z)(Le,Ye,Ke[Ye])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Le,Object.getOwnPropertyDescriptors(Ke)):Pg(Object(Ke)).forEach(function(Ye){Object.defineProperty(Le,Ye,Object.getOwnPropertyDescriptor(Ke,Ye))})}return Le}({},(0,j.JZ)(Ie)))):Ie}),ne&&ce.onSceneUpdated()},this.loadFontsForElements=function(){var ge=(0,f.Z)(N().mark(function ne(Ie){var Le;return N().wrap(function(He){for(;;)switch(He.prev=He.next){case 0:return He.next=2,Promise.all((0,h.Z)(new Set(Ie.filter(function(Ke){return(0,j.iB)(Ke)}).map(function(Ke){return Ke.fontFamily}))).map(function(Ke){var Ye,Xe,st,ct,at=(0,C.mO)({fontFamily:Ke,fontSize:16});if((Ye=document.fonts)===null||Ye===void 0||(Xe=Ye.check)===null||Xe===void 0||!Xe.call(Ye,at))return(st=document.fonts)===null||st===void 0||(ct=st.load)===null||ct===void 0?void 0:ct.call(st,at)}));case 2:Le=He.sent,ce.onFontsLoaded(Le.flat().filter(Boolean));case 4:case"end":return He.stop()}},ne)}));return function(ne){return ge.apply(this,arguments)}}(),this.scene=xe,this.onSceneUpdated=Ne});Lg.loadedFontFaces=new Set;var Ng=a(4688),_k=a(2416);function Rg(p,W){var ce=typeof Symbol<"u"&&p[Symbol.iterator]||p["@@iterator"];if(!ce){if(Array.isArray(p)||(ce=function(Le,He){if(Le){if(typeof Le=="string")return zg(Le,He);var Ke=Object.prototype.toString.call(Le).slice(8,-1);if(Ke==="Object"&&Le.constructor&&(Ke=Le.constructor.name),Ke==="Map"||Ke==="Set")return Array.from(Le);if(Ke==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ke))return zg(Le,He)}}(p))||W&&p&&typeof p.length=="number"){ce&&(p=ce);var xe=0,Ne=function(){};return{s:Ne,n:function(){return xe>=p.length?{done:!0}:{done:!1,value:p[xe++]}},e:function(Le){throw Le},f:Ne}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ge,ne=!0,Ie=!1;return{s:function(){ce=ce.call(p)},n:function(){var Le=ce.next();return ne=Le.done,Le},e:function(Le){Ie=!0,ge=Le},f:function(){try{ne||ce.return==null||ce.return()}finally{if(Ie)throw ge}}}}function zg(p,W){(W==null||W>p.length)&&(W=p.length);for(var ce=0,xe=new Array(W);ce<W;ce++)xe[ce]=p[ce];return xe}function Pk(p){var W=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ce,xe=(0,B.Z)(p);if(W){var Ne=(0,B.Z)(this).constructor;ce=Reflect.construct(xe,arguments,Ne)}else ce=xe.apply(this,arguments);return(0,Z.Z)(this,ce)}}function Bg(p,W){var ce=Object.keys(p);if(Object.getOwnPropertySymbols){var xe=Object.getOwnPropertySymbols(p);W&&(xe=xe.filter(function(Ne){return Object.getOwnPropertyDescriptor(p,Ne).enumerable})),ce.push.apply(ce,xe)}return ce}function ht(p){for(var W=1;W<arguments.length;W++){var ce=arguments[W]!=null?arguments[W]:{};W%2?Bg(Object(ce),!0).forEach(function(xe){(0,ee.Z)(p,xe,ce[xe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(p,Object.getOwnPropertyDescriptors(ce)):Bg(Object(ce)).forEach(function(xe){Object.defineProperty(p,xe,Object.getOwnPropertyDescriptor(ce,xe))})}return p}var Zg={isSmScreen:!1,isMobile:!1,isTouchScreen:!1,canDeviceFitSidebar:!1},rp=Se().createContext(Zg);rp.displayName="DeviceContext";var ip=Se().createContext({container:null,id:null});ip.displayName="ExcalidrawContainerContext";var op=Se().createContext([]);op.displayName="ExcalidrawElementsContext";var ap=Se().createContext(ht(ht({},(0,ie.im)()),{},{width:0,height:0,offsetLeft:0,offsetTop:0}));ap.displayName="ExcalidrawAppStateContext";var sp=Se().createContext(function(){console.warn("unitialized ExcalidrawSetAppStateContext context!")});sp.displayName="ExcalidrawSetAppStateContext";var lp=Se().createContext(null);lp.displayName="ExcalidrawActionManagerContext";var Va=function(){return(0,ke.useContext)(rp)},cp=function(){return(0,ke.useContext)(ip)},up=function(){return(0,ke.useContext)(op)},Fg=function(){return(0,ke.useContext)(ap)},dp=function(){return(0,ke.useContext)(sp)},Lk=function(){return(0,ke.useContext)(lp)},Wl=!1,fp=0,Ka=0,Ga=0,Ya=!1,Ul=!1,pp=!1,hp={horizontal:null,vertical:null},Qo=0,Vl=!1,ku=!0,mp=!1,Hg=0,Wg=!1,ea=null,An={pointers:new Map,lastCenter:null,initialDistance:null,initialScale:null},gp=function(p){(0,d.Z)(Ne,p);var W,ce,xe=Pk(Ne);function Ne(ge){var ne;(0,D.Z)(this,Ne),ne=xe.call(this,ge),Nk.call((0,R.Z)(ne));var Ie,Le=(0,ie.im)(),He=ge.excalidrawRef,Ke=ge.viewModeEnabled,Ye=Ke!==void 0&&Ke,Xe=ge.zenModeEnabled,st=Xe!==void 0&&Xe,ct=ge.gridModeEnabled,at=ct!==void 0&&ct,Ot=ge.theme,bt=Ot===void 0?Le.theme:Ot,Rt=ge.name,mt=Rt===void 0?Le.name:Rt;if(ne.state=ht(ht(ht({},Le),{},{theme:bt,isLoading:!0},ne.getCanvasOffsets()),{},{viewModeEnabled:Ye,zenModeEnabled:st,gridSize:at?g.k:null,name:mt,width:window.innerWidth,height:window.innerHeight,showHyperlinkPopup:!1,isSidebarDocked:!1}),ne.id=(0,Me.x0)(),ne.library=new pe.ZP((0,R.Z)(ne)),He){var on,$t="current"in He&&((on=He.current)===null||on===void 0?void 0:on.readyPromise)||(0,C.PI)(),Gt={ready:!0,readyPromise:$t,updateScene:ne.updateScene,updateLibrary:ne.library.updateLibrary,addFiles:ne.addFiles,resetScene:ne.resetScene,getSceneElementsIncludingDeleted:ne.getSceneElementsIncludingDeleted,history:{clear:ne.resetHistory},scrollToContent:ne.scrollToContent,getSceneElements:ne.getSceneElements,getAppState:function(){return ne.state},getFiles:function(){return ne.files},refresh:ne.refresh,setToast:ne.setToast,id:ne.id,setActiveTool:ne.setActiveTool,setCursor:ne.setCursor,resetCursor:ne.resetCursor,toggleMenu:ne.toggleMenu};typeof He=="function"?He(Gt):He.current=Gt,$t.resolve(Gt)}return ne.excalidrawContainerValue={container:ne.excalidrawContainerRef.current,id:ne.id},ne.scene=new Re.Z,ne.fonts=new Lg({scene:ne.scene,onSceneUpdated:ne.onSceneUpdated}),ne.history=new le,ne.actionManager=new de(ne.syncActionResult,function(){return ne.state},function(){return ne.scene.getElementsIncludingDeleted()},(0,R.Z)(ne)),ne.actionManager.registerAll(ve.N),ne.actionManager.registerAction((Ie=ne.history,{name:"undo",trackEvent:{category:"history"},perform:function(cn,Nt){return S(cn,Nt,function(){return Ie.undoOnce()})},keyTest:function(cn){return cn[U.tW.CTRL_OR_CMD]&&cn.key.toLowerCase()===U.tW.Z&&!cn.shiftKey},PanelComponent:function(cn){var Nt=cn.updateData,Xt=cn.data;return(0,l.jsx)(T.V,{type:"button",icon:re.UE,"aria-label":(0,A.t)("buttons.undo"),onClick:Nt,size:(Xt==null?void 0:Xt.size)||"medium"})},commitToHistory:function(){return!1}})),ne.actionManager.registerAction(function(cn){return{name:"redo",trackEvent:{category:"history"},perform:function(Nt,Xt){return S(Nt,Xt,function(){return cn.redoOnce()})},keyTest:function(Nt){return Nt[U.tW.CTRL_OR_CMD]&&Nt.shiftKey&&Nt.key.toLowerCase()===U.tW.Z||g.ED&&Nt.ctrlKey&&!Nt.shiftKey&&Nt.key===U.tW.Y},PanelComponent:function(Nt){var Xt=Nt.updateData,gn=Nt.data;return(0,l.jsx)(T.V,{type:"button",icon:re.zG,"aria-label":(0,A.t)("buttons.redo"),onClick:Xt,size:(gn==null?void 0:gn.size)||"medium"})},commitToHistory:function(){return!1}}}(ne.history)),ne}return(0,k.Z)(Ne,[{key:"renderCanvas",value:function(){var ge=window.devicePixelRatio,ne=this.state,Ie=ne.width,Le=ne.height,He=Ie*ge,Ke=Le*ge;return ne.viewModeEnabled?(0,l.jsx)("canvas",{className:"excalidraw__canvas",style:{width:Ie,height:Le,cursor:g.oc.GRAB},width:He,height:Ke,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown,children:(0,A.t)("labels.drawingCanvas")}):(0,l.jsx)("canvas",{className:"excalidraw__canvas",style:{width:Ie,height:Le},width:He,height:Ke,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.handleCanvasPointerUp,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,children:(0,A.t)("labels.drawingCanvas")})}},{key:"render",value:function(){var ge,ne=this,Ie=(0,me.eD)(this.scene.getNonDeletedElements(),this.state),Le=this.props,He=Le.renderTopRightUI,Ke=Le.renderCustomStats;return(0,l.jsx)("div",{className:(0,Ee.Z)("excalidraw excalidraw-container",{"excalidraw--view-mode":this.state.viewModeEnabled,"excalidraw--mobile":this.device.isMobile}),ref:this.excalidrawContainerRef,onDrop:this.handleAppOnDrop,tabIndex:0,onKeyDown:this.props.handleKeyboardGlobally?void 0:this.onKeyDown,children:(0,l.jsx)(ip.Provider,{value:this.excalidrawContainerValue,children:(0,l.jsx)(rp.Provider,{value:this.device,children:(0,l.jsx)(sp.Provider,{value:this.setAppState,children:(0,l.jsxs)(ap.Provider,{value:this.state,children:[(0,l.jsx)(op.Provider,{value:this.scene.getNonDeletedElements(),children:(0,l.jsxs)(lp.Provider,{value:this.actionManager,children:[(0,l.jsx)(Ok,{canvas:this.canvas,appState:this.state,files:this.files,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getNonDeletedElements(),onLockToggle:this.toggleLock,onPenModeToggle:this.togglePenMode,onHandToolToggle:this.onHandToolToggle,onInsertElements:function(Ye){return ne.addElementsFromPasteOrLibrary({elements:Ye,position:"center",files:null})},langCode:(0,A.G3)().code,renderTopRightUI:He,renderCustomStats:Ke,renderCustomSidebar:this.props.renderSidebar,showExitZenModeBtn:((ge=this.props)===null||ge===void 0?void 0:ge.zenModeEnabled)===void 0&&this.state.zenModeEnabled,libraryReturnUrl:this.props.libraryReturnUrl,UIOptions:this.props.UIOptions,focusContainer:this.focusContainer,library:this.library,id:this.id,onImageAction:this.onImageAction,renderWelcomeScreen:!this.state.isLoading&&this.state.showWelcomeScreen&&this.state.activeTool.type==="selection"&&!this.scene.getElementsIncludingDeleted().length,children:this.props.children}),(0,l.jsx)("div",{className:"excalidraw-textEditorContainer"}),(0,l.jsx)("div",{className:"excalidraw-contextMenuContainer"}),Ie.length===1&&!this.state.contextMenu&&this.state.showHyperlinkPopup&&(0,l.jsx)(qo.nW,{element:Ie[0],setAppState:this.setAppState,onLinkOpen:this.props.onLinkOpen},Ie[0].id),this.state.toast!==null&&(0,l.jsx)(Mk,{message:this.state.toast.message,onClose:function(){return ne.setToast(null)},duration:this.state.toast.duration,closable:this.state.toast.closable}),this.state.contextMenu&&(0,l.jsx)(et,{items:this.state.contextMenu.items,top:this.state.contextMenu.top,left:this.state.contextMenu.left,actionManager:this.actionManager}),(0,l.jsx)("main",{children:this.renderCanvas()})]})})," "]})})})})})}},{key:"componentDidMount",value:(ce=(0,f.Z)(N().mark(function ge(){var ne,Ie,Le,He,Ke,Ye,Xe=this;return N().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:this.unmounted=!1,this.excalidrawContainerValue.container=this.excalidrawContainerRef.current,g.Vi.TEST!=="production"&&g.Vi.DEVELOPMENT!=="production"||(this.setState.bind(this),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return Xe.state}},setState:{configurable:!0,value:function(){return Xe.setState.apply(Xe,arguments)}},app:{configurable:!0,value:this},history:{configurable:!0,value:this.history}})),this.scene.addCallback(this.onSceneUpdated),this.addEventListeners(),this.excalidrawContainerRef.current&&this.focusContainer(),this.excalidrawContainerRef.current&&this.refreshDeviceState(this.excalidrawContainerRef.current),"ResizeObserver"in window&&(ne=this.excalidrawContainerRef)!==null&&ne!==void 0&&ne.current?(this.resizeObserver=new ResizeObserver(function(){ku=!1,Xe.refreshDeviceState(Xe.excalidrawContainerRef.current),Xe.updateDOMRect()}),(Ie=this.resizeObserver)===null||Ie===void 0||Ie.observe(this.excalidrawContainerRef.current)):window.matchMedia&&(Le=window.matchMedia("(max-width: ".concat(g.kV,"px), (max-height: ").concat(g.Yx,"px) and (max-width: ").concat(g.sS,"px)")),He=window.matchMedia("(max-width: ".concat(g.eF,"px)")),Ke=window.matchMedia("(min-width: ".concat(this.props.UIOptions.dockedSidebarBreakpoint!=null?this.props.UIOptions.dockedSidebarBreakpoint:g.sk,"px)")),Ye=function(){Xe.excalidrawContainerRef.current.getBoundingClientRect(),Xe.device=(0,C.v4)(Xe.device,{isSmScreen:He.matches,isMobile:Le.matches,canDeviceFitSidebar:Ke.matches})},Le.addListener(Ye),this.detachIsMobileMqHandler=function(){return Le.removeListener(Ye)}),new URLSearchParams(window.location.search.slice(1)).has("web-share-target")?this.restoreFileFromShare():this.updateDOMRect(this.initializeScene);case 10:case"end":return st.stop()}},ge,this)})),function(){return ce.apply(this,arguments)})},{key:"componentWillUnmount",value:function(){var ge;this.files={},this.imageCache.clear(),(ge=this.resizeObserver)===null||ge===void 0||ge.disconnect(),this.unmounted=!0,this.removeEventListeners(),this.scene.destroy(),clearTimeout(Qo),Qo=0}},{key:"removeEventListeners",value:function(){var ge,ne,Ie,Le,He;document.removeEventListener(g.Ks.POINTER_UP,this.removePointer),document.removeEventListener(g.Ks.COPY,this.onCopy),document.removeEventListener(g.Ks.PASTE,this.pasteFromClipboard),document.removeEventListener(g.Ks.CUT,this.onCut),(ge=this.excalidrawContainerRef.current)===null||ge===void 0||ge.removeEventListener(g.Ks.WHEEL,this.onWheel),(ne=this.nearestScrollableContainer)===null||ne===void 0||ne.removeEventListener(g.Ks.SCROLL,this.onScroll),document.removeEventListener(g.Ks.KEYDOWN,this.onKeyDown,!1),document.removeEventListener(g.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1),document.removeEventListener(g.Ks.KEYUP,this.onKeyUp),window.removeEventListener(g.Ks.RESIZE,this.onResize,!1),window.removeEventListener(g.Ks.UNLOAD,this.onUnload,!1),window.removeEventListener(g.Ks.BLUR,this.onBlur,!1),(Ie=this.excalidrawContainerRef.current)===null||Ie===void 0||Ie.removeEventListener(g.Ks.DRAG_OVER,this.disableEvent,!1),(Le=this.excalidrawContainerRef.current)===null||Le===void 0||Le.removeEventListener(g.Ks.DROP,this.disableEvent,!1),document.removeEventListener(g.Ks.GESTURE_START,this.onGestureStart,!1),document.removeEventListener(g.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.removeEventListener(g.Ks.GESTURE_END,this.onGestureEnd,!1),(He=this.detachIsMobileMqHandler)===null||He===void 0||He.call(this)}},{key:"addEventListeners",value:function(){var ge,ne,Ie,Le,He,Ke=this;this.removeEventListeners(),document.addEventListener(g.Ks.POINTER_UP,this.removePointer),document.addEventListener(g.Ks.COPY,this.onCopy),(ge=this.excalidrawContainerRef.current)===null||ge===void 0||ge.addEventListener(g.Ks.WHEEL,this.onWheel,{passive:!1}),this.props.handleKeyboardGlobally&&document.addEventListener(g.Ks.KEYDOWN,this.onKeyDown,!1),document.addEventListener(g.Ks.KEYUP,this.onKeyUp,{passive:!0}),document.addEventListener(g.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition),(ne=document.fonts)===null||ne===void 0||(Ie=ne.addEventListener)===null||Ie===void 0||Ie.call(ne,"loadingdone",function(Ye){var Xe=Ye.fontfaces;Ke.fonts.onFontsLoaded(Xe)}),document.addEventListener(g.Ks.GESTURE_START,this.onGestureStart,!1),document.addEventListener(g.Ks.GESTURE_CHANGE,this.onGestureChange,!1),document.addEventListener(g.Ks.GESTURE_END,this.onGestureEnd,!1),this.state.viewModeEnabled||(document.addEventListener(g.Ks.PASTE,this.pasteFromClipboard),document.addEventListener(g.Ks.CUT,this.onCut),this.props.detectScroll&&(this.nearestScrollableContainer=(0,C.Ip)(this.excalidrawContainerRef.current),this.nearestScrollableContainer.addEventListener(g.Ks.SCROLL,this.onScroll)),window.addEventListener(g.Ks.RESIZE,this.onResize,!1),window.addEventListener(g.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(g.Ks.BLUR,this.onBlur,!1),(Le=this.excalidrawContainerRef.current)===null||Le===void 0||Le.addEventListener(g.Ks.DRAG_OVER,this.disableEvent,!1),(He=this.excalidrawContainerRef.current)===null||He===void 0||He.addEventListener(g.Ks.DROP,this.disableEvent,!1))}},{key:"componentDidUpdate",value:function(ge,ne){var Ie,Le,He,Ke=this;this.state.showWelcomeScreen||this.scene.getElementsIncludingDeleted().length||this.setState({showWelcomeScreen:!0}),this.excalidrawContainerRef.current&&ge.UIOptions.dockedSidebarBreakpoint!==this.props.UIOptions.dockedSidebarBreakpoint&&this.refreshDeviceState(this.excalidrawContainerRef.current),(ne.scrollX!==this.state.scrollX||ne.scrollY!==this.state.scrollY)&&((Le=this.props)===null||Le===void 0||(He=Le.onScrollChange)===null||He===void 0||He.call(Le,this.state.scrollX,this.state.scrollY)),Object.keys(this.state.selectedElementIds).length&&(0,ie.EN)(this.state)&&this.setState({activeTool:(0,C.Om)(this.state,{type:"selection"})}),this.state.activeTool.type==="eraser"&&ne.theme!==this.state.theme&&(0,C.OF)(this.canvas,this.state.theme),ne.activeTool.type==="selection"&&this.state.activeTool.type!=="selection"&&this.state.showHyperlinkPopup&&this.setState({showHyperlinkPopup:!1}),ge.langCode!==this.props.langCode&&this.updateLanguage(),ge.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled}),ne.viewModeEnabled!==this.state.viewModeEnabled&&(this.addEventListeners(),this.deselectElements()),ge.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled}),ge.theme!==this.props.theme&&this.props.theme&&this.setState({theme:this.props.theme}),ge.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?g.k:null}),this.props.name&&ge.name!==this.props.name&&this.setState({name:this.props.name}),(Ie=this.excalidrawContainerRef.current)===null||Ie===void 0||Ie.classList.toggle("theme--dark",this.state.theme==="dark"),this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&setTimeout(function(){Ke.state.editingLinearElement&&Ke.actionManager.executeAction(z.pL)}),this.state.selectedLinearElement&&!this.state.selectedElementIds[this.state.selectedLinearElement.elementId]&&this.setState({selectedLinearElement:null});var Ye,Xe,st=ne.multiElement;ne.activeTool!==this.state.activeTool&&st!=null&&(0,M.N1)(this.state)&&(0,G.Mn)(st,!1)&&(0,M.R)(st,this.state,this.scene,(0,C.AK)(V._.getPointAtIndexGlobalCoordinates(st,-1))),this.renderScene(),this.history.record(this.state,this.scene.getElementsIncludingDeleted()),this.state.isLoading||(Ye=(Xe=this.props).onChange)===null||Ye===void 0||Ye.call(Xe,this.scene.getElementsIncludingDeleted(),this.state,this.files)}},{key:"addTextFromPaste",value:function(ge){var ne=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ie=(0,C.dE)({clientX:Ka,clientY:Ga},this.state),Le=Ie.x,He=Ie.y,Ke={x:Le,y:He,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,roundness:null,roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,text:ge,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:g.hs,locked:!1},Ye=10,Xe=He,st=ne?[ge]:ge.split(`
`),ct=st.reduce(function(at,Ot,bt){var Rt=Ot.trim();if(Rt.length){var mt=(0,j.VL)(ht(ht({},Ke),{},{x:Le,y:Xe,text:Rt}));at.push(mt),Xe+=mt.height+Ye}else{var on;if(!((on=st[bt-1])===null||on===void 0)&&on.trim()){var $t=(0,wt.hP)((0,C.mO)({fontSize:Ke.fontSize,fontFamily:Ke.fontFamily}));Xe+=$t+Ye}}return at},[]);ct.length!==0&&(this.scene.replaceAllElements([].concat((0,h.Z)(this.scene.getElementsIncludingDeleted()),(0,h.Z)(ct))),this.setState({selectedElementIds:Object.fromEntries(ct.map(function(at){return[at.id,!0]}))}),!ne&&ct.length>1&&Wg===!1&&!this.device.isMobile&&(this.setToast({message:(0,A.t)("toast.pasteAsSingleElement",{shortcut:(0,C.uY)("CtrlOrCmd+Shift+V")}),duration:5e3}),Wg=!0),this.history.resumeRecording())}},{key:"handleTextWysiwyg",value:function(ge,ne){var Ie=this,Le=ne.isExistingElement,He=Le!==void 0&&Le,Ke=function(Ye,Xe,st){Ie.scene.replaceAllElements((0,h.Z)(Ie.scene.getElementsIncludingDeleted().map(function(ct){return ct.id===ge.id&&(0,j.iB)(ct)?(0,j.N_)(ct,{text:Ye,isDeleted:st,originalText:Xe}):ct})))};(0,j.b_)({id:ge.id,canvas:this.canvas,getViewportCoords:function(Ye,Xe){var st=(0,C._i)({sceneX:Ye,sceneY:Xe},Ie.state),ct=st.x,at=st.y;return[ct-Ie.state.offsetLeft,at-Ie.state.offsetTop]},onChange:(0,C.tH)(function(Ye){Ke(Ye,Ye,!1),(0,j.qP)(ge)&&(0,M.Ww)(ge)}),onSubmit:(0,C.tH)(function(Ye){var Xe=Ye.text,st=Ye.viaKeyboard,ct=Ye.originalText,at=!Xe.trim();if(Ke(Xe,ct,at),!at&&st){var Ot=ge.containerId?ge.containerId:ge.id;Ie.setState(function(bt){return{selectedElementIds:ht(ht({},bt.selectedElementIds),{},(0,ee.Z)({},Ot,!0))}})}at&&(0,M.$q)(Ie.scene.getNonDeletedElements(),[ge]),at&&!He||Ie.history.resumeRecording(),Ie.setState({draggingElement:null,editingElement:null}),Ie.state.activeTool.locked&&(0,C.Uk)(Ie.canvas,Ie.state),Ie.focusContainer()}),element:ge,excalidrawContainer:this.excalidrawContainerRef.current,app:this}),this.deselectElements(),Ke(ge.text,ge.originalText,!1)}},{key:"deselectElements",value:function(){this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}},{key:"getTextElementAtPosition",value:function(ge,ne){var Ie=this.getElementAtPosition(ge,ne,{includeBoundTextElement:!0});return Ie&&(0,j.iB)(Ie)&&!Ie.isDeleted?Ie:null}},{key:"getElementAtPosition",value:function(ge,ne,Ie){var Le=this.getElementsAtPosition(ge,ne,Ie==null?void 0:Ie.includeBoundTextElement,Ie==null?void 0:Ie.includeLockedElements);if(Le.length>1){if(Ie!=null&&Ie.preferSelected){for(var He=Le.length-1;He>-1;He--)if(this.state.selectedElementIds[Le[He].id])return Le[He]}var Ke=Le[Le.length-1];return(0,j.wB)(Ke,this.state,ge,ne)?Le[Le.length-2]:Ke}return Le.length===1?Le[0]:null}},{key:"getElementsAtPosition",value:function(ge,ne){var Ie=this,Le=arguments.length>2&&arguments[2]!==void 0&&arguments[2],He=arguments.length>3&&arguments[3]!==void 0&&arguments[3],Ke=Le&&He?this.scene.getNonDeletedElements():this.scene.getNonDeletedElements().filter(function(Ye){return(He||!Ye.locked)&&(Le||!((0,j.iB)(Ye)&&Ye.containerId))});return(0,me.CJ)(Ke,function(Ye){return(0,j.wX)(Ye,Ie.state,ge,ne)})}},{key:"handleHoverSelectedLinearElement",value:function(ge,ne,Ie){var Le=V._.getElement(ge.elementId),He=(0,wt.WJ)(Le);if(Le)if(this.state.selectedLinearElement){var Ke=-1,Ye=null;(0,Ik.Qu)(Le,this.state,[ne,Ie])?(Ke=V._.getPointIndexUnderCursor(Le,this.state.zoom,ne,Ie),Ye=V._.getSegmentMidpointHitCoords(ge,{x:ne,y:Ie},this.state),Ke>=0||Ye?(0,C.KJ)(this.canvas,g.oc.POINTER):(0,C.KJ)(this.canvas,g.oc.MOVE)):((0,jk.oY)([Le],this.state)&&(0,j.wB)(Le,this.state,ne,Ie)||He&&(0,j.wX)(He,this.state,ne,Ie))&&(0,C.KJ)(this.canvas,g.oc.MOVE),this.state.selectedLinearElement.hoverPointIndex!==Ke&&this.setState({selectedLinearElement:ht(ht({},this.state.selectedLinearElement),{},{hoverPointIndex:Ke})}),V._.arePointsEqual(this.state.selectedLinearElement.segmentMidPointHoveredCoords,Ye)||this.setState({selectedLinearElement:ht(ht({},this.state.selectedLinearElement),{},{segmentMidPointHoveredCoords:Ye})})}else(0,C.KJ)(this.canvas,g.oc.AUTO)}},{key:"maybeCleanupAfterMissingPointerUp",value:function(ge){ea!==null&&ea(ge)}},{key:"updateGestureOnPointerDown",value:function(ge){An.pointers.set(ge.pointerId,{x:ge.clientX,y:ge.clientY}),An.pointers.size===2&&(An.lastCenter=ye(An.pointers),An.initialScale=this.state.zoom.value,An.initialDistance=K(Array.from(An.pointers.values())))}},{key:"initialPointerDownState",value:function(ge){var ne=(0,C.dE)(ge,this.state),Ie=(0,me.eD)(this.scene.getNonDeletedElements(),this.state),Le=(0,j.KP)(Ie),He=(0,E.Z)(Le,4),Ke=He[0],Ye=He[1],Xe=He[2],st=He[3];return{origin:ne,withCmdOrCtrl:ge[U.tW.CTRL_OR_CMD],originInGrid:(0,C.AK)((0,q.wC)(ne.x,ne.y,this.state.gridSize)),scrollbars:(0,me._4)(hp,ge.clientX-this.state.offsetLeft,ge.clientY-this.state.offsetTop),lastCoords:ht({},ne),originalElements:this.scene.getNonDeletedElements().reduce(function(ct,at){return ct.set(at.id,(0,oe.OL)(at)),ct},new Map),resize:{handleType:!1,isResizing:!1,offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Xe+Ke)/2,y:(st+Ye)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(ne,Ie)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null},boxSelection:{hasOccurred:!1},elementIdsToErase:{}}}},{key:"handleDraggingScrollBar",value:function(ge,ne){var Ie=this;if(!ne.scrollbars.isOverEither||this.state.multiElement)return!1;pp=!0,ne.lastCoords.x=ge.clientX,ne.lastCoords.y=ge.clientY;var Le=(0,C.$9)(function(Ke){Ke.target instanceof HTMLElement&&Ie.handlePointerMoveOverScrollbars(Ke,ne)}),He=(0,C.tH)(function(){pp=!1,(0,C.Uk)(Ie.canvas,Ie.state),ea=null,Ie.setState({cursorButton:"up"}),Ie.savePointer(ge.clientX,ge.clientY,"up"),window.removeEventListener(g.Ks.POINTER_MOVE,Le),window.removeEventListener(g.Ks.POINTER_UP,He),Le.flush()});return ea=He,window.addEventListener(g.Ks.POINTER_MOVE,Le),window.addEventListener(g.Ks.POINTER_UP,He),!0}},{key:"isASelectedElement",value:function(ge){return ge!=null&&this.state.selectedElementIds[ge.id]}},{key:"isHittingCommonBoundingBoxOfSelectedElements",value:function(ge,ne){if(ne.length<2)return!1;var Ie=10/this.state.zoom.value,Le=(0,j.KP)(ne),He=(0,E.Z)(Le,4),Ke=He[0],Ye=He[1],Xe=He[2],st=He[3];return ge.x>Ke-Ie&&ge.x<Xe+Ie&&ge.y>Ye-Ie&&ge.y<st+Ie}},{key:"onKeyDownFromPointerDownHandler",value:function(ge){var ne=this;return(0,C.tH)(function(Ie){ne.maybeHandleResize(ge,Ie)||ne.maybeDragNewGenericElement(ge,Ie)})}},{key:"onKeyUpFromPointerDownHandler",value:function(ge){var ne=this;return(0,C.tH)(function(Ie){Ie.key===U.tW.ALT&&Ie.preventDefault(),ne.maybeHandleResize(ge,Ie)||ne.maybeDragNewGenericElement(ge,Ie)})}},{key:"onPointerMoveFromPointerDownHandler",value:function(ge){var ne=this;return(0,C.$9)(function(Ie){var Le;if(ge.drag.offset===null&&(ge.drag.offset=(0,C.AK)((0,j.$V)((0,me.eD)(ne.scene.getNonDeletedElements(),ne.state),ge.origin.x,ge.origin.y))),Ie.target instanceof HTMLElement&&!ne.handlePointerMoveOverScrollbars(Ie,ge)){var He=(0,C.dE)(Ie,ne.state);if((0,ie.EN)(ne.state))ne.handleEraser(Ie,ge,He);else{var Ke=(0,q.wC)(He.x,He.y,ne.state.gridSize),Ye=(0,E.Z)(Ke,2),Xe=Ye[0],st=Ye[1];if(ge.drag.hasOccurred||ne.state.activeTool.type!=="arrow"&&ne.state.activeTool.type!=="line"||!((0,q.LW)(He.x,He.y,ge.origin.x,ge.origin.y)<g.f)){if(ge.resize.isResizing&&(ge.lastCoords.x=He.x,ge.lastCoords.y=He.y,ne.maybeHandleResize(ge,Ie)))return!0;if(ne.state.selectedLinearElement){var ct=ne.state.editingLinearElement||ne.state.selectedLinearElement;if(V._.shouldAddMidpoint(ne.state.selectedLinearElement,He,ne.state)){var at=V._.addMidpoint(ne.state.selectedLinearElement,He,ne.state);return at?void(0,je.flushSync)(function(){ne.state.selectedLinearElement&&ne.setState({selectedLinearElement:ht(ht({},ne.state.selectedLinearElement),{},{pointerDownState:at.pointerDownState,selectedPointsIndices:at.selectedPointsIndices})}),ne.state.editingLinearElement&&ne.setState({editingLinearElement:ht(ht({},ne.state.editingLinearElement),{},{pointerDownState:at.pointerDownState,selectedPointsIndices:at.selectedPointsIndices})})}):void 0}if(ct.pointerDownState.segmentMidpoint.value!==null&&!ct.pointerDownState.segmentMidpoint.added)return;var Ot=V._.handlePointDragging(Ie,ne.state,He.x,He.y,function(ri,Su){ne.maybeSuggestBindingsForLinearElementAtCoords(ri,Su)},ct);if(Ot)return ge.lastCoords.x=He.x,ge.lastCoords.y=He.y,ge.drag.hasOccurred=!0,ne.state.editingLinearElement&&!ne.state.editingLinearElement.isDragging&&ne.setState({editingLinearElement:ht(ht({},ne.state.editingLinearElement),{},{isDragging:!0})}),void(ne.state.selectedLinearElement.isDragging||ne.setState({selectedLinearElement:ht(ht({},ne.state.selectedLinearElement),{},{isDragging:!0})}))}var bt=ge.hit.allHitElements.some(function(ri){return ne.isASelectedElement(ri)}),Rt=ne.state.editingLinearElement&&Ie.shiftKey&&ne.state.editingLinearElement.elementId===((Le=ge.hit.element)===null||Le===void 0?void 0:Le.id);if((bt||ge.hit.hasHitCommonBoundingBoxOfSelectedElements)&&!Rt){var mt=(0,me.eD)(ne.scene.getNonDeletedElements(),ne.state);if(mt.every(function(ri){return ri.locked}))return;if(ge.drag.hasOccurred=!0,mt.length>0&&!ge.withCmdOrCtrl){var on=(0,q.wC)(He.x-ge.drag.offset.x,He.y-ge.drag.offset.y,ne.state.gridSize),$t=(0,E.Z)(on,2),Gt=$t[0],cn=$t[1],Nt=[Math.abs(He.x-ge.origin.x),Math.abs(He.y-ge.origin.y)],Xt=Nt[0],gn=Nt[1],rr=Ie.shiftKey;if((0,j.o8)(ge,mt,Gt,cn,rr,Xt,gn,ne.state),ne.maybeSuggestBindingForAll(mt),Ie.altKey&&!ge.hit.hasBeenDuplicated){ge.hit.hasBeenDuplicated=!0;var fr,br=[],qn=[],gi=new Map,bn=new Map,pr=ge.hit.element,ir=ne.scene.getElementsIncludingDeleted(),Gr=(0,me.eD)(ir,ne.state,!0).map(function(ri){return ri.id}),pn=Rg(ir);try{for(pn.s();!(fr=pn.n()).done;){var Dn=fr.value;if(Gr.includes(Dn.id)||Dn.id===(pr==null?void 0:pr.id)&&ge.hit.wasAddedToSelection){var hr=(0,j.Sy)(ne.state.editingGroupId,gi,Dn),ta=(0,q.wC)(ge.origin.x-ge.drag.offset.x,ge.origin.y-ge.drag.offset.y,ne.state.gridSize),Ug=(0,E.Z)(ta,2),zk=Ug[0],Bk=Ug[1];(0,P.DR)(hr,{x:hr.x+(zk-Gt),y:hr.y+(Bk-cn)}),br.push(hr),qn.push(Dn),bn.set(Dn.id,hr.id)}else br.push(Dn)}}catch(ri){pn.e(ri)}finally{pn.f()}var Vg=[].concat(br,qn);(0,wt.P7)(br,qn,bn),(0,M.ek)(Vg,qn,bn,"duplicatesServeAsOld"),ne.scene.replaceAllElements(Vg)}return}}var lr=ne.state.draggingElement;if(lr){if(lr.type==="freedraw"){var Eu=lr.points,Kg=He.x-lr.x,Gg=He.y-lr.y,vp=Eu.length>0&&Eu[Eu.length-1];if(!(vp&&vp[0]===Kg&&vp[1]===Gg)){var Zk=lr.simulatePressure?lr.pressures:[].concat((0,h.Z)(lr.pressures),[Ie.pressure]);(0,P.DR)(lr,{points:[].concat((0,h.Z)(Eu),[[Kg,Gg]]),pressures:Zk})}}else if((0,G.bt)(lr)){ge.drag.hasOccurred=!0;var Kl=lr.points,yp=Xe-lr.x,bp=st-lr.y;if((0,U.Ge)(Ie)&&Kl.length===2){var Yg=(0,j.o4)(lr.x,lr.y,He.x,He.y);yp=Yg.width,bp=Yg.height}Kl.length===1?(0,P.DR)(lr,{points:[].concat((0,h.Z)(Kl),[[yp,bp]])}):Kl.length===2&&(0,P.DR)(lr,{points:[].concat((0,h.Z)(Kl.slice(0,-1)),[[yp,bp]])}),(0,G.Mn)(lr,!1)&&ne.maybeSuggestBindingsForLinearElementAtCoords(lr,[He],ne.state.startBoundElement)}else ge.lastCoords.x=He.x,ge.lastCoords.y=He.y,ne.maybeDragNewGenericElement(ge,Ie);if(ne.state.activeTool.type==="selection"){ge.boxSelection.hasOccurred=!0;var Jg=ne.scene.getNonDeletedElements();if(Ie.shiftKey||ne.state.editingLinearElement||!(0,me.N)(Jg,ne.state)||(ge.withCmdOrCtrl&&ge.hit.element?ne.setState(function(ri){return(0,L.bO)(ht(ht({},ri),{},{selectedElementIds:(0,ee.Z)({},ge.hit.element.id,!0)}),ne.scene.getNonDeletedElements())}):ne.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),ne.state.editingLinearElement)V._.handleBoxSelection(Ie,ne.state,ne.setState.bind(ne));else{var Ja=(0,me.Yp)(Jg,lr);ne.setState(function(ri){return(0,L.bO)(ht(ht({},ri),{},{selectedElementIds:ht(ht(ht({},ri.selectedElementIds),Ja.reduce(function(Su,Fk){return Su[Fk.id]=!0,Su},{})),ge.hit.element?(0,ee.Z)({},ge.hit.element.id,!Ja.length):null),showHyperlinkPopup:!(Ja.length!==1||!Ja[0].link)&&"info",selectedLinearElement:Ja.length===1&&(0,G.bt)(Ja[0])?new V._(Ja[0],ne.scene):null}),ne.scene.getNonDeletedElements())})}}}}}}})}},{key:"handlePointerMoveOverScrollbars",value:function(ge,ne){if(ne.scrollbars.isOverHorizontal){var Ie=ge.clientX,Le=Ie-ne.lastCoords.x;return this.setState({scrollX:this.state.scrollX-Le/this.state.zoom.value}),ne.lastCoords.x=Ie,!0}if(ne.scrollbars.isOverVertical){var He=ge.clientY,Ke=He-ne.lastCoords.y;return this.setState({scrollY:this.state.scrollY-Ke/this.state.zoom.value}),ne.lastCoords.y=He,!0}return!1}},{key:"onPointerUpFromPointerDownHandler",value:function(ge){var ne=this;return(0,C.tH)(function(Ie){var Le,He,Ke,Ye=ne.state,Xe=Ye.draggingElement,st=Ye.resizingElement,ct=Ye.multiElement,at=Ye.activeTool,Ot=Ye.isResizing,bt=Ye.isRotating;if(ne.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:ct||(0,j.iB)(ne.state.editingElement)?ne.state.editingElement:null}),ne.savePointer(Ie.clientX,Ie.clientY,"up"),ne.state.editingLinearElement)if(ge.boxSelection.hasOccurred||((He=ge.hit)===null||He===void 0||(Ke=He.element)===null||Ke===void 0?void 0:Ke.id)===ne.state.editingLinearElement.elementId){var Rt=V._.handlePointerUp(Ie,ne.state.editingLinearElement,ne.state);Rt!==ne.state.editingLinearElement&&ne.setState({editingLinearElement:Rt,suggestedBindings:[]})}else ne.actionManager.executeAction(z.pL);else if(ne.state.selectedLinearElement){var mt,on;if(((mt=ge.hit)===null||mt===void 0||(on=mt.element)===null||on===void 0?void 0:on.id)!==ne.state.selectedLinearElement.elementId)(0,me.eD)(ne.scene.getNonDeletedElements(),ne.state).length>1&&ne.setState({selectedLinearElement:null});else{var $t=V._.handlePointerUp(Ie,ne.state.selectedLinearElement,ne.state),Gt=$t.startBindingElement,cn=$t.endBindingElement,Nt=ne.scene.getElement($t.elementId);(0,G.Mn)(Nt)&&(0,M.HG)(Nt,Gt,cn),$t!==ne.state.selectedLinearElement&&ne.setState({selectedLinearElement:ht(ht({},$t),{},{selectedPointsIndices:null}),suggestedBindings:[]})}}if(ea=null,ge.eventListeners.onMove&&ge.eventListeners.onMove.flush(),window.removeEventListener(g.Ks.POINTER_MOVE,ge.eventListeners.onMove),window.removeEventListener(g.Ks.POINTER_UP,ge.eventListeners.onUp),window.removeEventListener(g.Ks.KEYDOWN,ge.eventListeners.onKeyDown),window.removeEventListener(g.Ks.KEYUP,ge.eventListeners.onKeyUp),ne.state.pendingImageElementId&&ne.setState({pendingImageElementId:null}),(Xe==null?void 0:Xe.type)==="freedraw"){var Xt=(0,C.dE)(Ie,ne.state),gn=Xe.points,rr=Xt.x-Xe.x,fr=Xt.y-Xe.y;rr===gn[0][0]&&fr===gn[0][1]&&(fr+=1e-4,rr+=1e-4);var br=Xe.simulatePressure?[]:[].concat((0,h.Z)(Xe.pressures),[Ie.pressure]);return(0,P.DR)(Xe,{points:[].concat((0,h.Z)(gn),[[rr,fr]]),pressures:br,lastCommittedPoint:[rr,fr]}),void ne.actionManager.executeAction(z.pL)}if((0,G.pC)(Xe)){var qn=Xe;try{ne.initializeImageDimensions(qn),ne.setState({selectedElementIds:(0,ee.Z)({},qn.id,!0)},function(){ne.actionManager.executeAction(z.pL)})}catch(pn){console.error(pn),ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().filter(function(Dn){return Dn.id!==qn.id})),ne.actionManager.executeAction(z.pL)}}else if((0,G.bt)(Xe)){Xe.points.length>1&&ne.history.resumeRecording();var gi=(0,C.dE)(Ie,ne.state);ge.drag.hasOccurred||!Xe||ct?ge.drag.hasOccurred&&!ct&&((0,M.N1)(ne.state)&&(0,G.Mn)(Xe,!1)&&(0,M.R)(Xe,ne.state,ne.scene,gi),ne.setState({suggestedBindings:[],startBoundElement:null}),at.locked?ne.setState(function(pn){return{draggingElement:null}}):((0,C.z8)(ne.canvas),ne.setState(function(pn){return{draggingElement:null,activeTool:(0,C.Om)(ne.state,{type:"selection"}),selectedElementIds:ht(ht({},pn.selectedElementIds),{},(0,ee.Z)({},Xe.id,!0)),selectedLinearElement:new V._(Xe,ne.scene)}}))):((0,P.DR)(Xe,{points:[].concat((0,h.Z)(Xe.points),[[gi.x-Xe.x,gi.y-Xe.y]])}),ne.setState({multiElement:Xe,editingElement:ne.state.draggingElement}))}else{if(at.type!=="selection"&&Xe&&(0,j.QD)(Xe))return ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().slice(0,-1)),void ne.setState({draggingElement:null});Xe&&(0,P.DR)(Xe,(0,j.Qp)(Xe)),st&&ne.history.resumeRecording(),st&&(0,j.QD)(st)&&ne.scene.replaceAllElements(ne.scene.getElementsIncludingDeleted().filter(function(pn){return pn.id!==st.id}));var bn=ge.hit.element;if(((Le=ne.state.selectedLinearElement)===null||Le===void 0?void 0:Le.elementId)!==(bn==null?void 0:bn.id)&&(0,G.bt)(bn)&&(0,me.eD)(ne.scene.getNonDeletedElements(),ne.state).length===1&&ne.setState({selectedLinearElement:new V._(bn,ne.scene)}),(0,ie.EN)(ne.state)){if((0,q.LW)(ne.lastPointerDown.clientX,ne.lastPointerDown.clientY,ne.lastPointerUp.clientX,ne.lastPointerUp.clientY)===0){var pr=(0,C.dE)({clientX:ne.lastPointerUp.clientX,clientY:ne.lastPointerUp.clientY},ne.state);ne.getElementsAtPosition(pr.x,pr.y).forEach(function(pn){return ge.elementIdsToErase[pn.id]={erase:!0,opacity:pn.opacity}})}ne.eraseElements(ge)}else{var ir;if(Object.keys(ge.elementIdsToErase).length&&ne.restoreReadyToEraseElements(ge),bn&&!ge.drag.hasOccurred&&!ge.hit.wasAddedToSelection&&(!ne.state.editingLinearElement||!ge.boxSelection.hasOccurred))if(Ie.shiftKey&&!ne.state.editingLinearElement)if(ne.state.selectedElementIds[bn.id])if((0,L.zq)(ne.state,bn)){var Gr=bn.groupIds.flatMap(function(pn){return(0,L.Fb)(ne.scene.getNonDeletedElements(),pn)}).map(function(pn){return(0,ee.Z)({},pn.id,!1)}).reduce(function(pn,Dn){return ht(ht({},pn),Dn)},{});ne.setState(function(pn){return{selectedGroupIds:ht(ht({},pn.selectedElementIds),bn.groupIds.map(function(Dn){return(0,ee.Z)({},Dn,!1)}).reduce(function(Dn,hr){return ht(ht({},Dn),hr)},{})),selectedElementIds:ht(ht({},pn.selectedElementIds),Gr)}})}else(ir=ne.state.selectedLinearElement)!==null&&ir!==void 0&&ir.isDragging||ne.setState(function(pn){var Dn=ht(ht({},pn.selectedElementIds),{},(0,ee.Z)({},bn.id,!1)),hr=(0,me.eD)(ne.scene.getNonDeletedElements(),ht(ht({},pn),{},{selectedElementIds:Dn}));return(0,L.bO)(ht(ht({},pn),{},{selectedElementIds:Dn,selectedLinearElement:hr.length===1&&(0,G.bt)(hr[0])?new V._(hr[0],ne.scene):pn.selectedLinearElement}),ne.scene.getNonDeletedElements())});else ne.setState(function(pn){return{selectedElementIds:ht(ht({},pn.selectedElementIds),{},(0,ee.Z)({},bn.id,!0))}});else ne.setState(function(pn){var Dn;return ht({},(0,L.bO)(ht(ht({},pn),{},{selectedElementIds:(0,ee.Z)({},bn.id,!0),selectedLinearElement:(0,G.bt)(bn)&&((Dn=pn.selectedLinearElement)===null||Dn===void 0?void 0:Dn.elementId)!==bn.id?new V._(bn,ne.scene):pn.selectedLinearElement}),ne.scene.getNonDeletedElements()))});ge.drag.hasOccurred||ne.state.isResizing||!(bn&&(0,j.wB)(bn,ne.state,ge.origin.x,ge.origin.y)||!bn&&ge.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!at.locked&&at.type!=="freedraw"&&Xe&&ne.setState(function(pn){return{selectedElementIds:ht(ht({},pn.selectedElementIds),{},(0,ee.Z)({},Xe.id,!0))}}),(at.type!=="selection"||(0,me.N)(ne.scene.getNonDeletedElements(),ne.state))&&ne.history.resumeRecording(),(ge.drag.hasOccurred||Ot||bt)&&((0,M.N1)(ne.state)?M.el:M.H)((0,me.eD)(ne.scene.getNonDeletedElements(),ne.state)),at.locked||at.type==="freedraw"?ne.setState({draggingElement:null,suggestedBindings:[]}):((0,C.z8)(ne.canvas),ne.setState({draggingElement:null,suggestedBindings:[],activeTool:(0,C.Om)(ne.state,{type:"selection"})}))):ne.state.editingLinearElement?ne.setState({editingLinearElement:null}):ne.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}}})}},{key:"maybeSuggestBindingForAll",value:function(ge){var ne=(0,M.ZB)(ge);this.setState({suggestedBindings:ne})}},{key:"clearSelection",value:function(ge){this.setState(function(ne){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:ne.editingGroupId&&ge!=null&&(0,L.Nd)(ge,ne.editingGroupId)?ne.editingGroupId:null}}),this.setState({selectedElementIds:{},previousSelectedElementIds:this.state.selectedElementIds})}},{key:"getTextWysiwygSnappedToCenterPosition",value:function(ge,ne,Ie,Le){if(Le){var He=Le.x+Le.width/2,Ke=Le.y+Le.height/2,Ye=(0,wt.TP)(Le,Ie);if(Ye&&(He=Ye.x,Ke=Ye.y),Math.hypot(ge-He,ne-Ke)<g.wZ){var Xe=(0,C._i)({sceneX:He,sceneY:Ke},Ie);return{viewportX:Xe.x,viewportY:Xe.y,elementCenterX:He,elementCenterY:Ke}}}}},{key:"getCanvasOffsets",value:function(){var ge;if((ge=this.excalidrawContainerRef)!==null&&ge!==void 0&&ge.current){var ne=this.excalidrawContainerRef.current.getBoundingClientRect();return{offsetLeft:ne.left,offsetTop:ne.top}}return{offsetLeft:0,offsetTop:0}}},{key:"updateLanguage",value:(W=(0,f.Z)(N().mark(function ge(){var ne,Ie=this;return N().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return ne=A.Mj.find(function(He){return He.code===Ie.props.langCode})||A.Fp,Le.next=3,(0,A.m0)(ne);case 3:this.setAppState({});case 4:case"end":return Le.stop()}},ge,this)})),function(){return W.apply(this,arguments)})}],[{key:"resetTapTwice",value:function(){Wl=!1}}]),Ne}(Se().Component);gp.defaultProps={UIOptions:g.cW};var Nk=function(){var p=this;this.canvas=null,this.rc=null,this.unmounted=!1,this.device=Zg,this.excalidrawContainerRef=Se().createRef(),this.files={},this.imageCache=new Map,this.lastPointerDown=null,this.lastPointerUp=null,this.lastScenePointer=null,this.focusContainer=function(){var W;p.props.autoFocus&&((W=p.excalidrawContainerRef.current)===null||W===void 0||W.focus())},this.getSceneElementsIncludingDeleted=function(){return p.scene.getElementsIncludingDeleted()},this.getSceneElements=function(){return p.scene.getNonDeletedElements()},this.syncActionResult=(0,C.tH)(function(W){if(!p.unmounted&&W!==!1){var ce=null;if(W.elements&&(W.elements.forEach(function(ct){var at;((at=p.state.editingElement)===null||at===void 0?void 0:at.id)===ct.id&&p.state.editingElement!==ct&&(0,j.qP)(ct)&&(ce=ct)}),p.scene.replaceAllElements(W.elements),W.commitToHistory&&p.history.resumeRecording()),W.files&&(p.files=W.replaceFiles?W.files:ht(ht({},p.files),W.files),p.addNewImagesToImageCache()),W.appState||ce||p.state.contextMenu){var xe,Ne,ge,ne,Ie,Le;W.commitToHistory&&p.history.resumeRecording();var He=(W==null||(xe=W.appState)===null||xe===void 0?void 0:xe.viewModeEnabled)||!1,Ke=(W==null||(Ne=W.appState)===null||Ne===void 0?void 0:Ne.zenModeEnabled)||!1,Ye=(W==null||(ge=W.appState)===null||ge===void 0?void 0:ge.gridSize)||null,Xe=(W==null||(ne=W.appState)===null||ne===void 0?void 0:ne.theme)||p.props.theme||g.C6.LIGHT,st=(Ie=W==null||(Le=W.appState)===null||Le===void 0?void 0:Le.name)!==null&&Ie!==void 0?Ie:p.state.name;p.props.viewModeEnabled!==void 0&&(He=p.props.viewModeEnabled),p.props.zenModeEnabled!==void 0&&(Ke=p.props.zenModeEnabled),p.props.gridModeEnabled!==void 0&&(Ye=p.props.gridModeEnabled?g.k:null),p.props.name!==void 0&&(st=p.props.name),p.setState(function(ct){var at;return Object.assign(W.appState||{},{contextMenu:null,editingElement:ce||((at=W.appState)===null||at===void 0?void 0:at.editingElement)||null,viewModeEnabled:He,zenModeEnabled:Ke,gridSize:Ye,theme:Xe,name:st})},function(){W.syncHistory&&p.history.setCurrentState(p.state,p.scene.getElementsIncludingDeleted())})}}}),this.onBlur=(0,C.tH)(function(){Ya=!1,p.setState({isBindingEnabled:!0})}),this.onUnload=function(){p.onBlur()},this.disableEvent=function(W){W.preventDefault()},this.resetHistory=function(){p.history.clear()},this.resetScene=(0,C.tH)(function(W){p.scene.replaceAllElements([]),p.setState(function(ce){return ht(ht({},(0,ie.im)()),{},{isLoading:(W==null||!W.resetLoadingState)&&ce.isLoading,theme:p.state.theme})}),p.resetHistory()}),this.initializeScene=(0,f.Z)(N().mark(function W(){var ce,xe,Ne,ge,ne;return N().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return"launchQueue"in window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var Le=(0,f.Z)(N().mark(function He(Ke){var Ye,Xe;return N().wrap(function(st){for(;;)switch(st.prev=st.next){case 0:if(Ke.files.length){st.next=2;break}return st.abrupt("return");case 2:return Ye=Ke.files[0],st.next=5,Ye.getFile();case 5:Xe=st.sent,p.loadFileToCanvas(new File([Xe],Xe.name||"",{type:Xe.type}),Ye);case 7:case"end":return st.stop()}},He)}));return function(He){return Le.apply(this,arguments)}}()),p.props.theme&&p.setState({theme:p.props.theme}),p.state.isLoading||p.setState({isLoading:!0}),Ne=null,Ie.prev=4,Ie.next=7,p.props.initialData;case 7:if(Ie.t0=Ie.sent,Ie.t0){Ie.next=10;break}Ie.t0=null;case 10:Ne=Ie.t0,(ge=Ne)!==null&&ge!==void 0&&ge.libraryItems&&p.library.updateLibrary({libraryItems:Ne.libraryItems,merge:!0}).catch(function(Le){console.error(Le)}),Ie.next=18;break;case 14:Ie.prev=14,Ie.t1=Ie.catch(4),console.error(Ie.t1),Ne={appState:{errorMessage:Ie.t1.message||"Encountered an error during importing or restoring scene data"}};case 18:(ne=(0,ae.nu)(Ne,null,null)).appState=ht(ht({},ne.appState),{},{theme:p.props.theme||ne.appState.theme,openSidebar:((ce=ne.appState)===null||ce===void 0?void 0:ce.openSidebar)||p.state.openSidebar,activeTool:ne.appState.activeTool.type==="image"?ht(ht({},ne.appState.activeTool),{},{type:"selection"}):ne.appState.activeTool,isLoading:!1,toast:p.state.toast}),(xe=Ne)!==null&&xe!==void 0&&xe.scrollToContent&&(ne.appState=ht(ht({},ne.appState),(0,me.W)(ne.elements,ht(ht({},ne.appState),{},{width:p.state.width,height:p.state.height,offsetTop:p.state.offsetTop,offsetLeft:p.state.offsetLeft}),null))),p.fonts.loadFontsForElements(ne.elements),p.resetHistory(),p.syncActionResult(ht(ht({},ne),{},{commitToHistory:!0}));case 24:case"end":return Ie.stop()}},W,null,[[4,14]])})),this.refreshDeviceState=function(W){var ce=W.getBoundingClientRect(),xe=ce.width,Ne=ce.height,ge=p.props.UIOptions.dockedSidebarBreakpoint!=null?p.props.UIOptions.dockedSidebarBreakpoint:g.sk;p.device=(0,C.v4)(p.device,{isSmScreen:xe<g.eF,isMobile:xe<g.kV||Ne<g.Yx&&xe<g.sS,canDeviceFitSidebar:xe>ge})},this.onResize=(0,C.tH)(function(){p.scene.getElementsIncludingDeleted().forEach(function(W){return(0,te.bI)(W)}),p.setState({})}),this.renderScene=function(){var W={},ce={},xe={},Ne={},ge={};p.state.collaborators.forEach(function(Le,He){if(Le.selectedElementIds)for(var Ke=0,Ye=Object.keys(Le.selectedElementIds);Ke<Ye.length;Ke++){var Xe=Ye[Ke];Xe in xe||(xe[Xe]=[]),xe[Xe].push(He)}Le.pointer&&(Le.username&&(Ne[He]=Le.username),Le.userState&&(ge[He]=Le.userState),ce[He]=(0,C._i)({sceneX:Le.pointer.x,sceneY:Le.pointer.y},p.state),W[He]=Le.button)});var ne=p.scene.getNonDeletedElements().filter(function(Le){return(!(0,G.pC)(Le)||p.state.pendingImageElementId!==Le.id)&&(!p.state.editingElement||p.state.editingElement.type!=="text"||Le.id!==p.state.editingElement.id)}),Ie=getComputedStyle(document.querySelector(".excalidraw")).getPropertyValue("--color-selection");(0,Ce.Eu)({elements:ne,appState:p.state,scale:window.devicePixelRatio,rc:p.rc,canvas:p.canvas,renderConfig:{selectionColor:Ie,scrollX:p.state.scrollX,scrollY:p.state.scrollY,viewBackgroundColor:p.state.viewBackgroundColor,zoom:p.state.zoom,remotePointerViewportCoords:ce,remotePointerButton:W,remoteSelectedElementIds:xe,remotePointerUsernames:Ne,remotePointerUserStates:ge,shouldCacheIgnoreZoom:p.state.shouldCacheIgnoreZoom,theme:p.state.theme,imageCache:p.imageCache,isExporting:!1,renderScrollbars:!p.device.isMobile},callback:function(Le){var He=Le.atLeastOneVisibleElement,Ke=Le.scrollBars;Ke&&(hp=Ke);var Ye=!(0,j.iB)(p.state.editingElement)&&!He&&ne.length>0;p.state.scrolledOutside!==Ye&&p.setState({scrolledOutside:Ye}),p.scheduleImageRefresh()}},ku&&window.EXCALIDRAW_THROTTLE_RENDER===!0),ku||(ku=!0)},this.onScroll=(0,C.Ds)(function(){var W=p.getCanvasOffsets(),ce=W.offsetTop,xe=W.offsetLeft;p.setState(function(Ne){return Ne.offsetLeft===xe&&Ne.offsetTop===ce?null:{offsetTop:ce,offsetLeft:xe}})},g.HM),this.onCut=(0,C.tH)(function(W){var ce;!((ce=p.excalidrawContainerRef.current)===null||ce===void 0)&&ce.contains(document.activeElement)&&!(0,C.s)(W.target)&&(p.cutAll(),W.preventDefault(),W.stopPropagation())}),this.onCopy=(0,C.tH)(function(W){var ce;!((ce=p.excalidrawContainerRef.current)===null||ce===void 0)&&ce.contains(document.activeElement)&&!(0,C.s)(W.target)&&(p.copyAll(),W.preventDefault(),W.stopPropagation())}),this.cutAll=function(){p.actionManager.executeAction(z.ZM,"keyboard")},this.copyAll=function(){p.actionManager.executeAction(z.uN,"keyboard")},this.onTapStart=function(W){if(g.Dt||W.preventDefault(),!Wl)return Wl=!0,clearTimeout(fp),void(fp=window.setTimeout(gp.resetTapTwice,g.Gj));if(Wl&&W.touches.length===1){var ce=(0,E.Z)(W.touches,1)[0];p.handleCanvasDoubleClick({clientX:ce.clientX,clientY:ce.clientY}),Wl=!1,clearTimeout(fp)}g.Dt&&W.preventDefault(),W.touches.length===2&&p.setState({selectedElementIds:{}})},this.onTapEnd=function(W){p.resetContextMenuTimer(),W.touches.length>0?p.setState({previousSelectedElementIds:{},selectedElementIds:p.state.previousSelectedElementIds}):An.pointers.clear()},this.pasteFromClipboard=(0,C.tH)(function(){var W=(0,f.Z)(N().mark(function ce(xe){var Ne,ge,ne,Ie,Le,He,Ke,Ye,Xe,st,ct,at,Ot;return N().wrap(function(bt){for(;;)switch(bt.prev=bt.next){case 0:if(ne=!(!mp||!xe),Ie=document.activeElement,Le=(Ne=p.excalidrawContainerRef.current)===null||Ne===void 0?void 0:Ne.contains(Ie),!xe||Le){bt.next=5;break}return bt.abrupt("return");case 5:if(He=document.elementFromPoint(Ka,Ga),!xe||He instanceof HTMLCanvasElement&&!(0,C.s)(Ie)){bt.next=8;break}return bt.abrupt("return");case 8:return Ke=xe==null||(ge=xe.clipboardData)===null||ge===void 0?void 0:ge.files[0],bt.next=11,(0,$.mQ)(xe,ne);case 11:if(Ye=bt.sent,Ke||!Ye.text||ne||(Xe=Ye.text.trim()).startsWith("<svg")&&Xe.endsWith("</svg>")&&(Ke=(0,rt.Pn)(Xe)),!(0,rt.Wr)(Ke)||Ye.spreadsheet){bt.next=20;break}return st=(0,C.dE)({clientX:Ka,clientY:Ga},p.state),ct=st.x,at=st.y,Ot=p.createImageElement({sceneX:ct,sceneY:at}),p.insertImageElement(Ot,Ke),p.initializeImageDimensions(Ot),p.setState({selectedElementIds:(0,ee.Z)({},Ot.id,!0)}),bt.abrupt("return");case 20:if(!p.props.onPaste){bt.next=32;break}return bt.prev=21,bt.next=24,p.props.onPaste(Ye,xe);case 24:if(bt.t0=bt.sent,bt.t0!==!1){bt.next=27;break}return bt.abrupt("return");case 27:bt.next=32;break;case 29:bt.prev=29,bt.t1=bt.catch(21),console.error(bt.t1);case 32:Ye.errorMessage?p.setState({errorMessage:Ye.errorMessage}):Ye.spreadsheet&&!ne?p.setState({pasteDialog:{data:Ye.spreadsheet,shown:!0}}):Ye.elements?p.addElementsFromPasteOrLibrary({elements:Ye.elements,files:Ye.files||null,position:"cursor"}):Ye.text&&p.addTextFromPaste(Ye.text,ne),p.setActiveTool({type:"selection"}),xe==null||xe.preventDefault();case 35:case"end":return bt.stop()}},ce,null,[[21,29]])}));return function(ce){return W.apply(this,arguments)}}()),this.addElementsFromPasteOrLibrary=function(W){var ce=(0,ae.ET)(W.elements,null),xe=(0,j.KP)(ce),Ne=(0,E.Z)(xe,4),ge=Ne[0],ne=Ne[1],Ie=Ne[2],Le=Ne[3],He=(0,C.TE)(ge,Ie)/2,Ke=(0,C.TE)(ne,Le)/2,Ye=(0,v.Z)(W.position)==="object"?W.position.clientX:W.position==="cursor"?Ka:p.state.width/2+p.state.offsetLeft,Xe=(0,v.Z)(W.position)==="object"?W.position.clientY:W.position==="cursor"?Ga:p.state.height/2+p.state.offsetTop,st=(0,C.dE)({clientX:Ye,clientY:Xe},p.state),ct=st.x-He,at=st.y-Ke,Ot=new Map,bt=(0,q.wC)(ct,at,p.state.gridSize),Rt=(0,E.Z)(bt,2),mt=Rt[0],on=Rt[1],$t=new Map,Gt=ce.map(function(Nt){var Xt=(0,j.Sy)(p.state.editingGroupId,Ot,Nt,{x:Nt.x+mt-ge,y:Nt.y+on-ne});return $t.set(Nt.id,Xt.id),Xt});(0,wt.P7)(Gt,ce,$t);var cn=[].concat((0,h.Z)(p.scene.getElementsIncludingDeleted()),(0,h.Z)(Gt));(0,M.ek)(cn,ce,$t),W.files&&(p.files=ht(ht({},p.files),W.files)),p.scene.replaceAllElements(cn),p.history.resumeRecording(),p.setState((0,L.bO)(ht(ht({},p.state),{},{openSidebar:p.state.openSidebar&&p.device.canDeviceFitSidebar&&p.state.isSidebarDocked?p.state.openSidebar:null,selectedElementIds:Gt.reduce(function(Nt,Xt){return(0,G.Xh)(Xt)||(Nt[Xt.id]=!0),Nt},{}),selectedGroupIds:{}}),p.scene.getNonDeletedElements()),function(){W.files&&p.addNewImagesToImageCache()}),p.setActiveTool({type:"selection"})},this.setAppState=function(W,ce){p.setState(W,ce)},this.removePointer=function(W){Qo&&p.resetContextMenuTimer(),An.pointers.delete(W.pointerId)},this.toggleLock=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"ui";p.state.activeTool.locked||(0,_.L)("toolbar","toggleLock","".concat(W," (").concat(p.device.isMobile?"mobile":"desktop",")")),p.setState(function(ce){return{activeTool:ht(ht(ht({},ce.activeTool),(0,C.Om)(p.state,ce.activeTool.locked?{type:"selection"}:ce.activeTool)),{},{locked:!ce.activeTool.locked})}})},this.togglePenMode=function(){p.setState(function(W){return{penMode:!W.penMode}})},this.onHandToolToggle=function(){p.actionManager.executeAction(_k.eF)},this.scrollToContent=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:p.scene.getNonDeletedElements();p.setState(ht({},(0,me.W)(Array.isArray(W)?W:[W],p.state,p.canvas)))},this.setToast=function(W){p.setState({toast:W})},this.restoreFileFromShare=(0,f.Z)(N().mark(function W(){var ce,xe,Ne,ge;return N().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.prev=0,ne.next=3,caches.open("web-share-target");case 3:return ce=ne.sent,ne.next=6,ce.match("shared-file");case 6:if(!(xe=ne.sent)){ne.next=16;break}return ne.next=10,xe.blob();case 10:return Ne=ne.sent,ge=new File([Ne],Ne.name||"",{type:Ne.type}),p.loadFileToCanvas(ge,null),ne.next=15,ce.delete("shared-file");case 15:window.history.replaceState(null,g.iC,window.location.pathname);case 16:ne.next=21;break;case 18:ne.prev=18,ne.t0=ne.catch(0),p.setState({errorMessage:ne.t0.message});case 21:case"end":return ne.stop()}},W,null,[[0,18]])})),this.addFiles=(0,C.tH)(function(W){var ce=W.reduce(function(xe,Ne){return xe.set(Ne.id,Ne),xe},new Map);p.files=ht(ht({},p.files),Object.fromEntries(ce)),p.scene.getNonDeletedElements().forEach(function(xe){(0,G.wi)(xe)&&ce.has(xe.fileId)&&(p.imageCache.delete(xe.fileId),(0,te.bI)(xe))}),p.scene.informMutation(),p.addNewImagesToImageCache()}),this.updateScene=(0,C.tH)(function(W){W.commitToHistory&&p.history.resumeRecording(),W.appState&&p.setState(W.appState),W.elements&&p.scene.replaceAllElements(W.elements),W.collaborators&&p.setState({collaborators:W.collaborators})}),this.onSceneUpdated=function(){p.setState({})},this.toggleMenu=function(W,ce){return W!=="customSidebar"||p.props.renderSidebar?(W==="library"||W==="customSidebar")&&(xe=ce===void 0?p.state.openSidebar===W?null:W:ce?W:null,p.setState({openSidebar:xe}),!!xe):(console.warn('attempting to toggle "customSidebar", but no "props.renderSidebar" is defined'),!1);var xe},this.updateCurrentCursorPosition=(0,C.tH)(function(W){Ka=W.clientX,Ga=W.clientY}),this.onKeyDown=(0,C.tH)(function(W){if("Proxy"in window&&(!W.shiftKey&&/^[A-Z]$/.test(W.key)||W.shiftKey&&/^[a-z]$/.test(W.key))&&(W=new Proxy(W,{get:function(at,Ot){var bt=at[Ot];return typeof bt=="function"?bt.bind(at):Ot==="key"?W.shiftKey?at.key.toUpperCase():at.key.toLowerCase():bt}})),W[U.tW.CTRL_OR_CMD]&&W.key.toLowerCase()===U.tW.V&&(mp=W.shiftKey,clearTimeout(Hg),Hg=window.setTimeout(function(){mp=!1},100)),!W[U.tW.CTRL_OR_CMD]||!(0,C.s)(W.target)||W.code!==U.aU.MINUS&&W.code!==U.aU.EQUAL){if(!((0,C.s)(W.target)&&W.key!==U.tW.ESCAPE||(0,U.Wl)(W.key)&&(0,C._Z)(W.target)))if(W.key!==U.tW.QUESTION_MARK)if(W.key.toLowerCase()===U.tW.E&&W.shiftKey&&W[U.tW.CTRL_OR_CMD])p.setState({openDialog:"imageExport"});else{if(W.key===U.tW.PAGE_UP||W.key===U.tW.PAGE_DOWN){var ce=(W.shiftKey?p.state.width:p.state.height)/p.state.zoom.value;W.key===U.tW.PAGE_DOWN&&(ce=-ce),W.shiftKey?p.setState(function(at){return{scrollX:at.scrollX+ce}}):p.setState(function(at){return{scrollY:at.scrollY+ce}})}if(!p.actionManager.handleKeyDown(W)&&!p.state.viewModeEnabled){if(W[U.tW.CTRL_OR_CMD]&&p.state.isBindingEnabled&&p.setState({isBindingEnabled:!1}),(0,U.Wl)(W.key)){var xe=p.state.gridSize&&(W.shiftKey?g.$e:p.state.gridSize)||(W.shiftKey?g.Iw:g.$e),Ne=0,ge=0;W.key===U.tW.ARROW_LEFT?Ne=-xe:W.key===U.tW.ARROW_RIGHT?Ne=xe:W.key===U.tW.ARROW_UP?ge=-xe:W.key===U.tW.ARROW_DOWN&&(ge=xe);var ne=(0,me.eD)(p.scene.getNonDeletedElements(),p.state,!0);ne.forEach(function(at){(0,P.DR)(at,{x:at.x+Ne,y:at.y+ge}),(0,M.Ww)(at,{simultaneouslyUpdated:ne})}),p.maybeSuggestBindingForAll(ne),W.preventDefault()}else if(W.key===U.tW.ENTER){var Ie=(0,me.eD)(p.scene.getNonDeletedElements(),p.state);if(Ie.length===1){var Le=Ie[0];if(W[U.tW.CTRL_OR_CMD])(0,G.bt)(Le)&&(p.state.editingLinearElement&&p.state.editingLinearElement.elementId===Ie[0].id||(p.history.resumeRecording(),p.setState({editingLinearElement:new V._(Le,p.scene)})));else if((0,j.iB)(Le)||(0,wt.Zr)(Le)){var He;(0,j.iB)(Le)||(He=Le);var Ke=(0,wt.TP)(Le,p.state),Ye=Ke.x,Xe=Ke.y;return p.startTextEditing({sceneX:Ye,sceneY:Xe,container:He}),void W.preventDefault()}}}else if(!W.ctrlKey&&!W.altKey&&!W.metaKey&&p.state.draggingElement===null){var st=function(at){var Ot=Q.find(function(bt,Rt){return bt.numericKey!=null&&at===bt.numericKey.toString()||bt.key&&(typeof bt.key=="string"?bt.key===at:bt.key.includes(at))});return(Ot==null?void 0:Ot.value)||null}(W.key);st?(p.state.activeTool.type!==st&&(0,_.L)("toolbar",st,"keyboard (".concat(p.device.isMobile?"mobile":"desktop",")")),p.setActiveTool({type:st}),W.stopPropagation()):W.key===U.tW.Q&&(p.toggleLock("keyboard"),W.stopPropagation())}if(W.key===U.tW.SPACE&&An.pointers.size===0&&(Ya=!0,(0,C.KJ)(p.canvas,g.oc.GRAB),W.preventDefault()),!(W.key!==U.tW.G&&W.key!==U.tW.S||W.altKey||W[U.tW.CTRL_OR_CMD])){var ct=(0,me.eD)(p.scene.getNonDeletedElements(),p.state);if(p.state.activeTool.type==="selection"&&!ct.length)return;W.key===U.tW.G&&((0,me.$b)(p.state.activeTool.type)||ct.some(function(at){return(0,me.$b)(at.type)}))&&(p.setState({openPopup:"backgroundColorPicker"}),W.stopPropagation()),W.key===U.tW.S&&(p.setState({openPopup:"strokeColorPicker"}),W.stopPropagation())}}}else p.setState({openDialog:"help"})}else W.preventDefault()}),this.onWheel=(0,C.tH)(function(W){W.target instanceof HTMLCanvasElement||!W.ctrlKey||W.preventDefault()}),this.onKeyUp=(0,C.tH)(function(W){if(W.key===U.tW.SPACE&&(p.state.viewModeEnabled?(0,C.KJ)(p.canvas,g.oc.GRAB):p.state.activeTool.type==="selection"?(0,C.z8)(p.canvas):((0,C.Uk)(p.canvas,p.state),p.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),Ya=!1),W[U.tW.CTRL_OR_CMD]||p.state.isBindingEnabled||p.setState({isBindingEnabled:!0}),(0,U.Wl)(W.key)){var ce=(0,me.eD)(p.scene.getNonDeletedElements(),p.state);(0,M.N1)(p.state)?(0,M.el)(ce):(0,M.H)(ce),p.setState({suggestedBindings:[]})}}),this.setActiveTool=function(W){var ce=(0,C.Om)(p.state,W);ce.type==="hand"?(0,C.KJ)(p.canvas,g.oc.GRAB):Ya||(0,C.Uk)(p.canvas,p.state),(0,C.wO)(document.activeElement)&&p.focusContainer(),(0,G.dt)(ce.type)||p.setState({suggestedBindings:[]}),ce.type==="image"&&p.onImageAction(),ce.type!=="selection"?p.setState({activeTool:ce,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):p.setState({activeTool:ce})},this.setCursor=function(W){(0,C.KJ)(p.canvas,W)},this.resetCursor=function(){(0,C.z8)(p.canvas)},this.isTouchScreenMultiTouchGesture=function(){return An.pointers.size>=2},this.onGestureStart=(0,C.tH)(function(W){W.preventDefault(),p.isTouchScreenMultiTouchGesture()&&p.setState({selectedElementIds:{}}),An.initialScale=p.state.zoom.value}),this.onGestureChange=(0,C.tH)(function(W){if(W.preventDefault(),!p.isTouchScreenMultiTouchGesture()){var ce=An.initialScale;ce&&p.setState(function(xe){return ht({},(0,Be.E)({viewportX:Ka,viewportY:Ga,nextZoom:(0,me.j)(ce*W.scale)},xe))})}}),this.onGestureEnd=(0,C.tH)(function(W){W.preventDefault(),p.isTouchScreenMultiTouchGesture()&&p.setState({previousSelectedElementIds:{},selectedElementIds:p.state.previousSelectedElementIds}),An.initialScale=null}),this.startTextEditing=function(W){var ce,xe=W.sceneX,Ne=W.sceneY,ge=W.insertAtParentCenter,ne=ge===void 0||ge,Ie=W.container,Le=!1,He=ne&&p.getTextWysiwygSnappedToCenterPosition(xe,Ne,p.state,Ie);Ie&&He&&(Le=!0);var Ke=null,Ye=(0,me.eD)(p.scene.getNonDeletedElements(),p.state);if(!(Ke=Ye.length===1?(0,j.iB)(Ye[0])?Ye[0]:Ie?(0,wt.WJ)(Ye[0]):p.getTextElementAtPosition(xe,Ne):p.getTextElementAtPosition(xe,Ne))&&Le&&Ie&&!(0,G.Yv)(Ie)){var Xe={fontSize:p.state.currentItemFontSize,fontFamily:p.state.currentItemFontFamily},st=(0,wt.AT)((0,C.mO)(Xe)),ct=(0,wt.w_)((0,C.mO)(Xe)),at=(0,wt.HE)(Ie),Ot=Math.max(at.height,ct),bt=Math.max(at.width,st);(0,P.DR)(Ie,{height:Ot,width:bt}),xe=Ie.x+bt/2,Ne=Ie.y+Ot/2,He&&(He=p.getTextWysiwygSnappedToCenterPosition(xe,Ne,p.state,Ie))}var Rt=Ke||(0,j.VL)({x:He?He.elementCenterX:xe,y:He?He.elementCenterY:Ne,strokeColor:p.state.currentItemStrokeColor,backgroundColor:p.state.currentItemBackgroundColor,fillStyle:p.state.currentItemFillStyle,strokeWidth:p.state.currentItemStrokeWidth,strokeStyle:p.state.currentItemStrokeStyle,roughness:p.state.currentItemRoughness,opacity:p.state.currentItemOpacity,roundness:null,text:"",fontSize:p.state.currentItemFontSize,fontFamily:p.state.currentItemFontFamily,textAlign:He?"center":p.state.currentItemTextAlign,verticalAlign:He?g.oX.MIDDLE:g.hs,containerId:Le?Ie==null?void 0:Ie.id:void 0,groupIds:(ce=Ie==null?void 0:Ie.groupIds)!==null&&ce!==void 0?ce:[],locked:!1});if(!Ke&&Le&&Ie&&(0,P.DR)(Ie,{boundElements:(Ie.boundElements||[]).concat({type:"text",id:Rt.id})}),p.setState({editingElement:Rt}),!Ke){if(Ie&&Le){var mt=p.scene.getElementIndex(Ie.id);p.scene.insertElementAtIndex(Rt,mt+1)}else p.scene.replaceAllElements([].concat((0,h.Z)(p.scene.getElementsIncludingDeleted()),[Rt]));He||(0,P.DR)(Rt,{y:Rt.y-Rt.baseline/2})}p.setState({editingElement:Rt}),p.handleTextWysiwyg(Rt,{isExistingElement:!!Ke})},this.handleCanvasDoubleClick=function(W){if(!p.state.multiElement&&p.state.activeTool.type==="selection"){var ce=(0,me.eD)(p.scene.getNonDeletedElements(),p.state);if(ce.length===1&&(0,G.bt)(ce[0])){if(W[U.tW.CTRL_OR_CMD]&&(!p.state.editingLinearElement||p.state.editingLinearElement.elementId!==ce[0].id))return p.history.resumeRecording(),void p.setState({editingLinearElement:new V._(ce[0],p.scene)});if(p.state.editingLinearElement&&p.state.editingLinearElement.elementId===ce[0].id)return}(0,C.z8)(p.canvas);var xe=(0,C.dE)(W,p.state),Ne=xe.x,ge=xe.y;if((0,L.iJ)(p.state).length>0){var ne=p.getElementAtPosition(Ne,ge),Ie=ne&&(0,L.YS)(ne,p.state.selectedGroupIds);if(Ie)return void p.setState(function(Ke){return(0,L.bO)(ht(ht({},Ke),{},{editingGroupId:Ie,selectedElementIds:(0,ee.Z)({},ne.id,!0),selectedGroupIds:{}}),p.scene.getNonDeletedElements())})}if((0,C.z8)(p.canvas),!W[U.tW.CTRL_OR_CMD]&&!p.state.viewModeEnabled){var Le=(0,wt.OW)(p.scene.getNonDeletedElements(),p.state,Ne,ge);if(Le&&((0,G.Yv)(Le)||(0,G.Xo)(Le))){var He=(0,wt.TP)(Le,p.state);Ne=He.x,ge=He.y}p.startTextEditing({sceneX:Ne,sceneY:ge,insertAtParentCenter:!W.altKey,container:Le})}}},this.getElementLinkAtPosition=function(W,ce){var xe=p.scene.getNonDeletedElements().slice().reverse(),Ne=1/0;return xe.find(function(ge,ne){return ce&&ge.id===ce.id&&(Ne=ne),ge.link&&ne<=Ne&&(0,qo.wq)(ge,p.state,[W.x,W.y],p.device.isMobile)})},this.redirectToLink=function(W,ce){var xe=(0,q.LW)(p.lastPointerDown.clientX,p.lastPointerDown.clientY,p.lastPointerUp.clientX,p.lastPointerUp.clientY);if(!(!p.hitLinkElement||ce&&xe>g.f||!ce&&xe!==0)){var Ne=(0,C.dE)(p.lastPointerDown,p.state),ge=(0,qo.wq)(p.hitLinkElement,p.state,[Ne.x,Ne.y],p.device.isMobile),ne=(0,C.dE)(p.lastPointerUp,p.state),Ie=(0,qo.wq)(p.hitLinkElement,p.state,[ne.x,ne.y],p.device.isMobile);if(ge&&Ie){var Le,He,Ke=p.hitLinkElement.link;if(Ke&&(p.props.onLinkOpen&&(He=(0,C.ag)(g.Ks.EXCALIDRAW_LINK,W.nativeEvent),p.props.onLinkOpen(p.hitLinkElement,He)),(Le=He)===null||Le===void 0||!Le.defaultPrevented)){var Ye=(0,qo.q$)(Ke)?"_self":"_blank",Xe=window.open(void 0,Ye);Xe&&(Xe.opener=null,Xe.location=(0,qo.$u)(Ke))}}}},this.handleCanvasPointerMove=function(W){p.savePointer(W.clientX,W.clientY,p.state.cursorButton),An.pointers.has(W.pointerId)&&An.pointers.set(W.pointerId,{x:W.clientX,y:W.clientY});var ce=An.initialScale;if(An.pointers.size===2&&An.lastCenter&&ce&&An.initialDistance){var xe=ye(An.pointers),Ne=xe.x-An.lastCenter.x,ge=xe.y-An.lastCenter.y;An.lastCenter=xe;var ne=K(Array.from(An.pointers.values())),Ie=p.state.activeTool.type==="freedraw"&&p.state.penMode?1:ne/An.initialDistance,Le=Ie?(0,me.j)(ce*Ie):p.state.zoom.value;p.setState(function(hr){var ta=(0,Be.E)({viewportX:xe.x,viewportY:xe.y,nextZoom:Le},hr);return{zoom:ta.zoom,scrollX:ta.scrollX+Ne/Le,scrollY:ta.scrollY+ge/Le,shouldCacheIgnoreZoom:!0}}),p.resetShouldCacheIgnoreZoomDebounced()}else An.lastCenter=An.initialDistance=An.initialScale=null;if(!(Ya||Ul||pp||(0,ie.l$)(p.state))){var He=(0,me._4)(hp,W.clientX-p.state.offsetLeft,W.clientY-p.state.offsetTop).isOverEither;p.state.draggingElement||p.state.multiElement||(He?(0,C.z8)(p.canvas):(0,C.Uk)(p.canvas,p.state));var Ke=(0,C.dE)(W,p.state),Ye=Ke.x,Xe=Ke.y;if(p.state.editingLinearElement&&!p.state.editingLinearElement.isDragging){var st=V._.handlePointerMove(W,Ye,Xe,p.state);st&&st!==p.state.editingLinearElement&&(0,je.flushSync)(function(){p.setState({editingLinearElement:st})}),(st==null?void 0:st.lastUncommittedPoint)!=null?p.maybeSuggestBindingAtCursor(Ke):(0,je.flushSync)(function(){p.setState({suggestedBindings:[]})})}if((0,G.Lx)(p.state.activeTool.type)){var ct=p.state.draggingElement;(0,G.Mn)(ct,!1)?p.maybeSuggestBindingsForLinearElementAtCoords(ct,[Ke],p.state.startBoundElement):p.maybeSuggestBindingAtCursor(Ke)}if(p.state.multiElement){var at=p.state.multiElement,Ot=at.x,bt=at.y,Rt=at.points,mt=at.lastCommittedPoint,on=Rt[Rt.length-1];if((0,C.Uk)(p.canvas,p.state),on===mt)(0,q.LW)(Ye-Ot,Xe-bt,on[0],on[1])>=g.qx?(0,P.DR)(at,{points:[].concat((0,h.Z)(Rt),[[Ye-Ot,Xe-bt]])}):(0,C.KJ)(p.canvas,g.oc.POINTER);else if(Rt.length>2&&mt&&(0,q.LW)(Ye-Ot,Xe-bt,mt[0],mt[1])<g.qx)(0,C.KJ)(p.canvas,g.oc.POINTER),(0,P.DR)(at,{points:Rt.slice(0,-1)});else{var $t,Gt=(0,q.wC)(Ye,Xe,p.state.gridSize),cn=(0,E.Z)(Gt,2),Nt=cn[0],Xt=cn[1],gn=($t=at==null?void 0:at.lastCommittedPoint)!==null&&$t!==void 0?$t:[0,0],rr=(0,E.Z)(gn,2),fr=rr[0],br=rr[1],qn=Nt-Ot-fr,gi=Xt-bt-br;if((0,U.Ge)(W)){var bn=(0,j.o4)(fr+Ot,br+bt,Nt,Xt);qn=bn.width,gi=bn.height}(0,q.g6)(Rt,p.state.zoom.value)&&(0,C.KJ)(p.canvas,g.oc.POINTER),(0,P.DR)(at,{points:[].concat((0,h.Z)(Rt.slice(0,-1)),[[fr+qn,br+gi]])})}}else if(!(Boolean(W.buttons)||p.state.activeTool.type!=="selection"&&p.state.activeTool.type!=="text"&&p.state.activeTool.type!=="eraser")){var pr=p.scene.getNonDeletedElements(),ir=(0,me.eD)(pr,p.state);if(ir.length!==1||He||p.state.editingLinearElement){if(ir.length>1&&!He){var Gr=(0,j.n2)((0,j.KP)(ir),Ye,Xe,p.state.zoom,W.pointerType);if(Gr)return void(0,C.KJ)(p.canvas,(0,j.Un)({transformHandleType:Gr}))}}else{var pn=(0,j.jt)(pr,p.state,Ye,Xe,p.state.zoom,W.pointerType);if(pn&&pn.transformHandleType)return void(0,C.KJ)(p.canvas,(0,j.Un)(pn))}var Dn=p.getElementAtPosition(Ke.x,Ke.y);p.hitLinkElement=p.getElementLinkAtPosition(Ke,Dn),(0,ie.EN)(p.state)||(p.hitLinkElement&&!p.state.selectedElementIds[p.hitLinkElement.id]?((0,C.KJ)(p.canvas,g.oc.POINTER),(0,qo.Pp)(p.hitLinkElement,p.state)):((0,qo.lV)(),Dn&&Dn.link&&p.state.selectedElementIds[Dn.id]&&!p.state.contextMenu&&!p.state.showHyperlinkPopup?p.setState({showHyperlinkPopup:"info"}):p.state.activeTool.type==="text"?(0,C.KJ)(p.canvas,(0,j.iB)(Dn)?g.oc.TEXT:g.oc.CROSSHAIR):p.state.viewModeEnabled?(0,C.KJ)(p.canvas,g.oc.GRAB):He?(0,C.KJ)(p.canvas,g.oc.AUTO):p.state.selectedLinearElement?p.handleHoverSelectedLinearElement(p.state.selectedLinearElement,Ye,Xe):W[U.tW.CTRL_OR_CMD]?(0,C.KJ)(p.canvas,g.oc.AUTO):!Dn&&!p.isHittingCommonBoundingBoxOfSelectedElements(Ke,ir)||Dn!=null&&Dn.locked||(0,C.KJ)(p.canvas,g.oc.MOVE)))}}},this.handleEraser=function(W,ce,xe){for(var Ne=function(ct){ct.forEach(function(at){at.locked||(ge.push(at.id),W.altKey?ce.elementIdsToErase[at.id]&&ce.elementIdsToErase[at.id].erase&&(ce.elementIdsToErase[at.id].erase=!1):ce.elementIdsToErase[at.id]||(ce.elementIdsToErase[at.id]={erase:!0,opacity:at.opacity}))})},ge=[],ne=(0,q.LW)(ce.lastCoords.x,ce.lastCoords.y,xe.x,xe.y),Ie=10/p.state.zoom.value,Le=ht({},ce.lastCoords),He=0;He<=ne&&(Ne(p.getElementsAtPosition(Le.x,Le.y)),He!==ne);){var Ke=(He=Math.min(He+Ie,ne))/ne,Ye=(1-Ke)*Le.x+Ke*xe.x,Xe=(1-Ke)*Le.y+Ke*xe.y;Le.x=Ye,Le.y=Xe}var st=p.scene.getElementsIncludingDeleted().map(function(ct){var at=(0,G.Xh)(ct)&&ge.includes(ct.containerId)?ct.containerId:ct.id;if(ge.includes(at)){if(!W.altKey)return(0,P.BE)(ct,{opacity:g.xY});if(ce.elementIdsToErase[at]&&ce.elementIdsToErase[at].erase===!1)return(0,P.BE)(ct,{opacity:ce.elementIdsToErase[at].opacity})}return ct});p.scene.replaceAllElements(st),ce.lastCoords.x=xe.x,ce.lastCoords.y=xe.y},this.handleTouchMove=function(W){Vl=!0},this.handleCanvasPointerDown=function(W){var ce,xe;p.state.contextMenu&&p.setState({contextMenu:null});var Ne=document.getSelection();if(Ne!=null&&Ne.anchorNode&&Ne.removeAllRanges(),p.maybeOpenContextMenuAfterPointerDownOnTouchDevices(W),p.maybeCleanupAfterMissingPointerUp(W),p.state.penDetected||W.pointerType!=="pen"||p.setState(function(ct){return{penMode:!0,penDetected:!0}}),!p.device.isTouchScreen&&["pen","touch"].includes(W.pointerType)&&(p.device=(0,C.v4)(p.device,{isTouchScreen:!0})),!Ul&&(p.lastPointerDown=W,p.setState({lastPointerDownWith:W.pointerType,cursorButton:"down"}),p.savePointer(W.clientX,W.clientY,"down"),p.updateGestureOnPointerDown(W),!p.handleCanvasPanUsingWheelOrSpaceDrag(W)&&!(W.button!==g.Oh.MAIN&&W.button!==g.Oh.TOUCH||An.pointers.size>1))){var ge=p.initialPointerDownState(W);if(!p.handleDraggingScrollBar(W,ge)&&(p.clearSelectionIfNotUsingSelection(),p.updateBindingEnabledOnPointerMove(W),!p.handleSelectionOnPointerDown(W,ge)&&(!p.state.penMode||W.pointerType!=="touch"||p.state.activeTool.type==="selection"||p.state.activeTool.type==="text"||p.state.activeTool.type==="image")))if(p.state.activeTool.type!=="text"){if(p.state.activeTool.type==="arrow"||p.state.activeTool.type==="line")p.handleLinearElementOnPointerDown(W,p.state.activeTool.type,ge);else if(p.state.activeTool.type==="image"){(0,C.KJ)(p.canvas,g.oc.CROSSHAIR);var ne=p.state.pendingImageElementId&&p.scene.getElement(p.state.pendingImageElementId);if(!ne)return;p.setState({draggingElement:ne,editingElement:ne,pendingImageElementId:null,multiElement:null});var Ie=(0,C.dE)(W,p.state),Le=Ie.x,He=Ie.y;(0,P.DR)(ne,{x:Le,y:He})}else p.state.activeTool.type==="freedraw"?p.handleFreeDrawElementOnPointerDown(W,p.state.activeTool.type,ge):p.state.activeTool.type==="custom"?(0,C.KJ)(p.canvas,g.oc.AUTO):p.state.activeTool.type!=="eraser"&&p.state.activeTool.type!=="hand"&&p.createGenericElementOnPointerDown(p.state.activeTool.type,ge);(ce=p.props)===null||ce===void 0||(xe=ce.onPointerDown)===null||xe===void 0||xe.call(ce,p.state.activeTool,ge);var Ke=p.onPointerMoveFromPointerDownHandler(ge),Ye=p.onPointerUpFromPointerDownHandler(ge),Xe=p.onKeyDownFromPointerDownHandler(ge),st=p.onKeyUpFromPointerDownHandler(ge);ea=Ye,p.state.viewModeEnabled||(window.addEventListener(g.Ks.POINTER_MOVE,Ke),window.addEventListener(g.Ks.POINTER_UP,Ye),window.addEventListener(g.Ks.KEYDOWN,Xe),window.addEventListener(g.Ks.KEYUP,st),ge.eventListeners.onMove=Ke,ge.eventListeners.onUp=Ye,ge.eventListeners.onKeyUp=st,ge.eventListeners.onKeyDown=Xe)}else p.handleTextOnPointerDown(W,ge)}},this.handleCanvasPointerUp=function(W){if(p.lastPointerUp=W,p.device.isTouchScreen){var ce=(0,C.dE)({clientX:W.clientX,clientY:W.clientY},p.state),xe=p.getElementAtPosition(ce.x,ce.y);p.hitLinkElement=p.getElementLinkAtPosition(ce,xe)}p.hitLinkElement&&!p.state.selectedElementIds[p.hitLinkElement.id]&&p.redirectToLink(W,p.device.isTouchScreen),p.removePointer(W)},this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(W){W.pointerType==="touch"&&(Vl=!1,Qo?Vl=!0:Qo=window.setTimeout(function(){Qo=0,Vl||p.handleCanvasContextMenu(W)},g.nM))},this.resetContextMenuTimer=function(){clearTimeout(Qo),Qo=0,Vl=!1},this.handleCanvasPanUsingWheelOrSpaceDrag=function(W){if(!(An.pointers.size<=1&&(W.button===g.Oh.WHEEL||W.button===g.Oh.MAIN&&Ya||(0,ie.l$)(p.state)||p.state.viewModeEnabled))||(0,j.iB)(p.state.editingElement))return!1;Ul=!0,W.preventDefault();var ce=!1,xe=/Linux/.test(window.navigator.platform);(0,C.KJ)(p.canvas,g.oc.GRABBING);var Ne=W.clientX,ge=W.clientY,ne=(0,C.$9)(function(Le){var He=Ne-Le.clientX,Ke=ge-Le.clientY;if(Ne=Le.clientX,ge=Le.clientY,xe&&!ce&&(Math.abs(He)>1||Math.abs(Ke)>1)){ce=!0;var Ye=function Xe(st){document.body.removeEventListener(g.Ks.PASTE,Xe),st.stopPropagation()};document.body.addEventListener(g.Ks.PASTE,Ye),window.addEventListener(g.Ks.POINTER_UP,function Xe(){setTimeout(function(){document.body.removeEventListener(g.Ks.PASTE,Ye),window.removeEventListener(g.Ks.POINTER_UP,Xe)},100)})}p.setState({scrollX:p.state.scrollX-He/p.state.zoom.value,scrollY:p.state.scrollY-Ke/p.state.zoom.value})}),Ie=(0,C.tH)(ea=function(){ea=null,Ul=!1,Ya||(p.state.viewModeEnabled?(0,C.KJ)(p.canvas,g.oc.GRAB):(0,C.Uk)(p.canvas,p.state)),p.setState({cursorButton:"up"}),p.savePointer(W.clientX,W.clientY,"up"),window.removeEventListener(g.Ks.POINTER_MOVE,ne),window.removeEventListener(g.Ks.POINTER_UP,Ie),window.removeEventListener(g.Ks.BLUR,Ie),ne.flush()});return window.addEventListener(g.Ks.BLUR,Ie),window.addEventListener(g.Ks.POINTER_MOVE,ne,{passive:!0}),window.addEventListener(g.Ks.POINTER_UP,Ie),!0},this.clearSelectionIfNotUsingSelection=function(){p.state.activeTool.type!=="selection"&&p.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})},this.handleSelectionOnPointerDown=function(W,ce){if(p.state.activeTool.type==="selection"){var xe=p.scene.getNonDeletedElements(),Ne=(0,me.eD)(xe,p.state);if(Ne.length!==1||p.state.editingLinearElement)Ne.length>1&&(ce.resize.handleType=(0,j.n2)((0,j.KP)(Ne),ce.origin.x,ce.origin.y,p.state.zoom,W.pointerType));else{var ge=(0,j.jt)(xe,p.state,ce.origin.x,ce.origin.y,p.state.zoom,W.pointerType);ge!=null&&(p.setState({resizingElement:ge.element}),ce.resize.handleType=ge.transformHandleType)}if(ce.resize.handleType)(0,C.KJ)(p.canvas,(0,j.Un)({transformHandleType:ce.resize.handleType})),ce.resize.isResizing=!0,ce.resize.offset=(0,C.AK)((0,j.xx)(ce.resize.handleType,Ne,ce.origin.x,ce.origin.y)),Ne.length===1&&(0,G.bt)(Ne[0])&&Ne[0].points.length===2&&(ce.resize.arrowDirection=(0,j.T)(ce.resize.handleType,Ne[0]));else{var ne;if(p.state.selectedLinearElement){var Ie=p.state.editingLinearElement||p.state.selectedLinearElement,Le=V._.handlePointerDown(W,p.state,p.history,ce.origin,Ie);if(Le.hitElement&&(ce.hit.element=Le.hitElement),Le.linearElementEditor&&(p.setState({selectedLinearElement:Le.linearElementEditor}),p.state.editingLinearElement&&p.setState({editingLinearElement:Le.linearElementEditor})),Le.didAddPoint)return!0}if(ce.hit.element=(ne=ce.hit.element)!==null&&ne!==void 0?ne:p.getElementAtPosition(ce.origin.x,ce.origin.y),ce.hit.element&&p.getElementLinkAtPosition({x:ce.origin.x,y:ce.origin.y},ce.hit.element))return!1;ce.hit.allHitElements=p.getElementsAtPosition(ce.origin.x,ce.origin.y);var He=ce.hit.element,Ke=ce.hit.allHitElements.some(function(Ye){return p.isASelectedElement(Ye)});if(He!==null&&Ke||W.shiftKey||ce.hit.hasHitCommonBoundingBoxOfSelectedElements||p.clearSelection(He),p.state.editingLinearElement)p.setState({selectedElementIds:(0,ee.Z)({},p.state.editingLinearElement.elementId,!0)});else if(He!=null){if(W[U.tW.CTRL_OR_CMD])return p.state.selectedElementIds[He.id]||(ce.hit.wasAddedToSelection=!0),p.setState(function(Ye){return ht(ht({},(0,L.iE)(Ye,He)),{},{previousSelectedElementIds:p.state.selectedElementIds})}),!1;p.state.selectedElementIds[He.id]||(p.state.editingGroupId&&!(0,L.Nd)(He,p.state.editingGroupId)&&p.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),Ke||ce.hit.hasHitCommonBoundingBoxOfSelectedElements||(p.setState(function(Ye){return(0,L.bO)(ht(ht({},Ye),{},{selectedElementIds:ht(ht({},Ye.selectedElementIds),{},(0,ee.Z)({},He.id,!0)),showHyperlinkPopup:!!He.link&&"info"}),p.scene.getNonDeletedElements())}),ce.hit.wasAddedToSelection=!0))}p.setState({previousSelectedElementIds:p.state.selectedElementIds})}}return!1},this.handleTextOnPointerDown=function(W,ce){if(!(0,j.iB)(p.state.editingElement)){var xe=ce.origin.x,Ne=ce.origin.y,ge=p.getElementAtPosition(xe,Ne,{includeBoundTextElement:!0}),ne=(0,wt.OW)(p.scene.getNonDeletedElements(),p.state,xe,Ne);(0,G.Xo)(ge)&&(ne=ge,xe=ge.x+ge.width/2,Ne=ge.y+ge.height/2),p.startTextEditing({sceneX:xe,sceneY:Ne,insertAtParentCenter:!W.altKey,container:ne}),(0,C.z8)(p.canvas),p.state.activeTool.locked||p.setState({activeTool:(0,C.Om)(p.state,{type:"selection"})})}},this.handleFreeDrawElementOnPointerDown=function(W,ce,xe){var Ne=(0,q.wC)(xe.origin.x,xe.origin.y,null),ge=(0,E.Z)(Ne,2),ne=ge[0],Ie=ge[1],Le=(0,oe.KE)({type:ce,x:ne,y:Ie,strokeColor:p.state.currentItemStrokeColor,backgroundColor:p.state.currentItemBackgroundColor,fillStyle:p.state.currentItemFillStyle,strokeWidth:p.state.currentItemStrokeWidth,strokeStyle:p.state.currentItemStrokeStyle,roughness:p.state.currentItemRoughness,opacity:p.state.currentItemOpacity,roundness:null,simulatePressure:W.pressure===.5,locked:!1});p.setState(function(Ye){return{selectedElementIds:ht(ht({},Ye.selectedElementIds),{},(0,ee.Z)({},Le.id,!1))}});var He=Le.simulatePressure?Le.pressures:[].concat((0,h.Z)(Le.pressures),[W.pressure]);(0,P.DR)(Le,{points:[[0,0]],pressures:He});var Ke=(0,M.Y9)(xe.origin,p.scene);p.scene.replaceAllElements([].concat((0,h.Z)(p.scene.getElementsIncludingDeleted()),[Le])),p.setState({draggingElement:Le,editingElement:Le,startBoundElement:Ke,suggestedBindings:[]})},this.createImageElement=function(W){var ce=W.sceneX,xe=W.sceneY,Ne=(0,q.wC)(ce,xe,p.state.gridSize),ge=(0,E.Z)(Ne,2),ne=ge[0],Ie=ge[1];return(0,j.vw)({type:"image",x:ne,y:Ie,strokeColor:p.state.currentItemStrokeColor,backgroundColor:p.state.currentItemBackgroundColor,fillStyle:p.state.currentItemFillStyle,strokeWidth:p.state.currentItemStrokeWidth,strokeStyle:p.state.currentItemStrokeStyle,roughness:p.state.currentItemRoughness,roundness:null,opacity:p.state.currentItemOpacity,locked:!1})},this.handleLinearElementOnPointerDown=function(W,ce,xe){if(p.state.multiElement){var Ne=p.state.multiElement;if(Ne.type==="line"&&(0,q.g6)(Ne.points,p.state.zoom.value))return(0,P.DR)(Ne,{lastCommittedPoint:Ne.points[Ne.points.length-1]}),void p.actionManager.executeAction(z.pL);var ge=Ne.x,ne=Ne.y,Ie=Ne.lastCommittedPoint;if(Ne.points.length>1&&Ie&&(0,q.LW)(xe.origin.x-ge,xe.origin.y-ne,Ie[0],Ie[1])<g.qx)return void p.actionManager.executeAction(z.pL);p.setState(function($t){return{selectedElementIds:ht(ht({},$t.selectedElementIds),{},(0,ee.Z)({},Ne.id,!0))}}),(0,P.DR)(Ne,{lastCommittedPoint:Ne.points[Ne.points.length-1]}),(0,C.KJ)(p.canvas,g.oc.POINTER)}else{var Le=(0,q.wC)(xe.origin.x,xe.origin.y,p.state.gridSize),He=(0,E.Z)(Le,2),Ke=He[0],Ye=He[1],Xe=p.state,st=Xe.currentItemStartArrowhead,ct=Xe.currentItemEndArrowhead,at=ce==="arrow"?[st,ct]:[null,null],Ot=(0,E.Z)(at,2),bt=Ot[0],Rt=Ot[1],mt=(0,j.y8)({type:ce,x:Ke,y:Ye,strokeColor:p.state.currentItemStrokeColor,backgroundColor:p.state.currentItemBackgroundColor,fillStyle:p.state.currentItemFillStyle,strokeWidth:p.state.currentItemStrokeWidth,strokeStyle:p.state.currentItemStrokeStyle,roughness:p.state.currentItemRoughness,opacity:p.state.currentItemOpacity,roundness:p.state.currentItemRoundness==="round"?{type:g.a6.PROPORTIONAL_RADIUS}:null,startArrowhead:bt,endArrowhead:Rt,locked:!1});p.setState(function($t){return{selectedElementIds:ht(ht({},$t.selectedElementIds),{},(0,ee.Z)({},mt.id,!1))}}),(0,P.DR)(mt,{points:[].concat((0,h.Z)(mt.points),[[0,0]])});var on=(0,M.Y9)(xe.origin,p.scene);p.scene.replaceAllElements([].concat((0,h.Z)(p.scene.getElementsIncludingDeleted()),[mt])),p.setState({draggingElement:mt,editingElement:mt,startBoundElement:on,suggestedBindings:[]})}},this.createGenericElementOnPointerDown=function(W,ce){var xe=(0,q.wC)(ce.origin.x,ce.origin.y,p.state.gridSize),Ne=(0,E.Z)(xe,2),ge=Ne[0],ne=Ne[1],Ie=(0,j.Up)({type:W,x:ge,y:ne,strokeColor:p.state.currentItemStrokeColor,backgroundColor:p.state.currentItemBackgroundColor,fillStyle:p.state.currentItemFillStyle,strokeWidth:p.state.currentItemStrokeWidth,strokeStyle:p.state.currentItemStrokeStyle,roughness:p.state.currentItemRoughness,opacity:p.state.currentItemOpacity,roundness:p.state.currentItemRoundness==="round"?{type:(0,G.QI)(W)?g.a6.ADAPTIVE_RADIUS:g.a6.PROPORTIONAL_RADIUS}:null,locked:!1});Ie.type==="selection"?p.setState({selectionElement:Ie,draggingElement:Ie}):(p.scene.replaceAllElements([].concat((0,h.Z)(p.scene.getElementsIncludingDeleted()),[Ie])),p.setState({multiElement:null,draggingElement:Ie,editingElement:Ie}))},this.restoreReadyToEraseElements=function(W){var ce=p.scene.getElementsIncludingDeleted().map(function(xe){return W.elementIdsToErase[xe.id]&&W.elementIdsToErase[xe.id].erase?(0,P.BE)(xe,{opacity:W.elementIdsToErase[xe.id].opacity}):(0,G.Xh)(xe)&&W.elementIdsToErase[xe.containerId]&&W.elementIdsToErase[xe.containerId].erase?(0,P.BE)(xe,{opacity:W.elementIdsToErase[xe.containerId].opacity}):xe});p.scene.replaceAllElements(ce)},this.eraseElements=function(W){var ce=p.scene.getElementsIncludingDeleted().map(function(xe){return W.elementIdsToErase[xe.id]&&W.elementIdsToErase[xe.id].erase||(0,G.Xh)(xe)&&W.elementIdsToErase[xe.containerId]&&W.elementIdsToErase[xe.containerId].erase?(0,P.BE)(xe,{isDeleted:!0}):xe});p.history.resumeRecording(),p.scene.replaceAllElements(ce)},this.initializeImage=function(){var W=(0,f.Z)(N().mark(function ce(xe){var Ne,ge,ne,Ie,Le,He,Ke,Ye,Xe,st,ct,at,Ot,bt,Rt;return N().wrap(function(mt){for(;;)switch(mt.prev=mt.next){case 0:if(Ie=xe.imageFile,Le=xe.imageElement,He=xe.showCursorImagePreview,Ke=He!==void 0&&He,(0,rt.Wr)(Ie)){mt.next=3;break}throw new Error((0,A.t)("errors.unsupportedFileType"));case 3:if(Ye=Ie.type,(0,C.KJ)(p.canvas,"wait"),Ye!==g.LO.svg){mt.next=23;break}return mt.prev=6,mt.t0=rt.Pn,mt.t1=wu.bp,mt.next=11,Ie.text();case 11:return mt.t2=mt.sent,mt.next=14,(0,mt.t1)(mt.t2);case 14:mt.t3=mt.sent,mt.t4=Ie.name,Ie=(0,mt.t0)(mt.t3,mt.t4),mt.next=23;break;case 19:throw mt.prev=19,mt.t5=mt.catch(6),console.warn(mt.t5),new Error((0,A.t)("errors.svgImageInsertError"));case 23:return mt.next=25,((Ne=(ge=p.props).generateIdForFile)===null||Ne===void 0?void 0:Ne.call(ge,Ie))||(0,rt.tW)(Ie);case 25:if(Xe=mt.sent){mt.next=29;break}throw console.warn("Couldn't generate file id or the supplied `generateIdForFile` didn't resolve to one."),new Error((0,A.t)("errors.imageInsertError"));case 29:if((st=p.files[Xe])!=null&&st.dataURL){mt.next=42;break}return mt.prev=31,mt.next=34,(0,rt.Tu)(Ie,{maxWidthOrHeight:g.h6});case 34:Ie=mt.sent,mt.next=40;break;case 37:mt.prev=37,mt.t6=mt.catch(31),console.error("error trying to resing image file on insertion",mt.t6);case 40:if(!(Ie.size>g.$n)){mt.next=42;break}throw new Error((0,A.t)("errors.fileTooBig",{maxSize:"".concat(Math.trunc(g.$n/1024/1024),"MB")}));case 42:if(Ke&&(at=(ct=p.files[Xe])===null||ct===void 0?void 0:ct.dataURL,Ot=at&&(0,rt.KG)(at),p.setImagePreviewCursor(Ot||Ie)),mt.t7=(ne=p.files[Xe])===null||ne===void 0?void 0:ne.dataURL,mt.t7){mt.next=48;break}return mt.next=47,(0,rt.Sf)(Ie);case 47:mt.t7=mt.sent;case 48:return bt=mt.t7,Rt=(0,P.DR)(Le,{fileId:Xe},!1),mt.abrupt("return",new Promise(function(){var on=(0,f.Z)(N().mark(function $t(Gt,cn){var Nt,Xt;return N().wrap(function(gn){for(;;)switch(gn.prev=gn.next){case 0:if(gn.prev=0,p.files=ht(ht({},p.files),{},(0,ee.Z)({},Xe,{mimeType:Ye,id:Xe,dataURL:bt,created:Date.now(),lastRetrieved:Date.now()})),Xt=p.imageCache.get(Xe)){gn.next=7;break}return p.addNewImagesToImageCache(),gn.next=7,p.updateImageCache([Rt]);case 7:if(!((Xt==null?void 0:Xt.image)instanceof Promise)){gn.next=10;break}return gn.next=10,Xt.image;case 10:p.state.pendingImageElementId!==Rt.id&&((Nt=p.state.draggingElement)===null||Nt===void 0?void 0:Nt.id)!==Rt.id&&p.initializeImageDimensions(Rt,!0),Gt(Rt),gn.next=18;break;case 14:gn.prev=14,gn.t0=gn.catch(0),console.error(gn.t0),cn(new Error((0,A.t)("errors.imageInsertError")));case 18:return gn.prev=18,Ke||(0,C.z8)(p.canvas),gn.finish(18);case 21:case"end":return gn.stop()}},$t,null,[[0,14,18,21]])}));return function($t,Gt){return on.apply(this,arguments)}}()));case 51:case"end":return mt.stop()}},ce,null,[[6,19],[31,37]])}));return function(ce){return W.apply(this,arguments)}}(),this.insertImageElement=function(){var W=(0,f.Z)(N().mark(function ce(xe,Ne,ge){return N().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return p.scene.replaceAllElements([].concat((0,h.Z)(p.scene.getElementsIncludingDeleted()),[xe])),ne.prev=1,ne.next=4,p.initializeImage({imageFile:Ne,imageElement:xe,showCursorImagePreview:ge});case 4:ne.next=11;break;case 6:ne.prev=6,ne.t0=ne.catch(1),(0,P.DR)(xe,{isDeleted:!0}),p.actionManager.executeAction(z.pL),p.setState({errorMessage:ne.t0.message||(0,A.t)("errors.imageInsertError")});case 11:case"end":return ne.stop()}},ce,null,[[1,6]])}));return function(ce,xe,Ne){return W.apply(this,arguments)}}(),this.setImagePreviewCursor=function(){var W=(0,f.Z)(N().mark(function ce(xe){var Ne,ge,ne,Ie,Le,He,Ke;return N().wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ne=96,Ye.next=3,(0,rt.Tu)(xe,{maxWidthOrHeight:Ne});case 3:return ge=Ye.sent,Ye.next=6,(0,rt.Sf)(ge);case 6:if(ne=Ye.sent,xe.type!==g.LO.svg){Ye.next=20;break}return Ye.next=10,(0,wu.PK)(ne);case 10:Ie=Ye.sent,Le=Math.min(Ie.height,Ne),(He=Le*(Ie.width/Ie.height))>Ne&&(Le=(He=Ne)*(Ie.height/Ie.width)),(Ke=document.createElement("canvas")).height=Le,Ke.width=He,Ke.getContext("2d").drawImage(Ie,0,0,He,Le),ne=Ke.toDataURL(g.LO.svg);case 20:p.state.pendingImageElementId&&(0,C.KJ)(p.canvas,"url(".concat(ne,") 4 4, auto"));case 21:case"end":return Ye.stop()}},ce)}));return function(ce){return W.apply(this,arguments)}}(),this.onImageAction=(0,f.Z)(N().mark(function W(){var ce,xe,Ne,ge,ne,Ie,Le,He,Ke,Ye=arguments;return N().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return ce=Ye.length>0&&Ye[0]!==void 0?Ye[0]:{insertOnCanvasDirectly:!1},xe=ce.insertOnCanvasDirectly,Xe.prev=1,Ne=p.state.width/2+p.state.offsetLeft,ge=p.state.height/2+p.state.offsetTop,ne=(0,C.dE)({clientX:Ne,clientY:ge},p.state),Ie=ne.x,Le=ne.y,Xe.next=7,(0,Wt.I$)({description:"Image",extensions:["jpg","png","svg","gif"]});case 7:He=Xe.sent,Ke=p.createImageElement({sceneX:Ie,sceneY:Le}),xe?(p.insertImageElement(Ke,He),p.initializeImageDimensions(Ke),p.setState({selectedElementIds:(0,ee.Z)({},Ke.id,!0)},function(){p.actionManager.executeAction(z.pL)})):p.setState({pendingImageElementId:Ke.id},function(){p.insertImageElement(Ke,He,!0)}),Xe.next=16;break;case 12:Xe.prev=12,Xe.t0=Xe.catch(1),Xe.t0.name!=="AbortError"?console.error(Xe.t0):console.warn(Xe.t0),p.setState({pendingImageElementId:null,editingElement:null,activeTool:(0,C.Om)(p.state,{type:"selection"})},function(){p.actionManager.executeAction(z.pL)});case 16:case"end":return Xe.stop()}},W,null,[[1,12]])})),this.initializeImageDimensions=function(W){var ce,xe=arguments.length>1&&arguments[1]!==void 0&&arguments[1],Ne=(0,G.wi)(W)&&((ce=p.imageCache.get(W.fileId))===null||ce===void 0?void 0:ce.image);if(!Ne||Ne instanceof Promise){if(W.width<g.f/p.state.zoom.value&&W.height<g.f/p.state.zoom.value){var ge=100/p.state.zoom.value;(0,P.DR)(W,{x:W.x-ge/2,y:W.y-ge/2,width:ge,height:ge})}}else if(xe||W.width<g.f/p.state.zoom.value&&W.height<g.f/p.state.zoom.value){var ne=Math.max(p.state.height-120,160),Ie=Math.min(ne,Math.floor(.5*p.state.height)/p.state.zoom.value),Le=Math.min(Ne.naturalHeight,Ie),He=Le*(Ne.naturalWidth/Ne.naturalHeight),Ke=W.x+W.width/2-He/2,Ye=W.y+W.height/2-Le/2;(0,P.DR)(W,{x:Ke,y:Ye,width:He,height:Le})}},this.updateImageCache=function(){var W=(0,f.Z)(N().mark(function ce(xe){var Ne,ge,ne,Ie,Le,He,Ke,Ye=arguments;return N().wrap(function(Xe){for(;;)switch(Xe.prev=Xe.next){case 0:return Ne=Ye.length>1&&Ye[1]!==void 0?Ye[1]:p.files,Xe.next=3,(0,wu.Xx)({imageCache:p.imageCache,fileIds:xe.map(function(st){return st.fileId}),files:Ne});case 3:if(ge=Xe.sent,ne=ge.updatedFiles,Ie=ge.erroredFiles,ne.size||Ie.size){Le=Rg(xe);try{for(Le.s();!(He=Le.n()).done;)Ke=He.value,ne.has(Ke.fileId)&&(0,te.bI)(Ke)}catch(st){Le.e(st)}finally{Le.f()}}return Ie.size&&p.scene.replaceAllElements(p.scene.getElementsIncludingDeleted().map(function(st){return(0,G.wi)(st)&&Ie.has(st.fileId)?(0,P.BE)(st,{status:"error"}):st})),Xe.abrupt("return",{updatedFiles:ne,erroredFiles:Ie});case 9:case"end":return Xe.stop()}},ce)}));return function(ce){return W.apply(this,arguments)}}(),this.addNewImagesToImageCache=(0,f.Z)(N().mark(function W(){var ce,xe,Ne,ge,ne=arguments;return N().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:if(ce=ne.length>0&&ne[0]!==void 0?ne[0]:(0,wu.oA)(p.scene.getNonDeletedElements()),xe=ne.length>1&&ne[1]!==void 0?ne[1]:p.files,!(Ne=ce.filter(function(Le){return!Le.isDeleted&&!p.imageCache.has(Le.fileId)})).length){Ie.next=9;break}return Ie.next=6,p.updateImageCache(Ne,xe);case 6:ge=Ie.sent,ge.updatedFiles.size&&p.scene.informMutation();case 9:case"end":return Ie.stop()}},W)})),this.scheduleImageRefresh=Ak()(function(){p.addNewImagesToImageCache()},g.LL),this.updateBindingEnabledOnPointerMove=function(W){var ce=(0,M.cz)(W);p.state.isBindingEnabled!==ce&&p.setState({isBindingEnabled:ce})},this.maybeSuggestBindingAtCursor=function(W){var ce=(0,M.Y9)(W,p.scene);p.setState({suggestedBindings:ce!=null?[ce]:[]})},this.maybeSuggestBindingsForLinearElementAtCoords=function(W,ce,xe){if(ce.length){var Ne=ce.reduce(function(ge,ne){var Ie=(0,M.Y9)(ne,p.scene);return Ie==null||(0,M.DK)(W,xe==null?void 0:xe.id,Ie)||ge.push(Ie),ge},[]);p.setState({suggestedBindings:Ne})}},this.handleCanvasRef=function(W){var ce,xe,Ne;W!==null?(p.canvas=W,p.rc=we.Z.canvas(p.canvas),p.canvas.addEventListener(g.Ks.WHEEL,p.handleWheel,{passive:!1}),p.canvas.addEventListener(g.Ks.TOUCH_START,p.onTapStart),p.canvas.addEventListener(g.Ks.TOUCH_END,p.onTapEnd)):((ce=p.canvas)===null||ce===void 0||ce.removeEventListener(g.Ks.WHEEL,p.handleWheel),(xe=p.canvas)===null||xe===void 0||xe.removeEventListener(g.Ks.TOUCH_START,p.onTapStart),(Ne=p.canvas)===null||Ne===void 0||Ne.removeEventListener(g.Ks.TOUCH_END,p.onTapEnd))},this.handleAppOnDrop=function(){var W=(0,f.Z)(N().mark(function ce(xe){var Ne,ge,ne,Ie,Le,He,Ke,Ye,Xe,st;return N().wrap(function(ct){for(;;)switch(ct.prev=ct.next){case 0:return ct.next=2,(0,rt.bv)(xe);case 2:if(Ne=ct.sent,ge=Ne.file,ne=Ne.fileHandle,ct.prev=5,!(0,rt.Wr)(ge)){ct.next=26;break}if((ge==null?void 0:ge.type)!==g.LO.png&&(ge==null?void 0:ge.type)!==g.LO.svg){ct.next=20;break}return ct.prev=8,ct.next=11,(0,De.cT)(ge,p.state,p.scene.getElementsIncludingDeleted(),ne);case 11:return Ie=ct.sent,p.syncActionResult(ht(ht({},Ie),{},{appState:ht(ht({},Ie.appState||p.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),ct.abrupt("return");case 16:if(ct.prev=16,ct.t0=ct.catch(8),ct.t0.name==="EncodingError"){ct.next=20;break}throw ct.t0;case 20:return Le=(0,C.dE)(xe,p.state),He=Le.x,Ke=Le.y,Ye=p.createImageElement({sceneX:He,sceneY:Ke}),p.insertImageElement(Ye,ge),p.initializeImageDimensions(Ye),p.setState({selectedElementIds:(0,ee.Z)({},Ye.id,!0)}),ct.abrupt("return");case 26:ct.next=31;break;case 28:return ct.prev=28,ct.t1=ct.catch(5),ct.abrupt("return",p.setState({isLoading:!1,errorMessage:ct.t1.message}));case 31:if(!(Xe=xe.dataTransfer.getData(g.LO.excalidrawlib))||typeof Xe!="string"){ct.next=35;break}try{st=(0,rt.wf)(Xe),p.addElementsFromPasteOrLibrary({elements:(0,pe.WV)(st),position:xe,files:null})}catch(at){p.setState({errorMessage:at.message})}return ct.abrupt("return");case 35:if(!ge){ct.next=38;break}return ct.next=38,p.loadFileToCanvas(ge,ne);case 38:case"end":return ct.stop()}},ce,null,[[5,28],[8,16]])}));return function(ce){return W.apply(this,arguments)}}(),this.loadFileToCanvas=function(){var W=(0,f.Z)(N().mark(function ce(xe,Ne){var ge;return N().wrap(function(ne){for(;;)switch(ne.prev=ne.next){case 0:return ne.next=2,(0,rt.gY)(xe);case 2:return xe=ne.sent,ne.prev=3,ne.next=6,(0,rt.ZY)(xe,p.state,p.scene.getElementsIncludingDeleted(),Ne);case 6:if((ge=ne.sent).type!==g.LO.excalidraw){ne.next=12;break}p.setState({isLoading:!0}),p.syncActionResult(ht(ht({},ge.data),{},{appState:ht(ht({},ge.data.appState||p.state),{},{isLoading:!1}),replaceFiles:!0,commitToHistory:!0})),ne.next=15;break;case 12:if(ge.type!==g.LO.excalidrawlib){ne.next=15;break}return ne.next=15,p.library.updateLibrary({libraryItems:xe,merge:!0,openLibraryMenu:!0}).catch(function(Ie){console.error(Ie),p.setState({errorMessage:(0,A.t)("errors.importLibraryError")})});case 15:ne.next=20;break;case 17:ne.prev=17,ne.t0=ne.catch(3),p.setState({isLoading:!1,errorMessage:ne.t0.message});case 20:case"end":return ne.stop()}},ce,null,[[3,17]])}));return function(ce,xe){return W.apply(this,arguments)}}(),this.handleCanvasContextMenu=function(W){if(W.preventDefault(),W.nativeEvent.pointerType!=="touch"&&(W.nativeEvent.pointerType!=="pen"||W.button===g.Oh.SECONDARY)||p.state.activeTool.type==="selection"){var ce=(0,C.dE)(W,p.state),xe=ce.x,Ne=ce.y,ge=p.getElementAtPosition(xe,Ne,{preferSelected:!0,includeLockedElements:!0}),ne=(0,me.eD)(p.scene.getNonDeletedElements(),p.state),Ie=p.isHittingCommonBoundingBoxOfSelectedElements({x:xe,y:Ne},ne),Le=ge||Ie?"element":"canvas",He=p.excalidrawContainerRef.current.getBoundingClientRect(),Ke=He.top,Ye=He.left,Xe=W.clientX-Ye,st=W.clientY-Ke;(0,_.L)("contextMenu","openContextMenu",Le),p.setState(ht(ht({},ge&&!p.state.selectedElementIds[ge.id]?(0,L.bO)(ht(ht({},p.state),{},{selectedElementIds:(0,ee.Z)({},ge.id,!0),selectedLinearElement:(0,G.bt)(ge)?new V._(ge,p.scene):null}),p.scene.getNonDeletedElements()):p.state),{},{showHyperlinkPopup:!1}),function(){p.setState({contextMenu:{top:st,left:Xe,items:p.getContextMenuItems(Le)}})})}},this.maybeDragNewGenericElement=function(W,ce){var xe=p.state.draggingElement,Ne=W.lastCoords;if(xe)if(xe.type==="selection"&&p.state.activeTool.type!=="eraser")(0,j.EJ)(xe,p.state.activeTool.type,W.origin.x,W.origin.y,Ne.x,Ne.y,(0,C.TE)(W.origin.x,Ne.x),(0,C.TE)(W.origin.y,Ne.y),(0,U.E0)(ce),(0,U.OA)(ce));else{var ge,ne=(0,q.wC)(Ne.x,Ne.y,p.state.gridSize),Ie=(0,E.Z)(ne,2),Le=Ie[0],He=Ie[1],Ke=(0,G.wi)(xe)&&((ge=p.imageCache.get(xe.fileId))===null||ge===void 0?void 0:ge.image),Ye=!Ke||Ke instanceof Promise?null:Ke.width/Ke.height;(0,j.EJ)(xe,p.state.activeTool.type,W.originInGrid.x,W.originInGrid.y,Le,He,(0,C.TE)(W.originInGrid.x,Le),(0,C.TE)(W.originInGrid.y,He),(0,G.pC)(xe)?!(0,U.E0)(ce):(0,U.E0)(ce),(0,U.OA)(ce),Ye),p.maybeSuggestBindingForAll([xe])}},this.maybeHandleResize=function(W,ce){var xe=(0,me.eD)(p.scene.getNonDeletedElements(),p.state),Ne=W.resize.handleType;p.setState({isResizing:Ne&&Ne!=="rotation",isRotating:Ne==="rotation"});var ge=W.lastCoords,ne=(0,q.wC)(ge.x-W.resize.offset.x,ge.y-W.resize.offset.y,p.state.gridSize),Ie=(0,E.Z)(ne,2),Le=Ie[0],He=Ie[1];return!!(0,j.vY)(W,Ne,xe,W.resize.arrowDirection,(0,U.Ge)(ce),(0,U.OA)(ce),xe.length===1&&(0,G.pC)(xe[0])?!(0,U.E0)(ce):(0,U.E0)(ce),Le,He,W.resize.center.x,W.resize.center.y)&&(p.maybeSuggestBindingForAll(xe),!0)},this.getContextMenuItems=function(W){var ce=[];return ce.push(z.jK,z.FA),W==="canvas"?p.state.viewModeEnabled?[].concat(ce,[z.Pb,z.JN,_g,z.u0]):[Ng.yQ,Je,z.jK,z.FA,z.zp,Je,z.Yy,Je,z.Pb,z.JN,_g,z.u0]:(ce.push(z.zp),p.state.viewModeEnabled?[z.uN].concat(ce):[z.ZM,z.uN,Ng.yQ,Je].concat(ce,[Je,z.pw,z.W3,Je,z.EQ,z.y7,z.vD,z.s,Je,z.FL,Je,z.V,z.yA,z.zi,z.BZ,Je,z.jl,z.kt,Je,z.Qs,z.nz,z.xF,z.iL,Je,z.X9]))},this.handleWheel=(0,C.tH)(function(W){if(W.preventDefault(),!Ul){var ce=W.deltaX,xe=W.deltaY;if(W.metaKey||W.ctrlKey){var Ne=Math.sign(xe),ge=100*g.V4,ne=Math.abs(xe),Ie=xe;ne>ge&&(Ie=ge*Ne);var Le=p.state.zoom.value-Ie/100;return Le+=Math.log10(Math.max(1,p.state.zoom.value))*-Ne*Math.min(1,ne/20),p.setState(function(He){return ht(ht({},(0,Be.E)({viewportX:Ka,viewportY:Ga,nextZoom:(0,me.j)(Le)},He)),{},{shouldCacheIgnoreZoom:!0})}),void p.resetShouldCacheIgnoreZoomDebounced()}W.shiftKey?p.setState(function(He){var Ke=He.zoom;return{scrollX:He.scrollX-(xe||ce)/Ke.value}}):p.setState(function(He){var Ke=He.zoom,Ye=He.scrollX,Xe=He.scrollY;return{scrollX:Ye-ce/Ke.value,scrollY:Xe-xe/Ke.value}})}}),this.savePointer=function(W,ce,xe){var Ne,ge;if(W&&ce){var ne=(0,C.dE)({clientX:W,clientY:ce},p.state);isNaN(ne.x)||isNaN(ne.y),(Ne=(ge=p.props).onPointerUpdate)===null||Ne===void 0||Ne.call(ge,{pointer:ne,button:xe,pointersMap:An.pointers})}},this.resetShouldCacheIgnoreZoomDebounced=(0,C.Ds)(function(){p.unmounted||p.setState({shouldCacheIgnoreZoom:!1})},300),this.updateDOMRect=function(W){var ce;if((ce=p.excalidrawContainerRef)!==null&&ce!==void 0&&ce.current){var xe=p.excalidrawContainerRef.current.getBoundingClientRect(),Ne=xe.width,ge=xe.height,ne=xe.left,Ie=xe.top,Le=p.state,He=Le.width,Ke=Le.height,Ye=Le.offsetTop,Xe=Le.offsetLeft;if(Ne===He&&ge===Ke&&ne===Xe&&Ie===Ye)return void(W&&W());p.setState({width:Ne,height:ge,offsetLeft:ne,offsetTop:Ie},function(){W&&W()})}},this.refresh=function(){p.setState(ht({},p.getCanvasOffsets()))}};g.Vi.TEST!=="production"&&g.Vi.DEVELOPMENT!=="production"||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){var p;return(p=this.app)===null||p===void 0?void 0:p.scene.getElementsIncludingDeleted()},set:function(p){var W;return(W=this.app)===null||W===void 0?void 0:W.scene.replaceAllElements(p)}}}));var Rk=gp},3807:function(b,m,a){a.d(m,{o:function(){return Ee}});var v=a(45),E=a(3646),h=a(487),f=a.n(h),D=a(631),k=a.n(D),R=a(2052),d=a.n(R),Z=a(4010),B=a.n(Z),ee=a(1469),he=a.n(ee),N=a(9329),ke=a.n(N),Se=a(6029),je={};je.styleTagTransform=ke(),je.setAttributes=B(),je.insert=d().bind(null,"head"),je.domAPI=k(),je.insertStyleElement=he(),f()(Se.Z,je),Se.Z&&Se.Z.locals&&Se.Z.locals;var we=a(4512),Ee=function(Me){var z=Me.children,re=Me.checked,T=Me.onChange,A=Me.className;return(0,we.jsxs)("div",{className:(0,v.Z)("Checkbox",A,{"is-checked":re}),onClick:function(U){T(!re,U),U.currentTarget.querySelector(".Checkbox-box").focus()},children:[(0,we.jsx)("button",{className:"Checkbox-box",role:"checkbox","aria-checked":re,children:E.eQ}),(0,we.jsx)("div",{className:"Checkbox-label",children:z})]})}},4499:function(b,m,a){a.d(m,{z:function(){return l}});var v=a(2577),E=a(9787),h=a.n(E),f=a(2891),D=a(6340),k=a(487),R=a.n(k),d=a(631),Z=a.n(d),B=a(2052),ee=a.n(B),he=a(4010),N=a.n(he),ke=a(1469),Se=a.n(ke),je=a(9329),we=a.n(je),Ee=a(2345),Me={};Me.styleTagTransform=we(),Me.setAttributes=N(),Me.insert=ee().bind(null,"head"),Me.domAPI=Z(),Me.insertStyleElement=Se(),R()(Ee.Z,Me),Ee.Z&&Ee.Z.locals&&Ee.Z.locals;var z=a(6066),re=a(8211),T=a(56),A=a(4512),U=function(w,y){return!T.Z[y].includes(w)},P=function(w){var y=new Option().style;return y.color=w,!!y.color},M=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"],["z","x","c","v","b"]].flat(),C=function(w){var y=w.colors,S=w.color,_=w.onChange,J=w.onClose,de=w.label,ve=w.showInput,ie=ve===void 0||ve,$=w.type,De=w.elements,pe=h().useRef(),ae=h().useRef(),j=h().useRef(),V=h().useRef(),oe=h().useState(function(){return $==="canvasBackground"?[]:function(K,H){for(var L=[],I=K.filter(function(q){return!q.isDeleted}).sort(function(q,Ce){return Ce.updated-q.updated}),F=0,X={elementBackground:"backgroundColor",elementStroke:"strokeColor"}[H];F<I.length&&L.length<5;){var le=I[F];L.length<5&&U(le[X],H)&&!L.includes(le[X])&&L.push(le[X]),F++}return L}(De,$)}),G=(0,v.Z)(oe,1)[0];h().useEffect(function(){ae.current?ae.current.focus():V.current?V.current.focus():j.current&&j.current.focus()},[]);var ye=function(K){var H=arguments.length>1&&arguments[1]!==void 0&&arguments[1];return K.map(function(L,I){var F=L.replace("#",""),X=H?M[I+15]:M[I],le=H?F:(0,re.t)("colors.".concat(F));return(0,A.jsxs)("button",{className:"color-picker-swatch",onClick:function(q){q.currentTarget.focus(),_(L)},title:"".concat(le).concat((0,D.Qm)(L)?"":" (".concat(L,")"),"  ").concat(X.toUpperCase()),"aria-label":le,"aria-keyshortcuts":M[I],style:{color:L},ref:function(q){!H&&q&&I===0&&(pe.current=q),q&&L===S&&(ae.current=q)},onFocus:function(){_(L)},children:[(0,D.Qm)(L)?(0,A.jsx)("div",{className:"color-picker-transparent"}):void 0,(0,A.jsx)("span",{className:"color-picker-keybinding",children:X})]},L)})};return(0,A.jsxs)("div",{className:"color-picker color-picker-type-".concat($),role:"dialog","aria-modal":"true","aria-label":(0,re.t)("labels.colorPicker"),onKeyDown:function(K){var H=!1;if((0,z.Wl)(K.key)){var L,I,F;H=!0;var X,le=document.activeElement,q=(0,re.G3)().rtl,Ce=!1,te=Array.prototype.indexOf.call((L=j.current.querySelector(".color-picker-content--default"))===null||L===void 0?void 0:L.children,le);te===-1&&(te=Array.prototype.indexOf.call((X=j.current.querySelector(".color-picker-content--canvas-colors"))===null||X===void 0?void 0:X.children,le))!==-1&&(Ce=!0);var me=Ce?(I=j.current)===null||I===void 0?void 0:I.querySelector(".color-picker-content--canvas-colors"):(F=j.current)===null||F===void 0?void 0:F.querySelector(".color-picker-content--default");if(me&&te!==-1){var Re,Be=me.children.length-(ie?1:0),Q=K.key===(q?z.tW.ARROW_LEFT:z.tW.ARROW_RIGHT)?(te+1)%Be:K.key===(q?z.tW.ARROW_RIGHT:z.tW.ARROW_LEFT)?(Be+te-1)%Be:Ce||K.key!==z.tW.ARROW_DOWN?Ce||K.key!==z.tW.ARROW_UP?te:(Be+te-5)%Be:(te+5)%Be;(Re=me.children[Q])===null||Re===void 0||Re.focus()}K.preventDefault()}else if(!M.includes(K.key.toLowerCase())||K[z.tW.CTRL_OR_CMD]||K.altKey||(0,D.s)(K.target))K.key!==z.tW.ESCAPE&&K.key!==z.tW.ENTER||(H=!0,K.preventDefault(),J());else{var se,ue,_e;H=!0;var Ze=M.indexOf(K.key.toLowerCase()),Ge=Ze>=15,tt=Ge?j==null||(se=j.current)===null||se===void 0?void 0:se.querySelector(".color-picker-content--canvas-colors"):j==null||(ue=j.current)===null||ue===void 0?void 0:ue.querySelector(".color-picker-content--default"),lt=Ge?Ze-15:Ze;tt==null||(_e=tt.children[lt])===null||_e===void 0||_e.focus(),K.preventDefault()}H&&(K.nativeEvent.stopImmediatePropagation(),K.stopPropagation())},children:[(0,A.jsx)("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),(0,A.jsx)("div",{className:"color-picker-triangle"}),(0,A.jsxs)("div",{className:"color-picker-content",ref:function(K){K&&(j.current=K)},tabIndex:-1,children:[(0,A.jsx)("div",{className:"color-picker-content--default",children:ye(y)}),!!G.length&&(0,A.jsxs)("div",{className:"color-picker-content--canvas",children:[(0,A.jsx)("span",{className:"color-picker-content--canvas-title",children:(0,re.t)("labels.canvasColors")}),(0,A.jsx)("div",{className:"color-picker-content--canvas-colors",children:ye(G,!0)})]}),ie&&(0,A.jsx)(g,{color:S,label:de,onChange:function(K){_(K)},ref:V})]})]})},g=h().forwardRef(function(w,y){var S=w.color,_=w.onChange,J=w.label,de=h().useState(S),ve=(0,v.Z)(de,2),ie=ve[0],$=ve[1],De=h().useRef(null);h().useEffect(function(){$(S)},[S]),h().useImperativeHandle(y,function(){return De.current});var pe=h().useCallback(function(ae){var j=ae.toLowerCase(),V=function(oe){return(0,D.Qm)(oe)?oe:P("#".concat(oe))?"#".concat(oe):P(oe)?oe:null}(j);V&&_(V),$(j)},[_]);return(0,A.jsxs)("label",{className:"color-input-container",children:[(0,A.jsx)("div",{className:"color-picker-hash",children:"#"}),(0,A.jsx)("input",{spellCheck:!1,className:"color-picker-input","aria-label":J,onChange:function(ae){return pe(ae.target.value)},value:(ie||"").replace(/^#/,""),onBlur:function(){return $(S)},ref:De})]})});g.displayName="ColorInput";var l=function(w){var y,S=w.type,_=w.color,J=w.onChange,de=w.label,ve=w.isActive,ie=w.setActive,$=w.elements,De=(w.appState,h().useRef(null)),pe=(y=De.current)===null||y===void 0?void 0:y.getBoundingClientRect();return(0,A.jsxs)("div",{children:[(0,A.jsxs)("div",{className:"color-picker-control-container",children:[(0,A.jsx)("div",{className:"color-picker-label-swatch-container",children:(0,A.jsx)("button",{className:"color-picker-label-swatch","aria-label":de,style:_?{"--swatch-color":_}:void 0,onClick:function(){return ie(!ve)},ref:De})}),(0,A.jsx)(g,{color:_,label:de,onChange:function(ae){J(ae)}})]}),(0,A.jsx)(h().Suspense,{fallback:"",children:ve?(0,A.jsx)("div",{className:"color-picker-popover-container",style:{position:"fixed",top:pe==null?void 0:pe.top,left:pe==null?void 0:pe.right,zIndex:1},children:(0,A.jsx)(f.J,{onCloseRequest:function(ae){return ae.target!==De.current&&ie(!1)},children:(0,A.jsx)(C,{colors:T.Z[S],color:_||null,onChange:function(ae){J(ae)},onClose:function(){var ae;ie(!1),(ae=De.current)===null||ae===void 0||ae.focus()},label:de,showInput:!1,type:S,elements:$})})}):null})]})}},7046:function(b,m,a){a.d(m,{Z:function(){return C}});var v=a(7169),E=a(2726),h=a(8211),f=a(8396),D=a(487),k=a.n(D),R=a(631),d=a.n(R),Z=a(2052),B=a.n(Z),ee=a(4010),he=a.n(ee),N=a(1469),ke=a.n(N),Se=a(9329),je=a.n(Se),we=a(9393),Ee={};Ee.styleTagTransform=je(),Ee.setAttributes=he(),Ee.insert=B().bind(null,"head"),Ee.domAPI=d(),Ee.insertStyleElement=ke(),k()(we.Z,Ee),we.Z&&we.Z.locals&&we.Z.locals;var Me=a(6428),z=a(4739),re=a(770),T=a(4206),A=a(4512),U=["onConfirm","onCancel","children","confirmText","cancelText","className"];function P(g,l){var w=Object.keys(g);if(Object.getOwnPropertySymbols){var y=Object.getOwnPropertySymbols(g);l&&(y=y.filter(function(S){return Object.getOwnPropertyDescriptor(g,S).enumerable})),w.push.apply(w,y)}return w}function M(g){for(var l=1;l<arguments.length;l++){var w=arguments[l]!=null?arguments[l]:{};l%2?P(Object(w),!0).forEach(function(y){(0,v.Z)(g,y,w[y])}):Object.getOwnPropertyDescriptors?Object.defineProperties(g,Object.getOwnPropertyDescriptors(w)):P(Object(w)).forEach(function(y){Object.defineProperty(g,y,Object.getOwnPropertyDescriptor(w,y))})}return g}var C=function(g){var l=g.onConfirm,w=g.onCancel,y=g.children,S=g.confirmText,_=S===void 0?(0,h.t)("buttons.confirm"):S,J=g.cancelText,de=J===void 0?(0,h.t)("buttons.cancel"):J,ve=g.className,ie=ve===void 0?"":ve,$=(0,E.Z)(g,U),De=(0,T.n9)(),pe=(0,z.b9)(re.u);return(0,A.jsxs)(f.V,M(M({onCloseRequest:w,small:!0},$),{},{className:"confirm-dialog ".concat(ie),children:[y,(0,A.jsxs)("div",{className:"confirm-dialog-buttons",children:[(0,A.jsx)(Me.Z,{label:de,onClick:function(){De({openMenu:null}),pe(!1),w()}}),(0,A.jsx)(Me.Z,{label:_,onClick:function(){De({openMenu:null}),pe(!1),l()},actionType:"danger"})]})]}))}},8396:function(b,m,a){a.d(m,{V:function(){return _}});var v=a(2577),E=a(45),h=a(9787),f=a(8211),D=a(4206),k=a(6066),R=a(487),d=a.n(R),Z=a(631),B=a.n(Z),ee=a(2052),he=a.n(ee),N=a(4010),ke=a.n(N),Se=a(1469),je=a.n(Se),we=a(9329),Ee=a.n(we),Me=a(9482),z={};z.styleTagTransform=Ee(),z.setAttributes=ke(),z.insert=he().bind(null,"head"),z.domAPI=B(),z.insertStyleElement=je(),d()(Me.Z,z),Me.Z&&Me.Z.locals&&Me.Z.locals;var re=a(3646),T=a(1881),A=a(6843),U={};U.styleTagTransform=Ee(),U.setAttributes=ke(),U.insert=he().bind(null,"head"),U.domAPI=B(),U.insertStyleElement=je(),d()(A.Z,U),A.Z&&A.Z.locals&&A.Z.locals;var P=a(5156),M=a(2335),C=a(4512),g=function(J){var de=J.theme,ve=de===void 0?M.C6.LIGHT:de,ie=J.closeOnClickOutside,$=ie===void 0||ie,De=l(ve);return De?(0,P.createPortal)((0,C.jsxs)("div",{className:(0,E.Z)("Modal",J.className),role:"dialog","aria-modal":"true",onKeyDown:function(pe){pe.key===k.tW.ESCAPE&&(pe.nativeEvent.stopImmediatePropagation(),pe.stopPropagation(),J.onCloseRequest())},"aria-labelledby":J.labelledBy,"data-prevent-outside-click":!0,children:[(0,C.jsx)("div",{className:"Modal__background",onClick:$?J.onCloseRequest:void 0}),(0,C.jsx)("div",{className:"Modal__content",style:{"--max-width":"".concat(J.maxWidth,"px")},tabIndex:0,children:J.children})]}),De):null},l=function(J){var de=(0,h.useState)(null),ve=(0,v.Z)(de,2),ie=ve[0],$=ve[1],De=(0,D.Fy)(),pe=(0,h.useRef)(De.isMobile);pe.current=De.isMobile;var ae=(0,D.J0)().container;return(0,h.useLayoutEffect)(function(){ie&&ie.classList.toggle("excalidraw--mobile",De.isMobile)},[ie,De.isMobile]),(0,h.useLayoutEffect)(function(){var j=!(ae==null||!ae.classList.contains("theme--dark"))||J==="dark",V=document.createElement("div");return V.classList.add("excalidraw","excalidraw-modal-container"),V.classList.toggle("excalidraw--mobile",pe.current),j&&(V.classList.add("theme--dark"),V.classList.add("theme--dark-background-none")),document.body.appendChild(V),$(V),function(){document.body.removeChild(V)}},[ae,J]),ie},w=a(6340),y=a(4739),S=a(770),_=function(J){var de=function(){var G=(0,h.useState)(null),ye=(0,v.Z)(G,2),K=ye[0],H=ye[1];return[K,(0,h.useCallback)(function(L){return H(L)},[])]}(),ve=(0,v.Z)(de,2),ie=ve[0],$=ve[1],De=(0,h.useState)(document.activeElement),pe=(0,v.Z)(De,1)[0],ae=(0,D.J0)().id;(0,h.useEffect)(function(){if(ie){var G=(0,w.xp)(ie);G.length>0&&J.autofocus!==!1&&(G[1]||G[0]).focus();var ye=function(K){if(K.key===k.tW.TAB){var H=(0,w.xp)(ie),L=document.activeElement,I=H.findIndex(function(F){return F===L});I===0&&K.shiftKey?(H[H.length-1].focus(),K.preventDefault()):I!==H.length-1||K.shiftKey||(H[0].focus(),K.preventDefault())}};return ie.addEventListener("keydown",ye),function(){return ie.removeEventListener("keydown",ye)}}},[ie,J.autofocus]);var j=(0,D.n9)(),V=(0,y.b9)(S.u),oe=function(){j({openMenu:null}),V(!1),pe.focus(),J.onCloseRequest()};return(0,C.jsx)(g,{className:(0,E.Z)("Dialog",J.className),labelledBy:"dialog-title",maxWidth:J.small?550:800,onCloseRequest:oe,theme:J.theme,closeOnClickOutside:J.closeOnClickOutside,children:(0,C.jsxs)(T.W,{ref:$,children:[(0,C.jsxs)("h2",{id:"".concat(ae,"-dialog-title"),className:"Dialog__title",children:[(0,C.jsx)("span",{className:"Dialog__titleContent",children:J.title}),(0,C.jsx)("button",{className:"Modal__close",onClick:oe,title:(0,f.t)("buttons.close"),"aria-label":(0,f.t)("buttons.close"),children:(0,D.Fy)().isMobile?re.op:re.Tw})]}),(0,C.jsx)("div",{className:"Dialog__content",children:J.children})]})})}},6428:function(b,m,a){a.d(m,{Z:function(){return A}});var v=a(7169),E=a(2726),h=a(45),f=a(487),D=a.n(f),k=a(631),R=a.n(k),d=a(2052),Z=a.n(d),B=a(4010),ee=a.n(B),he=a(1469),N=a.n(he),ke=a(9329),Se=a.n(ke),je=a(6148),we={};we.styleTagTransform=Se(),we.setAttributes=ee(),we.insert=Z().bind(null,"head"),we.domAPI=R(),we.insertStyleElement=N(),D()(je.Z,we),je.Z&&je.Z.locals&&je.Z.locals;var Ee=a(5644),Me=a(4512),z=["label","onClick","className","children","actionType","type","isLoading"];function re(U,P){var M=Object.keys(U);if(Object.getOwnPropertySymbols){var C=Object.getOwnPropertySymbols(U);P&&(C=C.filter(function(g){return Object.getOwnPropertyDescriptor(U,g).enumerable})),M.push.apply(M,C)}return M}function T(U){for(var P=1;P<arguments.length;P++){var M=arguments[P]!=null?arguments[P]:{};P%2?re(Object(M),!0).forEach(function(C){(0,v.Z)(U,C,M[C])}):Object.getOwnPropertyDescriptors?Object.defineProperties(U,Object.getOwnPropertyDescriptors(M)):re(Object(M)).forEach(function(C){Object.defineProperty(U,C,Object.getOwnPropertyDescriptor(M,C))})}return U}var A=function(U){var P=U.label,M=U.onClick,C=U.className,g=U.children,l=U.actionType,w=U.type,y=w===void 0?"button":w,S=U.isLoading,_=(0,E.Z)(U,z),J=l?"Dialog__action-button--".concat(l):"";return(0,Me.jsxs)("button",T(T({className:(0,h.Z)("Dialog__action-button",J,C),type:y,"aria-label":P,onClick:M},_),{},{children:[g&&(0,Me.jsx)("div",{style:S?{visibility:"hidden"}:{},children:g}),(0,Me.jsx)("div",{style:S?{visibility:"hidden"}:{},children:P}),S&&(0,Me.jsx)("div",{style:{position:"absolute",inset:0},children:(0,Me.jsx)(Ee.Z,{})})]}))}},1881:function(b,m,a){a.d(m,{W:function(){return T}});var v=a(7169),E=a(487),h=a.n(E),f=a(631),D=a.n(f),k=a(2052),R=a.n(k),d=a(4010),Z=a.n(d),B=a(1469),ee=a.n(B),he=a(9329),N=a.n(he),ke=a(7369),Se={};Se.styleTagTransform=N(),Se.setAttributes=Z(),Se.insert=R().bind(null,"head"),Se.domAPI=D(),Se.insertStyleElement=ee(),h()(ke.Z,Se),ke.Z&&ke.Z.locals&&ke.Z.locals;var je=a(9787),we=a.n(je),Ee=a(45),Me=a(4512);function z(A,U){var P=Object.keys(A);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(A);U&&(M=M.filter(function(C){return Object.getOwnPropertyDescriptor(A,C).enumerable})),P.push.apply(P,M)}return P}function re(A){for(var U=1;U<arguments.length;U++){var P=arguments[U]!=null?arguments[U]:{};U%2?z(Object(P),!0).forEach(function(M){(0,v.Z)(A,M,P[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(P)):z(Object(P)).forEach(function(M){Object.defineProperty(A,M,Object.getOwnPropertyDescriptor(P,M))})}return A}var T=we().forwardRef(function(A,U){var P=A.children,M=A.padding,C=A.className,g=A.style;return(0,Me.jsx)("div",{className:(0,Ee.Z)("Island",C),style:re({"--padding":M},g),ref:U,children:P})})},770:function(b,m,a){a.d(m,{W:function(){return le},u:function(){return F}});var v=a(8950),E=a(2577),h=a(2975),f=a.n(h),D=a(9787),k=a(5523),R=a(7053),d=a(8211),Z=a(3646),B=a(1319),ee=a(1393),he=a(6340),N=a(4739),ke=a(9487),Se=a(7046),je=a(7169),we=a(5284),Ee=a(8396),Me=a(3024),z=a(2335),re=a(487),T=a.n(re),A=a(631),U=a.n(A),P=a(2052),M=a.n(P),C=a(4010),g=a.n(C),l=a(1469),w=a.n(l),y=a(9329),S=a.n(y),_=a(7589),J={};J.styleTagTransform=S(),J.setAttributes=g(),J.insert=M().bind(null,"head"),J.domAPI=U(),J.insertStyleElement=w(),T()(_.Z,J),_.Z&&_.Z.locals&&_.Z.locals;var de=a(8465),ve={};ve.styleTagTransform=S(),ve.setAttributes=g(),ve.insert=M().bind(null,"head"),ve.domAPI=U(),ve.insertStyleElement=w(),T()(de.Z,ve),de.Z&&de.Z.locals&&de.Z.locals;var ie=a(4512);function $(q,Ce){var te=Object.keys(q);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(q);Ce&&(me=me.filter(function(Re){return Object.getOwnPropertyDescriptor(q,Re).enumerable})),te.push.apply(te,me)}return te}function De(q){for(var Ce=1;Ce<arguments.length;Ce++){var te=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?$(Object(te),!0).forEach(function(me){(0,je.Z)(q,me,te[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(te)):$(Object(te)).forEach(function(me){Object.defineProperty(q,me,Object.getOwnPropertyDescriptor(te,me))})}return q}var pe=function(q){var Ce=q.libItem,te=q.appState,me=q.index,Re=q.onChange,Be=q.onRemove,Q=(0,D.useRef)(null),se=(0,D.useRef)(null);return(0,D.useEffect)(function(){var ue=Q.current;ue&&(0,v.Z)(f().mark(function _e(){var Ze;return f().wrap(function(Ge){for(;;)switch(Ge.prev=Ge.next){case 0:return Ge.next=2,(0,Me.$D)({elements:Ce.elements,appState:De(De({},te),{},{viewBackgroundColor:we.white,exportBackground:!0}),files:null});case 2:Ze=Ge.sent,ue.innerHTML=Ze.outerHTML;case 4:case"end":return Ge.stop()}},_e)}))()},[Ce.elements,te]),(0,ie.jsxs)("div",{className:"single-library-item",children:[Ce.status==="published"&&(0,ie.jsx)("span",{className:"single-library-item-status",children:(0,d.t)("labels.statusPublished")}),(0,ie.jsx)("div",{ref:Q,className:"single-library-item__svg"}),(0,ie.jsx)(B.V,{"aria-label":(0,d.t)("buttons.remove"),type:"button",icon:Z.Tw,className:"single-library-item--remove",onClick:Be.bind(null,Ce.id),title:(0,d.t)("buttons.remove")}),(0,ie.jsxs)("div",{style:{display:"flex",margin:"0.8rem 0",width:"100%",fontSize:"14px",fontWeight:500,flexDirection:"column"},children:[(0,ie.jsxs)("label",{style:{display:"flex",justifyContent:"space-between",flexDirection:"column"},children:[(0,ie.jsxs)("div",{style:{padding:"0.5em 0"},children:[(0,ie.jsx)("span",{style:{fontWeight:500,color:we.gray[6]},children:(0,d.t)("publishDialog.itemName")}),(0,ie.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,ie.jsx)("input",{type:"text",ref:se,style:{width:"80%",padding:"0.2rem"},defaultValue:Ce.name,placeholder:"Item name",onChange:function(ue){Re(ue.target.value,me)}})]}),(0,ie.jsx)("span",{className:"error",children:Ce.error})]})]})},ae=a(434),j=a(6428);function V(q,Ce){var te=Object.keys(q);if(Object.getOwnPropertySymbols){var me=Object.getOwnPropertySymbols(q);Ce&&(me=me.filter(function(Re){return Object.getOwnPropertyDescriptor(q,Re).enumerable})),te.push.apply(te,me)}return te}function oe(q){for(var Ce=1;Ce<arguments.length;Ce++){var te=arguments[Ce]!=null?arguments[Ce]:{};Ce%2?V(Object(te),!0).forEach(function(me){(0,je.Z)(q,me,te[me])}):Object.getOwnPropertyDescriptors?Object.defineProperties(q,Object.getOwnPropertyDescriptors(te)):V(Object(te)).forEach(function(me){Object.defineProperty(q,me,Object.getOwnPropertyDescriptor(te,me))})}return q}function G(q,Ce){var te=typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(!te){if(Array.isArray(q)||(te=function(ue,_e){if(ue){if(typeof ue=="string")return ye(ue,_e);var Ze=Object.prototype.toString.call(ue).slice(8,-1);if(Ze==="Object"&&ue.constructor&&(Ze=ue.constructor.name),Ze==="Map"||Ze==="Set")return Array.from(ue);if(Ze==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ze))return ye(ue,_e)}}(q))||Ce&&q&&typeof q.length=="number"){te&&(q=te);var me=0,Re=function(){};return{s:Re,n:function(){return me>=q.length?{done:!0}:{done:!1,value:q[me++]}},e:function(ue){throw ue},f:Re}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Be,Q=!0,se=!1;return{s:function(){te=te.call(q)},n:function(){var ue=te.next();return Q=ue.done,ue},e:function(ue){se=!0,Be=ue},f:function(){try{Q||te.return==null||te.return()}finally{if(se)throw Be}}}}function ye(q,Ce){(Ce==null||Ce>q.length)&&(Ce=q.length);for(var te=0,me=new Array(Ce);te<Ce;te++)me[te]=q[te];return me}var K="publish-library-data",H=function(){var q=(0,v.Z)(f().mark(function Ce(te){var me,Re,Be,Q,se,ue,_e,Ze,Ge,tt,lt,nt,qe,Ve,be,Te,Ae;return f().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:me=6,Re=128,Be=Math.round(Re/16),Q=Math.max(Math.round(Re/64),2),se=(0,he.yo)(te,me),(ue=document.createElement("canvas")).width=se[0].length*Re+(se[0].length+1)*(2*Be)-2*Be,ue.height=se.length*Re+(se.length+1)*(2*Be)-2*Be,(_e=ue.getContext("2d")).fillStyle=we.white,_e.fillRect(0,0,ue.width,ue.height),Ze=G(te.entries()),Pe.prev=12,Ze.s();case 14:if((Ge=Ze.n()).done){Pe.next=28;break}return tt=(0,E.Z)(Ge.value,2),lt=tt[0],nt=tt[1],Pe.next=18,(0,Me.NL)({elements:nt.elements,files:null,maxWidthOrHeight:Re});case 18:qe=Pe.sent,Ve=qe.width,be=qe.height,Te=Math.floor(lt/me)*(Re+2*Be),Ae=lt%me*(Re+2*Be),_e.drawImage(qe,Ae+(Re-Ve)/2+Be,Te+(Re-be)/2+Be),_e.lineWidth=Q,_e.strokeStyle=we.gray[4],_e.strokeRect(Ae+Be/2,Te+Be/2,Re+Be,Re+Be);case 26:Pe.next=14;break;case 28:Pe.next=33;break;case 30:Pe.prev=30,Pe.t0=Pe.catch(12),Ze.e(Pe.t0);case 33:return Pe.prev=33,Ze.f(),Pe.finish(33);case 36:return Pe.t1=ae.Tu,Pe.t2=File,Pe.next=40,(0,ae._c)(ue);case 40:return Pe.t3=Pe.sent,Pe.t4=[Pe.t3],Pe.t5={type:z.LO.png},Pe.t6=new Pe.t2(Pe.t4,"preview",Pe.t5),Pe.t7={outputType:z.LO.jpg,maxWidthOrHeight:5e3},Pe.next=47,(0,Pe.t1)(Pe.t6,Pe.t7);case 47:return Pe.abrupt("return",Pe.sent);case 48:case"end":return Pe.stop()}},Ce,null,[[12,30,33,36]])}));return function(Ce){return q.apply(this,arguments)}}(),L=function(q){var Ce=q.onClose,te=q.libraryItems,me=q.appState,Re=q.onSuccess,Be=q.onError,Q=q.updateItemsInStorage,se=q.onRemove,ue=(0,D.useState)({authorName:"",githubHandle:"",name:"",description:"",twitterHandle:"",website:""}),_e=(0,E.Z)(ue,2),Ze=_e[0],Ge=_e[1],tt=(0,D.useState)(!1),lt=(0,E.Z)(tt,2),nt=lt[0],qe=lt[1];(0,D.useEffect)(function(){var it=function(){try{var ft=localStorage.getItem(K);if(ft)return JSON.parse(ft)}catch(yt){console.error(yt)}return null}();it&&Ge(it)},[]);var Ve=(0,D.useState)(te.slice()),be=(0,E.Z)(Ve,2),Te=be[0],Ae=be[1];(0,D.useEffect)(function(){Ae(te.slice())},[te]);var Pe,We=function(it){Ge(oe(oe({},Ze),{},(0,je.Z)({},it.target.name,it.target.value)))},Ue=function(){var it=(0,v.Z)(f().mark(function ft(yt){var ut,pt,wt,zt,Yt,Ht,It;return f().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:if(yt.preventDefault(),qe(!0),ut=[],pt=!1,Te.forEach(function(Ct){var Bt="";Ct.name||(Bt=(0,d.t)("publishDialog.errors.required"),pt=!0),ut.push(oe(oe({},Ct),{},{error:Bt}))}),!pt){_t.next=9;break}return Ae(ut),qe(!1),_t.abrupt("return");case 9:return _t.next=11,H(Te);case 11:wt=_t.sent,zt={type:z.r8.excalidrawLibrary,version:z.Kr.excalidrawLibrary,source:z.pb,libraryItems:Te},Yt=JSON.stringify(zt,null,2),Ht=new Blob([Yt],{type:"application/json"}),(It=new FormData).append("excalidrawLib",Ht),It.append("previewImage",wt),It.append("previewImageType",wt.type),It.append("title",Ze.name),It.append("authorName",Ze.authorName),It.append("githubHandle",Ze.githubHandle),It.append("name",Ze.name),It.append("description",Ze.description),It.append("twitterHandle",Ze.twitterHandle),It.append("website",Ze.website),fetch("".concat("https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries","/submit"),{method:"post",body:It}).then(function(Ct){return Ct.ok?Ct.json().then(function(Bt){var hn=Bt.url;localStorage.removeItem(K),Re({url:hn,authorName:Ze.authorName,items:Te})}):Ct.json().catch(function(){throw new Error(Ct.statusText||"something went wrong")}).then(function(Bt){throw new Error(Bt.message||Ct.statusText||"something went wrong")})},function(Ct){console.error(Ct),Be(Ct),qe(!1)}).catch(function(Ct){console.error(Ct),Be(Ct),qe(!1)});case 27:case"end":return _t.stop()}},ft)}));return function(ft){return it.apply(this,arguments)}}(),Je=(0,D.useCallback)(function(){Q(Te),function(it){try{localStorage.setItem(K,JSON.stringify(it))}catch(ft){console.error(ft)}}(Ze),Ce()},[Te,Ce,Q,Ze]),et=!!te.length,Qe=te.some(function(it){return it.status==="published"});return(0,ie.jsx)(Ee.V,{onCloseRequest:Je,title:(0,d.t)("publishDialog.title"),className:"publish-library",children:et?(0,ie.jsxs)("form",{onSubmit:Ue,children:[(0,ie.jsxs)("div",{className:"publish-library-note",children:[(0,d.t)("publishDialog.noteDescription.pre"),(0,ie.jsx)("a",{href:"https://libraries.excalidraw.com",target:"_blank",rel:"noopener noreferrer",children:(0,d.t)("publishDialog.noteDescription.link")})," ",(0,d.t)("publishDialog.noteDescription.post")]}),(0,ie.jsxs)("span",{className:"publish-library-note",children:[(0,d.t)("publishDialog.noteGuidelines.pre"),(0,ie.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries#guidelines",target:"_blank",rel:"noopener noreferrer",children:(0,d.t)("publishDialog.noteGuidelines.link")}),(0,d.t)("publishDialog.noteGuidelines.post")]}),(0,ie.jsx)("div",{className:"publish-library-note",children:(0,d.t)("publishDialog.noteItems")}),Qe&&(0,ie.jsx)("span",{className:"publish-library-note publish-library-warning",children:(0,d.t)("publishDialog.republishWarning")}),(Pe=[],Te.forEach(function(it,ft){Pe.push((0,ie.jsx)("div",{className:"single-library-item-wrapper",children:(0,ie.jsx)(pe,{libItem:it,appState:me,index:ft,onChange:function(yt,ut){var pt=Te.slice();pt[ut].name=yt,Ae(pt)},onRemove:se})},ft))}),(0,ie.jsx)("div",{className:"selected-library-items",children:Pe})),(0,ie.jsxs)("div",{className:"publish-library__fields",children:[(0,ie.jsxs)("label",{children:[(0,ie.jsxs)("div",{children:[(0,ie.jsx)("span",{children:(0,d.t)("publishDialog.libraryName")}),(0,ie.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,ie.jsx)("input",{type:"text",name:"name",required:!0,value:Ze.name,onChange:We,placeholder:(0,d.t)("publishDialog.placeholder.libraryName")})]}),(0,ie.jsxs)("label",{style:{alignItems:"flex-start"},children:[(0,ie.jsxs)("div",{children:[(0,ie.jsx)("span",{children:(0,d.t)("publishDialog.libraryDesc")}),(0,ie.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,ie.jsx)("textarea",{name:"description",rows:4,required:!0,value:Ze.description,onChange:We,placeholder:(0,d.t)("publishDialog.placeholder.libraryDesc")})]}),(0,ie.jsxs)("label",{children:[(0,ie.jsxs)("div",{children:[(0,ie.jsx)("span",{children:(0,d.t)("publishDialog.authorName")}),(0,ie.jsx)("span",{"aria-hidden":"true",className:"required",children:"*"})]}),(0,ie.jsx)("input",{type:"text",name:"authorName",required:!0,value:Ze.authorName,onChange:We,placeholder:(0,d.t)("publishDialog.placeholder.authorName")})]}),(0,ie.jsxs)("label",{children:[(0,ie.jsx)("span",{children:(0,d.t)("publishDialog.githubUsername")}),(0,ie.jsx)("input",{type:"text",name:"githubHandle",value:Ze.githubHandle,onChange:We,placeholder:(0,d.t)("publishDialog.placeholder.githubHandle")})]}),(0,ie.jsxs)("label",{children:[(0,ie.jsx)("span",{children:(0,d.t)("publishDialog.twitterUsername")}),(0,ie.jsx)("input",{type:"text",name:"twitterHandle",value:Ze.twitterHandle,onChange:We,placeholder:(0,d.t)("publishDialog.placeholder.twitterHandle")})]}),(0,ie.jsxs)("label",{children:[(0,ie.jsx)("span",{children:(0,d.t)("publishDialog.website")}),(0,ie.jsx)("input",{type:"text",name:"website",pattern:"https?://.+",title:(0,d.t)("publishDialog.errors.website"),value:Ze.website,onChange:We,placeholder:(0,d.t)("publishDialog.placeholder.website")})]}),(0,ie.jsxs)("span",{className:"publish-library-note",children:[(0,d.t)("publishDialog.noteLicense.pre"),(0,ie.jsx)("a",{href:"https://github.com/excalidraw/excalidraw-libraries/blob/main/LICENSE",target:"_blank",rel:"noopener noreferrer",children:(0,d.t)("publishDialog.noteLicense.link")}),(0,d.t)("publishDialog.noteLicense.post")]})]}),(0,ie.jsxs)("div",{className:"publish-library__buttons",children:[(0,ie.jsx)(j.Z,{label:(0,d.t)("buttons.cancel"),onClick:Je,"data-testid":"cancel-clear-canvas-button"}),(0,ie.jsx)(j.Z,{type:"submit",label:(0,d.t)("buttons.submit"),actionType:"primary",isLoading:nt})]})]}):(0,ie.jsx)("p",{style:{padding:"1em",textAlign:"center",fontWeight:500},children:(0,d.t)("publishDialog.atleastOneLibItem")})})},I=a(9127),F=(0,N.cn)(!1),X=function(q,Ce){return q.filter(function(te){return Ce.includes(te.id)})},le=function(q){var Ce=q.setAppState,te=q.selectedItems,me=q.library,Re=q.onRemoveFromLibrary,Be=q.resetLibrary,Q=q.onSelectItems,se=q.appState,ue=(0,N.KO)(R.rF,ke.yE),_e=(0,E.Z)(ue,1)[0],Ze=(0,N.KO)(F),Ge=(0,E.Z)(Ze,2),tt=Ge[0],lt=Ge[1],nt=(0,D.useCallback)(function(){var Ht=te.length?(0,d.t)("alerts.removeItemsFromsLibrary",{count:te.length}):(0,d.t)("alerts.resetLibrary"),It=te.length?(0,d.t)("confirmDialog.removeItemsFromLib"):(0,d.t)("confirmDialog.resetLibrary");return(0,ie.jsx)(Se.Z,{onConfirm:function(){te.length?Re():Be(),Te(!1)},onCancel:function(){Te(!1)},title:It,children:(0,ie.jsx)("p",{children:Ht})})},[te,Re,Be]),qe=(0,D.useState)(!1),Ve=(0,E.Z)(qe,2),be=Ve[0],Te=Ve[1],Ae=!!te.length,Pe=Ae?_e.libraryItems.filter(function(Ht){return te.includes(Ht.id)}):_e.libraryItems,We=Ae?(0,d.t)("buttons.remove"):(0,d.t)("buttons.resetLibrary"),Ue=(0,D.useState)(!1),Je=(0,E.Z)(Ue,2),et=Je[0],Qe=Je[1],it=(0,D.useState)(null),ft=(0,E.Z)(it,2),yt=ft[0],ut=ft[1],pt=(0,D.useCallback)(function(){return(0,ie.jsxs)(Ee.V,{onCloseRequest:function(){return ut(null)},title:(0,d.t)("publishSuccessDialog.title"),className:"publish-library-success",small:!0,children:[(0,ie.jsxs)("p",{children:[(0,d.t)("publishSuccessDialog.content",{authorName:yt.authorName})," ",(0,ie.jsx)("a",{href:yt==null?void 0:yt.url,target:"_blank",rel:"noopener noreferrer",children:(0,d.t)("publishSuccessDialog.link")})]}),(0,ie.jsx)(B.V,{type:"button",title:(0,d.t)("buttons.close"),"aria-label":(0,d.t)("buttons.close"),label:(0,d.t)("buttons.close"),onClick:function(){return ut(null)},"data-testid":"publish-library-success-close",className:"publish-library-success-close"})]})},[ut,yt]),wt=(0,D.useCallback)(function(Ht,It){Qe(!1),ut({url:Ht.url,authorName:Ht.authorName});var _t=It.slice();_t.forEach(function(Ct){te.includes(Ct.id)&&(Ct.status="published")}),me.setLibrary(_t)},[Qe,ut,te,me]),zt=function(){var Ht=(0,v.Z)(f().mark(function It(){return f().wrap(function(_t){for(;;)switch(_t.prev=_t.next){case 0:return _t.prev=0,_t.next=3,me.updateLibrary({libraryItems:(0,ee.I$)({description:"Excalidraw library files"}),merge:!0,openLibraryMenu:!0});case 3:_t.next=11;break;case 5:if(_t.prev=5,_t.t0=_t.catch(0),(_t.t0===null||_t.t0===void 0?void 0:_t.t0.name)!=="AbortError"){_t.next=10;break}return console.warn(_t.t0),_t.abrupt("return");case 10:Ce({errorMessage:(0,d.t)("errors.importLibraryError")});case 11:case"end":return _t.stop()}},It,null,[[0,5]])}));return function(){return Ht.apply(this,arguments)}}(),Yt=function(){var Ht=(0,v.Z)(f().mark(function It(){var _t;return f().wrap(function(Ct){for(;;)switch(Ct.prev=Ct.next){case 0:if(!Ae){Ct.next=4;break}Ct.t0=Pe,Ct.next=7;break;case 4:return Ct.next=6,me.getLatestLibrary();case 6:Ct.t0=Ct.sent;case 7:_t=Ct.t0,(0,k.t1)(_t).catch(he.FG).catch(function(Bt){Ce({errorMessage:Bt.message})});case 9:case"end":return Ct.stop()}},It)}));return function(){return Ht.apply(this,arguments)}}();return(0,ie.jsxs)("div",{style:{position:"relative"},children:[(0,ie.jsxs)(I.Z,{open:tt,children:[(0,ie.jsx)(I.Z.Trigger,{className:"Sidebar__dropdown-btn",onToggle:function(){return lt(!tt)},children:Z.YA}),(0,ie.jsxs)(I.Z.Content,{onClickOutside:function(){return lt(!1)},onSelect:function(){return lt(!1)},className:"library-menu",children:[!Ae&&(0,ie.jsx)(I.Z.Item,{onSelect:zt,icon:Z.Tl,"data-testid":"lib-dropdown--load",children:(0,d.t)("buttons.load")}),!!Pe.length&&(0,ie.jsx)(I.Z.Item,{onSelect:Yt,icon:Z.Hy,"data-testid":"lib-dropdown--export",children:(0,d.t)("buttons.export")}),!!Pe.length&&(0,ie.jsx)(I.Z.Item,{onSelect:function(){return Te(!0)},icon:Z.XH,children:We}),Ae&&(0,ie.jsx)(I.Z.Item,{icon:Z.Nw,onSelect:function(){return Qe(!0)},"data-testid":"lib-dropdown--remove",children:(0,d.t)("buttons.publishLibrary")})]})]}),te.length>0&&(0,ie.jsx)("div",{className:"library-actions-counter",children:te.length}),be&&nt(),et&&(0,ie.jsx)(L,{onClose:function(){return Qe(!1)},libraryItems:X(_e.libraryItems,te),appState:se,onSuccess:function(Ht){return wt(Ht,_e.libraryItems)},onError:function(Ht){return window.alert(Ht)},updateItemsInStorage:function(){return me.setLibrary(_e.libraryItems)},onRemove:function(Ht){return Q(te.filter(function(It){return It!==Ht}))}}),yt&&pt()]})}},5440:function(b,m,a){a.d(m,{z:function(){return d}});var v=a(2577),E=a(8211),h=a(9787),f=a(5644),D=a(45),k=a(2335),R=a(4512),d=function(Z){var B=Z.delay,ee=Z.theme,he=(0,h.useState)(!!B),N=(0,v.Z)(he,2),ke=N[0],Se=N[1];return(0,h.useEffect)(function(){if(B){var je=setTimeout(function(){Se(!1)},B);return function(){return clearTimeout(je)}}},[B]),ke?null:(0,R.jsxs)("div",{className:(0,D.Z)("LoadingMessage",{"LoadingMessage--dark":ee===k.C6.DARK}),children:[(0,R.jsx)("div",{children:(0,R.jsx)(f.Z,{})}),(0,R.jsx)("div",{className:"LoadingMessage-text",children:(0,E.t)("labels.loadingScene")})]})}},2891:function(b,m,a){a.d(m,{J:function(){return z}});var v=a(9787),E=a(487),h=a.n(E),f=a(631),D=a.n(f),k=a(2052),R=a.n(k),d=a(4010),Z=a.n(d),B=a(1469),ee=a.n(B),he=a(9329),N=a.n(he),ke=a(9935),Se={};Se.styleTagTransform=N(),Se.setAttributes=Z(),Se.insert=R().bind(null,"head"),Se.domAPI=D(),Se.insertStyleElement=ee(),h()(ke.Z,Se),ke.Z&&ke.Z.locals&&ke.Z.locals;var je=a(5156),we=a(6340),Ee=a(6066),Me=a(4512),z=function(re){var T=re.children,A=re.left,U=re.top,P=re.onCloseRequest,M=re.fitInViewport,C=M!==void 0&&M,g=re.offsetLeft,l=g===void 0?0:g,w=re.offsetTop,y=w===void 0?0:w,S=re.viewportWidth,_=S===void 0?window.innerWidth:S,J=re.viewportHeight,de=J===void 0?window.innerHeight:J,ve=(0,v.useRef)(null),ie=ve.current;return(0,v.useEffect)(function(){if(ie){var $=function(De){if(De.key===Ee.tW.TAB){var pe=(0,we.xp)(ie),ae=document.activeElement,j=pe.findIndex(function(V){return V===ae});j===0&&De.shiftKey?(pe[pe.length-1].focus(),De.preventDefault(),De.stopImmediatePropagation()):j!==pe.length-1||De.shiftKey||(pe[0].focus(),De.preventDefault(),De.stopImmediatePropagation())}};return ie.addEventListener("keydown",$),function(){return ie.removeEventListener("keydown",$)}}},[ie]),(0,v.useLayoutEffect)(function(){if(C&&ve.current){var $=ve.current,De=$.getBoundingClientRect(),pe=De.x,ae=De.y,j=De.width,V=De.height;pe+j-l>_&&($.style.left="".concat(_-j-10,"px")),ae+V-y>de&&($.style.top="".concat(de-V,"px")),V>=de&&($.style.height="".concat(de-20,"px"),$.style.top="10px",$.style.overflowY="scroll"),j>=_&&($.style.width="".concat(_,"px"),$.style.left="0px",$.style.overflowX="scroll")}},[C,_,de,l,y]),(0,v.useEffect)(function(){if(P){var $=function(De){var pe;(pe=ve.current)!==null&&pe!==void 0&&pe.contains(De.target)||(0,je.unstable_batchedUpdates)(function(){return P(De)})};return document.addEventListener("pointerdown",$,!1),function(){return document.removeEventListener("pointerdown",$,!1)}}},[P]),(0,Me.jsx)("div",{className:"popover",style:{top:U,left:A},ref:ve,children:T})}},9430:function(b,m,a){a.d(m,{Y:function(){return ve},b:function(){return de}});var v=a(2577),E=a(9787),h=a.n(E),f=a(1881),D=a(4739),k=a(9487),R=h().createContext({}),d=a(45),Z=a(8211),B=a(4206),ee=a(3646),he=a(7169),N=a(4512);function ke(ie,$){var De=Object.keys(ie);if(Object.getOwnPropertySymbols){var pe=Object.getOwnPropertySymbols(ie);$&&(pe=pe.filter(function(ae){return Object.getOwnPropertyDescriptor(ie,ae).enumerable})),De.push.apply(De,pe)}return De}var Se=a(1894),je=function(ie){return(0,N.jsx)("div",{className:"layer-ui__sidebar-dock-button","data-testid":"sidebar-dock",children:(0,N.jsxs)(Se.u,{label:(0,Z.t)("labels.sidebarLock"),children:[(0,N.jsxs)("label",{className:(0,d.Z)("ToolIcon ToolIcon__lock ToolIcon_type_floating","ToolIcon_size_medium"),children:[(0,N.jsx)("input",{className:"ToolIcon_type_checkbox",type:"checkbox",onChange:ie.onChange,checked:ie.checked,"aria-label":(0,Z.t)("labels.sidebarLock")})," ",(0,N.jsx)("div",{className:(0,d.Z)("Sidebar__pin-btn",{"Sidebar__pin-btn--pinned":ie.checked}),tabIndex:0,children:ee.qQ})," "]})," "]})})},we=function(ie){var $=(0,E.createContext)([!1,function(){}]),De=function(ae){var j=ae.children,V=(0,E.useState)(!1),oe=(0,v.Z)(V,2),G=oe[0],ye=oe[1],K=(0,E.useMemo)(function(){return[G,ye]},[G]);return(0,N.jsx)($.Provider,{value:K,children:j})},pe=function(ae){var j=(0,E.useContext)($),V=(0,v.Z)(j,2),oe=V[0],G=V[1];return(0,E.useLayoutEffect)(function(){if(!ae.__isFallback)return G(!0),function(){return G(!1)}},[ae.__isFallback,G]),ae.__isFallback&&oe?null:(0,N.jsx)(ie,function(ye){for(var K=1;K<arguments.length;K++){var H=arguments[K]!=null?arguments[K]:{};K%2?ke(Object(H),!0).forEach(function(L){(0,he.Z)(ye,L,H[L])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ye,Object.getOwnPropertyDescriptors(H)):ke(Object(H)).forEach(function(L){Object.defineProperty(ye,L,Object.getOwnPropertyDescriptor(H,L))})}return ye}({},ae))};return ie.name&&(pe.displayName="".concat(ie.name,"_upstreamOverrideWrapper"),De.displayName="".concat(ie.name,"_upstreamOverrideContextWrapper")),[De,pe]}(function(ie){var $=ie.children,De=ie.className,pe=(0,B.Fy)(),ae=(0,E.useContext)(R),j=!(!pe.canDeviceFitSidebar||!ae.dockable),V=!!ae.onClose;return(0,N.jsxs)("div",{className:(0,d.Z)("layer-ui__sidebar__header",De),"data-testid":"sidebar-header",children:[$,(j||V)&&(0,N.jsxs)("div",{className:"layer-ui__sidebar__header__buttons",children:[j&&(0,N.jsx)(je,{checked:!!ae.docked,onChange:function(){var oe;(oe=ae.onDock)===null||oe===void 0||oe.call(ae,!ae.docked)}}),V&&(0,N.jsx)("button",{"data-testid":"sidebar-close",className:"Sidebar__close-btn",onClick:ae.onClose,"aria-label":(0,Z.t)("buttons.close"),children:ee.Tw})]})]})}),Ee=(0,v.Z)(we,2),Me={Context:Ee[0],Component:Ee[1]},z=a(487),re=a.n(z),T=a(631),A=a.n(T),U=a(2052),P=a.n(U),M=a(4010),C=a.n(M),g=a(1469),l=a.n(g),w=a(9329),y=a.n(w),S=a(8208),_={};_.styleTagTransform=y(),_.setAttributes=C(),_.insert=P().bind(null,"head"),_.domAPI=A(),_.insertStyleElement=l(),re()(S.Z,_),S.Z&&S.Z.locals&&S.Z.locals;var J=a(6340),de=(0,D.cn)({rendered:0,docked:0}),ve=Object.assign((0,E.forwardRef)(function(ie,$){var De,pe=ie.children,ae=ie.onClose,j=ie.onDock,V=ie.docked,oe=ie.initialDockedState,G=oe===void 0?V:oe,ye=ie.dockable,K=ye===void 0||ye,H=ie.className,L=ie.__isInternal,I=(0,D.KO)(de,k.yE),F=(0,v.Z)(I,2),X=F[0],le=F[1],q=(0,B.n9)(),Ce=(0,E.useState)((De=V??G)!==null&&De!==void 0&&De),te=(0,v.Z)(Ce,2),me=te[0],Re=te[1];(0,E.useLayoutEffect)(function(){V===void 0&&q(function(se){return Re(se.isSidebarDocked),null})},[q,V]),(0,E.useLayoutEffect)(function(){if(!L)return le(function(se){return{rendered:se.rendered+1,docked:me?se.docked+1:se.docked}}),function(){le(function(se){return{rendered:se.rendered-1,docked:me?se.docked-1:se.docked}})}},[L,le,me]);var Be=(0,E.useRef)(ae);Be.current=ae,(0,E.useEffect)(function(){return function(){var se;(se=Be.current)===null||se===void 0||se.call(Be)}},[]);var Q=(0,E.useRef)({});return Q.current.onClose=function(){q({openSidebar:null})},Q.current.onDock=function(se){V===void 0&&(q({isSidebarDocked:se}),Re(se)),j==null||j(se)},Q.current=(0,J.v4)(Q.current,{docked:V??me,dockable:K}),X.rendered>0&&L?null:(0,N.jsx)(f.W,{className:(0,d.Z)("layer-ui__sidebar",{"layer-ui__sidebar--docked":me},H),ref:$,children:(0,N.jsx)(R.Provider,{value:Q.current,children:(0,N.jsxs)(Me.Context,{children:[(0,N.jsx)(Me.Component,{__isFallback:!0}),pe]})})})}),{Header:Me.Component})},5644:function(b,m,a){a.d(m,{Z:function(){return je}});var v=a(487),E=a.n(v),h=a(631),f=a.n(h),D=a(2052),k=a.n(D),R=a(4010),d=a.n(R),Z=a(1469),B=a.n(Z),ee=a(9329),he=a.n(ee),N=a(5892),ke={};ke.styleTagTransform=he(),ke.setAttributes=d(),ke.insert=k().bind(null,"head"),ke.domAPI=f(),ke.insertStyleElement=B(),E()(N.Z,ke),N.Z&&N.Z.locals&&N.Z.locals;var Se=a(4512),je=function(we){var Ee=we.size,Me=Ee===void 0?"1em":Ee,z=we.circleWidth,re=z===void 0?8:z;return(0,Se.jsx)("div",{className:"Spinner",children:(0,Se.jsx)("svg",{viewBox:"0 0 100 100",style:{width:Me,height:Me},children:(0,Se.jsx)("circle",{cx:"50",cy:"50",r:50-re/2,strokeWidth:re,fill:"none",strokeMiterlimit:"10"})})})}},7239:function(b,m,a){a.d(m,{Z:function(){return z}});var v=a(7169),E=a(487),h=a.n(E),f=a(631),D=a.n(f),k=a(2052),R=a.n(k),d=a(4010),Z=a.n(d),B=a(1469),ee=a.n(B),he=a(9329),N=a.n(he),ke=a(3874),Se={};Se.styleTagTransform=N(),Se.setAttributes=Z(),Se.insert=R().bind(null,"head"),Se.domAPI=D(),Se.insertStyleElement=ee(),h()(ke.Z,Se),ke.Z&&ke.Z.locals&&ke.Z.locals;var je=a(45),we=a(4512);function Ee(re,T){var A=Object.keys(re);if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(re);T&&(U=U.filter(function(P){return Object.getOwnPropertyDescriptor(re,P).enumerable})),A.push.apply(A,U)}return A}function Me(re){for(var T=1;T<arguments.length;T++){var A=arguments[T]!=null?arguments[T]:{};T%2?Ee(Object(A),!0).forEach(function(U){(0,v.Z)(re,U,A[U])}):Object.getOwnPropertyDescriptors?Object.defineProperties(re,Object.getOwnPropertyDescriptors(A)):Ee(Object(A)).forEach(function(U){Object.defineProperty(re,U,Object.getOwnPropertyDescriptor(A,U))})}return re}var z={Row:function(re){var T=re.children,A=re.gap,U=re.align,P=re.justifyContent,M=re.className,C=re.style;return(0,we.jsx)("div",{className:(0,je.Z)("Stack Stack_horizontal",M),style:Me({"--gap":A,alignItems:U,justifyContent:P},C),children:T})},Col:function(re){var T=re.children,A=re.gap,U=re.align,P=re.justifyContent,M=re.className,C=re.style;return(0,we.jsx)("div",{className:(0,je.Z)("Stack Stack_vertical",M),style:Me({"--gap":A,justifyItems:U,justifyContent:P},C),children:T})}}},1319:function(b,m,a){a.d(m,{V:function(){return he}});var v=a(8950),E=a(2577),h=a(2975),f=a.n(h),D=(a(5422),a(9787)),k=a.n(D),R=a(45),d=a(4206),Z=a(6797),B=a(5644),ee=a(4512),he=k().forwardRef(function(N,ke){var Se=(0,d.J0)().id,je=k().useRef(null);k().useImperativeHandle(ke,function(){return je.current});var we="ToolIcon_size_".concat(N.size),Ee=(0,D.useState)(!1),Me=(0,E.Z)(Ee,2),z=Me[0],re=Me[1],T=(0,D.useRef)(!0),A=function(){var M=(0,v.Z)(f().mark(function C(g){var l,w;return f().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(!(w="onClick"in N&&((l=N.onClick)===null||l===void 0?void 0:l.call(N,g)))||!("then"in w)){y.next=18;break}return y.prev=2,re(!0),y.next=6,w;case 6:y.next=15;break;case 8:if(y.prev=8,y.t0=y.catch(2),y.t0 instanceof Z._){y.next=14;break}throw y.t0;case 14:console.warn(y.t0);case 15:return y.prev=15,T.current&&re(!1),y.finish(15);case 18:case"end":return y.stop()}},C,null,[[2,8,15,18]])}));return function(C){return M.apply(this,arguments)}}();(0,D.useEffect)(function(){return function(){T.current=!1}},[]);var U=(0,D.useRef)(null);if(N.type==="button"||N.type==="icon"||N.type==="submit"){var P=N.type==="icon"?"button":N.type;return(0,ee.jsxs)("button",{className:(0,R.Z)("ToolIcon_type_button",we,N.className,N.visible&&!N.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!N.hidden,"ToolIcon--selected":N.selected,"ToolIcon--plain":N.type==="icon"}),"data-testid":N["data-testid"],hidden:N.hidden,title:N.title,"aria-label":N["aria-label"],type:P,onClick:A,ref:je,disabled:z||N.isLoading,children:[(N.icon||N.label)&&(0,ee.jsxs)("div",{className:"ToolIcon__icon","aria-hidden":"true",children:[N.icon||N.label,N.keyBindingLabel&&(0,ee.jsx)("span",{className:"ToolIcon__keybinding",children:N.keyBindingLabel}),N.isLoading&&(0,ee.jsx)(B.Z,{})]}),N.showAriaLabel&&(0,ee.jsxs)("div",{className:"ToolIcon__label",children:[N["aria-label"]," ",z&&(0,ee.jsx)(B.Z,{})]}),N.children]})}return(0,ee.jsxs)("label",{className:(0,R.Z)("ToolIcon",N.className),title:N.title,onPointerDown:function(M){var C;U.current=M.pointerType||null,(C=N.onPointerDown)===null||C===void 0||C.call(N,{pointerType:M.pointerType||null})},onPointerUp:function(){requestAnimationFrame(function(){U.current=null})},children:[(0,ee.jsx)("input",{className:"ToolIcon_type_radio ".concat(we),type:"radio",name:N.name,"aria-label":N["aria-label"],"aria-keyshortcuts":N["aria-keyshortcuts"],"data-testid":N["data-testid"],id:"".concat(Se,"-").concat(N.id),onChange:function(){var M;(M=N.onChange)===null||M===void 0||M.call(N,{pointerType:U.current})},checked:N.checked,ref:je}),(0,ee.jsxs)("div",{className:"ToolIcon__icon",children:[N.icon,N.keyBindingLabel&&(0,ee.jsx)("span",{className:"ToolIcon__keybinding",children:N.keyBindingLabel})]})]})});he.defaultProps={visible:!0,className:"",size:"medium"},he.displayName="ToolButton"},1894:function(b,m,a){a.d(m,{u:function(){return Me},bK:function(){return we},Js:function(){return Ee}});var v=a(487),E=a.n(v),h=a(631),f=a.n(h),D=a(2052),k=a.n(D),R=a(4010),d=a.n(R),Z=a(1469),B=a.n(Z),ee=a(9329),he=a.n(ee),N=a(6626),ke={};ke.styleTagTransform=he(),ke.setAttributes=d(),ke.insert=k().bind(null,"head"),ke.domAPI=f(),ke.insertStyleElement=B(),E()(N.Z,ke),N.Z&&N.Z.locals&&N.Z.locals;var Se=a(9787),je=a(4512),we=function(){var z=document.querySelector(".excalidraw-tooltip");if(z)return z;var re=document.createElement("div");return document.body.appendChild(re),re.classList.add("excalidraw-tooltip"),re},Ee=function(z,re){var T,A=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"bottom",U=z.getBoundingClientRect(),P=window.innerWidth,M=window.innerHeight,C=5,g=re.left+re.width/2-U.width/2;g<0?g=C:g+U.width>=P&&(g=P-U.width-C),A==="bottom"?(T=re.top+re.height+C)+U.height>=M&&(T=re.top-U.height-C):(T=re.top-U.height-C)<0&&(T=re.top+re.height+C),Object.assign(z.style,{top:"".concat(T,"px"),left:"".concat(g,"px")})},Me=function(z){var re=z.children,T=z.label,A=z.long,U=A!==void 0&&A,P=z.style;return(0,Se.useEffect)(function(){return function(){return we().classList.remove("excalidraw-tooltip--visible")}},[]),(0,je.jsx)("div",{className:"excalidraw-tooltip-wrapper",onPointerEnter:function(M){return function(C,g,l,w){g.classList.add("excalidraw-tooltip--visible"),g.style.minWidth=w?"50ch":"10ch",g.style.maxWidth=w?"50ch":"15ch",g.textContent=l;var y=C.getBoundingClientRect();Ee(g,y)}(M.currentTarget,we(),T,U)},onPointerLeave:function(){return we().classList.remove("excalidraw-tooltip--visible")},style:P,children:re})}},6773:function(b,m,a){a.d(m,{Z:function(){return T}});var v=a(2577),E=a(487),h=a.n(E),f=a(631),D=a.n(f),k=a(2052),R=a.n(k),d=a(4010),Z=a.n(d),B=a(1469),ee=a.n(B),he=a(9329),N=a.n(he),ke=a(6359),Se={};Se.styleTagTransform=N(),Se.setAttributes=Z(),Se.insert=R().bind(null,"head"),Se.domAPI=D(),Se.insertStyleElement=ee(),h()(ke.Z,Se),ke.Z&&ke.Z.locals&&ke.Z.locals;var je=a(9787),we=a.n(je),Ee=a(45),Me=a(1894),z=a(4206),re=a(4512),T=function(A){var U=A.className,P=A.mobile,M=A.collaborators,C=(0,z.eh)(),g=new Map;M.forEach(function(w,y){g.set(w.id||y,w)});var l=g.size>0&&Array.from(g).filter(function(w){var y=(0,v.Z)(w,2),S=(y[0],y[1]);return Object.keys(S).length!==0}).map(function(w){var y=(0,v.Z)(w,2),S=y[0],_=y[1],J=C.renderAction("goToCollaborator",[S,_]);return P?(0,re.jsx)(Me.u,{label:_.username||"Unknown user",children:J},S):(0,re.jsx)(we().Fragment,{children:J},S)});return(0,re.jsx)("div",{className:(0,Ee.Z)("UserList",U,{UserList_mobile:P}),children:l})}},8888:function(b,m,a){a.d(m,{A3:function(){return B},ZC:function(){return he},R6:function(){return ee}});var v=a(9787),E=a.n(v);const h=N=>{let ke;const Se=new Set,je=(Me,z)=>{const re=typeof Me=="function"?Me(ke):Me;if(!Object.is(re,ke)){const T=ke;ke=z??typeof re!="object"?re:Object.assign({},ke,re),Se.forEach(A=>A(ke,T))}},we=()=>ke,Ee={setState:je,getState:we,subscribe:Me=>(Se.add(Me),()=>Se.delete(Me)),destroy:()=>{console.warn("[DEPRECATED] The destroy method will be unsupported in the future version. You should use unsubscribe function returned by subscribe. Everything will be garbage collected if store is garbage collected."),Se.clear()}};return ke=N(je,we,Ee),Ee},f=N=>N?h(N):h;var D=a(5668);const{useSyncExternalStoreWithSelector:k}=D,R=N=>{typeof N!="function"&&console.warn('[DEPRECATED] Passing a vanilla store will be unsupported in the future version. Please use `import { useStore } from "zustand"` to use the vanilla store in React.');const ke=typeof N=="function"?f(N):N,Se=(je,we)=>function(Ee,Me=Ee.getState,z){const re=k(Ee.subscribe,Ee.getState,Ee.getServerState||Ee.getState,Me,z);return(0,v.useDebugValue)(re),re}(ke,je,we);return Object.assign(Se,ke),Se},d=N=>N?R(N):R;function Z(){const N=d(ke=>({current:new Array,version:0,set:ke}));return{In:({children:ke})=>{const Se=N(we=>we.set),je=N(we=>we.version);return(0,v.useLayoutEffect)(()=>{Se(we=>({version:we.version+1}))},[]),(0,v.useLayoutEffect)(()=>(Se(({current:we})=>({current:[...we,ke]})),()=>Se(({current:we})=>({current:we.filter(Ee=>Ee!==ke)}))),[ke,je]),null},Out:()=>{const ke=N(Se=>Se.current);return E().createElement(E().Fragment,null,ke)}}}var B=E().createContext(null),ee=function(){return E().useContext(B)},he=function(){return E().useMemo(function(){return{mainMenuTunnel:Z(),welcomeScreenMenuHintTunnel:Z(),welcomeScreenToolbarHintTunnel:Z(),welcomeScreenHelpHintTunnel:Z(),welcomeScreenCenterTunnel:Z(),footerCenterTunnel:Z(),jotaiScope:Symbol()}},[])}},9127:function(b,m,a){a.d(m,{Z:function(){return ae}});var v=a(45),E=a(4206),h=a(4512),f=function(j){var V=j.className,oe=V===void 0?"":V,G=j.children,ye=j.onToggle,K=(0,E.gF)(),H=(0,E.Fy)(),L=(0,v.Z)("dropdown-menu-button ".concat(oe),"zen-mode-transition",{"transition-left":K.zenModeEnabled,"dropdown-menu-button--mobile":H.isMobile}).trim();return(0,h.jsx)("button",{"data-prevent-outside-click":!0,className:L,onClick:ye,type:"button","data-testid":"dropdown-menu-button",children:G})},D=f;f.displayName="DropdownMenuTrigger";var k=a(2739),R=function(){return(0,h.jsx)("div",{style:{height:"1px",backgroundColor:"var(--default-border-color)",margin:".5rem 0"}})},d=R;R.displayName="DropdownMenuSeparator";var Z=function(j){var V=j.children,oe=j.className,G=oe===void 0?"":oe,ye=j.style,K=j.title;return(0,h.jsxs)("div",{className:"dropdown-menu-group ".concat(G),style:ye,children:[K&&(0,h.jsx)("p",{className:"dropdown-menu-group-title",children:K}),V]})},B=Z;Z.displayName="DropdownMenuGroup";var ee=a(1930),he=a(9787),N=a.n(he),ke=a(1881),Se=a(7239),je=a(6772),we=function(j){var V,oe,G=j.children,ye=j.onClickOutside,K=j.className,H=K===void 0?"":K,L=j.onSelect,I=j.style,F=(0,E.Fy)(),X=(V=function(){ye==null||ye()},oe=(0,he.useRef)(null),(0,he.useEffect)(function(){var q=function(Ce){var te=oe.current;!te||te.contains(Ce.target)||(0,ee.Z)(document.querySelectorAll("[data-prevent-outside-click]")).some(function(me){return me.contains(Ce.target)})||V(Ce)};return document.addEventListener("pointerdown",q),document.addEventListener("touchstart",q),function(){document.removeEventListener("pointerdown",q),document.removeEventListener("touchstart",q)}},[oe,V]),oe),le=(0,v.Z)("dropdown-menu ".concat(H),{"dropdown-menu--mobile":F.isMobile}).trim();return(0,h.jsx)(je.N7.Provider,{value:{onSelect:L},children:(0,h.jsx)("div",{ref:X,className:le,style:I,"data-testid":"dropdown-menu",children:F.isMobile?(0,h.jsx)(Se.Z.Col,{className:"dropdown-menu-container",children:G}):(0,h.jsx)(ke.W,{className:"dropdown-menu-container",padding:2,style:{zIndex:1},children:G})})})};we.displayName="DropdownMenuContent";var Ee=we,Me=a(4215),z=a(7169),re=a(2726),T=["children","className"];function A(j,V){var oe=Object.keys(j);if(Object.getOwnPropertySymbols){var G=Object.getOwnPropertySymbols(j);V&&(G=G.filter(function(ye){return Object.getOwnPropertyDescriptor(j,ye).enumerable})),oe.push.apply(oe,G)}return oe}function U(j){for(var V=1;V<arguments.length;V++){var oe=arguments[V]!=null?arguments[V]:{};V%2?A(Object(oe),!0).forEach(function(G){(0,z.Z)(j,G,oe[G])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(oe)):A(Object(oe)).forEach(function(G){Object.defineProperty(j,G,Object.getOwnPropertyDescriptor(oe,G))})}return j}var P=function(j){var V=j.children,oe=j.className,G=oe===void 0?"":oe,ye=(0,re.Z)(j,T);return(0,h.jsx)("div",U(U({},ye),{},{className:"dropdown-menu-item-base dropdown-menu-item-custom ".concat(G).trim(),children:V}))},M=a(487),C=a.n(M),g=a(631),l=a.n(g),w=a(2052),y=a.n(w),S=a(4010),_=a.n(S),J=a(1469),de=a.n(J),ve=a(9329),ie=a.n(ve),$=a(7399),De={};De.styleTagTransform=ie(),De.setAttributes=_(),De.insert=y().bind(null,"head"),De.domAPI=l(),De.insertStyleElement=de(),C()($.Z,De),$.Z&&$.Z.locals&&$.Z.locals;var pe=function(j){var V=j.children,oe=j.open,G=function(K){return N().Children.toArray(K).find(function(H){return N().isValidElement(H)&&typeof H.type!="string"&&(H==null?void 0:H.type.displayName)&&H.type.displayName==="DropdownMenuTrigger"})||null}(V),ye=function(K){return N().Children.toArray(K).find(function(H){return N().isValidElement(H)&&typeof H.type!="string"&&(H==null?void 0:H.type.displayName)&&H.type.displayName==="DropdownMenuContent"})||null}(V);return(0,h.jsxs)(h.Fragment,{children:[G,oe&&ye]})};pe.Trigger=D,pe.Content=Ee,pe.Item=k.Z,pe.ItemLink=Me.Z,pe.ItemCustom=P,pe.Group=B,pe.Separator=d;var ae=pe;pe.displayName="DropdownMenu"},2739:function(b,m,a){var v=a(7169),E=a(2726),h=a(6772),f=a(4122),D=a(4512),k=["icon","onSelect","children","shortcut","className"];function R(B,ee){var he=Object.keys(B);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(B);ee&&(N=N.filter(function(ke){return Object.getOwnPropertyDescriptor(B,ke).enumerable})),he.push.apply(he,N)}return he}function d(B){for(var ee=1;ee<arguments.length;ee++){var he=arguments[ee]!=null?arguments[ee]:{};ee%2?R(Object(he),!0).forEach(function(N){(0,v.Z)(B,N,he[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(he)):R(Object(he)).forEach(function(N){Object.defineProperty(B,N,Object.getOwnPropertyDescriptor(he,N))})}return B}var Z=function(B){var ee,he=B.icon,N=B.onSelect,ke=B.children,Se=B.shortcut,je=B.className,we=(0,E.Z)(B,k),Ee=(0,h.qZ)(we.onClick,N);return(0,D.jsx)("button",d(d({},we),{},{onClick:Ee,type:"button",className:(0,h.n)(je),title:(ee=we.title)!==null&&ee!==void 0?ee:we["aria-label"],children:(0,D.jsx)(f.Z,{icon:he,shortcut:Se,children:ke})}))};m.Z=Z,Z.displayName="DropdownMenuItem"},4122:function(b,m,a){var v=a(4206),E=a(4512);m.Z=function(h){var f=h.icon,D=h.shortcut,k=h.children,R=(0,v.Fy)();return(0,E.jsxs)(E.Fragment,{children:[(0,E.jsx)("div",{className:"dropdown-menu-item__icon",children:f}),(0,E.jsx)("div",{className:"dropdown-menu-item__text",children:k}),D&&!R.isMobile&&(0,E.jsx)("div",{className:"dropdown-menu-item__shortcut",children:D})]})}},4215:function(b,m,a){var v=a(7169),E=a(2726),h=a(4122),f=a(6772),D=a(4512),k=["icon","shortcut","href","children","onSelect","className"];function R(B,ee){var he=Object.keys(B);if(Object.getOwnPropertySymbols){var N=Object.getOwnPropertySymbols(B);ee&&(N=N.filter(function(ke){return Object.getOwnPropertyDescriptor(B,ke).enumerable})),he.push.apply(he,N)}return he}function d(B){for(var ee=1;ee<arguments.length;ee++){var he=arguments[ee]!=null?arguments[ee]:{};ee%2?R(Object(he),!0).forEach(function(N){(0,v.Z)(B,N,he[N])}):Object.getOwnPropertyDescriptors?Object.defineProperties(B,Object.getOwnPropertyDescriptors(he)):R(Object(he)).forEach(function(N){Object.defineProperty(B,N,Object.getOwnPropertyDescriptor(he,N))})}return B}var Z=function(B){var ee,he=B.icon,N=B.shortcut,ke=B.href,Se=B.children,je=B.onSelect,we=B.className,Ee=we===void 0?"":we,Me=(0,E.Z)(B,k),z=(0,f.qZ)(Me.onClick,je);return(0,D.jsx)("a",d(d({},Me),{},{href:ke,target:"_blank",rel:"noreferrer",className:(0,f.n)(Ee),title:(ee=Me.title)!==null&&ee!==void 0?ee:Me["aria-label"],onClick:z,children:(0,D.jsx)(h.Z,{icon:he,shortcut:N,children:Se})}))};m.Z=Z,Z.displayName="DropdownMenuItemLink"},6772:function(b,m,a){a.d(m,{N7:function(){return D},n:function(){return k},qZ:function(){return R}});var v=a(9787),E=a.n(v),h=a(2335),f=a(6340),D=E().createContext({}),k=function(){var d=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"";return"dropdown-menu-item dropdown-menu-item-base ".concat(d).trim()},R=function(d,Z){var B=(0,v.useContext)(D);return(0,f.Mj)(d,function(ee){var he,N=new CustomEvent(h.Ks.MENU_ITEM_SELECT,{bubbles:!0,cancelable:!0});Z==null||Z(N),N.defaultPrevented||(he=B.onSelect)===null||he===void 0||he.call(B,N)})}},3646:function(b,m,a){a.d(m,{$c:function(){return Be},$q:function(){return ve},BF:function(){return et},BR:function(){return Ce},Ct:function(){return lt},D7:function(){return H},DG:function(){return te},DJ:function(){return U},DS:function(){return Bt},EO:function(){return Jt},ET:function(){return K},FC:function(){return re},Gc:function(){return Ze},HL:function(){return nt},Hk:function(){return Zn},Hy:function(){return oe},IN:function(){return Ge},J8:function(){return me},Mw:function(){return P},NA:function(){return pe},NW:function(){return j},Nw:function(){return Gn},OA:function(){return St},OW:function(){return C},P7:function(){return Nn},Pm:function(){return _},RJ:function(){return Qe},RY:function(){return V},Re:function(){return l},ST:function(){return Ae},Sd:function(){return ie},TP:function(){return Re},Tl:function(){return q},Tw:function(){return Ue},UE:function(){return Q},VL:function(){return J},Vl:function(){return ue},Vq:function(){return je},W2:function(){return _t},W5:function(){return Te},Wl:function(){return pt},X7:function(){return yt},XB:function(){return de},XH:function(){return De},YA:function(){return Ee},ZA:function(){return ut},Zm:function(){return L},_C:function(){return z},_U:function(){return A},a0:function(){return it},a1:function(){return X},a5:function(){return zt},aA:function(){return kn},aT:function(){return Yt},bf:function(){return Ht},by:function(){return G},e0:function(){return w},eQ:function(){return I},fr:function(){return hn},gK:function(){return Pe},h0:function(){return ye},il:function(){return wn},j8:function(){return $e},jn:function(){return We},kL:function(){return ae},kM:function(){return It},m:function(){return Qt},m9:function(){return wt},mh:function(){return Ve},nb:function(){return g},np:function(){return ft},nq:function(){return gt},o3:function(){return en},oQ:function(){return T},oT:function(){return sn},op:function(){return Je},pO:function(){return we},po:function(){return le},pw:function(){return tt},q0:function(){return rt},qQ:function(){return Me},rr:function(){return Wt},t5:function(){return _e},tW:function(){return vt},tb:function(){return S},tn:function(){return Vt},uD:function(){return be},vo:function(){return At},wr:function(){return Ct},xL:function(){return $},xP:function(){return F},xs:function(){return qe},z6:function(){return Zt},zG:function(){return se},zb:function(){return y},zu:function(){return M}});var v=a(7169),E=a(2726),h=a(9787),f=a.n(h),D=a(5284),k=a(45),R=a(2335),d=a(4512),Z=["width","height","mirror","style"];function B(tn,dn){var En=Object.keys(tn);if(Object.getOwnPropertySymbols){var Un=Object.getOwnPropertySymbols(tn);dn&&(Un=Un.filter(function(Dr){return Object.getOwnPropertyDescriptor(tn,Dr).enumerable})),En.push.apply(En,Un)}return En}function ee(tn){for(var dn=1;dn<arguments.length;dn++){var En=arguments[dn]!=null?arguments[dn]:{};dn%2?B(Object(En),!0).forEach(function(Un){(0,v.Z)(tn,Un,En[Un])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tn,Object.getOwnPropertyDescriptors(En)):B(Object(En)).forEach(function(Un){Object.defineProperty(tn,Un,Object.getOwnPropertyDescriptor(En,Un))})}return tn}var he=function(tn){return tn===R.C6.LIGHT?D.white:"#1e1e1e"},N=function(tn){var dn=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512,En=typeof dn=="number"?{width:dn}:dn,Un=En.width,Dr=Un===void 0?512:Un,Ui=En.height,Vi=Ui===void 0?Dr:Ui,Ki=En.mirror,Di=En.style,nr=(0,E.Z)(En,Z);return(0,d.jsx)("svg",ee(ee({"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(Dr," ").concat(Vi),className:(0,k.Z)({"rtl-mirror":Ki}),style:Di},nr),{},{children:typeof tn=="string"?(0,d.jsx)("path",{fill:"currentColor",d:tn}):tn}))},ke={width:24,height:24,fill:"none",strokeWidth:2,stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},Se={width:20,height:20,fill:"none",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round"},je=(N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("rect",{x:3,y:8,width:18,height:4,rx:1}),(0,d.jsx)("line",{x1:12,y1:8,x2:12,y2:21}),(0,d.jsx)("path",{d:"M19 12v7a2 2 0 0 1 -2 2h-10a2 2 0 0 1 -2 -2v-7"}),(0,d.jsx)("path",{d:"M7.5 8a2.5 2.5 0 0 1 0 -5a4.8 8 0 0 1 4.5 5a4.8 8 0 0 1 4.5 -5a2.5 2.5 0 0 1 0 5"})]}),ke),N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M3 19a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,d.jsx)("path",{d:"M3 6a9 9 0 0 1 9 0a9 9 0 0 1 9 0"}),(0,d.jsx)("line",{x1:"3",y1:"6",x2:"3",y2:"19"}),(0,d.jsx)("line",{x1:"12",y1:"6",x2:"12",y2:"19"}),(0,d.jsx)("line",{x1:"21",y1:"6",x2:"21",y2:"19"})]}),ke)),we=N((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"12",y1:"5",x2:"12",y2:"19"}),(0,d.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"})]}),ke),Ee=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"1"}),(0,d.jsx)("circle",{cx:"12",cy:"19",r:"1"}),(0,d.jsx)("circle",{cx:"12",cy:"5",r:"1"})]}),ke),Me=N((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M9 4v6l-2 4v2h10v-2l-2 -4v-6"}),(0,d.jsx)("line",{x1:"12",y1:"16",x2:"12",y2:"21"}),(0,d.jsx)("line",{x1:"8",y1:"4",x2:"16",y2:"4"})]}),ke),z=N((0,d.jsxs)("g",{children:[(0,d.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"UnlockedIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:6,y:1,width:9,height:9,children:(0,d.jsx)("path",{stroke:"none",d:"M6.399 9.561V5.175c0-.93.401-1.823 1.116-2.48a3.981 3.981 0 0 1 2.693-1.028c1.01 0 1.98.37 2.694 1.027.715.658 1.116 1.55 1.116 2.481",fill:"#fff"})}),(0,d.jsx)("g",{mask:"url(#UnlockedIcon)",children:(0,d.jsx)("path",{stroke:"none",d:"M5.149 9.561v1.25h2.5v-1.25h-2.5Zm5.06-7.894V.417v1.25Zm2.559 3.508v1.25h2.5v-1.25h-2.5ZM7.648 8.51V5.175h-2.5V8.51h2.5Zm0-3.334c0-.564.243-1.128.713-1.561L6.668 1.775c-.959.883-1.52 2.104-1.52 3.4h2.5Zm.713-1.561a2.732 2.732 0 0 1 1.847-.697v-2.5c-1.31 0-2.585.478-3.54 1.358L8.36 3.614Zm1.847-.697c.71 0 1.374.26 1.847.697l1.694-1.839a5.231 5.231 0 0 0-3.54-1.358v2.5Zm1.847.697c.47.433.713.997.713 1.561h2.5c0-1.296-.56-2.517-1.52-3.4l-1.693 1.839Z",fill:"currentColor"})})]}),Se),re=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M13.542 8.542H6.458a2.5 2.5 0 0 0-2.5 2.5v3.75a2.5 2.5 0 0 0 2.5 2.5h7.084a2.5 2.5 0 0 0 2.5-2.5v-3.75a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,d.jsx)("path",{d:"M10 13.958a1.042 1.042 0 1 0 0-2.083 1.042 1.042 0 0 0 0 2.083Z"}),(0,d.jsx)("path",{d:"M6.667 8.333V5.417C6.667 3.806 8.159 2.5 10 2.5c1.841 0 3.333 1.306 3.333 2.917v2.916"})]}),Se),T=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M38.5 83.5c-14-2-17.833-10.473-21-22.5C14.333 48.984 12 22 12 12.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m12.005 10.478 7.905 14.423L6 25.75l6.005-15.273Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M12.005 10.478c1.92 3.495 3.838 7 7.905 14.423m-7.905-14.423c3.11 5.683 6.23 11.368 7.905 14.423m0 0c-3.68.226-7.35.455-13.91.85m13.91-.85c-5.279.33-10.566.647-13.91.85m0 0c1.936-4.931 3.882-9.86 6.005-15.273M6 25.75c2.069-5.257 4.135-10.505 6.005-15.272",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:41,height:94,fill:"none"}),A=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M18.026 1.232c-5.268 13.125-5.548 33.555 3.285 42.311 8.823 8.75 33.31 12.304 42.422 13.523",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m72.181 59.247-13.058-10-2.948 13.62 16.006-3.62Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M72.181 59.247c-3.163-2.429-6.337-4.856-13.058-10m13.058 10c-5.145-3.936-10.292-7.882-13.058-10m0 0c-.78 3.603-1.563 7.196-2.948 13.62m2.948-13.62c-1.126 5.168-2.24 10.346-2.948 13.62m0 0c5.168-1.166 10.334-2.343 16.006-3.62m-16.006 3.62c5.51-1.248 11.01-2.495 16.006-3.62",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:85,height:71,fill:"none"}),U=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M1 77c14-2 31.833-11.973 35-24 3.167-12.016-6-35-9.5-43.5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"m24.165 1.093-2.132 16.309 13.27-4.258-11.138-12.05Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M24.165 1.093c-.522 3.953-1.037 7.916-2.132 16.309m2.131-16.309c-.835 6.424-1.68 12.854-2.13 16.308m0 0c3.51-1.125 7.013-2.243 13.27-4.257m-13.27 4.257c5.038-1.608 10.08-3.232 13.27-4.257m0 0c-3.595-3.892-7.197-7.777-11.14-12.05m11.14 12.05c-3.837-4.148-7.667-8.287-11.14-12.05",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"})]}),{width:38,height:78,fill:"none"}),P=N((0,d.jsxs)("g",{fill:"currentColor",children:[(0,d.jsx)("path",{d:"M24.296 12.214c0 .112-.134.224-.291.224-.135 0-.516.629-.808 1.392-.897 2.335-9.867 20.096-9.89 19.534 0-.292-.134-.494-.359-.494-.313 0-.358.18-.224 1.055.135 1.01.045 1.236-3.14 7.432-1.793 3.525-3.722 7.208-4.282 8.196-.584 1.032-1.032 2.155-1.077 2.626-.067.809.022.92 1.973 2.605 1.122.988 2.557 2.223 3.185 2.784 2.826 2.582 4.149 3.615 4.508 3.547.538-.09 8.858-8.823 8.88-9.317 0-.225-.403-3.638-.897-7.59-.852-6.735-1.66-14.616-1.57-15.38.068-.47-.269-2.85-.516-3.884-.201-.808-.112-1.145 1.503-4.827.942-2.178 2.176-4.85 2.714-5.928.515-1.077.964-2.02.964-2.088 0-.067-.157-.112-.336-.112-.18 0-.337.09-.337.225Zm-5.158 16.772c.247 1.572.74 5.344 1.099 8.375.695 5.568 1.503 11.742 1.727 13.314.135.786.045.943-1.413 2.56-2.534 2.851-5.225 5.658-6.145 6.376l-.852.674-4.373-4.086c-4.037-3.728-4.373-4.11-4.127-4.558a5154.2 5154.2 0 0 1 2.535-4.626 727.864 727.864 0 0 0 3.678-6.78c.784-1.46 1.502-2.717 1.637-2.785.156-.09.201 2.178.156 7.006-.09 7.207-.067 7.23.651 7.072.09 0 .157-3.637.157-8.06V35.43l2.355-4.715c1.3-2.605 2.377-4.693 2.422-4.67.045.022.27 1.347.493 2.94ZM9.562 1.818C7.903 3.143 5.346 5.388 3.328 7.32L1.735 8.823l.292 1.976c.157 1.078.449 3.188.628 4.67.202 1.482.404 2.874.47 3.077.09.269 0 .404-.246.404-.426 0-.449-.113.718 3.592.286.952.577 1.903.875 2.851.044.158.224.225.425.158.202-.09.314-.27.247-.427-.067-.18.045-.36.224-.427.247-.09.225-.269-.157-.92-.605-1.01-2.152-9.633-2.242-12.416-.067-1.976-.067-1.999.762-3.121.808-1.1 2.67-2.762 5.54-4.873.807-.605 1.614-1.28 1.839-1.504.336-.404.493-.292 3.319 2.717 1.637 1.729 3.453 3.502 4.037 3.952l1.076.808-.83 1.75c-.448.944-2.265 4.581-4.059 8.04-3.745 7.274-2.983 6.578-7.333 6.645l-2.826.023-.942 1.077c-.987 1.146-1.121 1.572-.65 2.29.18.248.313.652.313.898 0 .405.157.472 1.055.517.56.023 1.076.09 1.144.157.067.068.156 1.46.224 3.098l.09 2.965-1.503 3.232C1.735 45.422.749 47.891.749 48.7c0 .427.09.786.18.786.224 0 .224-.022 9.35-19.085a4398.495 4398.495 0 0 1 8.927-18.546c.672-1.369 1.278-2.626 1.323-2.806.045-.202-1.503-1.751-3.97-3.93-2.22-1.975-4.171-3.772-4.35-3.974-.516-.628-1.279-.426-2.647.674ZM8.441 31.231c-.18.472-.65 1.46-1.031 2.2-.629 1.258-.696 1.303-.853.786-.09-.314-.157-1.235-.18-2.066-.022-1.639-.067-1.616 1.817-1.728L8.8 30.4l-.358.831Zm1.884-3.592c-1.032 1.998-1.077 2.02-3.903 2.155-2.489.135-2.533.112-2.533-.36 0-.269-.09-.628-.203-.808-.134-.202-.044-.56.27-1.055l.493-.763H6.69c1.234-.023 2.647-.113 3.14-.202.494-.09.92-.135.965-.113.045.023-.18.54-.471 1.146Zm-.09-20.477c-.404.292-.516.584-.516 1.325 0 .875.067 1.01.673 1.257.605.247.763.224 1.458-.247.92-.629.941-.786.269-1.796-.583-.876-1.166-1.033-1.884-.54Z"}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M23.703 11.793c.166-.291.501-.514.93-.514.38 0 .698.161.82.283.161.162.225.35.225.54a.822.822 0 0 1-.056.289c-.08.218-.5 1.106-.983 2.116-.535 1.071-1.76 3.727-2.699 5.895-.79 1.802-1.209 2.784-1.404 3.416-.142.461-.132.665-.058.961.264 1.103.6 3.647.53 4.132-.088.756.727 8.547 1.57 15.21.5 3.997.903 7.45.903 7.676l-.001.033c-.004.087-.041.288-.211.54-.24.354-.914 1.143-1.8 2.119-2.004 2.21-5.107 5.423-6.463 6.653-.322.292-.566.485-.696.56a.884.884 0 0 1-.289.111c-.194.037-.579-.007-1.11-.349-.707-.453-1.981-1.522-4-3.366-.627-.561-2.061-1.794-3.176-2.776-.81-.699-1.308-1.138-1.612-1.466-.32-.343-.47-.61-.549-.87-.078-.257-.085-.515-.055-.874.05-.52.521-1.769 1.166-2.91.559-.985 2.48-4.654 4.269-8.17 1.579-3.071 2.392-4.663 2.792-5.612.32-.759.329-1 .277-1.387-.085-.553-.092-.891-.052-1.092a.942.942 0 0 1 .274-.52c.164-.157.384-.261.704-.261.094 0 .184.011.27.033 1.924-3.44 8.554-16.632 9.316-18.616.276-.724.64-1.336.848-1.556a.965.965 0 0 1 .32-.228Zm-5.399 16.402c-.49.942-.971 1.888-1.446 2.837l-2.28 4.565v7.871c0 4.023-.06 7.404-.136 8.04-.067.552-.474.691-.654.722l.075-.008c-.317.07-.574.063-.778-.023-.234-.098-.5-.297-.63-.857-.156-.681-.158-2.462-.103-6.893.019-2.022.022-3.592.008-4.725-.156.276-.315.562-.467.843a737.624 737.624 0 0 1-3.682 6.79 3618.972 3618.972 0 0 0-2.462 4.493c.062.088.169.231.289.364.55.61 1.631 1.623 3.624 3.462l3.931 3.674.377-.298c.907-.709 3.554-3.479 6.055-6.293.425-.47.73-.814.946-1.084.175-.22.28-.36.319-.501.031-.117.002-.227-.024-.379l-.004-.02c-.224-1.572-1.032-7.753-1.728-13.33-.358-3.022-.85-6.782-1.096-8.349l-.002-.01c-.042-.301-.087-.603-.132-.891ZM9.118 1.264C9.91.628 10.537.27 11.028.144c.727-.186 1.27.003 1.713.53.186.209 2.107 1.972 4.287 3.912 2.02 1.783 3.434 3.16 3.897 3.743.326.41.322.756.296.873a1.046 1.046 0 0 1-.005.018c-.047.188-.669 1.512-1.374 2.947a4348.55 4348.55 0 0 0-8.923 18.54c-7.335 15.32-8.808 18.396-9.217 19.015-.235.355-.419.404-.525.437a.815.815 0 0 1-.249.036.745.745 0 0 1-.647-.363C.176 49.67.04 49.222.04 48.7c0-.286.09-.754.316-1.434.452-1.356 1.466-3.722 3.225-7.53l1.432-3.083-.084-2.787a72.902 72.902 0 0 0-.156-2.53 7.307 7.307 0 0 0-.539-.046c-.463-.024-.764-.062-.96-.124-.304-.096-.48-.252-.598-.438-.105-.165-.17-.374-.17-.663 0-.134-.081-.348-.178-.481l-.019-.028c-.293-.448-.406-.831-.373-1.234.04-.484.34-1.052 1.08-1.91l.759-.869c-.103-.325-.471-1.513-.854-2.787-.737-2.339-1.004-3.238-1.018-3.578-.016-.393.134-.59.27-.715a.721.721 0 0 1 .192-.125 89.87 89.87 0 0 1-.414-2.782 231.651 231.651 0 0 0-.625-4.652l-.292-1.976a.71.71 0 0 1 .215-.62l1.589-1.501C4.87 4.86 7.446 2.599 9.118 1.264Zm-1.833 33.75a.819.819 0 0 1-.406.208.73.73 0 0 1-.491-.063l.048 1.618v.009l.849-1.773Zm5.874.697c-.035.087-.07.175-.107.261a20.92 20.92 0 0 1-.36.798.688.688 0 0 1 .457.007l.01.004v-1.07Zm.72-1.892-.015.018a.745.745 0 0 1-.407.236c.02.195.027.378 0 .592l.422-.846ZM7.7 31.175c-.268.027-.489.055-.6.07-.006.056-.013.13-.016.194-.005.19 0 .42.004.694.003.111.006.225.011.338.232-.471.459-.956.6-1.296Zm2.12-1.456a2.04 2.04 0 0 1-.415.31c.064.104.099.222.104.341l.132-.277.18-.374Zm-.14-2.374c-.654.079-1.882.153-2.974.173h-1.87l-.281.435c-.09.141-.17.331-.203.414.102.21.189.508.226.788h.007c.364.006.928-.023 1.805-.07 1.243-.06 1.88-.052 2.315-.291.154-.086.266-.215.387-.393.176-.261.354-.605.587-1.056Zm2.136-1.784c-.157.16-.331.3-.52.422a.631.631 0 0 1 .182.281l.337-.703Zm7.205-1.478c-.222.442-.445.883-.667 1.32a.787.787 0 0 1 .61.007c.036.018.145.07.243.2-.032-.165-.067-.33-.105-.493-.088-.351-.137-.633-.08-1.034h-.001ZM11.415 2.546c-.358.319-1.039.879-1.725 1.394C6.903 5.989 5.087 7.59 4.301 8.662c-.28.38-.458.605-.556.852-.15.38-.103.798-.068 1.824.063 1.923.833 6.669 1.493 9.686.262 1.199.483 2.11.654 2.394.25.426.364.71.398.894a.923.923 0 0 1-.184.764l1.27-.01c.863-.014 1.523.003 2.056-.019.424-.017.75-.052 1.034-.187.336-.159.596-.458.921-.955.62-.948 1.373-2.515 2.705-5.103 1.789-3.448 3.6-7.076 4.047-8.015l.582-1.227-.62-.466c-.595-.458-2.45-2.263-4.12-4.027a59.654 59.654 0 0 0-2.498-2.52ZM5.81 24.876v-.001l-.013-.03.013.031Zm-.71-.835.027-.011a.55.55 0 0 0-.028.011Zm19.904-11.777v.01-.01Zm.002-.016v-.034.034ZM9.82 6.587c-.587.424-.81.823-.81 1.9 0 .787.12 1.157.344 1.42.158.186.388.339.77.494.352.144.603.207.838.209.347.002.688-.12 1.285-.525.707-.483.98-.864 1.036-1.238.052-.352-.09-.812-.574-1.54-.412-.619-.853-.95-1.29-1.072-.489-.139-1.016-.05-1.586.342l-.013.01Zm2.015 2.028a6.288 6.288 0 0 0-.306-.52c-.19-.284-.326-.488-.531-.5-.113-.007-.224.058-.352.146-.218.159-.218.34-.218.745 0 .198.02.419.028.504.047.025.133.068.204.097.133.054.222.102.312.103.04 0 .071-.027.12-.054a4.29 4.29 0 0 0 .358-.225c.147-.1.299-.223.385-.296ZM9.12 1.263l-.002.002.002-.002Z"})]}),{width:26,height:62,fill:"none"}),M=N((0,d.jsxs)("g",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M6 6l4.153 11.793a0.365 .365 0 0 0 .331 .207a0.366 .366 0 0 0 .332 -.207l2.184 -4.793l4.787 -1.994a0.355 .355 0 0 0 .213 -.323a0.355 .355 0 0 0 -.213 -.323l-11.787 -4.36z"}),(0,d.jsx)("path",{d:"M13.5 13.5l4.5 4.5"})]}),{fill:"none",width:22,height:22,strokeWidth:1.25}),C=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("rect",{x:"4",y:"4",width:"16",height:"16",rx:"2"})]}),ke),g=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M10.5 20.4l-6.9 -6.9c-.781 -.781 -.781 -2.219 0 -3l6.9 -6.9c.781 -.781 2.219 -.781 3 0l6.9 6.9c.781 .781 .781 2.219 0 3l-6.9 6.9c-.781 .781 -2.219 .781 -3 0z"})]}),ke),l=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"9"})]}),ke),w=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"5",y1:"12",x2:"19",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"16",x2:"19",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"8",x2:"19",y2:"12"})]}),ke),y=N((0,d.jsx)("path",{d:"M4.167 10h11.666",strokeWidth:"1.5"}),Se),S=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M20 17v-12c0 -1.121 -.879 -2 -2 -2s-2 .879 -2 2v12l2 2l2 -2z"}),(0,d.jsx)("path",{d:"M16 7h4"}),(0,d.jsx)("path",{d:"M18 19h-13a2 2 0 1 1 0 -4h4a2 2 0 1 0 0 -4h-3"})]}),ke),_=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{clipRule:"evenodd",d:"m7.643 15.69 7.774-7.773a2.357 2.357 0 1 0-3.334-3.334L4.31 12.357a3.333 3.333 0 0 0-.977 2.357v1.953h1.953c.884 0 1.732-.352 2.357-.977Z"}),(0,d.jsx)("path",{d:"m11.25 5.417 3.333 3.333"})]}),Se),J=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"7",y2:"20"}),(0,d.jsx)("line",{x1:"14",y1:"20",x2:"21",y2:"20"}),(0,d.jsx)("line",{x1:"6.9",y1:"15",x2:"13.8",y2:"15"}),(0,d.jsx)("line",{x1:"10.2",y1:"6.3",x2:"16",y2:"20"}),(0,d.jsx)("polyline",{points:"5 20 11 4 13 4 20 20"})]}),ke),de=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M12.5 6.667h.01"}),(0,d.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z"}),(0,d.jsx)("path",{d:"m3.333 12.5 3.334-3.333c.773-.745 1.726-.745 2.5 0l4.166 4.166"}),(0,d.jsx)("path",{d:"m11.667 11.667.833-.834c.774-.744 1.726-.744 2.5 0l1.667 1.667"})]}),Se),ve=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M19 20h-10.5l-4.21 -4.3a1 1 0 0 1 0 -1.41l10 -10a1 1 0 0 1 1.41 0l5 5a1 1 0 0 1 0 1.41l-9.2 9.3"}),(0,d.jsx)("path",{d:"M18 13.3l-6.3 -6.3"})]}),ke),ie=N((0,d.jsx)("path",{strokeWidth:"1.25",d:"M10 4.167v11.666M4.167 10h11.666"}),Se),$=N((0,d.jsx)("path",{d:"M5 10h10",strokeWidth:"1.25"}),Se),De=N((0,d.jsx)("path",{strokeWidth:"1.25",d:"M3.333 5.833h13.334M8.333 9.167v5M11.667 9.167v5M4.167 5.833l.833 10c0 .92.746 1.667 1.667 1.667h6.666c.92 0 1.667-.746 1.667-1.667l.833-10M7.5 5.833v-2.5c0-.46.373-.833.833-.833h3.334c.46 0 .833.373.833.833v2.5"}),Se),pe=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M14.375 6.458H8.958a2.5 2.5 0 0 0-2.5 2.5v5.417a2.5 2.5 0 0 0 2.5 2.5h5.417a2.5 2.5 0 0 0 2.5-2.5V8.958a2.5 2.5 0 0 0-2.5-2.5Z"}),(0,d.jsx)("path",{clipRule:"evenodd",d:"M11.667 3.125c.517 0 .986.21 1.325.55.34.338.55.807.55 1.325v1.458H8.333c-.485 0-.927.185-1.26.487-.343.312-.57.75-.609 1.24l-.005 5.357H5a1.87 1.87 0 0 1-1.326-.55 1.87 1.87 0 0 1-.549-1.325V5c0-.518.21-.987.55-1.326.338-.34.807-.549 1.325-.549h6.667Z"})]}),Se),ae=N((0,d.jsx)("path",{clipRule:"evenodd",d:"M10 2.5h.328a6.25 6.25 0 0 0 6.6 10.372A7.5 7.5 0 1 1 10 2.493V2.5Z",stroke:"currentColor"}),Se),j=N((0,d.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M10 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM10 4.167V2.5M14.167 5.833l1.166-1.166M15.833 10H17.5M14.167 14.167l1.166 1.166M10 15.833V17.5M5.833 14.167l-1.166 1.166M5 10H3.333M5.833 5.833 4.667 4.667"})}),Se),V=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"6",x2:"20",y2:"6"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("line",{x1:"4",y1:"18",x2:"20",y2:"18"})]}),ke),oe=N((0,d.jsx)("path",{strokeWidth:"1.25",d:"M3.333 14.167v1.666c0 .92.747 1.667 1.667 1.667h10c.92 0 1.667-.746 1.667-1.667v-1.666M5.833 9.167 10 13.333l4.167-4.166M10 3.333v10"}),Se),G=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"12",cy:"12",r:"9"}),(0,d.jsx)("line",{x1:"12",y1:"17",x2:"12",y2:"17.01"}),(0,d.jsx)("path",{d:"M12 13.5a1.5 1.5 0 0 1 1 -1.5a2.6 2.6 0 1 0 -3 -4"})]}),ke),ye=N((0,d.jsx)("path",{strokeWidth:"1.25",d:"M9.167 5.833H5.833c-1.254 0-2.5 1.282-2.5 2.5v5.834c0 1.283 1.252 2.5 2.5 2.5h5.834c1.251 0 2.5-1.25 2.5-2.5v-3.334M8.333 11.667l8.334-8.334M12.5 3.333h4.167V7.5"}),Se),K=N((0,d.jsx)("path",{d:"M7.5 15.833c-3.583 1.167-3.583-2.083-5-2.5m10 4.167v-2.917c0-.833.083-1.166-.417-1.666 2.334-.25 4.584-1.167 4.584-5a3.833 3.833 0 0 0-1.084-2.667 3.5 3.5 0 0 0-.083-2.667s-.917-.25-2.917 1.084a10.25 10.25 0 0 0-5.166 0C5.417 2.333 4.5 2.583 4.5 2.583a3.5 3.5 0 0 0-.083 2.667 3.833 3.833 0 0 0-1.084 2.667c0 3.833 2.25 4.75 4.584 5-.5.5-.5 1-.417 1.666V17.5",strokeWidth:"1.25"}),Se),H=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M7.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM12.5 10.833a.833.833 0 1 0 0-1.666.833.833 0 0 0 0 1.666ZM6.25 6.25c2.917-.833 4.583-.833 7.5 0M5.833 13.75c2.917.833 5.417.833 8.334 0"}),(0,d.jsx)("path",{d:"M12.917 14.167c0 .833 1.25 2.5 1.666 2.5 1.25 0 2.361-1.39 2.917-2.5.556-1.39.417-4.861-1.25-9.584-1.214-.846-2.5-1.116-3.75-1.25l-.833 2.084M7.083 14.167c0 .833-1.13 2.5-1.526 2.5-1.191 0-2.249-1.39-2.778-2.5-.529-1.39-.397-4.861 1.19-9.584 1.157-.846 2.318-1.116 3.531-1.25l.833 2.084"})]}),Se),L=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M22 4.01c-1 .49 -1.98 .689 -3 .99c-1.121 -1.265 -2.783 -1.335 -4.38 -.737s-2.643 2.06 -2.62 3.737v1c-3.245 .083 -6.135 -1.395 -8 -4c0 0 -4.182 7.433 4 11c-1.872 1.247 -3.739 2.088 -6 2c3.308 1.803 6.913 2.423 10.034 1.517c3.58 -1.04 6.522 -3.723 7.651 -7.742a13.84 13.84 0 0 0 .497 -3.753c-.002 -.249 1.51 -2.772 1.818 -4.013z"})]}),ke),I=N((0,d.jsx)("polyline",{fill:"none",stroke:"currentColor",points:"20 6 9 17 4 12"}),{width:24,height:24}),F=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M8.333 11.667a2.917 2.917 0 0 0 4.167 0l3.333-3.334a2.946 2.946 0 1 0-4.166-4.166l-.417.416"}),(0,d.jsx)("path",{d:"M11.667 8.333a2.917 2.917 0 0 0-4.167 0l-3.333 3.334a2.946 2.946 0 0 0 4.166 4.166l.417-.416"})]}),Se),X=N("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),le=N("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",{width:448,height:512}),q=N((0,d.jsx)("path",{d:"m9.257 6.351.183.183H15.819c.34 0 .727.182 1.051.506.323.323.505.708.505 1.05v5.819c0 .316-.183.7-.52 1.035-.337.338-.723.522-1.037.522H4.182c-.352 0-.74-.181-1.058-.5-.318-.318-.499-.705-.499-1.057V5.182c0-.351.181-.736.5-1.054.32-.321.71-.503 1.057-.503H6.53l2.726 2.726Z",strokeWidth:"1.25"}),Se),Ce=N("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",{width:384,height:512}),te=N("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),me=N((0,d.jsxs)("g",{strokeWidth:"1.25",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M15 8h.01"}),(0,d.jsx)("path",{d:"M12 20h-5a3 3 0 0 1 -3 -3v-10a3 3 0 0 1 3 -3h10a3 3 0 0 1 3 3v5"}),(0,d.jsx)("path",{d:"M4 15l4 -4c.928 -.893 2.072 -.893 3 0l4 4"}),(0,d.jsx)("path",{d:"M14 14l1 -1c.617 -.593 1.328 -.793 2.009 -.598"}),(0,d.jsx)("path",{d:"M19 16v6"}),(0,d.jsx)("path",{d:"M22 19l-3 3l-3 -3"})]}),ke),Re=N("M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z",{width:512,height:512}),Be=(N("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),N("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),N("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z")),Q=(N("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),N((0,d.jsx)("path",{d:"M7.5 10.833 4.167 7.5 7.5 4.167M4.167 7.5h9.166a3.333 3.333 0 0 1 0 6.667H12.5",strokeWidth:"1.25"}),Se)),se=N((0,d.jsx)("path",{d:"M12.5 10.833 15.833 7.5 12.5 4.167M15.833 7.5H6.667a3.333 3.333 0 1 0 0 6.667H7.5",strokeWidth:"1.25"}),Se),ue=N("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",{mirror:!0}),_e=(N((0,d.jsx)("path",{d:"M5 12.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 7.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM15 17.5a2.5 2.5 0 1 0 0-5 2.5 2.5 0 0 0 0 5ZM7.25 8.917l5.5-2.834M7.25 11.083l5.5 2.834",strokeWidth:"1.5"}),Se),N("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",{width:24,height:24}),N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{fill:"currentColor",d:"M40 5.6v6.1l-4.1.7c-8.9 1.4-16.5 6.9-20.6 15C13 32 10.9 43 12.4 43c.4 0 2.4-1.3 4.4-3 5-3.9 12.1-7 18.2-7.7l5-.6v12.8l11.2-11.3L62.5 22 51.2 10.8 40-.5v6.1zm10.2 22.6L44 34.5v-6.8l-6.9.6c-3.9.3-9.8 1.7-13.2 3.1-3.5 1.4-6.5 2.4-6.7 2.2-.9-1 3-7.5 6.4-10.8C28 18.6 34.4 16 40.1 16c3.7 0 3.9-.1 3.9-3.2V9.5l6.2 6.3 6.3 6.2-6.3 6.2z"}),(0,d.jsx)("path",{stroke:"currentColor",fill:"currentColor",d:"M0 36v20h48v-6.2c0-6 0-6.1-2-4.3-1.1 1-2 2.9-2 4.2V52H4V34c0-17.3-.1-18-2-18s-2 .7-2 20z"})]}),{width:64,height:64}),N((0,d.jsx)("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024}),N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.622-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.767-.622-1.39-1.39-1.39Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M12.5 12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se)),Ze=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.944 12.5H12.5v1.389a1.389 1.389 0 0 1-1.389 1.389H5.556a1.389 1.389 0 0 1-1.39-1.39V8.334a1.389 1.389 0 0 1 1.39-1.389h1.388",fill:"currentColor"}),(0,d.jsx)("path",{d:"M13.889 4.167H8.333c-.767 0-1.389.621-1.389 1.389v5.555c0 .767.622 1.389 1.39 1.389h5.555c.767 0 1.389-.622 1.389-1.389V5.556c0-.768-.622-1.39-1.39-1.39Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),Ge=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M8.775 6.458h2.45a2.316 2.316 0 0 1 2.317 2.316v2.452a2.316 2.316 0 0 1-2.316 2.316H8.774a2.316 2.316 0 0 1-2.317-2.316V8.774a2.316 2.316 0 0 1 2.317-2.316Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316ZM12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),tt=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",children:[(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("path",{d:"M5.441 9.792h2.451a2.316 2.316 0 0 1 2.316 2.316v2.45a2.316 2.316 0 0 1-2.316 2.317h-2.45a2.316 2.316 0 0 1-2.317-2.316v-2.451a2.316 2.316 0 0 1 2.316-2.316Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"SendToBackIcon",fill:"#fff",children:(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z"})}),(0,d.jsx)("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M9.167 5.833v2.06a2.941 2.941 0 0 0 2.94 2.94h2.06v.393a2.941 2.941 0 0 1-2.941 2.94h-.393v-2.058a2.941 2.941 0 0 0-2.94-2.941h-2.06v-.393a2.941 2.941 0 0 1 2.942-2.94h.392Z",fill:"currentColor"}),(0,d.jsx)("path",{d:"M9.167 5.833h1.25v-1.25h-1.25v1.25Zm5 5h1.25v-1.25h-1.25v1.25Zm-3.334 3.334h-1.25v1.25h1.25v-1.25Zm-5-5h-1.25v1.25h1.25v-1.25Zm2.084-3.334v2.06h2.5v-2.06h-2.5Zm0 2.06a4.191 4.191 0 0 0 4.19 4.19v-2.5a1.691 1.691 0 0 1-1.69-1.69h-2.5Zm4.19 4.19h2.06v-2.5h-2.06v2.5Zm.81-1.25v.393h2.5v-.393h-2.5Zm0 .393c0 .933-.758 1.69-1.691 1.69v2.5a4.191 4.191 0 0 0 4.19-4.19h-2.5Zm-1.691 1.69h-.393v2.5h.393v-2.5Zm.857 1.25v-2.058h-2.5v2.059h2.5Zm0-2.058a4.191 4.191 0 0 0-4.19-4.191v2.5c.933 0 1.69.757 1.69 1.69h2.5Zm-4.19-4.191h-2.06v2.5h2.06v-2.5Zm-.81 1.25v-.393h-2.5v.393h2.5Zm0-.393c0-.934.758-1.69 1.692-1.69v-2.5a4.191 4.191 0 0 0-4.192 4.19h2.5Zm1.692-1.69h.392v-2.5h-.392v2.5Z",fill:"currentColor",mask:"url(#SendToBackIcon)"}),(0,d.jsx)("path",{d:"M12.108 3.125h2.45a2.316 2.316 0 0 1 2.317 2.316v2.451a2.316 2.316 0 0 1-2.316 2.316h-2.451a2.316 2.316 0 0 1-2.316-2.316v-2.45a2.316 2.316 0 0 1 2.316-2.317Z",stroke:"currentColor",strokeWidth:"1.25"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),lt=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v7.083c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V8.125c0-.92-.746-1.667-1.666-1.667ZM6.875 6.458h-.417c-.92 0-1.666.747-1.666 1.667v3.75c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667v-3.75c0-.92-.747-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),nt=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M6.875 3.125h-.417c-.92 0-1.666.746-1.666 1.667v7.083c0 .92.746 1.667 1.666 1.667h.417c.92 0 1.667-.746 1.667-1.667V4.792c0-.92-.747-1.667-1.667-1.667ZM13.542 5.817h-.417c-.92 0-1.667.747-1.667 1.667v4.391c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667V7.484c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),qe=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M15.208 4.792H8.125c-.92 0-1.667.746-1.667 1.666v.417c0 .92.747 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM12.516 11.458H8.125c-.92 0-1.667.746-1.667 1.667v.417c0 .92.747 1.666 1.667 1.666h4.391c.92 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),Ve=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M16.667 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M11.875 4.792H4.792c-.92 0-1.667.746-1.667 1.666v.417c0 .92.746 1.667 1.667 1.667h7.083c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666ZM11.683 11.458H7.292c-.92 0-1.667.746-1.667 1.667v.417c0 .92.746 1.666 1.667 1.666h4.39c.921 0 1.667-.746 1.667-1.666v-.417c0-.92-.746-1.667-1.666-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),be=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M16.667 3.333v13.334M3.333 3.333v13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M14.375 10.208v-.416c0-.92-.746-1.667-1.667-1.667H7.292c-.92 0-1.667.746-1.667 1.667v.416c0 .92.746 1.667 1.667 1.667h5.416c.92 0 1.667-.746 1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),Te=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M3.333 3.333h13.334M3.333 16.667h13.334",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10.208 5.625h-.416c-.92 0-1.667.746-1.667 1.667v5.416c0 .92.746 1.667 1.667 1.667h.416c.92 0 1.667-.746 1.667-1.667V7.292c0-.92-.746-1.667-1.667-1.667Z"})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),Ae=N((0,d.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M1.667 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M8.333 10h3.334",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M15.417 10h2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M6.875 4.792h-.417c-.92 0-1.666.746-1.666 1.666v7.084c0 .92.746 1.666 1.666 1.666h.417c.92 0 1.667-.746 1.667-1.666V6.458c0-.92-.747-1.666-1.667-1.666ZM13.542 6.458h-.417c-.92 0-1.667.747-1.667 1.667v3.75c0 .92.746 1.667 1.667 1.667h.417c.92 0 1.666-.746 1.666-1.667v-3.75c0-.92-.746-1.667-1.666-1.667Z"})]}),Se),Pe=N((0,d.jsxs)("g",{stroke:"currentColor",strokeWidth:"1.25",children:[(0,d.jsx)("path",{d:"M10 18.333v-2.916",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 11.667V8.333",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M10 4.583V1.667",strokeLinecap:"round",strokeLinejoin:"round"}),(0,d.jsx)("path",{d:"M4.792 13.125v.417c0 .92.746 1.666 1.666 1.666h7.084c.92 0 1.666-.746 1.666-1.666v-.417c0-.92-.746-1.667-1.666-1.667H6.458c-.92 0-1.666.746-1.666 1.667ZM6.458 6.458v.417c0 .92.747 1.667 1.667 1.667h3.75c.92 0 1.667-.747 1.667-1.667v-.417c0-.92-.746-1.666-1.667-1.666h-3.75c-.92 0-1.667.746-1.667 1.666Z"})]}),Se),We=N((0,d.jsxs)("g",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("circle",{cx:"9",cy:"7",r:"4"}),(0,d.jsx)("path",{d:"M3 21v-2a4 4 0 0 1 4 -4h4a4 4 0 0 1 4 4v2"}),(0,d.jsx)("path",{d:"M16 3.13a4 4 0 0 1 0 7.75"}),(0,d.jsx)("path",{d:"M21 21v-2a4 4 0 0 0 -3 -3.85"})]}),ke),Ue=(N("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),N("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M15 5 5 15M5 5l10 10"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se)),Je=N("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),et=(N("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",{mirror:!0}),N("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),N("M369.9 97.9L286 14C277 5 264.8-.1 252.1-.1H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48V131.9c0-12.7-5.1-25-14.1-34zM332.1 128H256V51.9l76.1 76.1zM48 464V48h160v104c0 13.3 10.7 24 24 24h104v288H48zm32-48h224V288l-23.5-23.5c-4.7-4.7-12.3-4.7-17 0L176 352l-39.5-39.5c-4.7-4.7-12.3-4.7-17 0L80 352v64zm48-240c-26.5 0-48 21.5-48 48s21.5 48 48 48 48-21.5 48-48-21.5-48-48-48z",{width:384,height:512}),f().memo(function(tn){var dn=tn.theme;return N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsxs)("g",{fill:he(dn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,d.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"2.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"2.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})})),Qe=f().memo(function(tn){var dn=tn.theme;return N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M25 26H111V111H25",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsx)("path",{d:"M100 100H160V160H100",fill:"var(--icon-fill-color)"}),(0,d.jsx)("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:"var(--icon-fill-color)",strokeWidth:"2"}),(0,d.jsxs)("g",{fill:he(dn),stroke:"var(--icon-fill-color)",strokeWidth:"6",children:[(0,d.jsx)("rect",{x:"2.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"78.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"149.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"147.5",y:"78.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"105.5",y:"2.5",width:"30",height:"30"}),(0,d.jsx)("rect",{x:"2.5",y:"102.5",width:"30",height:"30"})]})]}),{width:182,height:182,mirror:!0})}),it=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"FillHachureIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:2,y:2,width:16,height:16,children:(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",fill:"currentColor",stroke:"currentColor",strokeWidth:"1.25"})}),(0,d.jsx)("g",{mask:"url(#FillHachureIcon)",children:(0,d.jsx)("path",{d:"M2.258 15.156 15.156 2.258M7.324 20.222 20.222 7.325m-20.444 5.35L12.675-.222m-8.157 18.34L17.416 5.22",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})})]}),Se),ft=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsxs)("g",{clipPath:"url(#a)",children:[(0,d.jsx)("path",{d:"M5.879 2.625h8.242a3.254 3.254 0 0 1 3.254 3.254v8.242a3.254 3.254 0 0 1-3.254 3.254H5.88a3.254 3.254 0 0 1-3.254-3.254V5.88a3.254 3.254 0 0 1 3.254-3.254Z",stroke:"currentColor",strokeWidth:"1.25"}),(0,d.jsx)("mask",{id:"FillCrossHatchIcon",style:{maskType:"alpha"},maskUnits:"userSpaceOnUse",x:-1,y:-1,width:22,height:22,children:(0,d.jsx)("path",{d:"M2.426 15.044 15.044 2.426M7.383 20 20 7.383M0 12.617 12.617 0m-7.98 17.941L17.256 5.324m-2.211 12.25L2.426 4.956M20 12.617 7.383 0m5.234 20L0 7.383m17.941 7.98L5.324 2.745",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("g",{mask:"url(#FillCrossHatchIcon)",children:(0,d.jsx)("path",{d:"M14.121 2H5.88A3.879 3.879 0 0 0 2 5.879v8.242A3.879 3.879 0 0 0 5.879 18h8.242A3.879 3.879 0 0 0 18 14.121V5.88A3.879 3.879 0 0 0 14.121 2Z",fill:"currentColor"})})]}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),yt=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M4.91 2.625h10.18a2.284 2.284 0 0 1 2.285 2.284v10.182a2.284 2.284 0 0 1-2.284 2.284H4.909a2.284 2.284 0 0 1-2.284-2.284V4.909a2.284 2.284 0 0 1 2.284-2.284Z",stroke:"currentColor",strokeWidth:"1.25"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),ee(ee({},Se),{},{fill:"currentColor"})),ut=N((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("path",{d:"M4.167 10h11.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),Se),pt=N((0,d.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),Se),wt=N((0,d.jsx)("path",{d:"M5 10h10",stroke:"currentColor",strokeWidth:"3.75",strokeLinecap:"round",strokeLinejoin:"round"}),Se),zt=N((0,d.jsxs)("g",{strokeWidth:"2",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M5 12h2"}),(0,d.jsx)("path",{d:"M17 12h2"}),(0,d.jsx)("path",{d:"M11 12h2"})]}),ke),Yt=N((0,d.jsxs)("g",{strokeWidth:"2",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 12v.01"}),(0,d.jsx)("path",{d:"M8 12v.01"}),(0,d.jsx)("path",{d:"M12 12v.01"}),(0,d.jsx)("path",{d:"M16 12v.01"}),(0,d.jsx)("path",{d:"M20 12v.01"})]}),ke),Ht=N((0,d.jsx)("path",{d:"M2.5 12.038c1.655-.885 5.9-3.292 8.568-4.354 2.668-1.063.101 2.821 1.32 3.104 1.218.283 5.112-1.814 5.112-1.814",strokeWidth:"1.25"}),Se),It=N((0,d.jsx)("path",{d:"M2.5 12.563c1.655-.886 5.9-3.293 8.568-4.355 2.668-1.062.101 2.822 1.32 3.105 1.218.283 5.112-1.814 5.112-1.814m-13.469 2.23c2.963-1.586 6.13-5.62 7.468-4.998 1.338.623-1.153 4.11-.132 5.595 1.02 1.487 6.133-1.43 6.133-1.43",strokeWidth:"1.25"}),Se),_t=N((0,d.jsx)("path",{d:"M2.5 11.936c1.737-.879 8.627-5.346 10.42-5.268 1.795.078-.418 5.138.345 5.736.763.598 3.53-1.789 4.235-2.147M2.929 9.788c1.164-.519 5.47-3.28 6.987-3.114 1.519.165 1 3.827 2.121 4.109 1.122.281 3.839-2.016 4.606-2.42",strokeWidth:"1.25"}),Se),Ct=N((0,d.jsxs)("svg",{strokeWidth:"1.5",children:[(0,d.jsx)("path",{d:"M3.33334 9.99998V6.66665C3.33334 6.04326 3.33403 4.9332 3.33539 3.33646C4.95233 3.33436 6.06276 3.33331 6.66668 3.33331H10"}),(0,d.jsx)("path",{d:"M13.3333 3.33331V3.34331"}),(0,d.jsx)("path",{d:"M16.6667 3.33331V3.34331"}),(0,d.jsx)("path",{d:"M16.6667 6.66669V6.67669"}),(0,d.jsx)("path",{d:"M16.6667 10V10.01"}),(0,d.jsx)("path",{d:"M3.33334 13.3333V13.3433"}),(0,d.jsx)("path",{d:"M16.6667 13.3333V13.3433"}),(0,d.jsx)("path",{d:"M3.33334 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M6.66666 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M10 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M13.3333 16.6667V16.6767"}),(0,d.jsx)("path",{d:"M16.6667 16.6667V16.6767"})]}),Se),Bt=N((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M4 12v-4a4 4 0 0 1 4 -4h4"}),(0,d.jsx)("line",{x1:"16",y1:"4",x2:"16",y2:"4.01"}),(0,d.jsx)("line",{x1:"20",y1:"4",x2:"20",y2:"4.01"}),(0,d.jsx)("line",{x1:"20",y1:"8",x2:"20",y2:"8.01"}),(0,d.jsx)("line",{x1:"20",y1:"12",x2:"20",y2:"12.01"}),(0,d.jsx)("line",{x1:"4",y1:"16",x2:"4",y2:"16.01"}),(0,d.jsx)("line",{x1:"20",y1:"16",x2:"20",y2:"16.01"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"4",y2:"20.01"}),(0,d.jsx)("line",{x1:"8",y1:"20",x2:"8",y2:"20.01"}),(0,d.jsx)("line",{x1:"12",y1:"20",x2:"12",y2:"20.01"}),(0,d.jsx)("line",{x1:"16",y1:"20",x2:"16",y2:"20.01"}),(0,d.jsx)("line",{x1:"20",y1:"20",x2:"20",y2:"20.01"})]}),ke),hn=N((0,d.jsx)("path",{d:"M6 10H34",stroke:"currentColor",strokeWidth:2,fill:"none"}),{width:40,height:20}),wn=f().memo(function(tn){var dn=tn.flip,En=dn!==void 0&&dn;return N((0,d.jsxs)("g",{transform:En?"translate(40, 0) scale(-1, 1)":"",stroke:"currentColor",strokeWidth:2,fill:"none",children:[(0,d.jsx)("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),(0,d.jsx)("path",{d:"M27.5 5L34.5 10L27.5 15"})]}),{width:40,height:20})}),Vt=f().memo(function(tn){var dn=tn.flip,En=dn!==void 0&&dn;return N((0,d.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:En?"translate(40, 0) scale(-1, 1)":"",children:[(0,d.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,d.jsx)("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})]}),{width:40,height:20})}),Qt=f().memo(function(tn){var dn=tn.flip,En=dn!==void 0&&dn;return N((0,d.jsx)("g",{transform:En?"translate(40, 0) scale(-1, 1)":"",children:(0,d.jsx)("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:"currentColor",strokeWidth:2,fill:"none"})}),{width:40,height:20})}),$e=f().memo(function(tn){var dn=tn.flip,En=dn!==void 0&&dn;return N((0,d.jsxs)("g",{stroke:"currentColor",fill:"currentColor",transform:En?"translate(40, 0) scale(-1, 1)":"",children:[(0,d.jsx)("path",{d:"M32 10L6 10",strokeWidth:2}),(0,d.jsx)("path",{d:"M27.5 5.5L34.5 10L27.5 14.5L27.5 5.5"})]}),{width:40,height:20})}),rt=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M14.167 6.667a3.333 3.333 0 0 0-3.334-3.334H9.167a3.333 3.333 0 0 0 0 6.667h1.666a3.333 3.333 0 0 1 0 6.667H9.167a3.333 3.333 0 0 1-3.334-3.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),gt=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M5 16.667V3.333L10 15l5-11.667v13.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),vt=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",children:(0,d.jsx)("path",{d:"M5.833 3.333v13.334h8.334",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),St=N((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("path",{d:"m1.667 3.333 6.666 13.334M8.333 3.333 1.667 16.667M11.667 3.333v13.334h6.666",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round"})}),Se),At=N((0,d.jsx)(d.Fragment,{children:(0,d.jsx)("g",{stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M5.833 16.667v-10a3.333 3.333 0 0 1 3.334-3.334h1.666a3.333 3.333 0 0 1 3.334 3.334v10M5.833 10.833h8.334"})})}),Se),Zt=N((0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("g",{clipPath:"url(#a)",stroke:"currentColor",strokeWidth:"1.25",strokeLinecap:"round",strokeLinejoin:"round",children:(0,d.jsx)("path",{d:"M5.833 6.667 2.5 10l3.333 3.333M14.167 6.667 17.5 10l-3.333 3.333M11.667 3.333 8.333 16.667"})}),(0,d.jsx)("defs",{children:(0,d.jsx)("clipPath",{id:"a",children:(0,d.jsx)("path",{fill:"#fff",d:"M0 0h20v20H0z"})})})]}),Se),Wt=N((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"12",y2:"12"}),(0,d.jsx)("line",{x1:"4",y1:"16",x2:"16",y2:"16"})]}),ke),en=N((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"8",y1:"12",x2:"16",y2:"12"}),(0,d.jsx)("line",{x1:"6",y1:"16",x2:"18",y2:"16"})]}),ke),sn=N((0,d.jsxs)("g",{stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"8",x2:"20",y2:"8"}),(0,d.jsx)("line",{x1:"10",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("line",{x1:"8",y1:"16",x2:"20",y2:"16"})]}),ke),Jt=f().memo(function(tn){return tn.theme,N((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"4",x2:"20",y2:"4"}),(0,d.jsx)("rect",{x:"9",y:"8",width:"6",height:"12",rx:"2"})]}),ke)}),kn=f().memo(function(tn){return tn.theme,N((0,d.jsxs)("g",{strokeWidth:"2",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"20",x2:"20",y2:"20"}),(0,d.jsx)("rect",{x:"9",y:"4",width:"6",height:"12",rx:"2"})]}),ke)}),Nn=f().memo(function(tn){return tn.theme,N((0,d.jsxs)("g",{strokeWidth:"1.5",stroke:"currentColor",fill:"none",strokeLinecap:"round",strokeLinejoin:"round",children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("line",{x1:"4",y1:"12",x2:"9",y2:"12"}),(0,d.jsx)("line",{x1:"15",y1:"12",x2:"20",y2:"12"}),(0,d.jsx)("rect",{x:"9",y:"6",width:"6",height:"12",rx:"2"})]}),ke)}),Gn=N((0,d.jsx)("path",{d:"M537.6 226.6c4.1-10.7 6.4-22.4 6.4-34.6 0-53-43-96-96-96-19.7 0-38.1 6-53.3 16.2C367 64.2 315.3 32 256 32c-88.4 0-160 71.6-160 160 0 2.7.1 5.4.2 8.1C40.2 219.8 0 273.2 0 336c0 79.5 64.5 144 144 144h368c70.7 0 128-57.3 128-128 0-61.9-44-113.6-102.4-125.4zM393.4 288H328v112c0 8.8-7.2 16-16 16h-48c-8.8 0-16-7.2-16-16V288h-65.4c-14.3 0-21.4-17.2-11.3-27.3l105.4-105.4c6.2-6.2 16.4-6.2 22.6 0l105.4 105.4c10.1 10.1 2.9 27.3-11.3 27.3z",fill:"currentColor"}),{width:640,height:512}),Zn=(N((0,d.jsx)("path",{d:"M480 416C497.7 416 512 430.3 512 448C512 465.7 497.7 480 480 480H150.6C133.7 480 117.4 473.3 105.4 461.3L25.37 381.3C.3786 356.3 .3786 315.7 25.37 290.7L258.7 57.37C283.7 32.38 324.3 32.38 349.3 57.37L486.6 194.7C511.6 219.7 511.6 260.3 486.6 285.3L355.9 416H480zM265.4 416L332.7 348.7L195.3 211.3L70.63 336L150.6 416L265.4 416z"})),N((0,d.jsxs)("g",{strokeWidth:1.25,children:[(0,d.jsx)("path",{stroke:"none",d:"M0 0h24v24H0z",fill:"none"}),(0,d.jsx)("path",{d:"M8 13v-7.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,d.jsx)("path",{d:"M11 5.5v-2a1.5 1.5 0 1 1 3 0v8.5"}),(0,d.jsx)("path",{d:"M14 5.5a1.5 1.5 0 0 1 3 0v6.5"}),(0,d.jsx)("path",{d:"M17 7.5a1.5 1.5 0 0 1 3 0v8.5a6 6 0 0 1 -6 6h-2h.208a6 6 0 0 1 -5.012 -2.7a69.74 69.74 0 0 1 -.196 -.3c-.312 -.479 -1.407 -2.388 -3.286 -5.728a1.5 1.5 0 0 1 .536 -2.022a1.867 1.867 0 0 1 2.28 .28l1.47 1.47"})]}),ke))},4709:function(b,m,a){a.d(m,{Z:function(){return F}});var v={};a.r(v),a.d(v,{ChangeCanvasBackground:function(){return J},ClearCanvas:function(){return S},Export:function(){return de},Help:function(){return y},LiveCollaborationTrigger:function(){return ie},LoadScene:function(){return g},SaveAsImage:function(){return w},SaveToActiveFile:function(){return l},Socials:function(){return ve},ToggleTheme:function(){return _}});var E=a(4206),h=a(9127),f=a(785),D=a(8211),k=a(3646),R=a(2739),d=a(4215),Z=a(5654),B=a(487),ee=a.n(B),he=a(631),N=a.n(he),ke=a(2052),Se=a.n(ke),je=a(4010),we=a.n(je),Ee=a(1469),Me=a.n(Ee),z=a(9329),re=a.n(z),T=a(4343),A={};A.styleTagTransform=re(),A.setAttributes=we(),A.insert=Se().bind(null,"head"),A.domAPI=N(),A.insertStyleElement=Me(),ee()(T.Z,A),T.Z&&T.Z.locals&&T.Z.locals;var U=a(45),P=a(4739),M=a(6798),C=a(4512),g=function(){(0,E.gF)();var X=(0,E.eh)();return X.isActionEnabled(Z._d)?(0,C.jsx)(R.Z,{icon:k.Tl,onSelect:function(){return X.executeAction(Z._d)},"data-testid":"load-button",shortcut:(0,f.C)("loadScene"),"aria-label":(0,D.t)("buttons.load"),children:(0,D.t)("buttons.load")}):null};g.displayName="LoadScene";var l=function(){(0,E.gF)();var X=(0,E.eh)();return X.isActionEnabled(Z.ns)?(0,C.jsx)(R.Z,{shortcut:(0,f.C)("saveScene"),"data-testid":"save-button",onSelect:function(){return X.executeAction(Z.ns)},icon:k.a1,"aria-label":"".concat((0,D.t)("buttons.save")),children:"".concat((0,D.t)("buttons.save"))}):null};l.displayName="SaveToActiveFile";var w=function(){var X=(0,E.n9)();return(0,E.gF)(),(0,C.jsx)(R.Z,{icon:k.J8,"data-testid":"image-export-button",onSelect:function(){return X({openDialog:"imageExport"})},shortcut:(0,f.C)("imageExport"),"aria-label":(0,D.t)("buttons.exportImage"),children:(0,D.t)("buttons.exportImage")})};w.displayName="SaveAsImage";var y=function(){(0,E.gF)();var X=(0,E.eh)();return(0,C.jsx)(R.Z,{"data-testid":"help-menu-item",icon:k.by,onSelect:function(){return X.executeAction(Z.jY)},shortcut:"?","aria-label":(0,D.t)("helpDialog.title"),children:(0,D.t)("helpDialog.title")})};y.displayName="Help";var S=function(){(0,E.gF)();var X=(0,P.b9)(M.w);return(0,E.eh)().isActionEnabled(Z.mo)?(0,C.jsx)(R.Z,{icon:k.XH,onSelect:function(){return X("clearCanvas")},"data-testid":"clear-canvas-button","aria-label":(0,D.t)("buttons.clearReset"),children:(0,D.t)("buttons.clearReset")}):null};S.displayName="ClearCanvas";var _=function(){var X=(0,E.gF)(),le=(0,E.eh)();return le.isActionEnabled(Z.Zp)?(0,C.jsx)(R.Z,{onSelect:function(q){return q.preventDefault(),le.executeAction(Z.Zp)},icon:X.theme==="dark"?k.NW:k.kL,"data-testid":"toggle-dark-mode",shortcut:(0,f.C)("toggleTheme"),"aria-label":X.theme==="dark"?(0,D.t)("buttons.lightMode"):(0,D.t)("buttons.darkMode"),children:X.theme==="dark"?(0,D.t)("buttons.lightMode"):(0,D.t)("buttons.darkMode")}):null};_.displayName="ToggleTheme";var J=function(){var X=(0,E.gF)(),le=(0,E.eh)();return X.viewModeEnabled?null:(0,C.jsxs)("div",{style:{marginTop:"0.5rem"},children:[(0,C.jsx)("div",{style:{fontSize:".75rem",marginBottom:".5rem"},children:(0,D.t)("labels.canvasBackground")}),(0,C.jsx)("div",{style:{padding:"0 0.625rem"},children:le.renderAction("changeViewBackgroundColor")})]})};J.displayName="ChangeCanvasBackground";var de=function(){(0,E.gF)();var X=(0,E.n9)();return(0,C.jsx)(R.Z,{icon:k.Hy,onSelect:function(){X({openDialog:"jsonExport"})},"data-testid":"json-export-button","aria-label":(0,D.t)("buttons.export"),children:(0,D.t)("buttons.export")})};de.displayName="Export";var ve=function(){return(0,C.jsxs)(C.Fragment,{children:[(0,C.jsx)(d.Z,{icon:k.ET,href:"https://github.com/excalidraw/excalidraw","aria-label":"GitHub",children:"GitHub"}),(0,C.jsx)(d.Z,{icon:k.D7,href:"https://discord.gg/UexuTaE","aria-label":"Discord",children:"Discord"}),(0,C.jsx)(d.Z,{icon:k.Zm,href:"https://twitter.com/excalidraw","aria-label":"Twitter",children:"Twitter"})]})};ve.displayName="Socials";var ie=function(X){var le=X.onSelect,q=X.isCollaborating;return(0,E.gF)(),(0,C.jsx)(R.Z,{"data-testid":"collab-button",icon:k.jn,className:(0,U.Z)({"active-collab":q}),onSelect:le,children:(0,D.t)("labels.liveCollaboration")})};ie.displayName="LiveCollaborationTrigger";var $=a(6773),De=a(7169),pe=a(2577),ae=a(9787),j=a(8888);function V(X,le){var q=Object.keys(X);if(Object.getOwnPropertySymbols){var Ce=Object.getOwnPropertySymbols(X);le&&(Ce=Ce.filter(function(te){return Object.getOwnPropertyDescriptor(X,te).enumerable})),q.push.apply(q,Ce)}return q}var oe,G,ye,K,H,L=a(6340),I=Object.assign((oe="MainMenu",G=function(X){var le=X.children,q=X.onSelect,Ce=(0,j.R6)().mainMenuTunnel,te=(0,E.Fy)(),me=(0,E.gF)(),Re=(0,E.n9)(),Be=te.isMobile?void 0:function(){return Re({openMenu:null})};return(0,C.jsx)(Ce.In,{children:(0,C.jsxs)(h.Z,{open:me.openMenu==="canvas",children:[(0,C.jsx)(h.Z.Trigger,{onToggle:function(){Re({openMenu:me.openMenu==="canvas"?null:"canvas"})},children:k.RY}),(0,C.jsxs)(h.Z.Content,{onClickOutside:Be,onSelect:(0,L.Mj)(q,function(){Re({openMenu:null})}),children:[le,te.isMobile&&me.collaborators.size>0&&(0,C.jsxs)("fieldset",{className:"UserList-Wrapper",children:[(0,C.jsx)("legend",{children:(0,D.t)("labels.collaborators")}),(0,C.jsx)($.Z,{mobile:!0,collaborators:me.collaborators})]})]})]})})},ye=(0,P.cn)(0),K=!1,H=function(X){var le=(0,j.R6)().jotaiScope,q=(0,P.KO)(ye,le),Ce=(0,pe.Z)(q,2),te=Ce[0],me=Ce[1];return(0,ae.useLayoutEffect)(function(){return me(function(Re){return Re+1}),function(){me(function(Re){return Re-1})}},[me]),X.__fallback||(K=!0),!te&&X.__fallback&&K||te>1&&X.__fallback?null:(0,C.jsx)(G,function(Re){for(var Be=1;Be<arguments.length;Be++){var Q=arguments[Be]!=null?arguments[Be]:{};Be%2?V(Object(Q),!0).forEach(function(se){(0,De.Z)(Re,se,Q[se])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Re,Object.getOwnPropertyDescriptors(Q)):V(Object(Q)).forEach(function(se){Object.defineProperty(Re,se,Object.getOwnPropertyDescriptor(Q,se))})}return Re}({},X))},H.displayName=oe,H),{Trigger:h.Z.Trigger,Item:h.Z.Item,ItemLink:h.Z.ItemLink,ItemCustom:h.Z.ItemCustom,Group:h.Z.Group,Separator:h.Z.Separator,DefaultItems:v}),F=I},2335:function(b,m,a){a.d(m,{jo:function(){return Ze},iC:function(){return re},gK:function(){return nt},$C:function(){return y},oc:function(){return g},_9:function(){return Ae},qy:function(){return ue},rk:function(){return ve},n5:function(){return de},h6:function(){return _e},Rx:function(){return Te},Hg:function(){return ie},cW:function(){return le},hs:function(){return $},f:function(){return T},xY:function(){return be},Iw:function(){return U},$e:function(){return P},Vi:function(){return w},Ks:function(){return Se},r8:function(){return ae},ZB:function(){return se},pb:function(){return j},ut:function(){return S},k:function(){return De},sA:function(){return L},LL:function(){return V},EE:function(){return Be},qx:function(){return A},$n:function(){return Ge},zK:function(){return Q},LO:function(){return pe},Zj:function(){return H},Yx:function(){return me},sS:function(){return te},kV:function(){return Ce},sk:function(){return Re},eF:function(){return q},Oh:function(){return l},WR:function(){return We},a6:function(){return Pe},HM:function(){return ye},ay:function(){return C},hR:function(){return tt},Gj:function(){return oe},I8:function(){return Ve},wZ:function(){return M},C6:function(){return _},ZF:function(){return I},nM:function(){return G},ah:function(){return X},UO:function(){return F},Kr:function(){return lt},oX:function(){return qe},_D:function(){return J},V4:function(){return K},Dt:function(){return Me},Um:function(){return we},vU:function(){return z},ED:function(){return Ee}});var v=a(487),E=a.n(v),h=a(631),f=a.n(h),D=a(2052),k=a.n(D),R=a(4010),d=a.n(R),Z=a(1469),B=a.n(Z),ee=a(9329),he=a.n(ee),N=a(6464),ke={};ke.styleTagTransform=he(),ke.setAttributes=d(),ke.insert=k().bind(null,"head"),ke.domAPI=f(),ke.insertStyleElement=B(),E()(N.Z,ke);var Se,je=N.Z&&N.Z.locals?N.Z.locals:void 0,we=/Mac|iPod|iPhone|iPad/.test(navigator.platform),Ee=/^Win/.test(navigator.platform),Me=/\b(android)\b/i.test(navigator.userAgent),z="netscape"in window&&navigator.userAgent.indexOf("rv:")>1&&navigator.userAgent.indexOf("Gecko")>1,re="Excalidraw",T=10,A=8,U=5,P=1,M=30,C=Math.PI/12,g={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",GRAB:"grab",POINTER:"pointer",MOVE:"move",AUTO:""},l={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};(function(Ue){Ue.COPY="copy",Ue.PASTE="paste",Ue.CUT="cut",Ue.KEYDOWN="keydown",Ue.KEYUP="keyup",Ue.MOUSE_MOVE="mousemove",Ue.RESIZE="resize",Ue.UNLOAD="unload",Ue.FOCUS="focus",Ue.BLUR="blur",Ue.DRAG_OVER="dragover",Ue.DROP="drop",Ue.GESTURE_END="gestureend",Ue.BEFORE_UNLOAD="beforeunload",Ue.GESTURE_START="gesturestart",Ue.GESTURE_CHANGE="gesturechange",Ue.POINTER_MOVE="pointermove",Ue.POINTER_UP="pointerup",Ue.STATE_CHANGE="statechange",Ue.WHEEL="wheel",Ue.TOUCH_START="touchstart",Ue.TOUCH_END="touchend",Ue.HASHCHANGE="hashchange",Ue.VISIBILITY_CHANGE="visibilitychange",Ue.SCROLL="scroll",Ue.EXCALIDRAW_LINK="excalidraw-link",Ue.MENU_ITEM_SELECT="menu.itemSelect"})(Se||(Se={}));var w={TEST:"test",DEVELOPMENT:"development"},y={SHAPE_ACTIONS_MENU:"App-menu__left"},S={Virgil:1,Helvetica:2,Cascadia:3},_={LIGHT:"light",DARK:"dark"},J="Segoe UI Emoji",de=20,ve=S.Virgil,ie="left",$="top",De=20,pe={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json",json:"application/json",svg:"image/svg+xml","excalidraw.svg":"image/svg+xml",png:"image/png","excalidraw.png":"image/png",jpg:"image/jpeg",gif:"image/gif",webp:"image/webp",bmp:"image/bmp",ico:"image/x-icon",binary:"application/octet-stream"},ae={excalidraw:"excalidraw",excalidrawClipboard:"excalidraw/clipboard",excalidrawLibrary:"excalidrawlib"},j=window.EXCALIDRAW_EXPORT_SOURCE||window.location.origin,V=500,oe=300,G=500,ye=100,K=.1,H=.1,L=300,I=je.themeFilter,F={addLibrary:"addLibrary"},X={addLibrary:"addLibrary"},le={canvasActions:{changeViewBackgroundColor:!0,clearCanvas:!0,export:{saveFileToDisk:!0},loadScene:!0,saveToActiveFile:!0,toggleTheme:null,saveAsImage:!0}},q=640,Ce=730,te=1e3,me=500,Re=1229,Be=parseInt(je.rightSidebarWidth),Q=2,se=[1,2,3],ue=10,_e=1440,Ze=[pe.png,pe.jpg,pe.svg,pe.gif,pe.webp,pe.bmp,pe.ico],Ge=2097152,tt="http://www.w3.org/2000/svg",lt={excalidraw:2,excalidrawLibrary:2},nt=5,qe={TOP:"top",MIDDLE:"middle",BOTTOM:"bottom"},Ve={LEFT:"left",CENTER:"center",RIGHT:"right"},be=20,Te=.25,Ae=32,Pe={LEGACY:1,PROPORTIONAL_RADIUS:2,ADAPTIVE_RADIUS:3},We="__precedingElement__"},434:function(b,m,a){a.d(m,{DQ:function(){return T},KG:function(){return S},Pn:function(){return J},Qk:function(){return re},Sf:function(){return y},Tu:function(){return _},Wr:function(){return U},ZY:function(){return P},_c:function(){return l},bv:function(){return de},cT:function(){return M},g8:function(){return A},gY:function(){return De},lV:function(){return g},tW:function(){return w},vZ:function(){return pe},wf:function(){return C}});var v=a(1930),E=a(2577),h=a(7169),f=a(8950),D=a(2975),k=a.n(D),R=a(5605),d=a(8897),Z=a(2335),B=a(1047),ee=a(6797),he=a(8211),N=a(75),ke=a(6340),Se=a(1393),je=a(5523),we=a(679);function Ee(ae,j){var V=Object.keys(ae);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(ae);j&&(oe=oe.filter(function(G){return Object.getOwnPropertyDescriptor(ae,G).enumerable})),V.push.apply(V,oe)}return V}function Me(ae){for(var j=1;j<arguments.length;j++){var V=arguments[j]!=null?arguments[j]:{};j%2?Ee(Object(V),!0).forEach(function(oe){(0,h.Z)(ae,oe,V[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(V)):Ee(Object(V)).forEach(function(oe){Object.defineProperty(ae,oe,Object.getOwnPropertyDescriptor(V,oe))})}return ae}var z=function(){var ae=(0,f.Z)(k().mark(function j(V){var oe;return k().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:if(V.type!==Z.LO.png){G.next=18;break}return G.prev=1,G.next=4,Promise.resolve().then(a.bind(a,673));case 4:return G.next=6,G.sent.decodePngMetadata(V);case 6:return G.abrupt("return",G.sent);case 9:if(G.prev=9,G.t0=G.catch(1),G.t0.message!=="INVALID"){G.next=15;break}throw new DOMException((0,he.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 15:throw new DOMException((0,he.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 16:G.next=43;break;case 18:if(!("text"in Blob)){G.next=24;break}return G.next=21,V.text();case 21:oe=G.sent,G.next=27;break;case 24:return G.next=26,new Promise(function(ye){var K=new FileReader;K.readAsText(V,"utf8"),K.onloadend=function(){K.readyState===FileReader.DONE&&ye(K.result)}});case 26:oe=G.sent;case 27:if(V.type!==Z.LO.svg){G.next=43;break}return G.prev=28,G.next=31,Promise.resolve().then(a.bind(a,673));case 31:return G.next=33,G.sent.decodeSvgMetadata({svg:oe});case 33:return G.abrupt("return",G.sent);case 36:if(G.prev=36,G.t1=G.catch(28),G.t1.message!=="INVALID"){G.next=42;break}throw new DOMException((0,he.t)("alerts.imageDoesNotContainScene"),"EncodingError");case 42:throw new DOMException((0,he.t)("alerts.cannotRestoreFromImage"),"EncodingError");case 43:return G.abrupt("return",oe);case 44:case"end":return G.stop()}},j,null,[[1,9],[28,36]])}));return function(j){return ae.apply(this,arguments)}}(),re=function(ae){var j;return ae&&((j=ae.name.match(/\.(json|excalidraw|png|svg)$/))===null||j===void 0?void 0:j[1])||null},T=function(ae){return ae==="png"||ae==="svg"},A=function(ae){var j=re(ae);return j==="png"||j==="svg"},U=function(ae){var j=(ae||{}).type;return!!j&&Z.jo.includes(j)},P=function(){var ae=(0,f.Z)(k().mark(function j(V,oe,G,ye){var K,H;return k().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,z(V);case 2:if(K=L.sent,L.prev=3,H=JSON.parse(K),!(0,je.dS)(H)){L.next=9;break}return L.abrupt("return",{type:Z.LO.excalidraw,data:(0,we.nu)({elements:(0,B._M)(H.elements||[]),appState:Me(Me({theme:oe==null?void 0:oe.theme,fileHandle:ye||V.handle||null},(0,d.s)(H.appState||{})),oe?(0,N.W)(H.elements||[],oe,null):{}),files:H.files},oe,G)});case 9:if(!(0,je.HT)(H)){L.next=11;break}return L.abrupt("return",{type:Z.LO.excalidrawlib,data:H});case 11:throw new Error((0,he.t)("alerts.couldNotLoadInvalidFile"));case 14:throw L.prev=14,L.t0=L.catch(3),console.error(L.t0.message),new Error((0,he.t)("alerts.couldNotLoadInvalidFile"));case 18:case"end":return L.stop()}},j,null,[[3,14]])}));return function(j,V,oe,G){return ae.apply(this,arguments)}}(),M=function(){var ae=(0,f.Z)(k().mark(function j(V,oe,G,ye){var K;return k().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return H.next=2,P(V,oe,G,ye);case 2:if((K=H.sent).type===Z.LO.excalidraw){H.next=5;break}throw new Error((0,he.t)("alerts.couldNotLoadInvalidFile"));case 5:return H.abrupt("return",K.data);case 6:case"end":return H.stop()}},j)}));return function(j,V,oe,G){return ae.apply(this,arguments)}}(),C=function(ae){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"unpublished",V=JSON.parse(ae);if(!(0,je.HT)(V))throw new Error("Invalid library");var oe=V.libraryItems||V.library;return(0,we.wJ)(oe,j)},g=function(){var ae=(0,f.Z)(k().mark(function j(V){var oe,G=arguments;return k().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return oe=G.length>1&&G[1]!==void 0?G[1]:"unpublished",ye.t0=C,ye.next=4,z(V);case 4:return ye.t1=ye.sent,ye.t2=oe,ye.abrupt("return",(0,ye.t0)(ye.t1,ye.t2));case 7:case"end":return ye.stop()}},j)}));return function(j){return ae.apply(this,arguments)}}(),l=function(){var ae=(0,f.Z)(k().mark(function j(V){return k().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.abrupt("return",new Promise(function(G,ye){try{V.toBlob(function(K){if(!K)return ye(new ee.l((0,he.t)("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));G(K)})}catch(K){ye(K)}}));case 1:case"end":return oe.stop()}},j)}));return function(j){return ae.apply(this,arguments)}}(),w=function(){var ae=(0,f.Z)(k().mark(function j(V){var oe;return k().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.prev=0,G.t0=window.crypto.subtle,G.next=4,pe(V);case 4:return G.t1=G.sent,G.next=7,G.t0.digest.call(G.t0,"SHA-1",G.t1);case 7:return oe=G.sent,G.abrupt("return",(0,ke.G3)(new Uint8Array(oe)));case 11:return G.prev=11,G.t2=G.catch(0),console.error(G.t2),G.abrupt("return",(0,R.x0)(40));case 15:case"end":return G.stop()}},j,null,[[0,11]])}));return function(j){return ae.apply(this,arguments)}}(),y=function(){var ae=(0,f.Z)(k().mark(function j(V){return k().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.abrupt("return",new Promise(function(G,ye){var K=new FileReader;K.onload=function(){var H=K.result;G(H)},K.onerror=function(H){return ye(H)},K.readAsDataURL(V)}));case 1:case"end":return oe.stop()}},j)}));return function(j){return ae.apply(this,arguments)}}(),S=function(ae){for(var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"",V=ae.indexOf(","),oe=atob(ae.slice(V+1)),G=ae.slice(0,V).split(":")[1].split(";")[0],ye=new ArrayBuffer(oe.length),K=new Uint8Array(ye),H=0;H<oe.length;H++)K[H]=oe.charCodeAt(H);return new File([ye],j,{type:G})},_=function(){var ae=(0,f.Z)(k().mark(function j(V,oe){var G,ye,K,H,L,I;return k().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:if(V.type!==Z.LO.svg){F.next=2;break}return F.abrupt("return",V);case 2:return F.next=4,Promise.all([a.e(4736).then(a.t.bind(a,4881,23)).then(function(X){return X.default}),a.e(4736).then(a.bind(a,100)).then(function(X){return X.default})]);case 4:if(G=F.sent,ye=(0,E.Z)(G,2),K=ye[0],H=ye[1],L=H({pica:K({features:["js","wasm"]})}),oe.outputType&&(I=oe.outputType,L._create_blob=function(X){return this.pica.toBlob(X.out_canvas,I,.8).then(function(le){return X.out_blob=le,X})}),U(V)){F.next=12;break}throw new Error((0,he.t)("errors.unsupportedFileType"));case 12:return F.t0=File,F.next=15,L.toBlob(V,{max:oe.maxWidthOrHeight});case 15:return F.t1=F.sent,F.t2=[F.t1],F.t3=V.name,F.t4={type:oe.outputType||V.type},F.abrupt("return",new F.t0(F.t2,F.t3,F.t4));case 20:case"end":return F.stop()}},j)}));return function(j,V){return ae.apply(this,arguments)}}(),J=function(ae){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return new File([new TextEncoder().encode(ae)],j,{type:Z.LO.svg})},de=function(){var ae=(0,f.Z)(k().mark(function j(V){var oe,G;return k().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return oe=V.dataTransfer.files.item(0),ye.next=3,ve(V);case 3:if(G=ye.sent,!oe){ye.next=10;break}return ye.next=7,De(oe);case 7:ye.t0=ye.sent,ye.next=11;break;case 10:ye.t0=null;case 11:return ye.t1=ye.t0,ye.t2=G,ye.abrupt("return",{file:ye.t1,fileHandle:ye.t2});case 14:case"end":return ye.stop()}},j)}));return function(j){return ae.apply(this,arguments)}}(),ve=function(){var ae=(0,f.Z)(k().mark(function j(V){var oe,G;return k().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(!Se.kr){ye.next=16;break}return ye.prev=1,oe=V.dataTransfer.items[0],ye.next=5,oe.getAsFileSystemHandle();case 5:if(ye.t0=ye.sent,ye.t0){ye.next=8;break}ye.t0=null;case 8:return G=ye.t0,ye.abrupt("return",G);case 12:return ye.prev=12,ye.t1=ye.catch(1),console.warn(ye.t1.name,ye.t1.message),ye.abrupt("return",null);case 16:return ye.abrupt("return",null);case 17:case"end":return ye.stop()}},j,null,[[1,12]])}));return function(j){return ae.apply(this,arguments)}}(),ie=function(ae){var j=null,V="".concat((0,v.Z)(new Uint8Array(ae).slice(0,8)).join(" ")," "),oe="255 216 255 ",G="71 73 70 56 57 97 ";return V==="137 80 78 71 13 10 26 10 "?j=Z.LO.png:V.startsWith(oe)?j=Z.LO.jpg:V.startsWith(G)&&(j=Z.LO.gif),j},$=function(ae,j,V){return new File([ae],V||"",{type:j})},De=function(){var ae=(0,f.Z)(k().mark(function j(V){var oe,G,ye,K,H,L,I,F;return k().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(V.type){X.next=28;break}if((oe=V)===null||oe===void 0||(G=oe.name)===null||G===void 0||!G.endsWith(".excalidrawlib")){X.next=11;break}return X.t0=$,X.next=5,pe(V);case 5:X.t1=X.sent,X.t2=Z.LO.excalidrawlib,X.t3=V.name,V=(0,X.t0)(X.t1,X.t2,X.t3),X.next=26;break;case 11:if((ye=V)===null||ye===void 0||(K=ye.name)===null||K===void 0||!K.endsWith(".excalidraw")){X.next=21;break}return X.t4=$,X.next=15,pe(V);case 15:X.t5=X.sent,X.t6=Z.LO.excalidraw,X.t7=V.name,V=(0,X.t4)(X.t5,X.t6,X.t7),X.next=26;break;case 21:return X.next=23,pe(V);case 23:H=X.sent,(L=ie(H))&&(V=$(H,L,V.name));case 26:X.next=34;break;case 28:if(!U(V)){X.next=34;break}return X.next=31,pe(V);case 31:I=X.sent,(F=ie(I))&&F!==V.type&&(V=$(I,F,V.name));case 34:return X.abrupt("return",V);case 35:case"end":return X.stop()}},j)}));return function(j){return ae.apply(this,arguments)}}(),pe=function(ae){return"arrayBuffer"in ae?ae.arrayBuffer():new Promise(function(j,V){var oe=new FileReader;oe.onload=function(G){var ye;if((ye=G.target)===null||ye===void 0||!ye.result)return V(new Error("Couldn't convert blob to ArrayBuffer"));j(G.target.result)},oe.readAsArrayBuffer(ae)})}},1393:function(b,m,a){a.d(m,{I$:function(){return he},NL:function(){return N},kr:function(){return f}});var v=a(1930),E=a(8950),h=a(2975),f=function(){if(typeof self>"u")return!1;if("top"in self&&self!==top)try{}catch{return!1}else if("showOpenFilePicker"in self)return"showOpenFilePicker";return!1}(),D=f?a.e(4736).then(a.bind(a,2254)):a.e(4736).then(a.bind(a,3499));function k(){return k=(0,E.Z)(h.mark(function ke(){var Se,je=arguments;return h.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,D;case 2:return we.abrupt("return",(Se=we.sent).default.apply(Se,je));case 3:case"end":return we.stop()}},ke)})),k.apply(this,arguments)}f?a.e(4736).then(a.bind(a,6474)):a.e(4736).then(a.bind(a,9521));var R=f?a.e(4736).then(a.bind(a,9475)):a.e(4736).then(a.bind(a,6281));function d(){return d=(0,E.Z)(h.mark(function ke(){var Se,je=arguments;return h.wrap(function(we){for(;;)switch(we.prev=we.next){case 0:return we.next=2,R;case 2:return we.abrupt("return",(Se=we.sent).default.apply(Se,je));case 3:case"end":return we.stop()}},ke)})),d.apply(this,arguments)}var Z=a(2335),B=a(6797),ee=a(6340),he=function(ke){var Se,je,we,Ee=(Se=ke.extensions)===null||Se===void 0?void 0:Se.reduce(function(z,re){return z.push(Z.LO[re]),z},[]),Me=(je=ke.extensions)===null||je===void 0?void 0:je.reduce(function(z,re){return re==="jpg"?z.concat(".jpg",".jpeg"):z.concat(".".concat(re))},[]);return function(){return k.apply(this,arguments)}({description:ke.description,extensions:Me,mimeTypes:Ee,multiple:(we=ke.multiple)!==null&&we!==void 0&&we,legacySetup:function(z,re,T){var A=(0,ee.Ds)(re,500),U=function(){P(),document.addEventListener(Z.Ks.KEYUP,A),document.addEventListener(Z.Ks.POINTER_UP,A),A()},P=function(){var C;if((C=T.files)!==null&&C!==void 0&&C.length){var g=ke.multiple?(0,v.Z)(T.files):T.files[0];z(g)}};requestAnimationFrame(function(){window.addEventListener(Z.Ks.FOCUS,U)});var M=window.setInterval(function(){P()},500);return function(C){clearInterval(M),A.cancel(),window.removeEventListener(Z.Ks.FOCUS,U),document.removeEventListener(Z.Ks.KEYUP,A),document.removeEventListener(Z.Ks.POINTER_UP,A),C&&(console.warn("Opening the file was canceled (legacy-fs)."),C(new B._))}}})},N=function(ke,Se){return function(){return d.apply(this,arguments)}(ke,{fileName:"".concat(Se.name,".").concat(Se.extension),description:Se.description,extensions:[".".concat(Se.extension)]},Se.fileHandle)}},673:function(b,m,a){a.r(m),a.d(m,{decodePngMetadata:function(){return re},decodeSvgMetadata:function(){return A},encodePngMetadata:function(){return z},encodeSvgMetadata:function(){return T},getTEXtChunk:function(){return Me}});var v=a(8950),E=a(2975),h=a.n(E),f=a(2983),D=a.n(f),k=a(1194),R=a(3434),d=a.n(R),Z=a(2744),B=a(2335),ee=a(434),he=function(U){return new Promise(function(P,M){var C=typeof U=="string"?new Blob([new TextEncoder().encode(U)]):new Blob([U instanceof Uint8Array?U:new Uint8Array(U)]),g=new FileReader;g.onload=function(l){if(!l.target||typeof l.target.result!="string")return M(new Error("couldn't convert to byte string"));P(l.target.result)},g.readAsBinaryString(C)})},N=function(U){for(var P=new ArrayBuffer(U.length),M=new Uint8Array(P),C=0,g=U.length;C<g;C++)M[C]=U.charCodeAt(C);return P},ke=function(U){return new TextDecoder("utf-8").decode(N(U))},Se=function(){var U=(0,v.Z)(h().mark(function P(M){var C=arguments;return h().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!(C.length>1&&C[1]!==void 0&&C[1])){g.next=5;break}g.t0=window.btoa(M),g.next=10;break;case 5:return g.t1=window,g.next=8,he(M);case 8:g.t2=g.sent,g.t0=g.t1.btoa.call(g.t1,g.t2);case 10:return g.abrupt("return",g.t0);case 11:case"end":return g.stop()}},P)}));return function(P){return U.apply(this,arguments)}}(),je=function(){var U=(0,v.Z)(h().mark(function P(M){var C,g=arguments;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return C=g.length>1&&g[1]!==void 0&&g[1],l.abrupt("return",C?window.atob(M):ke(window.atob(M)));case 2:case"end":return l.stop()}},P)}));return function(P){return U.apply(this,arguments)}}(),we=function(){var U=(0,v.Z)(h().mark(function P(M){var C,g;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(C=M.text,M.compress===!1){l.next=11;break}return l.prev=2,l.next=5,he((0,Z.deflate)(C));case 5:g=l.sent,l.next=11;break;case 8:l.prev=8,l.t0=l.catch(2),console.error("encode: cannot deflate",l.t0);case 11:if(l.t1=!!g,l.t2=g,l.t2){l.next=17;break}return l.next=16,he(C);case 16:l.t2=l.sent;case 17:return l.t3=l.t2,l.abrupt("return",{version:"1",encoding:"bstring",compressed:l.t1,encoded:l.t3});case 19:case"end":return l.stop()}},P,null,[[2,8]])}));return function(P){return U.apply(this,arguments)}}(),Ee=function(){var U=(0,v.Z)(h().mark(function P(M){var C;return h().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:g.t0=M.encoding,g.next=g.t0==="bstring"?3:12;break;case 3:if(!M.compressed){g.next=7;break}g.t1=M.encoded,g.next=10;break;case 7:return g.next=9,ke(M.encoded);case 9:g.t1=g.sent;case 10:return C=g.t1,g.abrupt("break",13);case 12:throw new Error('decode: unknown encoding "'.concat(M.encoding,'"'));case 13:if(!M.compressed){g.next=15;break}return g.abrupt("return",(0,Z.inflate)(new Uint8Array(N(C)),{to:"string"}));case 15:return g.abrupt("return",C);case 16:case"end":return g.stop()}},P)}));return function(P){return U.apply(this,arguments)}}(),Me=function(){var U=(0,v.Z)(h().mark(function P(M){var C,g;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.t0=D(),l.t1=Uint8Array,l.next=4,(0,ee.vZ)(M);case 4:if(l.t2=l.sent,l.t3=new l.t1(l.t2),C=(0,l.t0)(l.t3),!(g=C.find(function(w){return w.name==="tEXt"}))){l.next=10;break}return l.abrupt("return",k.decode(g.data));case 10:return l.abrupt("return",null);case 11:case"end":return l.stop()}},P)}));return function(P){return U.apply(this,arguments)}}(),z=function(){var U=(0,v.Z)(h().mark(function P(M){var C,g,l,w;return h().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return C=M.blob,g=M.metadata,y.t0=D(),y.t1=Uint8Array,y.next=5,(0,ee.vZ)(C);case 5:return y.t2=y.sent,y.t3=new y.t1(y.t2),l=(0,y.t0)(y.t3),y.t4=k,y.t5=B.LO.excalidraw,y.t6=JSON,y.next=13,we({text:g,compress:!0});case 13:return y.t7=y.sent,y.t8=y.t6.stringify.call(y.t6,y.t7),w=y.t4.encode.call(y.t4,y.t5,y.t8),l.splice(-1,0,w),y.abrupt("return",new Blob([d()(l)],{type:B.LO.png}));case 18:case"end":return y.stop()}},P)}));return function(P){return U.apply(this,arguments)}}(),re=function(){var U=(0,v.Z)(h().mark(function P(M){var C,g;return h().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Me(M);case 2:if(((C=l.sent)==null?void 0:C.keyword)!==B.LO.excalidraw){l.next=19;break}if(l.prev=4,"encoded"in(g=JSON.parse(C.text))){l.next=10;break}if(!("type"in g)||g.type!==B.r8.excalidraw){l.next=9;break}return l.abrupt("return",C.text);case 9:throw new Error("FAILED");case 10:return l.next=12,Ee(g);case 12:return l.abrupt("return",l.sent);case 15:throw l.prev=15,l.t0=l.catch(4),console.error(l.t0),new Error("FAILED");case 19:throw new Error("INVALID");case 20:case"end":return l.stop()}},P,null,[[4,15]])}));return function(P){return U.apply(this,arguments)}}(),T=function(){var U=(0,v.Z)(h().mark(function P(M){var C,g,l;return h().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return C=M.text,w.t0=Se,w.t1=JSON,w.next=5,we({text:C});case 5:return w.t2=w.sent,w.t3=w.t1.stringify.call(w.t1,w.t2),w.next=9,(0,w.t0)(w.t3,!0);case 9:return g=w.sent,l="",l+="<!-- payload-type:".concat(B.LO.excalidraw," -->"),l+="<!-- payload-version:2 -->",l+="<!-- payload-start -->",l+=g,l+="<!-- payload-end -->",w.abrupt("return",l);case 17:case"end":return w.stop()}},P)}));return function(P){return U.apply(this,arguments)}}(),A=function(){var U=(0,v.Z)(h().mark(function P(M){var C,g,l,w,y,S,_;return h().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(!(C=M.svg).includes("payload-type:".concat(B.LO.excalidraw))){J.next=26;break}if(g=C.match(/<!-- payload-start -->\s*(.+?)\s*<!-- payload-end -->/)){J.next=5;break}throw new Error("INVALID");case 5:return l=C.match(/<!-- payload-version:(\d+) -->/),w=(l==null?void 0:l[1])||"1",y=w!=="1",J.prev=8,J.next=11,je(g[1],y);case 11:if(S=J.sent,"encoded"in(_=JSON.parse(S))){J.next=17;break}if(!("type"in _)||_.type!==B.r8.excalidraw){J.next=16;break}return J.abrupt("return",S);case 16:throw new Error("FAILED");case 17:return J.next=19,Ee(_);case 19:return J.abrupt("return",J.sent);case 22:throw J.prev=22,J.t0=J.catch(8),console.error(J.t0),new Error("FAILED");case 26:throw new Error("INVALID");case 27:case"end":return J.stop()}},P,null,[[8,22]])}));return function(P){return U.apply(this,arguments)}}()},9485:function(b,m,a){a.d(m,{Um:function(){return B.Um},cT:function(){return d.cT},n8:function(){return B.n8},p1:function(){return ee}});var v=a(8950),E=a(2975),h=a.n(E),f=a(6665),D=a(2335),k=a(8211),R=a(4162),d=a(434),Z=a(1393),B=a(5523),ee=function(){var he=(0,v.Z)(h().mark(function N(ke,Se,je,we,Ee){var Me,z,re,T,A,U,P,M,C,g,l;return h().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(Me=Ee.exportBackground,z=Ee.exportPadding,re=z===void 0?D.qy:z,T=Ee.viewBackgroundColor,A=Ee.name,U=Ee.fileHandle,P=U===void 0?null:U,Se.length!==0){w.next=3;break}throw new Error((0,k.t)("alerts.cannotExportEmptyCanvas"));case 3:if(ke!=="svg"&&ke!=="clipboard-svg"){w.next=17;break}return w.next=6,(0,R.$D)(Se,{exportBackground:Me,exportWithDarkMode:je.exportWithDarkMode,viewBackgroundColor:T,exportPadding:re,exportScale:je.exportScale,exportEmbedScene:je.exportEmbedScene&&ke==="svg"},we);case 6:if(M=w.sent,ke!=="svg"){w.next=13;break}return w.next=10,(0,Z.NL)(new Blob([M.outerHTML],{type:D.LO.svg}),{description:"Export to SVG",name:A,extension:je.exportEmbedScene?"excalidraw.svg":"svg",fileHandle:P});case 10:return w.abrupt("return",w.sent);case 13:if(ke!=="clipboard-svg"){w.next=17;break}return w.next=16,(0,f.dd)(M.outerHTML);case 16:return w.abrupt("return");case 17:return w.next=19,(0,R.NL)(Se,je,we,{exportBackground:Me,viewBackgroundColor:T,exportPadding:re});case 19:if((C=w.sent).style.display="none",document.body.appendChild(C),ke!=="png"){w.next=38;break}return w.next=25,(0,d._c)(C);case 25:if(g=w.sent,C.remove(),!je.exportEmbedScene){w.next=33;break}return w.next=30,Promise.resolve().then(a.bind(a,673));case 30:return w.next=32,w.sent.encodePngMetadata({blob:g,metadata:(0,B.I_)(Se,je,we,"local")});case 32:g=w.sent;case 33:return w.next=35,(0,Z.NL)(g,{description:"Export to PNG",name:A,extension:je.exportEmbedScene?"excalidraw.png":"png",fileHandle:P});case 35:return w.abrupt("return",w.sent);case 38:if(ke!=="clipboard"){w.next=60;break}return w.prev=39,l=(0,d._c)(C),w.next=43,(0,f.uR)(l);case 43:w.next=55;break;case 45:if(w.prev=45,w.t0=w.catch(39),console.warn(w.t0),w.t0.name!=="CANVAS_POSSIBLY_TOO_BIG"){w.next=50;break}throw w.t0;case 50:if(!D.vU||w.t0.name!=="TypeError"){w.next=54;break}throw new Error("".concat((0,k.t)("alerts.couldNotCopyToClipboard"),`

`).concat((0,k.t)("hints.firefox_clipboard_write")));case 54:throw new Error((0,k.t)("alerts.couldNotCopyToClipboard"));case 55:return w.prev=55,C.remove(),w.finish(55);case 58:w.next=62;break;case 60:throw C.remove(),new Error("Unsupported export type");case 62:case"end":return w.stop()}},N,null,[[39,45,55,58]])}));return function(N,ke,Se,je,we){return he.apply(this,arguments)}}()},5523:function(b,m,a){a.d(m,{HT:function(){return we},I_:function(){return N},NI:function(){return Ee},Um:function(){return ke},dS:function(){return je},n8:function(){return Se},t1:function(){return Me}});var v=a(6655),E=a(8950),h=a(2975),f=a.n(h),D=a(1393),k=a(8897),R=a(2335),d=a(1047),Z=a(434);function B(z,re){var T=typeof Symbol<"u"&&z[Symbol.iterator]||z["@@iterator"];if(!T){if(Array.isArray(z)||(T=function(g,l){if(g){if(typeof g=="string")return ee(g,l);var w=Object.prototype.toString.call(g).slice(8,-1);if(w==="Object"&&g.constructor&&(w=g.constructor.name),w==="Map"||w==="Set")return Array.from(g);if(w==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(w))return ee(g,l)}}(z))||re&&z&&typeof z.length=="number"){T&&(z=T);var A=0,U=function(){};return{s:U,n:function(){return A>=z.length?{done:!0}:{done:!1,value:z[A++]}},e:function(g){throw g},f:U}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var P,M=!0,C=!1;return{s:function(){T=T.call(z)},n:function(){var g=T.next();return M=g.done,g},e:function(g){C=!0,P=g},f:function(){try{M||T.return==null||T.return()}finally{if(C)throw P}}}}function ee(z,re){(re==null||re>z.length)&&(re=z.length);for(var T=0,A=new Array(re);T<re;T++)A[T]=z[T];return A}var he=function(z,re){var T,A={},U=B(z);try{for(U.s();!(T=U.n()).done;){var P=T.value;!P.isDeleted&&"fileId"in P&&P.fileId&&re[P.fileId]&&(A[P.fileId]=re[P.fileId])}}catch(M){U.e(M)}finally{U.f()}return A},N=function(z,re,T,A){var U={type:R.r8.excalidraw,version:R.Kr.excalidraw,source:R.pb,elements:A==="local"?(0,d._M)(z):(0,d.BQ)(z),appState:A==="local"?(0,k.s)(re):(0,k.eS)(re),files:A==="local"?he(z,T):void 0};return JSON.stringify(U,null,2)},ke=function(){var z=(0,E.Z)(f().mark(function re(T,A,U){var P,M,C;return f().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return P=N(T,A,U,"local"),M=new Blob([P],{type:R.LO.excalidraw}),g.next=4,(0,D.NL)(M,{name:A.name,extension:"excalidraw",description:"Excalidraw file",fileHandle:(0,Z.g8)(A.fileHandle)?null:A.fileHandle});case 4:return C=g.sent,g.abrupt("return",{fileHandle:C});case 6:case"end":return g.stop()}},re)}));return function(re,T,A){return z.apply(this,arguments)}}(),Se=function(){var z=(0,E.Z)(f().mark(function re(T,A){var U;return f().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,(0,D.I$)({description:"Excalidraw files"});case 2:return U=P.sent,P.t0=Z.cT,P.next=6,(0,Z.gY)(U);case 6:return P.t1=P.sent,P.t2=T,P.t3=A,P.t4=U.handle,P.abrupt("return",(0,P.t0)(P.t1,P.t2,P.t3,P.t4));case 11:case"end":return P.stop()}},re)}));return function(re,T){return z.apply(this,arguments)}}(),je=function(z){return(z==null?void 0:z.type)===R.r8.excalidraw&&(!z.elements||Array.isArray(z.elements)&&(!z.appState||(0,v.Z)(z.appState)==="object"))},we=function(z){return(0,v.Z)(z)==="object"&&z&&z.type===R.r8.excalidrawLibrary&&(z.version===1||z.version===2)},Ee=function(z){var re={type:R.r8.excalidrawLibrary,version:R.Kr.excalidrawLibrary,source:R.pb,libraryItems:z};return JSON.stringify(re,null,2)},Me=function(){var z=(0,E.Z)(f().mark(function re(T){var A;return f().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return A=Ee(T),U.next=3,(0,D.NL)(new Blob([A],{type:R.LO.excalidrawlib}),{name:"library",extension:"excalidrawlib",description:"Excalidraw library file"});case 3:case"end":return U.stop()}},re)}));return function(re){return z.apply(this,arguments)}}()},7053:function(b,m,a){a.d(m,{Di:function(){return C},WV:function(){return M},rF:function(){return re},xS:function(){return g},zh:function(){return U}});var v=a(7169),E=a(8950),h=a(5169),f=a(8821),D=a(1930),k=a(2975),R=a.n(k),d=a(434),Z=a(679),B=a(4739),ee=a(9487),he=a(8925),N=a(6797),ke=a(8211),Se=a(9787),je=a(2335);function we(l,w){var y=Object.keys(l);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(l);w&&(S=S.filter(function(_){return Object.getOwnPropertyDescriptor(l,_).enumerable})),y.push.apply(y,S)}return y}function Ee(l){for(var w=1;w<arguments.length;w++){var y=arguments[w]!=null?arguments[w]:{};w%2?we(Object(y),!0).forEach(function(S){(0,v.Z)(l,S,y[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(y)):we(Object(y)).forEach(function(S){Object.defineProperty(l,S,Object.getOwnPropertyDescriptor(y,S))})}return l}function Me(l,w){var y=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!y){if(Array.isArray(l)||(y=function(ie,$){if(ie){if(typeof ie=="string")return z(ie,$);var De=Object.prototype.toString.call(ie).slice(8,-1);if(De==="Object"&&ie.constructor&&(De=ie.constructor.name),De==="Map"||De==="Set")return Array.from(ie);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return z(ie,$)}}(l))||w&&l&&typeof l.length=="number"){y&&(l=y);var S=0,_=function(){};return{s:_,n:function(){return S>=l.length?{done:!0}:{done:!1,value:l[S++]}},e:function(ie){throw ie},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J,de=!0,ve=!1;return{s:function(){y=y.call(l)},n:function(){var ie=y.next();return de=ie.done,ie},e:function(ie){ve=!0,J=ie},f:function(){try{de||y.return==null||y.return()}finally{if(ve)throw J}}}}function z(l,w){(w==null||w>l.length)&&(w=l.length);for(var y=0,S=new Array(w);y<w;y++)S[y]=l[y];return S}var re=(0,B.cn)({status:"loaded",isInitialized:!0,libraryItems:[]}),T=function(l){return JSON.parse(JSON.stringify(l))},A=function(l,w){return!l.find(function(y){return y.elements.length===w.elements.length&&y.elements.every(function(S,_){return S.id===w.elements[_].id&&S.versionNonce===w.elements[_].versionNonce})})},U=function(l,w){var y,S=[],_=Me(w);try{for(_.s();!(y=_.n()).done;){var J=y.value;A(l,J)&&S.push(J)}}catch(de){_.e(de)}finally{_.f()}return[].concat(S,(0,D.Z)(l))},P=(0,h.Z)(function l(w){var y=this;(0,f.Z)(this,l),this.lastLibraryItems=[],this.isInitialized=!1,this.updateQueue=[],this.getLastUpdateTask=function(){return y.updateQueue[y.updateQueue.length-1]},this.notifyListeners=function(){if(y.updateQueue.length>0)ee.e_.set(re,{status:"loading",libraryItems:y.lastLibraryItems,isInitialized:y.isInitialized});else{y.isInitialized=!0,ee.e_.set(re,{status:"loaded",libraryItems:y.lastLibraryItems,isInitialized:y.isInitialized});try{var S,_;(S=(_=y.app.props).onLibraryChange)===null||S===void 0||S.call(_,T(y.lastLibraryItems))}catch(J){console.error(J)}}},this.resetLibrary=function(){return y.setLibrary([])},this.getLatestLibrary=function(){return new Promise(function(){var S=(0,E.Z)(R().mark(function _(J){var de;return R().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.prev=0,ve.next=3,y.getLastUpdateTask()||y.lastLibraryItems;case 3:de=ve.sent,y.updateQueue.length>0?J(y.getLatestLibrary()):J(T(de)),ve.next=10;break;case 7:return ve.prev=7,ve.t0=ve.catch(0),ve.abrupt("return",J(y.lastLibraryItems));case 10:case"end":return ve.stop()}},_,null,[[0,7]])}));return function(_){return S.apply(this,arguments)}}())},this.updateLibrary=function(){var S=(0,E.Z)(R().mark(function _(J){var de,ve,ie,$,De,pe,ae,j,V;return R().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return de=J.libraryItems,ve=J.prompt,ie=ve!==void 0&&ve,$=J.merge,De=$!==void 0&&$,pe=J.openLibraryMenu,ae=pe!==void 0&&pe,j=J.defaultStatus,V=j===void 0?"unpublished":j,ae&&y.app.setState({openSidebar:"library"}),oe.abrupt("return",y.setLibrary(function(){return new Promise(function(){var G=(0,E.Z)(R().mark(function ye(K,H){var L,I;return R().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.prev=0,F.next=3,typeof de!="function"||de instanceof Blob?de:de(y.lastLibraryItems);case 3:if(!((L=F.sent)instanceof Blob)){F.next=10;break}return F.next=7,(0,d.lV)(L,V);case 7:I=F.sent,F.next=11;break;case 10:I=(0,Z.wJ)(L,V);case 11:!ie||window.confirm((0,ke.t)("alerts.confirmAddLibrary",{numShapes:I.length}))?K(De?U(y.lastLibraryItems,I):I):H(new N._),F.next=17;break;case 14:F.prev=14,F.t0=F.catch(0),H(F.t0);case 17:case"end":return F.stop()}},ye,null,[[0,14]])}));return function(ye,K){return G.apply(this,arguments)}}())}).finally(function(){y.app.focusContainer()}));case 3:case"end":return oe.stop()}},_)}));return function(_){return S.apply(this,arguments)}}(),this.setLibrary=function(S){var _=new Promise(function(){var J=(0,E.Z)(R().mark(function de(ve,ie){return R().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,$.next=3,y.getLastUpdateTask();case 3:return typeof S=="function"&&(S=S(y.lastLibraryItems)),$.t0=T,$.next=7,S;case 7:$.t1=$.sent,y.lastLibraryItems=(0,$.t0)($.t1),ve(y.lastLibraryItems),$.next=15;break;case 12:$.prev=12,$.t2=$.catch(0),ie($.t2);case 15:case"end":return $.stop()}},de,null,[[0,12]])}));return function(de,ve){return J.apply(this,arguments)}}()).catch(function(J){if(J.name==="AbortError")return console.warn("Library update aborted by user"),y.lastLibraryItems;throw J}).finally(function(){y.updateQueue=y.updateQueue.filter(function(J){return J!==_}),y.notifyListeners()});return y.updateQueue.push(_),y.notifyListeners(),_},this.app=w});m.ZP=P;var M=function(l){var w,y=Math.ceil(Math.sqrt(l.length)),S=[],_=0,J=0,de=0,ve=0,ie=0,$=0,De=0,pe=Me(l);try{var ae=function(){var j=w.value;ie&&ie%y==0&&(J+=de+50,_=0,$=0,De++),$===0&&(de=function(I){return l.slice(I*y,I*y+y).reduce(function(F,X){var le=(0,he.v2)(X.elements).height;return Math.max(F,le)},0)}(De)),ve=function(I){var F,X=0,le=0,q=0,Ce=Me(l);try{for(Ce.s();!(F=Ce.n()).done;){var te=F.value;if(X%y==0&&(le=0),le===I){var me=(0,he.v2)(te.elements).width;q=Math.max(q,me)}X++,le++}}catch(Re){Ce.e(Re)}finally{Ce.f()}return q}($);var V=(0,he.v2)(j.elements),oe=V.minX,G=V.minY,ye=V.width,K=V.height,H=(ve-ye)/2,L=(de-K)/2;S.push.apply(S,(0,D.Z)(j.elements.map(function(I){return Ee(Ee({},I),{},{x:I.x+_+H-oe,y:I.y+J+L-G})}))),_+=ve+50,ie++,$++};for(pe.s();!(w=pe.n()).done;)ae()}catch(j){pe.e(j)}finally{pe.f()}return S},C=function(){var l=new URLSearchParams(window.location.hash.slice(1)).get(je.ah.addLibrary)||new URLSearchParams(window.location.search).get(je.UO.addLibrary),w=l?new URLSearchParams(window.location.hash.slice(1)).get("token"):null;return l?{libraryUrl:l,idToken:w}:null},g=function(l){var w=l.excalidrawAPI,y=l.getInitialLibraryItems,S=(0,Se.useRef)(y);(0,Se.useEffect)(function(){if(w){var _=function(){var ve=(0,E.Z)(R().mark(function ie($){var De,pe,ae,j,V,oe;return R().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return De=$.libraryUrl,pe=$.idToken,ae=new Promise(function(){var ye=(0,E.Z)(R().mark(function K(H,L){var I,F;return R().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.prev=0,X.next=3,fetch(decodeURIComponent(De));case 3:return I=X.sent,X.next=6,I.blob();case 6:F=X.sent,H(F),X.next=13;break;case 10:X.prev=10,X.t0=X.catch(0),L(X.t0);case 13:case"end":return X.stop()}},K,null,[[0,10]])}));return function(K,H){return ye.apply(this,arguments)}}()),j=pe!==w.id,G.next=5,j&&document.hidden?new Promise(function(ye){window.addEventListener("focus",function(){return ye()},{once:!0})}):null;case 5:return G.prev=5,G.next=8,w.updateLibrary({libraryItems:ae,prompt:j,merge:!0,defaultStatus:"published",openLibraryMenu:!0});case 8:G.next=13;break;case 10:throw G.prev=10,G.t0=G.catch(5),G.t0;case 13:return G.prev=13,window.location.hash.includes(je.ah.addLibrary)?((V=new URLSearchParams(window.location.hash.slice(1))).delete(je.ah.addLibrary),window.history.replaceState({},je.iC,"#".concat(V.toString()))):window.location.search.includes(je.UO.addLibrary)&&((oe=new URLSearchParams(window.location.search)).delete(je.UO.addLibrary),window.history.replaceState({},je.iC,"?".concat(oe.toString()))),G.finish(13);case 16:case"end":return G.stop()}},ie,null,[[5,10,13,16]])}));return function(ie){return ve.apply(this,arguments)}}(),J=function(ve){ve.preventDefault();var ie=C();ie&&(ve.stopImmediatePropagation(),window.history.replaceState({},"",ve.oldURL),_(ie))};S.current&&w.updateLibrary({libraryItems:S.current()});var de=C();return de&&_(de),window.addEventListener(je.Ks.HASHCHANGE,J),function(){window.removeEventListener(je.Ks.HASHCHANGE,J)}}},[w])}},679:function(b,m,a){a.d(m,{ET:function(){return T},lY:function(){return P},nu:function(){return M},wJ:function(){return g}});var v=a(2577),E=a(7169),h=a(1047),f=a(1974),D=a(6954),k=a(2335),R=a(8897),d=a(6938),Z=a(1935),B=a(6340),ee=a(5284);function he(l,w){var y=typeof Symbol<"u"&&l[Symbol.iterator]||l["@@iterator"];if(!y){if(Array.isArray(l)||(y=function(ie,$){if(ie){if(typeof ie=="string")return N(ie,$);var De=Object.prototype.toString.call(ie).slice(8,-1);if(De==="Object"&&ie.constructor&&(De=ie.constructor.name),De==="Map"||De==="Set")return Array.from(ie);if(De==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(De))return N(ie,$)}}(l))||w&&l&&typeof l.length=="number"){y&&(l=y);var S=0,_=function(){};return{s:_,n:function(){return S>=l.length?{done:!0}:{done:!1,value:l[S++]}},e:function(ie){throw ie},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var J,de=!0,ve=!1;return{s:function(){y=y.call(l)},n:function(){var ie=y.next();return de=ie.done,ie},e:function(ie){ve=!0,J=ie},f:function(){try{de||y.return==null||y.return()}finally{if(ve)throw J}}}}function N(l,w){(w==null||w>l.length)&&(w=l.length);for(var y=0,S=new Array(w);y<w;y++)S[y]=l[y];return S}function ke(l,w){var y=Object.keys(l);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(l);w&&(S=S.filter(function(_){return Object.getOwnPropertyDescriptor(l,_).enumerable})),y.push.apply(y,S)}return y}function Se(l){for(var w=1;w<arguments.length;w++){var y=arguments[w]!=null?arguments[w]:{};w%2?ke(Object(y),!0).forEach(function(S){(0,E.Z)(l,S,y[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(l,Object.getOwnPropertyDescriptors(y)):ke(Object(y)).forEach(function(S){Object.defineProperty(l,S,Object.getOwnPropertyDescriptor(y,S))})}return l}var je={selection:!0,text:!0,rectangle:!0,diamond:!0,ellipse:!0,line:!0,image:!0,arrow:!0,freedraw:!0,eraser:!1,custom:!0,hand:!0},we=function(l){return Object.keys(k.ut).includes(l)?k.ut[l]:k.rk},Ee=function(l,w){var y,S,_,J,de,ve,ie,$,De,pe,ae,j,V,oe,G={type:w.type||l.type,version:l.version||1,versionNonce:(y=l.versionNonce)!==null&&y!==void 0?y:0,isDeleted:(S=l.isDeleted)!==null&&S!==void 0&&S,id:l.id||(0,D.kb)(),fillStyle:l.fillStyle||"hachure",strokeWidth:l.strokeWidth||1,strokeStyle:(_=l.strokeStyle)!==null&&_!==void 0?_:"solid",roughness:(J=l.roughness)!==null&&J!==void 0?J:1,opacity:l.opacity==null?100:l.opacity,angle:l.angle||0,x:(de=(ve=w.x)!==null&&ve!==void 0?ve:l.x)!==null&&de!==void 0?de:0,y:(ie=($=w.y)!==null&&$!==void 0?$:l.y)!==null&&ie!==void 0?ie:0,strokeColor:l.strokeColor||ee.black,backgroundColor:l.backgroundColor||"transparent",width:l.width||0,height:l.height||0,seed:(De=l.seed)!==null&&De!==void 0?De:1,groupIds:(pe=l.groupIds)!==null&&pe!==void 0?pe:[],roundness:l.roundness?l.roundness:l.strokeSharpness==="round"?{type:(0,f.QI)(l.type)?k.a6.LEGACY:k.a6.PROPORTIONAL_RADIUS}:null,boundElements:l.boundElementIds?l.boundElementIds.map(function(ye){return{type:"arrow",id:ye}}):(ae=l.boundElements)!==null&&ae!==void 0?ae:[],updated:(j=l.updated)!==null&&j!==void 0?j:(0,B.C3)(),link:(V=l.link)!==null&&V!==void 0?V:null,locked:(oe=l.locked)!==null&&oe!==void 0&&oe};return"customData"in l&&(G.customData=l.customData),k.WR in l&&(G[k.WR]=l[k.WR]),Se(Se(Se({},G),(0,h.Qp)(G)),w)},Me=function(l){var w,y,S=arguments.length>1&&arguments[1]!==void 0&&arguments[1];switch(l.type){case"text":var _=l.fontSize,J=l.fontFamily;if("font"in l){var de=l.font.split(" "),ve=(0,v.Z)(de,2),ie=ve[0],$=ve[1];_=parseInt(ie,10),J=we($)}return l=Ee(l,{fontSize:_,fontFamily:J,text:(w=l.text)!==null&&w!==void 0?w:"",baseline:l.baseline,textAlign:l.textAlign||k.Hg,verticalAlign:l.verticalAlign||k.hs,containerId:(y=l.containerId)!==null&&y!==void 0?y:null,originalText:l.originalText||l.text}),S&&(l=Se(Se({},l),(0,h.JZ)(l))),l;case"freedraw":return Ee(l,{points:l.points,lastCommittedPoint:null,simulatePressure:l.simulatePressure,pressures:l.pressures});case"image":return Ee(l,{status:l.status||"pending",fileId:l.fileId,scale:l.scale||[1,1]});case"line":case"draw":case"arrow":var De=l,pe=De.startArrowhead,ae=pe===void 0?null:pe,j=De.endArrowhead,V=j===void 0?l.type==="arrow"?"arrow":null:j,oe=l.x,G=l.y,ye=!Array.isArray(l.points)||l.points.length<2?[[0,0],[l.width,l.height]]:l.points;if(ye[0][0]!==0||ye[0][1]!==0){var K=d._.getNormalizedPoints(l);ye=K.points,oe=K.x,G=K.y}return Ee(l,{type:l.type==="draw"?"line":l.type,startBinding:l.startBinding,endBinding:l.endBinding,lastCommittedPoint:null,startArrowhead:ae,endArrowhead:V,points:ye,x:oe,y:G});case"ellipse":case"rectangle":case"diamond":return Ee(l,{})}},z=function(l,w){if(l.boundElements){var y=l.boundElements.slice(),S=new Set;l.boundElements=y.reduce(function(_,J){var de=w.get(J.id);if(de&&!S.has(J.id)){if(S.add(J.id),de.isDeleted)return _;_.push(J),(0,f.iB)(de)&&!de.containerId&&(de.containerId=l.id)}return _},[])}},re=function(l,w){var y=l.containerId?w.get(l.containerId):null;if(y){if(!l.isDeleted&&y.boundElements&&!y.boundElements.find(function(_){return _.id===l.id})){var S=(y.boundElements||(y.boundElements=[])).slice();S.push({type:"text",id:l.id}),y.boundElements=S}}else l.containerId=null},T=function(l,w){var y,S=arguments.length>2&&arguments[2]!==void 0&&arguments[2],_=w?(0,B.xn)(w):null,J=(l||[]).reduce(function($,De){if(De.type!=="selection"&&!(0,h.QD)(De)){var pe=Me(De,S);if(pe){var ae=_==null?void 0:_.get(De.id);ae&&ae.version>pe.version&&(pe=(0,Z.ZP)(pe,ae.version)),$.push(pe)}}return $},[]),de=(0,B.xn)(J),ve=he(J);try{for(ve.s();!(y=ve.n()).done;){var ie=y.value;(0,f.iB)(ie)&&ie.containerId?re(ie,de):ie.boundElements&&z(ie,de)}}catch($){ve.e($)}finally{ve.f()}return J},A=function(l,w,y){var S=w[l];return S!==void 0?S:y[l]},U={isLibraryOpen:function(l,w){return["openSidebar","isLibraryOpen"in l?l.isLibraryOpen?"library":null:A("openSidebar",l,w)]},isLibraryMenuDocked:function(l,w){var y;return["isSidebarDocked",(y=l.isLibraryMenuDocked)!==null&&y!==void 0?y:A("isSidebarDocked",l,w)]}},P=function(l,w){var y,S,_;l=l||{};for(var J=(0,R.im)(),de={},ve=0,ie=Object.keys(U);ve<ie.length;ve++){var $=ie[ve];if($ in l){var De=U[$](l,J),pe=(0,v.Z)(De,2),ae=pe[0],j=pe[1];de[ae]=j}}for(var V=0,oe=Object.entries(J);V<oe.length;V++){var G=(0,v.Z)(oe[V],2),ye=G[0],K=G[1],H=l[ye],L=w?w[ye]:void 0;de[ye]=H!==void 0?H:L!==void 0?L:K}return Se(Se({},de),{},{cursorButton:(w==null?void 0:w.cursorButton)||"up",penDetected:(y=w==null?void 0:w.penDetected)!==null&&y!==void 0?y:!!l.penMode&&(S=l.penDetected)!==null&&S!==void 0&&S,activeTool:Se(Se({},(0,B.Om)(J,de.activeTool.type&&je[de.activeTool.type]?de.activeTool:{type:"selection"})),{},{lastActiveTool:null,locked:(_=de.activeTool.locked)!==null&&_!==void 0&&_}),zoom:typeof l.zoom=="number"?{value:l.zoom}:l.zoom||J.zoom,openSidebar:de.openSidebar==="library"?de.isSidebarDocked?"library":null:de.openSidebar})},M=function(l,w,y){return{elements:T(l==null?void 0:l.elements,y),appState:P(l==null?void 0:l.appState,w||null),files:(l==null?void 0:l.files)||{}}},C=function(l){var w=T((0,h.Lm)(l.elements),null);return w.length?Se(Se({},l),{},{elements:w}):null},g=function(){var l,w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],y=arguments.length>1?arguments[1]:void 0,S=[],_=he(w);try{for(_.s();!(l=_.n()).done;){var J=l.value;if(Array.isArray(J)){var de=C({status:y,elements:J,id:(0,D.kb)(),created:Date.now()});de&&S.push(de)}else{var ve=J,ie=C(Se(Se({},ve),{},{id:ve.id||(0,D.kb)(),status:ve.status||y,created:ve.created||Date.now()}));ie&&S.push(ie)}}}catch($){_.e($)}finally{_.f()}return S}},4929:function(b,m,a){a.d(m,{rj:function(){return $},nW:function(){return pe},nz:function(){return oe},sw:function(){return ye},lV:function(){return F},q$:function(){return V},wq:function(){return K},$u:function(){return j},Pp:function(){return L}});var v=a(7169),E=a(2577),h=a(6340),f=a(1935),D=a(7901),k=a(1319),R=a(3646),d=a(8211),Z=a(9787),B=a(45),ee=a(6066),he=a(3063),N=a(6552),ke=a(2335),Se=a(1894),je=a(75),we=a(2325),Ee=a(1047),Me=a(487),z=a.n(Me),re=a(631),T=a.n(re),A=a(2052),U=a.n(A),P=a(4010),M=a.n(P),C=a(1469),g=a.n(C),l=a(9329),w=a.n(l),y=a(5260),S={};S.styleTagTransform=w(),S.setAttributes=M(),S.insert=U().bind(null,"head"),S.domAPI=T(),S.insertStyleElement=g(),z()(y.Z,S),y.Z&&y.Z.locals&&y.Z.locals;var _=a(7047),J=a(4206),de=a(4512);function ve(le,q){var Ce=Object.keys(le);if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(le);q&&(te=te.filter(function(me){return Object.getOwnPropertyDescriptor(le,me).enumerable})),Ce.push.apply(Ce,te)}return Ce}function ie(le){for(var q=1;q<arguments.length;q++){var Ce=arguments[q]!=null?arguments[q]:{};q%2?ve(Object(Ce),!0).forEach(function(te){(0,v.Z)(le,te,Ce[te])}):Object.getOwnPropertyDescriptors?Object.defineProperties(le,Object.getOwnPropertyDescriptors(Ce)):ve(Object(Ce)).forEach(function(te){Object.defineProperty(le,te,Object.getOwnPropertyDescriptor(Ce,te))})}return le}var $=document.createElement("img");$.src="data:".concat(ke.LO.svg,", ").concat(encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="#1971c2" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line></svg>'));var De=!1,pe=function(le){var q=le.element,Ce=le.setAppState,te=le.onLinkOpen,me=(0,J.gF)(),Re=q.link||"",Be=(0,Z.useState)(Re),Q=(0,E.Z)(Be,2),se=Q[0],ue=Q[1],_e=(0,Z.useRef)(null),Ze=me.showHyperlinkPopup==="editor"||!Re,Ge=(0,Z.useCallback)(function(){if(_e.current){var Ve=j(_e.current.value);!q.link&&Ve&&(0,_.L)("hyperlink","create"),(0,f.DR)(q,{link:Ve}),Ce({showHyperlinkPopup:"info"})}},[q,Ce]);(0,Z.useLayoutEffect)(function(){return function(){Ge()}},[Ge]),(0,Z.useEffect)(function(){var Ve=null,be=function(Te){Ze||(Ve&&clearTimeout(Ve),X(q,me,[Te.clientX,Te.clientY])&&(Ve=window.setTimeout(function(){Ce({showHyperlinkPopup:!1})},500)))};return window.addEventListener(ke.Ks.POINTER_MOVE,be,!1),function(){window.removeEventListener(ke.Ks.POINTER_MOVE,be,!1),Ve&&clearTimeout(Ve)}},[me,q,Ze,Ce]);var tt=(0,Z.useCallback)(function(){(0,_.L)("hyperlink","delete"),(0,f.DR)(q,{link:null}),Ze&&(_e.current.value=""),Ce({showHyperlinkPopup:!1})},[Ce,q,Ze]),lt=ae(q,me),nt=lt.x,qe=lt.y;return me.draggingElement||me.resizingElement||me.isRotating||me.openMenu?null:(0,de.jsxs)("div",{className:"excalidraw-hyperlinkContainer",style:{top:"".concat(qe,"px"),left:"".concat(nt,"px"),width:320,padding:5},children:[Ze?(0,de.jsx)("input",{className:(0,B.Z)("excalidraw-hyperlinkContainer-input"),placeholder:"Type or paste your link here",ref:_e,value:se,onChange:function(Ve){return ue(Ve.target.value)},autoFocus:!0,onKeyDown:function(Ve){Ve.stopPropagation(),Ve[ee.tW.CTRL_OR_CMD]&&Ve.key===ee.tW.K&&Ve.preventDefault(),Ve.key!==ee.tW.ENTER&&Ve.key!==ee.tW.ESCAPE||Ge()}}):(0,de.jsx)("a",{href:q.link||"",className:(0,B.Z)("excalidraw-hyperlinkContainer-link",{"d-none":Ze}),target:V(q.link)?"_self":"_blank",onClick:function(Ve){if(q.link&&te){var be=(0,h.ag)(ke.Ks.EXCALIDRAW_LINK,Ve.nativeEvent);te(q,be),be.defaultPrevented&&Ve.preventDefault()}},rel:"noopener noreferrer",children:q.link}),(0,de.jsxs)("div",{className:"excalidraw-hyperlinkContainer__buttons",children:[!Ze&&(0,de.jsx)(k.V,{type:"button",title:(0,d.t)("buttons.edit"),"aria-label":(0,d.t)("buttons.edit"),label:(0,d.t)("buttons.edit"),onClick:function(){(0,_.L)("hyperlink","edit","popup-ui"),Ce({showHyperlinkPopup:"editor"})},className:"excalidraw-hyperlinkContainer--edit",icon:R.Pm}),Re&&(0,de.jsx)(k.V,{type:"button",title:(0,d.t)("buttons.remove"),"aria-label":(0,d.t)("buttons.remove"),label:(0,d.t)("buttons.remove"),onClick:tt,className:"excalidraw-hyperlinkContainer--remove",icon:R.XH})]})]})},ae=function(le,q){var Ce=(0,Ee.qf)(le),te=(0,E.Z)(Ce,2),me=te[0],Re=te[1],Be=(0,h._i)({sceneX:me+le.width/2,sceneY:Re},q),Q=Be.x,se=Be.y;return{x:Q-q.offsetLeft-160,y:se-q.offsetTop-85}},j=function(le){return(le=le.trim())&&(le.includes("://")||/^[[\\/]/.test(le)||(le="https://".concat(le))),le},V=function(le){return!!(le!=null&&le.includes(location.origin)||le!=null&&le.startsWith("/"))},oe=(0,D.z)({name:"hyperlink",perform:function(le,q){return q.showHyperlinkPopup!=="editor"&&{elements:le,appState:ie(ie({},q),{},{showHyperlinkPopup:"editor",openMenu:null}),commitToHistory:!0}},trackEvent:{category:"hyperlink",action:"click"},keyTest:function(le){return le[ee.tW.CTRL_OR_CMD]&&le.key===ee.tW.K},contextItemLabel:function(le,q){return G(le,q)},predicate:function(le,q){return(0,je.eD)(le,q).length===1},PanelComponent:function(le){var q=le.elements,Ce=le.appState,te=le.updateData,me=(0,je.eD)(q,Ce);return(0,de.jsx)(k.V,{type:"button",icon:R.xP,"aria-label":(0,d.t)(G(q,Ce)),title:"".concat((0,d.t)("labels.link.label")," - ").concat((0,h.uY)("CtrlOrCmd+K")),onClick:function(){return te(null)},selected:me.length===1&&!!me[0].link})}}),G=function(le,q){return(0,je.eD)(le,q)[0].link?"labels.link.edit":"labels.link.create"},ye=function(le,q,Ce){var te=(0,E.Z)(le,4),me=te[0],Re=te[1],Be=te[2],Q=te[3],se=he.Dn,ue=se/Ce.zoom.value,_e=se/Ce.zoom.value,Ze=se/Ce.zoom.value,Ge=(me+Be)/2,tt=(Re+Q)/2,lt=(se-8)/(2*Ce.zoom.value),nt=4/Ce.zoom.value,qe=Be+nt-lt,Ve=Re-nt-Ze+lt,be=(0,N.U1)(qe+ue/2,Ve+_e/2,Ge,tt,q),Te=(0,E.Z)(be,2);return[Te[0]-ue/2,Te[1]-_e/2,ue,_e]},K=function(le,q,Ce,te){var me=(0,E.Z)(Ce,2),Re=me[0],Be=me[1];if(!le.link||q.selectedElementIds[le.id])return!1;var Q=4/q.zoom.value;if(!te&&q.viewModeEnabled&&(0,we.pX)(le,[Re,Be],Q))return!0;var se=(0,Ee.qf)(le),ue=(0,E.Z)(se,4),_e=ue[0],Ze=ue[1],Ge=ue[2],tt=ue[3],lt=ye([_e,Ze,Ge,tt],le.angle,q),nt=(0,E.Z)(lt,4),qe=nt[0],Ve=nt[1],be=nt[2],Te=nt[3];return Re>qe-Q&&Re<qe+Q+be&&Be>Ve-Q&&Be<Ve+Te+Q},H=null,L=function(le,q){H&&clearTimeout(H),H=window.setTimeout(function(){return I(le,q)},ke.sA)},I=function(le,q){if(le.link){var Ce=(0,Se.bK)();Ce.classList.add("excalidraw-tooltip--visible"),Ce.style.maxWidth="20rem",Ce.textContent=le.link;var te=(0,Ee.qf)(le),me=(0,E.Z)(te,4),Re=me[0],Be=me[1],Q=me[2],se=me[3],ue=ye([Re,Be,Q,se],le.angle,q),_e=(0,E.Z)(ue,4),Ze=_e[0],Ge=_e[1],tt=_e[2],lt=_e[3],nt=(0,h._i)({sceneX:Ze,sceneY:Ge},q);(0,Se.Js)(Ce,{left:nt.x,top:nt.y,width:tt,height:lt},"top"),(0,_.L)("hyperlink","tooltip","link-icon"),De=!0}},F=function(){H&&clearTimeout(H),De&&(De=!1,(0,Se.bK)().classList.remove("excalidraw-tooltip--visible"))},X=function(le,q,Ce){var te=(0,E.Z)(Ce,2),me=te[0],Re=te[1],Be=(0,h.dE)({clientX:me,clientY:Re},q),Q=Be.x,se=Be.y,ue=15/q.zoom.value;if((0,we.pX)(le,[Q,se],ue))return!1;var _e=(0,Ee.qf)(le),Ze=(0,E.Z)(_e,3),Ge=Ze[0],tt=Ze[1],lt=Ze[2];if(Q>=Ge&&Q<=lt&&se>=tt-85&&se<=tt)return!1;var nt=ae(le,q),qe=nt.x,Ve=nt.y;return!(me>=qe-ue&&me<=qe+320+10+ue&&Re>=Ve-ue&&Re<=Ve+ue+10+42)}},8290:function(b,m,a){a.d(m,{$q:function(){return ae},DK:function(){return A},H:function(){return U},HG:function(){return je},N1:function(){return ke},R:function(){return z},Ww:function(){return g},Y9:function(){return M},ZB:function(){return _},cz:function(){return N},ek:function(){return De},el:function(){return Ee}});var v=a(7169),E=a(2577),h=a(75),f=a(1974),D=a(2325),k=a(1935),R=a(1564),d=a(6938),Z=a(6340),B=a(6066),ee=a(5710);function he(oe,G){var ye=Object.keys(oe);if(Object.getOwnPropertySymbols){var K=Object.getOwnPropertySymbols(oe);G&&(K=K.filter(function(H){return Object.getOwnPropertyDescriptor(oe,H).enumerable})),ye.push.apply(ye,K)}return ye}var N=function(oe){return!oe[B.tW.CTRL_OR_CMD]},ke=function(oe){return oe.isBindingEnabled},Se=function(oe,G){var ye=[];return G.forEach(function(K){var H=oe.getNonDeletedElement(K);H!=null&&ye.push(H)}),ye},je=function(oe,G,ye){var K=new Set,H=new Set;we(oe,G,ye,"start",K,H),we(oe,ye,G,"end",K,H);var L=Array.from(H).filter(function(I){return!K.has(I)});Se(R.Z.getScene(oe),L).forEach(function(I){var F;(0,k.DR)(I,{boundElements:(F=I.boundElements)===null||F===void 0?void 0:F.filter(function(X){return X.type!=="arrow"||X.id!==oe.id})})})},we=function(oe,G,ye,K,H,L){if(G!=="keep")if(G!=null)ye!=null&&(ye==="keep"?T(oe,G,K):K!=="start"&&ye.id===G.id)||(re(oe,G,K),H.add(G.id));else{var I=P(oe,K);I!=null&&L.add(I)}},Ee=function(oe){oe.forEach(function(G){(0,f.Mn)(G)?je(G,de(G,"start"),de(G,"end")):(0,f.f0)(G)&&Me(G)})},Me=function(oe){ie(oe).forEach(function(G){var ye=(0,E.Z)(G,2),K=ye[0],H=ye[1];return je(K,H==="end"?"keep":oe,H==="start"?"keep":oe)})},z=function(oe,G,ye,K){G.startBoundElement!=null&&re(oe,G.startBoundElement,"start");var H=M(K,ye);H==null||T(oe,H,"end")||re(oe,H,"end")},re=function(oe,G,ye){(0,k.DR)(oe,(0,v.Z)({},ye==="start"?"startBinding":"endBinding",function(K){for(var H=1;H<arguments.length;H++){var L=arguments[H]!=null?arguments[H]:{};H%2?he(Object(L),!0).forEach(function(I){(0,v.Z)(K,I,L[I])}):Object.getOwnPropertyDescriptors?Object.defineProperties(K,Object.getOwnPropertyDescriptors(L)):he(Object(L)).forEach(function(I){Object.defineProperty(K,I,Object.getOwnPropertyDescriptor(L,I))})}return K}({elementId:G.id},C(oe,G,ye)))),(0,Z.xn)(G.boundElements||[]).has(oe.id)||(0,k.DR)(G,{boundElements:(G.boundElements||[]).concat({id:oe.id,type:"arrow"})})},T=function(oe,G,ye){var K=oe[ye==="start"?"endBinding":"startBinding"];return A(oe,K==null?void 0:K.elementId,G)},A=function(oe,G,ye){return G===ye.id&&oe.points.length<3},U=function(oe){oe.forEach(function(G){(0,f.Mn)(G)&&je(G,null,null)})},P=function(oe,G){var ye=G==="start"?"startBinding":"endBinding",K=oe[ye];return K==null?null:((0,k.DR)(oe,(0,v.Z)({},ye,null)),K.elementId)},M=function(oe,G){return(0,h.QG)(G.getNonDeletedElements(),function(ye){return(0,f.f0)(ye,!1)&&(0,D.uu)(ye,oe)})},C=function(oe,G,ye){var K=ye==="start"?-1:1,H=K===-1?0:oe.points.length-1,L=H-K,I=d._.getPointAtIndexGlobalCoordinates(oe,H),F=d._.getPointAtIndexGlobalCoordinates(oe,L);return{focus:(0,D.T_)(G,F,I),gap:Math.max(1,(0,D.oT)(G,I))}},g=function(oe,G){var ye,K=((ye=oe.boundElements)!==null&&ye!==void 0?ye:[]).filter(function(X){return X.type==="arrow"});if(K.length!==0){var H=G??{},L=H.newSize,I=H.simultaneouslyUpdated,F=w(I);Se(R.Z.getScene(oe),K.map(function(X){return X.id})).forEach(function(X){if((0,f.bt)(X)){var le=oe;if(l(X,le)){var q=S(le,X.startBinding,L),Ce=S(le,X.endBinding,L);F.has(X.id)?(0,k.DR)(X,{startBinding:q,endBinding:Ce}):(y(X,"start",q,oe),y(X,"end",Ce,oe),(0,ee.WJ)(X)&&(0,ee.RB)(X,!1))}}})}},l=function(oe,G){var ye,K;return((ye=oe.startBinding)===null||ye===void 0?void 0:ye.elementId)===G.id||((K=oe.endBinding)===null||K===void 0?void 0:K.elementId)===G.id},w=function(oe){return new Set((oe||[]).map(function(G){return G.id}))},y=function(oe,G,ye,K){if(!(ye==null||ye.elementId!==K.id&&oe.points.length>2)){var H=R.Z.getScene(oe).getElement(ye.elementId);if(H!=null){var L,I=G==="start"?-1:1,F=I===-1?0:oe.points.length-1,X=F-I,le=d._.getPointAtIndexGlobalCoordinates(oe,X),q=(0,D.j_)(H,ye.focus,le);if(ye.gap===0)L=q;else{var Ce=(0,D.MZ)(H,le,q,ye.gap);L=Ce.length===0?q:Ce[0]}d._.movePoints(oe,[{index:F,point:d._.pointFromAbsoluteCoords(oe,L)}],(0,v.Z)({},G==="start"?"startBinding":"endBinding",ye))}}},S=function(oe,G,ye){if(G==null||ye==null)return G;var K=G.gap,H=G.focus,L=G.elementId,I=ye.width,F=ye.height,X=oe.width,le=oe.height;return{elementId:L,gap:Math.max(1,Math.min((0,D.fb)(oe,I,F),K*(I<F?I/X:F/le))),focus:H}},_=function(oe){var G=new Set(oe.map(function(ye){return ye.id}));return oe.flatMap(function(ye){return(0,f.Mn)(ye,!1)?J(ye).filter(function(K){return!G.has(K.id)}):(0,f.f0)(ye,!1)?ie(ye).filter(function(K){return!G.has(K[0].id)}):[]})},J=function(oe){return[de(oe,"start"),de(oe,"end")].filter(function(G){return G!=null})},de=function(oe,G){return M(ve(oe,G),R.Z.getScene(oe))},ve=function(oe,G){var ye=G==="start"?0:-1;return(0,Z.AK)(d._.getPointAtIndexGlobalCoordinates(oe,ye))},ie=function(oe){return R.Z.getScene(oe).getNonDeletedElements().map(function(G){if(!(0,f.Mn)(G,!1))return null;var ye=$(G,"start",oe),K=$(G,"end",oe);return ye||K?[G,ye&&K?"both":ye?"start":"end",oe]:null}).filter(function(G){return G!=null})},$=function(oe,G,ye){return oe[G==="start"?"startBinding":"endBinding"]==null&&!T(oe,ye,G)&&(0,D.uu)(ye,ve(oe,G))},De=function(oe,G,ye,K){var H=new Set,L=new Set,I=K==="duplicatesServeAsOld";G.forEach(function(F){var X=F.boundElements;if(X!=null&&X.length>0&&(X.forEach(function(Ce){I&&!ye.has(Ce.id)&&H.add(Ce.id)}),L.add(ye.get(F.id))),(0,f.Mn)(F)){if(F.startBinding!=null){var le=F.startBinding.elementId;I&&!ye.has(le)&&L.add(le)}if(F.endBinding!=null){var q=F.endBinding.elementId;I&&!ye.has(q)&&L.add(q)}F.startBinding==null&&F.endBinding==null||H.add(ye.get(F.id))}}),oe.filter(function(F){var X=F.id;return H.has(X)}).forEach(function(F){var X=F.startBinding,le=F.endBinding;(0,k.DR)(F,{startBinding:pe(X,ye),endBinding:pe(le,ye)})}),oe.filter(function(F){var X=F.id;return L.has(X)}).forEach(function(F){var X=F.boundElements;X!=null&&X.length>0&&(0,k.DR)(F,{boundElements:X.map(function(le){return ye.has(le.id)?{id:ye.get(le.id),type:le.type}:le})})})},pe=function(oe,G){var ye;if(oe==null)return null;var K=oe.elementId;return{focus:oe.focus,gap:oe.gap,elementId:(ye=G.get(K))!==null&&ye!==void 0?ye:K}},ae=function(oe,G){var ye=new Set(G.map(function(H){return H.id})),K=new Set;G.forEach(function(H){var L;(0,f.f0)(H)?(L=H.boundElements)===null||L===void 0||L.forEach(function(I){ye.has(I.id)||K.add(I.id)}):(0,f.Mn)(H)&&(H.startBinding&&K.add(H.startBinding.elementId),H.endBinding&&K.add(H.endBinding.elementId))}),oe.filter(function(H){var L=H.id;return K.has(L)}).forEach(function(H){(0,f.f0)(H)?(0,k.DR)(H,{boundElements:V(H.boundElements,ye)}):(0,f.Mn)(H)&&(0,k.DR)(H,{startBinding:j(H.startBinding,ye),endBinding:j(H.endBinding,ye)})})},j=function(oe,G){return oe==null||G.has(oe.elementId)?null:oe},V=function(oe,G){return oe?oe.filter(function(ye){return!G.has(ye.id)}):null}},8925:function(b,m,a){a.d(m,{CM:function(){return ke},IX:function(){return we},KP:function(){return A},Pi:function(){return T},UC:function(){return N},Ut:function(){return P},Y5:function(){return z},os:function(){return M},qf:function(){return he},v2:function(){return C},wC:function(){return U}});var v=a(2577),E=a(1930),h=a(6552),f=a(8234),D=a(3063),k=a(1974),R=a(5001),d=a(5710),Z=a(6938);function B(g,l){var w=typeof Symbol<"u"&&g[Symbol.iterator]||g["@@iterator"];if(!w){if(Array.isArray(g)||(w=function(ve,ie){if(ve){if(typeof ve=="string")return ee(ve,ie);var $=Object.prototype.toString.call(ve).slice(8,-1);if($==="Object"&&ve.constructor&&($=ve.constructor.name),$==="Map"||$==="Set")return Array.from(ve);if($==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test($))return ee(ve,ie)}}(g))||l&&g&&typeof g.length=="number"){w&&(g=w);var y=0,S=function(){};return{s:S,n:function(){return y>=g.length?{done:!0}:{done:!1,value:g[y++]}},e:function(ve){throw ve},f:S}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _,J=!0,de=!1;return{s:function(){w=w.call(g)},n:function(){var ve=w.next();return J=ve.done,ve},e:function(ve){de=!0,_=ve},f:function(){try{J||w.return==null||w.return()}finally{if(de)throw _}}}}function ee(g,l){(l==null||l>g.length)&&(l=g.length);for(var w=0,y=new Array(l);w<l;w++)y[w]=g[w];return y}var he=function(g){var l=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if((0,k.F9)(g))return Me(g);if((0,k.bt)(g))return Z._.getElementAbsoluteCoords(g,l);if((0,k.iB)(g)){var w=(0,d.tl)(g);if((0,k.Yv)(w)){var y=Z._.getBoundTextElementPosition(w,g);return[y.x,y.y,y.x+g.width,y.y+g.height,y.x+g.width/2,y.y+g.height/2]}}return[g.x,g.y,g.x+g.width,g.y+g.height,g.x+g.width/2,g.y+g.height/2]},N=function(g){var l=Math.floor(g.width/2)+1,w=g.width,y=Math.floor(g.height/2)+1;return[l,0,w,y,l,g.height,0,y]},ke=function(g){var l,w=B(g.sets);try{for(w.s();!(l=w.n()).done;){var y=l.value;if(y.type==="path")return y.ops}}catch(S){w.e(S)}finally{w.f()}return g.sets[0].ops},Se=function(g,l,w,y,S){var _=1-g;return Math.pow(_,3)*l+3*Math.pow(_,2)*g*w+3*_*Math.pow(g,2)*y+Math.pow(g,3)*S},je=function(g,l,w,y){var S=l-g,_=w-l,J=3*S-6*_+3*(y-w),de=6*_-6*S,ve=3*S,ie=de*de-4*J*ve;if(!(ie>=0))return!1;var $=null,De=null,pe=1/0,ae=1/0;return J===0?pe=ae=-ve/de:(pe=(-de+Math.sqrt(ie))/(2*J),ae=(-de-Math.sqrt(ie))/(2*J)),pe>=0&&pe<=1&&($=Se(pe,g,l,w,y)),ae>=0&&ae<=1&&(De=Se(ae,g,l,w,y)),[$,De]},we=function(g,l){var w=[0,0],y=g.reduce(function(S,_){var J=_.op,de=_.data;if(J==="move")w=de;else if(J==="bcurveTo"){var ve=[de[0],de[1]],ie=[de[2],de[3]],$=[de[4],de[5]],De=l?l.apply(void 0,ve):ve,pe=l?l.apply(void 0,ie):ie,ae=l?l.apply(void 0,$):$,j=l?l.apply(void 0,(0,E.Z)(w)):w;w=$;var V=function(L,I,F,X){var le=je(L[0],I[0],F[0],X[0]),q=je(L[1],I[1],F[1],X[1]),Ce=Math.min(L[0],X[0]),te=Math.max(L[0],X[0]);if(le){var me=le.filter(function(se){return se!==null});Ce=Math.min.apply(Math,[Ce].concat((0,E.Z)(me))),te=Math.max.apply(Math,[te].concat((0,E.Z)(me)))}var Re=Math.min(L[1],X[1]),Be=Math.max(L[1],X[1]);if(q){var Q=q.filter(function(se){return se!==null});Re=Math.min.apply(Math,[Re].concat((0,E.Z)(Q))),Be=Math.max.apply(Math,[Be].concat((0,E.Z)(Q)))}return[Ce,Re,te,Be]}(j,De,pe,ae),oe=(0,v.Z)(V,4),G=oe[0],ye=oe[1],K=oe[2],H=oe[3];S.minX=Math.min(S.minX,G),S.minY=Math.min(S.minY,ye),S.maxX=Math.max(S.maxX,K),S.maxY=Math.max(S.maxY,H)}return S},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[y.minX,y.minY,y.maxX,y.maxY]},Ee=function(g){var l,w=1/0,y=1/0,S=-1/0,_=-1/0,J=B(g);try{for(J.s();!(l=J.n()).done;){var de=(0,v.Z)(l.value,2),ve=de[0],ie=de[1];w=Math.min(w,ve),y=Math.min(y,ie),S=Math.max(S,ve),_=Math.max(_,ie)}}catch($){J.e($)}finally{J.f()}return[w,y,S,_]},Me=function(g){var l=Ee(g.points),w=(0,v.Z)(l,4),y=w[0],S=w[1],_=w[2],J=w[3],de=y+g.x,ve=S+g.y,ie=_+g.x,$=J+g.y;return[de,ve,ie,$,(de+ie)/2,(ve+$)/2]},z=function(g,l,w,y){var S=ke(l[0]);if(S.length<1)return null;var _=w==="start"?1:S.length-1,J=S[_].data,de=[J[4],J[5]],ve=[J[2],J[3]],ie=[J[0],J[1]],$=S[_-1],De=[0,0];$.op==="move"?De=$.data:$.op==="bcurveTo"&&(De=[$.data[4],$.data[5]]);var pe=function(et,Qe){return Math.pow(1-et,3)*de[Qe]+3*et*Math.pow(1-et,2)*ve[Qe]+3*Math.pow(et,2)*(1-et)*ie[Qe]+De[Qe]*Math.pow(et,3)},ae=w==="start"?De:de,j=(0,v.Z)(ae,2),V=j[0],oe=j[1],G=[pe(.3,0),pe(.3,1)],ye=G[0],K=G[1],H=Math.hypot(V-ye,oe-K),L=(V-ye)/H,I=(oe-K)/H,F={arrow:30,bar:15,dot:15,triangle:15}[y],X=0;if(y==="arrow"){var le=(0,v.Z)(g.points[g.points.length-1],2),q=le[0],Ce=le[1],te=g.points.length>1?g.points[g.points.length-2]:[0,0],me=(0,v.Z)(te,2),Re=me[0],Be=me[1];X=Math.hypot(q-Re,Ce-Be)}else for(var Q=0;Q<g.points.length;Q++){var se=g.points[Q-1]||[0,0],ue=(0,v.Z)(se,2),_e=ue[0],Ze=ue[1],Ge=(0,v.Z)(g.points[Q],2),tt=Ge[0],lt=Ge[1];X+=Math.hypot(tt-_e,lt-Ze)}var nt=Math.min(F,X/2),qe=V-L*nt,Ve=oe-I*nt;if(y==="dot")return[V,oe,Math.hypot(Ve-oe,qe-V)+g.strokeWidth];var be={arrow:20,bar:90,triangle:25}[y],Te=(0,h.U1)(qe,Ve,V,oe,-be*Math.PI/180),Ae=(0,v.Z)(Te,2),Pe=Ae[0],We=Ae[1],Ue=(0,h.U1)(qe,Ve,V,oe,be*Math.PI/180),Je=(0,v.Z)(Ue,2);return[V,oe,Pe,We,Je[0],Je[1]]},re=function(g,l,w){var y;if(g.points.length<2){var S=(0,v.Z)(g.points[0],2),_=S[0],J=S[1],de=(0,h.U1)(g.x+_,g.y+J,l,w,g.angle),ve=(0,v.Z)(de,2),ie=ve[0],$=ve[1],De=[ie,$,ie,$],pe=(0,d.WJ)(g);if(pe){var ae=Z._.getMinMaxXYWithBoundText(g,[ie,$,ie,$],pe);De=[ae[0],ae[1],ae[2],ae[3]]}return De}var j=(y=(0,D.R2)(g))===null||y===void 0?void 0:y[0],V=j??function(L){var I=f.Z.generator(),F=(0,D.i)(L);return I[L.roundness?"curve":F.fill?"polygon":"linearPath"](L.points,F)}(g),oe=ke(V),G=we(oe,function(L,I){return(0,h.U1)(g.x+L,g.y+I,l,w,g.angle)}),ye=[G[0],G[1],G[2],G[3]],K=(0,d.WJ)(g);if(K){var H=Z._.getMinMaxXYWithBoundText(g,ye,K);ye=[H[0],H[1],H[2],H[3]]}return ye},T=function(g){var l,w=he(g),y=(0,v.Z)(w,6),S=y[0],_=y[1],J=y[2],de=y[3],ve=y[4],ie=y[5];if((0,k.F9)(g)){var $=Ee(g.points.map(function(yt){var ut=(0,v.Z)(yt,2),pt=ut[0],wt=ut[1];return(0,h.U1)(pt,wt,ve-g.x,ie-g.y,g.angle)})),De=(0,v.Z)($,4),pe=De[0],ae=De[1],j=De[2],V=De[3];return[pe+g.x,ae+g.y,j+g.x,V+g.y]}if((0,k.bt)(g))l=re(g,ve,ie);else if(g.type==="diamond"){var oe=(0,h.U1)(ve,_,ve,ie,g.angle),G=(0,v.Z)(oe,2),ye=G[0],K=G[1],H=(0,h.U1)(ve,de,ve,ie,g.angle),L=(0,v.Z)(H,2),I=L[0],F=L[1],X=(0,h.U1)(S,ie,ve,ie,g.angle),le=(0,v.Z)(X,2),q=le[0],Ce=le[1],te=(0,h.U1)(J,ie,ve,ie,g.angle),me=(0,v.Z)(te,2),Re=me[0],Be=me[1];l=[Math.min(ye,I,q,Re),Math.min(K,F,Ce,Be),Math.max(ye,I,q,Re),Math.max(K,F,Ce,Be)]}else if(g.type==="ellipse"){var Q=(J-S)/2,se=(de-_)/2,ue=Math.cos(g.angle),_e=Math.sin(g.angle),Ze=Math.hypot(Q*ue,se*_e),Ge=Math.hypot(se*ue,Q*_e);l=[ve-Ze,ie-Ge,ve+Ze,ie+Ge]}else{var tt=(0,h.U1)(S,_,ve,ie,g.angle),lt=(0,v.Z)(tt,2),nt=lt[0],qe=lt[1],Ve=(0,h.U1)(S,de,ve,ie,g.angle),be=(0,v.Z)(Ve,2),Te=be[0],Ae=be[1],Pe=(0,h.U1)(J,de,ve,ie,g.angle),We=(0,v.Z)(Pe,2),Ue=We[0],Je=We[1],et=(0,h.U1)(J,_,ve,ie,g.angle),Qe=(0,v.Z)(et,2),it=Qe[0],ft=Qe[1];l=[Math.min(nt,Te,Ue,it),Math.min(qe,Ae,Je,ft),Math.max(nt,Te,Ue,it),Math.max(qe,Ae,Je,ft)]}return l},A=function(g){if(!g.length)return[0,0,0,0];var l=1/0,w=-1/0,y=1/0,S=-1/0;return g.forEach(function(_){var J=T(_),de=(0,v.Z)(J,4),ve=de[0],ie=de[1],$=de[2],De=de[3];l=Math.min(l,ve),y=Math.min(y,ie),w=Math.max(w,$),S=Math.max(S,De)}),[l,y,w,S]},U=function(g,l,w,y){if(!(0,k.bt)(g)&&!(0,k.F9)(g))return[g.x,g.y,g.x+l,g.y+w];var S,_=(0,R.z)(0,l,(0,R.z)(1,w,g.points,y),y);if((0,k.F9)(g))S=Ee(_);else{var J=f.Z.generator(),de=g.roundness?J.curve(_,(0,D.i)(g)):J.linearPath(_,(0,D.i)(g)),ve=ke(de);S=we(ve)}var ie=S,$=(0,v.Z)(ie,4),De=$[0],pe=$[1],ae=$[2],j=$[3];return[De+g.x,pe+g.y,ae+g.x,j+g.y]},P=function(g,l){var w=f.Z.generator(),y=g.roundness==null?w.linearPath(l,(0,D.i)(g)):w.curve(l,(0,D.i)(g)),S=ke(y),_=we(S),J=(0,v.Z)(_,4),de=J[0],ve=J[1],ie=J[2],$=J[3];return[de+g.x,ve+g.y,ie+g.x,$+g.y]},M=function(g,l){if(!g.length)return[0,0,0,0];var w=1/0,y=g[0];return g.forEach(function(S){var _=T(S),J=(0,v.Z)(_,4),de=J[0],ve=J[1],ie=J[2],$=J[3],De=(0,h.LW)((de+ie)/2,(ve+$)/2,l.x,l.y);De<w&&(w=De,y=S)}),T(y)},C=function(g){var l=A(g),w=(0,v.Z)(l,4),y=w[0],S=w[1],_=w[2],J=w[3];return{minX:y,minY:S,maxX:_,maxY:J,width:_-y,height:J-S,midX:(y+_)/2,midY:(S+J)/2}}},2325:function(b,m,a){a.d(m,{uu:function(){return ae},T_:function(){return Re},j_:function(){return Be},oT:function(){return oe},wX:function(){return ve},MZ:function(){return Q},wB:function(){return ie},Qu:function(){return $},pX:function(){return pe},fb:function(){return j}});var v=a(2577),E=function(be,Te){return[0,0,0,0,Te,be,1,0]},h=function(){var be=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,Ae=[0,0,0,0,0,0,0,0];if(Te<0||Te>7)throw new Error("Expected `index` between 0 and 7, got `".concat(Te,"`"));return be!==0&&(Ae[Te]=be),Ae},f=function(be){return[be[0],be[1],be[2],be[3],-be[4],-be[5],-be[6],-be[7]]},D=function(be,Te){return N(Te)?[be[0]-Te,be[1],be[2],be[3],be[4],be[5],be[6],be[7]]:[be[0]-Te[0],be[1]-Te[1],be[2]-Te[2],be[3]-Te[3],be[4]-Te[4],be[5]-Te[5],be[6]-Te[6],be[7]-Te[7]]},k=function(be,Te){return N(Te)?[be[0]*Te,be[1]*Te,be[2]*Te,be[3]*Te,be[4]*Te,be[5]*Te,be[6]*Te,be[7]*Te]:[R(be,Te),Te[1]*be[0]+Te[0]*be[1]-Te[4]*be[2]+Te[5]*be[3]+Te[2]*be[4]-Te[3]*be[5]-Te[7]*be[6]-Te[6]*be[7],Te[2]*be[0]+Te[0]*be[2]-Te[6]*be[3]+Te[3]*be[6],Te[3]*be[0]+Te[6]*be[2]+Te[0]*be[3]-Te[2]*be[6],Te[4]*be[0]+Te[2]*be[1]-Te[1]*be[2]+Te[7]*be[3]+Te[0]*be[4]+Te[6]*be[5]-Te[5]*be[6]+Te[3]*be[7],Te[5]*be[0]-Te[3]*be[1]+Te[7]*be[2]+Te[1]*be[3]-Te[6]*be[4]+Te[0]*be[5]+Te[4]*be[6]+Te[2]*be[7],Te[6]*be[0]+Te[3]*be[2]-Te[2]*be[3]+Te[0]*be[6],Te[7]*be[0]+Te[6]*be[1]+Te[5]*be[2]+Te[4]*be[3]+Te[3]*be[4]+Te[2]*be[5]+Te[1]*be[6]+Te[0]*be[7]]},R=function(be,Te){return Te[0]*be[0]+Te[2]*be[2]+Te[3]*be[3]-Te[6]*be[6]},d=function(be,Te){return[Z(be,Te),be[1]*Te[7]+be[4]*Te[5]-be[5]*Te[4]+be[7]*Te[1],be[2]*Te[7]-be[4]*Te[6]+be[6]*Te[4]+be[7]*Te[2],be[3]*Te[7]+be[5]*Te[6]-be[6]*Te[5]+be[7]*Te[3],be[4]*Te[7]+be[7]*Te[4],be[5]*Te[7]+be[7]*Te[5],be[6]*Te[7]+be[7]*Te[6],be[7]*Te[7]]},Z=function(be,Te){return be[0]*Te[7]+be[1]*Te[6]+be[2]*Te[5]+be[3]*Te[4]+be[4]*Te[3]+be[5]*Te[2]+be[6]*Te[1]+be[7]*Te[0]},B=function(be){return Math.sqrt(Math.abs(be[0]*be[0]-be[2]*be[2]-be[3]*be[3]+be[6]*be[6]))},ee=function(be){var Te=B(be);if(Te===0||Te===1)return be;var Ae=be[6]<0?-1:1;return k(be,Ae/Te)},he=function(be){var Te=function(Ae){return Math.sqrt(Math.abs(Ae[7]*Ae[7]-Ae[5]*Ae[5]-Ae[4]*Ae[4]+Ae[1]*Ae[1]))}(be);return Te===0||Te===1?be:k(be,1/Te)},N=function(be){return typeof be=="number"},ke=(h(1,1),h(1,2),h(1,3),h(1,4),h(1,5),h(1,6),h(1,7),function(be,Te,Ae){return ee([0,Ae,be,Te,0,0,0,0])}),Se=function(be,Te){return ee(d(Te,be))},je=function(be,Te){return Ae=be,[(Pe=Te)[0]*Ae[0]+Pe[2]*Ae[2]+Pe[3]*Ae[3]-Pe[6]*Ae[6],Pe[1]*Ae[0]+Pe[0]*Ae[1]-Pe[4]*Ae[2]+Pe[5]*Ae[3]+Pe[2]*Ae[4]-Pe[3]*Ae[5]-Pe[7]*Ae[6]-Pe[6]*Ae[7],Pe[2]*Ae[0]+Pe[0]*Ae[2]-Pe[6]*Ae[3]+Pe[3]*Ae[6],Pe[3]*Ae[0]+Pe[6]*Ae[2]+Pe[0]*Ae[3]-Pe[2]*Ae[6],Pe[4]*Ae[0]+Pe[7]*Ae[3]+Pe[0]*Ae[4]+Pe[3]*Ae[7],Pe[5]*Ae[0]+Pe[7]*Ae[2]+Pe[0]*Ae[5]+Pe[2]*Ae[7],Pe[6]*Ae[0]+Pe[0]*Ae[6],Pe[7]*Ae[0]+Pe[0]*Ae[7]];var Ae,Pe},we=function(be){var Te=(0,v.Z)(be,2),Ae=Te[0];return[0,0,0,0,Te[1],Ae,1,0]},Ee=function(be){return[be[5],be[4]]},Me=function(be,Te){return ee((Ae=be,[(Pe=Te)[0]*Ae[0],Pe[1]*Ae[0]+Pe[0]*Ae[1],Pe[2]*Ae[0]+Pe[0]*Ae[2],Pe[3]*Ae[0]+Pe[0]*Ae[3],Pe[4]*Ae[0]+Pe[2]*Ae[1]-Pe[1]*Ae[2]+Pe[0]*Ae[4],Pe[5]*Ae[0]-Pe[3]*Ae[1]+Pe[1]*Ae[3]+Pe[0]*Ae[5],Pe[6]*Ae[0]+Pe[3]*Ae[2]-Pe[2]*Ae[3]+Pe[0]*Ae[6],Pe[7]*Ae[0]+Pe[6]*Ae[1]+Pe[5]*Ae[2]+Pe[4]*Ae[3]+Pe[3]*Ae[4]+Pe[2]*Ae[5]+Pe[1]*Ae[6]]));var Ae,Pe},z=function(be,Te){return B(d(be,Te))},re=function(be,Te){return Z(be,Te)},T=function(be){return[0,0,0,0,be[4],be[5],0,0]},A=function(be,Te){return Ae=k(be,Math.sin(Te/2)),Pe=Math.cos(Te/2),N(Pe)?[Ae[0]+Pe,Ae[1],Ae[2],Ae[3],Ae[4],Ae[5],Ae[6],Ae[7]]:[Ae[0]+Pe[0],Ae[1]+Pe[1],Ae[2]+Pe[2],Ae[3]+Pe[3],Ae[4]+Pe[4],Ae[5]+Pe[5],Ae[6]+Pe[6],Ae[7]+Pe[7]];var Ae,Pe},U=function(be,Te){return ee(k(k(be,Te),f(be)))},P=a(6552),M=a(1493),C=a(8925),g=a(3063),l=a(1974),w=a(1047),y=a(6340),S=a(267),_=a(5710);function J(be,Te){var Ae=typeof Symbol<"u"&&be[Symbol.iterator]||be["@@iterator"];if(!Ae){if(Array.isArray(be)||(Ae=function(Qe,it){if(Qe){if(typeof Qe=="string")return de(Qe,it);var ft=Object.prototype.toString.call(Qe).slice(8,-1);if(ft==="Object"&&Qe.constructor&&(ft=Qe.constructor.name),ft==="Map"||ft==="Set")return Array.from(Qe);if(ft==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ft))return de(Qe,it)}}(be))||Te&&be&&typeof be.length=="number"){Ae&&(be=Ae);var Pe=0,We=function(){};return{s:We,n:function(){return Pe>=be.length?{done:!0}:{done:!1,value:be[Pe++]}},e:function(Qe){throw Qe},f:We}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Ue,Je=!0,et=!1;return{s:function(){Ae=Ae.call(be)},n:function(){var Qe=Ae.next();return Je=Qe.done,Qe},e:function(Qe){et=!0,Ue=Qe},f:function(){try{Je||Ae.return==null||Ae.return()}finally{if(et)throw Ue}}}}function de(be,Te){(Te==null||Te>be.length)&&(Te=be.length);for(var Ae=0,Pe=new Array(Te);Ae<Te;Ae++)Pe[Ae]=be[Ae];return Pe}var ve=function be(Te,Ae,Pe,We){var Ue=10/Ae.zoom.value,Je=[Pe,We];if(De(Ae,Te)&&(0,S.oY)([Te],Ae))return pe(Te,Je,Ue);var et=(0,_.WJ)(Te);return et&&be(et,Ae,Pe,We)?!0:$(Te,Ae,Je)},ie=function(be,Te,Ae,Pe){var We=10/Te.zoom.value,Ue=(0,_.WJ)(be);return(!Ue||!ve(Ue,Te,Ae,Pe))&&!$(be,Te,[Ae,Pe])&&pe(be,[Ae,Pe],We)},$=function(be,Te,Ae){var Pe=10/Te.zoom.value,We=(0,w.iB)(be)?G:function(Ue){if(Ue.type==="arrow")return!1;if(Ue.type==="freedraw")return!0;var Je=!(0,y.Qm)(Ue.backgroundColor)||(0,l.Xo)(Ue);return Ue.type==="line"?Je&&(0,P.g6)(Ue.points):Je||(0,l.pC)(Ue)}(be)?ye:K;return V({element:be,point:Ae,threshold:Pe,check:We})},De=function(be,Te){return be.selectedElementIds[Te.id]},pe=function(be,Te,Ae){var Pe=(0,v.Z)(Te,2),We=Pe[0],Ue=Pe[1],Je=(0,C.qf)(be),et=(0,v.Z)(Je,4),Qe=et[0],it=et[1],ft=et[2],yt=et[3],ut=(Qe+ft)/2,pt=(it+yt)/2,wt=(0,P.U1)(We,Ue,ut,pt,-be.angle),zt=(0,v.Z)(wt,2),Yt=zt[0],Ht=zt[1];return Yt>Qe-Ae&&Yt<ft+Ae&&Ht>it-Ae&&Ht<yt+Ae},ae=function(be,Te){var Ae=Te.x,Pe=Te.y,We=j(be,be.width,be.height);return V({element:be,point:[Ae,Pe],threshold:We,check:H})},j=function(be,Te,Ae){var Pe=(be.type==="diamond"?1/Math.sqrt(2):1)*Math.min(Te,Ae);return Math.max(16,Math.min(.25*Pe,32))},V=function(be){switch(be.element.type){case"rectangle":case"image":case"text":case"diamond":case"ellipse":var Te=oe(be.element,be.point);return be.check(Te,be.threshold);case"freedraw":return!!be.check(L(be.element,be.point),be.threshold)&&le(be.element,be.point,be.threshold);case"arrow":case"line":return q(be);case"selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},oe=function(be,Te){switch(be.type){case"rectangle":case"image":case"text":return L(be,Te);case"diamond":return I(be,Te);case"ellipse":return F(be,Te)}},G=function(be,Te){return be<0},ye=function(be,Te){return be<Te},K=function(be,Te){return Math.abs(be)<Te},H=function(be,Te){return 0<=be&&be<Te},L=function(be,Te){var Ae=Ce(be,Te),Pe=(0,v.Z)(Ae,4),We=Pe[1],Ue=Pe[2],Je=Pe[3];return Math.max(re(We,ke(0,1,-Je)),re(We,ke(1,0,-Ue)))},I=function(be,Te){var Ae=Ce(be,Te),Pe=(0,v.Z)(Ae,4),We=Pe[1],Ue=Pe[2],Je=Pe[3],et=ke(Je,Ue,-Je*Ue);return re(We,et)},F=function(be,Te){var Ae,Pe=X(be,Te),We=(0,v.Z)(Pe,2),Ue=We[0],Je=We[1];return Ae=Je,-Math.sign(Ae[1])*re(Ue,Je)},X=function(be,Te){var Ae=Ce(be,Te),Pe=(0,v.Z)(Ae,4),We=Pe[1],Ue=Pe[2],Je=Pe[3],et=Ee(We),Qe=(0,v.Z)(et,2),it=Qe[0],ft=Qe[1],yt=.707,ut=.707,pt=Ue,wt=Je;[0,1,2,3].forEach(function(Ht){var It=pt*yt,_t=wt*ut,Ct=(pt*pt-wt*wt)*Math.pow(yt,3)/pt,Bt=(wt*wt-pt*pt)*Math.pow(ut,3)/wt,hn=It-Ct,wn=_t-Bt,Vt=it-Ct,Qt=ft-Bt,$e=Math.hypot(wn,hn),rt=Math.hypot(Qt,Vt);yt=Math.min(1,Math.max(0,(Vt*$e/rt+Ct)/pt)),ut=Math.min(1,Math.max(0,(Qt*$e/rt+Bt)/wt));var gt=Math.hypot(ut,yt);yt/=gt,ut/=gt});var zt,Yt=E(pt*yt,wt*ut);return[We,je(Se(We,zt=Yt),zt)]},le=function(be,Te,Ae){var Pe,We;if(be.angle===0)Pe=Te[0]-be.x,We=Te[1]-be.y;else{var Ue=(0,C.qf)(be),Je=(0,v.Z)(Ue,4),et=Je[0],Qe=Je[1],it=Je[2],ft=Je[3],yt=(0,P.xj)(Te,[et+(it-et)/2,Qe+(ft-Qe)/2],-be.angle);Pe=yt[0]-be.x,We=yt[1]-be.y}var ut,pt=(0,v.Z)(be.points,2),wt=pt[0],zt=pt[1];if((0,P.LW)(wt[0],wt[1],Pe,We)<Ae||(0,P.LW)(zt[0],zt[1],Pe,We)<Ae)return!0;for(var Yt=0;Yt<be.points.length;Yt++){var Ht=[zt[0]-wt[0],zt[1]-wt[1]],It=Math.hypot(Ht[1],Ht[0]),_t=[Ht[0]/It,Ht[1]/It],Ct=[Pe-wt[0],We-wt[1]],Bt=(Ct[0]*_t[0]+Ct[1]*_t[1])/Math.hypot(_t[1],_t[0]);ut=[wt[0]+_t[0]*Bt,wt[1]+_t[1]*Bt];var hn=(0,P.LW)(ut[0],ut[1],wt[0],wt[1]),wn=(0,P.LW)(ut[0],ut[1],zt[0],zt[1]);if(ut=wn<hn&&hn>It?zt:hn<wn&&wn>It?wt:ut,Math.hypot(We-ut[1],Pe-ut[0])<Ae)return!0;wt=zt,zt=be.points[Yt+1]}var Vt=(0,g.R2)(be);return!(!Vt||!Vt.sets.length)&&Ve(Vt,Pe,We,Ae)},q=function(be){var Te=be.element,Ae=be.threshold;if(!(0,g.R2)(Te))return!1;var Pe=Ce(be.element,be.point),We=(0,v.Z)(Pe,4),Ue=We[0],Je=We[1],et=We[2],Qe=We[3],it=ke(0,1,-Qe),ft=ke(1,0,-et);if(!ye(re(Je,it),Ae)||!ye(re(Je,ft),Ae))return!1;var yt=Ee(Ue),ut=(0,v.Z)(yt,2),pt=ut[0],wt=ut[1],zt=(0,g.R2)(Te);return zt?be.check===ye&&zt.some(function(Yt){return qe(Yt,pt,wt,Te.roundness?"round":"sharp")})?!0:zt.some(function(Yt){return Ve(Yt,pt,wt,Ae)}):!1},Ce=function(be,Te){var Ae,Pe=we(Te),We=(0,C.qf)(be),Ue=(0,v.Z)(We,4),Je=Ue[0],et=Ue[1],Qe=Ue[2],it=Ue[3],ft=(0,C.qf)(be),yt=me([Je,et,Qe,it]),ut=A(yt,be.angle),pt=U(ut,Pe),wt=function(Ct){return[0,0,0,0,Math.abs(Ct[4]),Math.abs(Ct[5]),1,0]}(D(pt,T(yt))),zt=(Ae=be.x,[0,0,0,0,be.y,Ae,0,0]),Yt=D(pt,zt),Ht=(0,v.Z)(ft,4),It=Ht[0],_t=Ht[1];return[Yt,wt,(Ht[2]-It)/2,(Ht[3]-_t)/2]},te=function(be){var Te=(0,C.qf)(be),Ae=(0,v.Z)(Te,4),Pe=Ae[0],We=Ae[1],Ue=Ae[2],Je=Ae[3],et=me([Pe,We,Ue,Je]),Qe=A(et,be.angle),it=f(function(ft){return[1,0,0,0,-.5*ft[5],.5*ft[4],0,0]}(T(et)));return k(it,Qe)},me=function(be){var Te=(0,v.Z)(be,4),Ae=Te[0],Pe=Te[1],We=Te[2],Ue=Te[3];return E((Ae+We)/2,(Pe+Ue)/2)},Re=function(be,Te,Ae){var Pe=te(be),We=U(Pe,we(Te)),Ue=U(Pe,we(Ae)),Je=Se(We,Ue),et=be.height/be.width,Qe=be.width/2,it=be.height/2,ft=Je[2],yt=Je[3],ut=Je[1],pt=Math.abs(yt),wt=Math.abs(ft);switch(be.type){case"rectangle":case"image":case"text":return ut/(Qe*(wt+et*pt));case"diamond":return pt<wt?ut/(wt*Qe):ut/(pt*it);case"ellipse":return ut/(Qe*Math.sqrt(Math.pow(ft,2)+Math.pow(et,2)*Math.pow(yt,2)))}},Be=function(be,Te,Ae){if(Te===0){var Pe=(0,C.qf)(be),We=(0,v.Z)(Pe,4),Ue=We[0],Je=We[1],et=We[2],Qe=We[3],it=me([Ue,Je,et,Qe]);return Ee(it)}var ft,yt=te(be),ut=U(yt,we(Ae)),pt=f(yt);switch(be.type){case"rectangle":case"image":case"text":case"diamond":ft=nt(be,Te,ut);break;case"ellipse":ft=lt(be,Te,ut)}return Ee(U(pt,ft))},Q=function(be,Te,Ae){var Pe=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,We=te(be),Ue=U(We,we(Te)),Je=U(We,we(Ae)),et=Se(Ue,Je),Qe=f(We),it=se(be,et,Ue,Pe);return it.map(function(ft){return Ee(U(Qe,ft))})},se=function(be,Te,Ae){var Pe,We=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0;switch(be.type){case"rectangle":case"image":case"text":case"diamond":var Ue=ue(be);Pe=Ue.flatMap(function(et,Qe){var it=[et,Ue[(Qe+1)%4]];return _e(Te,Ze(it,We))}).concat(Ue.flatMap(function(et){return tt(et,We,Te)}));break;case"ellipse":Pe=Ge(be,We,Te)}if(Pe.length<2)return[];var Je=Pe.sort(function(et,Qe){return z(et,Ae)-z(Qe,Ae)});return[Je[0],Je[Je.length-1]]},ue=function(be){var Te=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,Ae=Te*be.width/2,Pe=Te*be.height/2;switch(be.type){case"rectangle":case"image":case"text":return[E(Ae,Pe),E(Ae,-Pe),E(-Ae,-Pe),E(-Ae,Pe)];case"diamond":return[E(0,Pe),E(Ae,0),E(0,-Pe),E(-Ae,0)]}},_e=function(be,Te){var Ae=(0,v.Z)(Te,2),Pe=Ae[0],We=Ae[1];return re(Pe,be)*re(We,be)>=0?[]:[Me(be,Se(Pe,We))]},Ze=function(be,Te){var Ae=(0,v.Z)(be,2),Pe=Ae[0],We=Ae[1],Ue=function(Je,et){var Qe=.5*et;return[1,0,0,0,Qe*Je[4],Qe*Je[5],0,0]}(function(Je,et){return he([0,0,0,0,et[4]-Je[4],et[5]-Je[5],0,0])}(Pe,We),Te);return[U(Ue,Pe),U(Ue,We)]},Ge=function(be,Te,Ae){var Pe=be.width/2+Te,We=be.height/2+Te,Ue=Ae[2],Je=Ae[3],et=Ae[1],Qe=Pe*Pe*Ue*Ue+We*We*Je*Je,it=Qe-et*et;if(Qe===0||it<=0)return[];var ft=Math.sqrt(it),yt=-Pe*Pe*Ue*et,ut=-We*We*Je*et;return[E((yt+Pe*We*Je*ft)/Qe,(ut-Pe*We*Ue*ft)/Qe),E((yt-Pe*We*Je*ft)/Qe,(ut+Pe*We*Ue*ft)/Qe)]},tt=function(be,Te,Ae){if(Te===0)return re(Ae,be)===0?[be]:[];var Pe=Ae[2],We=Ae[3],Ue=Ae[1],Je=Ee(be),et=(0,v.Z)(Je,2),Qe=et[0],it=et[1],ft=Pe*Pe+We*We,yt=Te*Te*ft-Math.pow(Pe*Qe+We*it+Ue,2);if(ft===0||yt<=0)return[];var ut=Math.sqrt(yt),pt=Qe*We*We-it*Pe*We-Pe*Ue,wt=it*Pe*Pe-Qe*Pe*We-We*Ue;return[E((pt+We*ut)/ft,(wt-Pe*ut)/ft),E((pt-We*ut)/ft,(wt+Pe*ut)/ft)]},lt=function(be,Te,Ae){var Pe=Math.abs(Te),We=be.width*Pe/2,Ue=be.height*Pe/2,Je=Math.sign(Te),et=Ee(Ae),Qe=(0,v.Z)(et,2),it=Qe[0],ft=Qe[1],yt=ft===0?1e-4:ft,ut=Math.pow(it,2)*Math.pow(Ue,2)+Math.pow(yt,2)*Math.pow(We,2),pt=(-it*Math.pow(Ue,2)+Je*yt*Math.sqrt(Math.max(0,ut-Math.pow(We,2)*Math.pow(Ue,2))))/ut,wt=(-pt*it-1)/yt,zt=-Math.pow(We,2)*pt/(Math.pow(wt,2)*Math.pow(Ue,2)+Math.pow(pt,2)*Math.pow(We,2));return E(zt,(-pt*zt-1)/wt)},nt=function(be,Te,Ae){var Pe=Math.abs(Te),We=Math.sign(Te),Ue=ue(be,Pe),Je=0,et=null;return Ue.forEach(function(Qe){var it=We*Se(Ae,Qe)[1];it>Je&&(Je=it,et=Qe)}),et},qe=function(be,Te,Ae,Pe){var We,Ue=[],Je=!1,et=J((0,C.CM)(be));try{for(et.s();!(We=et.n()).done;){var Qe=We.value;Qe.op==="move"?(Je=!Je)&&Ue.push([Qe.data[0],Qe.data[1]]):Qe.op==="bcurveTo"?Je&&(Ue.push([Qe.data[0],Qe.data[1]]),Ue.push([Qe.data[2],Qe.data[3]]),Ue.push([Qe.data[4],Qe.data[5]])):Qe.op==="lineTo"&&Je&&Ue.push([Qe.data[0],Qe.data[1]])}}catch(ft){et.e(ft)}finally{et.f()}if(Ue.length>=4){if(Pe==="sharp")return(0,P.c9)(Ue,Te,Ae);var it=(0,M.s)(Ue,10,5);return(0,P.c9)(it,Te,Ae)}return!1},Ve=function(be,Te,Ae,Pe){var We=(0,C.CM)(be),Ue=[0,0];return We.some(function(Je,et){var Qe=Je.op,it=Je.data;if(Qe==="move")Ue=it;else{if(Qe==="bcurveTo"){var ft=[it[0],it[1]],yt=[it[2],it[3]],ut=[it[4],it[5]],pt=Ue;Ue=ut;var wt=function(zt,Yt,Ht,It,_t,Ct){for(var Bt=(0,v.Z)(_t,2),hn=Bt[0],wn=Bt[1],Vt=function(gt,vt){return Math.pow(1-gt,3)*It[vt]+3*gt*Math.pow(1-gt,2)*Ht[vt]+3*Math.pow(gt,2)*(1-gt)*Yt[vt]+zt[vt]*Math.pow(gt,3)},Qt=0;Qt<=1;){var $e=Vt(Qt,0),rt=Vt(Qt,1);if(Math.sqrt(Math.pow($e-hn,2)+Math.pow(rt-wn,2))<Ct)return!0;Qt+=.01}return!1}(pt,ft,yt,ut,[Te,Ae],Pe);return wt}if(Qe==="lineTo")return qe(be,Te,Ae,"sharp");Qe==="qcurveTo"&&console.warn("qcurveTo is not implemented yet")}return!1})}},5637:function(b,m,a){a.d(m,{PK:function(){return ee},Xx:function(){return he},bp:function(){return ke},oA:function(){return N}});var v=a(2577),E=a(7169),h=a(8950),f=a(2975),D=a.n(f),k=a(2335),R=a(8211),d=a(1974);function Z(Se,je){var we=Object.keys(Se);if(Object.getOwnPropertySymbols){var Ee=Object.getOwnPropertySymbols(Se);je&&(Ee=Ee.filter(function(Me){return Object.getOwnPropertyDescriptor(Se,Me).enumerable})),we.push.apply(we,Ee)}return we}function B(Se){for(var je=1;je<arguments.length;je++){var we=arguments[je]!=null?arguments[je]:{};je%2?Z(Object(we),!0).forEach(function(Ee){(0,E.Z)(Se,Ee,we[Ee])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Se,Object.getOwnPropertyDescriptors(we)):Z(Object(we)).forEach(function(Ee){Object.defineProperty(Se,Ee,Object.getOwnPropertyDescriptor(we,Ee))})}return Se}var ee=function(Se){return new Promise(function(je,we){var Ee=new Image;Ee.onload=function(){je(Ee)},Ee.onerror=function(Me){we(Me)},Ee.src=Se})},he=function(){var Se=(0,h.Z)(D().mark(function je(we){var Ee,Me,z,re,T;return D().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return Ee=we.fileIds,Me=we.files,z=we.imageCache,re=new Map,T=new Map,A.next=5,Promise.all(Ee.reduce(function(U,P){var M=Me[P];return M&&!re.has(P)?(re.set(P,!0),U.concat((0,h.Z)(D().mark(function C(){var g,l,w;return D().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(y.prev=0,M.mimeType!==k.LO.binary){y.next=3;break}throw new Error("Only images can be added to ImageCache");case 3:return g=ee(M.dataURL),l={image:g,mimeType:M.mimeType},z.set(P,l),y.next=8,g;case 8:w=y.sent,z.set(P,B(B({},l),{},{image:w})),y.next=15;break;case 12:y.prev=12,y.t0=y.catch(0),T.set(P,!0);case 15:case"end":return y.stop()}},C,null,[[0,12]])}))())):U},[]));case 5:return A.abrupt("return",{imageCache:z,updatedFiles:re,erroredFiles:T});case 6:case"end":return A.stop()}},je)}));return function(je){return Se.apply(this,arguments)}}(),N=function(Se){return Se.filter(function(je){return(0,d.wi)(je)})},ke=function(){var Se=(0,h.Z)(D().mark(function je(we){var Ee,Me,z,re,T,A,U;return D().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(Ee=new DOMParser().parseFromString(we,k.LO.svg),Me=Ee.querySelector("svg"),!Ee.querySelector("parsererror")&&((M=Me)==null?void 0:M.nodeName.toLowerCase())==="svg"){P.next=7;break}throw new Error((0,R.t)("errors.invalidSVGString"));case 7:return Me.hasAttribute("xmlns")||Me.setAttribute("xmlns",k.hR),Me.hasAttribute("width")&&Me.hasAttribute("height")||(z=Me.getAttribute("viewBox"),re=Me.getAttribute("width")||"50",T=Me.getAttribute("height")||"50",z&&(A=z.match(/\d+ +\d+ +(\d+) +(\d+)/))&&(U=(0,v.Z)(A,3),re=U[1],T=U[2]),Me.setAttribute("width",re),Me.setAttribute("height",T)),P.abrupt("return",Me.outerHTML);case 10:case"end":return P.stop()}var M},je)}));return function(je){return Se.apply(this,arguments)}}()},1047:function(b,m,a){a.d(m,{ox:function(){return ee.ox},BQ:function(){return De},_M:function(){return pe},EJ:function(){return g},o8:function(){return P},Sy:function(){return Z.Sy},os:function(){return B.os},KP:function(){return B.KP},Un:function(){return z},$V:function(){return C},qf:function(){return B.qf},Pi:function(){return B.Pi},jt:function(){return we},o4:function(){return R},Lm:function(){return ve},Qp:function(){return d},T:function(){return re.T},xx:function(){return re.xx},Uo:function(){return J},n2:function(){return Ee},PC:function(){return ee.PC},kK:function(){return ee.kK},n_:function(){return de},wX:function(){return he.wX},r2:function(){return h.r2},wB:function(){return he.wB},QD:function(){return D},qP:function(){return ie},iB:function(){return h.iB},Up:function(){return Z.Up},vw:function(){return Z.vw},y8:function(){return Z.y8},VL:function(){return Z.VL},oN:function(){return A.oN},JZ:function(){return Z.JZ},RT:function(){return y},b_:function(){return l.b_},vY:function(){return re.vY},N_:function(){return Z.N_}});var v=a(7169),E=a(1935),h=a(1974),f=a(2335),D=function(ae){return(0,h.bt)(ae)||(0,h.F9)(ae)?ae.points.length<2:ae.width===0&&ae.height===0},k=function(ae,j,V){var oe=Math.abs(j),G=Math.abs(V);if(ae==="line"||ae==="arrow"||ae==="freedraw"){var ye=Math.round(Math.atan(G/oe)/f.ay)*f.ay;ye===0?V=0:ye===Math.PI/2?j=0:V=oe*Math.tan(ye)*Math.sign(V)||V}else ae!=="selection"&&(V=oe*Math.sign(V));return{width:j,height:V}},R=function(ae,j,V,oe){var G=V-ae,ye=oe-j,K=Math.round(Math.atan(ye/G)/f.ay)*f.ay;if(K===0)ye=0;else if(K===Math.PI/2)G=0;else{var H=Math.tan(K),L=j-H*ae,I=-1/H,F=oe-I*V;G=(-1*F- -1*L)/(-1*H- -1*I)-ae,ye=(L*I-F*H)/(-1*H- -1*I)-j}return{width:G,height:ye}},d=function(ae){var j={width:ae.width,height:ae.height,x:ae.x,y:ae.y};if(ae.width<0){var V=Math.abs(ae.width);j.width=V,j.x=ae.x-V}if(ae.height<0){var oe=Math.abs(ae.height);j.height=oe,j.y=ae.y-oe}return j},Z=a(2791),B=a(8925),ee=a(267),he=a(2325),N=a(2577),ke=a(2726),Se=["rotation"],je=function(ae,j,V){return j>=ae[0]&&j<=ae[0]+ae[2]&&V>=ae[1]&&V<=ae[1]+ae[3]},we=function(ae,j,V,oe,G,ye){return ae.reduce(function(K,H){if(K)return K;var L=function(I,F,X,le,q,Ce){if(!F.selectedElementIds[I.id])return!1;var te=(0,ee.PC)(I,q,Ce),me=te.rotation,Re=(0,ke.Z)(te,Se);if(me&&je(me,X,le))return"rotation";var Be=Object.keys(Re).filter(function(Q){var se=Re[Q];return!!se&&je(se,X,le)});return Be.length>0&&Be[0]}(H,j,V,oe,G,ye);return L?{element:H,transformHandleType:L}:null},null)},Ee=function(ae,j,V,oe,G){var ye=(0,N.Z)(ae,4),K=ye[0],H=ye[1],L=ye[2],I=ye[3],F=(0,ee.kK)([K,H,L,I,(K+L)/2,(H+I)/2],0,oe,G,ee.ox);return Object.keys(F).find(function(X){var le=F[X];return le&&je(le,j,V)})||!1},Me=["ns","nesw","ew","nwse"],z=function(ae){var j=ae.element,V=ae.transformHandleType,oe=j&&Math.sign(j.height)*Math.sign(j.width)==-1,G=null;switch(V){case"n":case"s":G="ns";break;case"w":case"e":G="ew";break;case"nw":case"se":G=oe?"nesw":"nwse";break;case"ne":case"sw":G=oe?"nwse":"nesw";break;case"rotation":return"grab"}return G&&j&&(G=function(ye,K){var H=Me.indexOf(ye);if(H>=0){var L=Math.round(K/(Math.PI/4));ye=Me[(H+L)%Me.length]}return ye}(G,j.angle)),G?"".concat(G,"-resize"):""},re=a(8634),T=a(8290),A=a(5710),U=a(242),P=function(ae,j,V,oe){var G=arguments.length>4&&arguments[4]!==void 0&&arguments[4],ye=arguments.length>5&&arguments[5]!==void 0?arguments[5]:0,K=arguments.length>6&&arguments[6]!==void 0?arguments[6]:0,H=arguments.length>7?arguments[7]:void 0,L=(0,B.KP)(j),I=(0,N.Z)(L,2),F=I[0],X=I[1],le={x:V-F,y:oe-X};j.forEach(function(q){if(M(G,ye,K,ae,q,le),!q.groupIds.length||H.editingGroupId&&!(0,U.zq)(H,q)){var Ce=(0,A.WJ)(q);Ce&&M(G,ye,K,ae,Ce,le)}(0,T.Ww)(q,{simultaneouslyUpdated:j})})},M=function(ae,j,V,oe,G,ye){var K,H;if(ae){var L=ae&&j<V,I=ae&&j>V,F=oe.originalElements.get(G.id);K=L&&F?F.x:G.x+ye.x,H=I&&F?F.y:G.y+ye.y}else K=G.x+ye.x,H=G.y+ye.y;(0,E.DR)(G,{x:K,y:H})},C=function(ae,j,V){var oe=(0,B.KP)(ae),G=(0,N.Z)(oe,2);return[j-G[0],V-G[1]]},g=function(ae,j,V,oe,G,ye,K,H,L,I,F){if(L&&ae.type!=="selection")if(F)H=K/F;else{if(Math.abs(ye-oe)>Math.abs(G-V)){var X=k(j,H,G<V?-K:K);K=X.width,H=X.height}else{var le=k(j,K,ye<oe?-H:H);K=le.width,H=le.height}H<0&&(H=-H)}var q=G<V?V-K:V,Ce=ye<oe?oe-H:oe;I&&(q=V-(K+=K)/2,Ce=oe-(H+=H)/2),K!==0&&H!==0&&(0,E.DR)(ae,{x:q,y:Ce,width:K,height:H})},l=a(6906),w=a(75),y=function(ae,j){return Boolean(!ae.viewModeEnabled&&ae.activeTool.type!=="custom"&&(ae.editingElement||ae.activeTool.type!=="selection"&&ae.activeTool.type!=="eraser"&&ae.activeTool.type!=="hand")||(0,w.eD)(j,ae).length)};function S(ae,j){var V=Object.keys(ae);if(Object.getOwnPropertySymbols){var oe=Object.getOwnPropertySymbols(ae);j&&(oe=oe.filter(function(G){return Object.getOwnPropertyDescriptor(ae,G).enumerable})),V.push.apply(V,oe)}return V}function _(ae){for(var j=1;j<arguments.length;j++){var V=arguments[j]!=null?arguments[j]:{};j%2?S(Object(V),!0).forEach(function(oe){(0,v.Z)(ae,oe,V[oe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(ae,Object.getOwnPropertyDescriptors(V)):S(Object(V)).forEach(function(oe){Object.defineProperty(ae,oe,Object.getOwnPropertyDescriptor(V,oe))})}return ae}var J=function(ae){return ae.reduce(function(j,V){return j+V.version},0)},de=function(ae){return ae.filter(function(j){return!j.isDeleted&&!D(j)})},ve=function(ae){return ae.filter(function(j){return!j.isDeleted})},ie=function(ae){return!ae.isDeleted},$=function(ae){return ve(ae).map(function(j){return(0,h.dt)(j.type)?_(_({},j),{},{lastCommittedPoint:null}):j})},De=function(ae){return $(ae)},pe=function(ae){return $(ae)}},6938:function(b,m,a){a.d(m,{_:function(){return A}});var v=a(1930),E=a(7169),h=a(2577),f=a(8821),D=a(5169),k=a(6552),R=a(1047),d=a(8925),Z=a(1935),B=a(1564),ee=a(8290),he=a(6340),N=a(1974),ke=a(6066),Se=a(5710),je=a(3063),we=a(2335);function Ee(P,M){var C=typeof Symbol<"u"&&P[Symbol.iterator]||P["@@iterator"];if(!C){if(Array.isArray(P)||(C=function(_,J){if(_){if(typeof _=="string")return Me(_,J);var de=Object.prototype.toString.call(_).slice(8,-1);if(de==="Object"&&_.constructor&&(de=_.constructor.name),de==="Map"||de==="Set")return Array.from(_);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return Me(_,J)}}(P))||M&&P&&typeof P.length=="number"){C&&(P=C);var g=0,l=function(){};return{s:l,n:function(){return g>=P.length?{done:!0}:{done:!1,value:P[g++]}},e:function(_){throw _},f:l}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var w,y=!0,S=!1;return{s:function(){C=C.call(P)},n:function(){var _=C.next();return y=_.done,_},e:function(_){S=!0,w=_},f:function(){try{y||C.return==null||C.return()}finally{if(S)throw w}}}}function Me(P,M){(M==null||M>P.length)&&(M=P.length);for(var C=0,g=new Array(M);C<M;C++)g[C]=P[C];return g}function z(P,M){var C=Object.keys(P);if(Object.getOwnPropertySymbols){var g=Object.getOwnPropertySymbols(P);M&&(g=g.filter(function(l){return Object.getOwnPropertyDescriptor(P,l).enumerable})),C.push.apply(C,g)}return C}function re(P){for(var M=1;M<arguments.length;M++){var C=arguments[M]!=null?arguments[M]:{};M%2?z(Object(C),!0).forEach(function(g){(0,E.Z)(P,g,C[g])}):Object.getOwnPropertyDescriptors?Object.defineProperties(P,Object.getOwnPropertyDescriptors(C)):z(Object(C)).forEach(function(g){Object.defineProperty(P,g,Object.getOwnPropertyDescriptor(C,g))})}return P}var T={version:null,points:[],zoom:null},A=function(){function P(M,C){(0,f.Z)(this,P),this.elementId=M.id,B.Z.mapElementToScene(this.elementId,C),P.normalizePoints(M),this.selectedPointsIndices=null,this.lastUncommittedPoint=null,this.isDragging=!1,this.pointerOffset={x:0,y:0},this.startBindingElement="keep",this.endBindingElement="keep",this.pointerDownState={prevSelectedPointsIndices:null,lastClickedPoint:-1,origin:null,segmentMidpoint:{value:null,index:null,added:!1}},this.hoverPointIndex=-1,this.segmentMidPointHoveredCoords=null}return(0,D.Z)(P,null,[{key:"getElement",value:function(M){var C,g=(C=B.Z.getScene(M))===null||C===void 0?void 0:C.getNonDeletedElement(M);return g||null}},{key:"handleBoxSelection",value:function(M,C,g){var l;if(!C.editingLinearElement||((l=C.draggingElement)===null||l===void 0?void 0:l.type)!=="selection")return!1;var w=C.editingLinearElement,y=w.selectedPointsIndices,S=w.elementId,_=P.getElement(S);if(!_)return!1;var J=(0,R.qf)(C.draggingElement),de=(0,h.Z)(J,4),ve=de[0],ie=de[1],$=de[2],De=de[3],pe=P.getPointsGlobalCoordinates(_).reduce(function(ae,j,V){return(j[0]>=ve&&j[0]<=$&&j[1]>=ie&&j[1]<=De||M.shiftKey&&y!=null&&y.includes(V))&&ae.push(V),ae},[]);g({editingLinearElement:re(re({},w),{},{selectedPointsIndices:pe.length?pe:null})})}},{key:"handlePointDragging",value:function(M,C,g,l,w,y){if(!y)return!1;var S=y.selectedPointsIndices,_=y.elementId,J=P.getElement(_);if(!J)return!1;var de=J.points[y.pointerDownState.lastClickedPoint];if(S&&de){if((0,ke.Ge)(M)&&S.length===1&&J.points.length>1){var ve=S[0],ie=J.points[ve===0?1:ve-1],$=P._getShiftLockedDelta(J,ie,[g,l],C.gridSize),De=(0,h.Z)($,2),pe=De[0],ae=De[1];P.movePoints(J,[{index:ve,point:[pe+ie[0],ae+ie[1]],isDragging:ve===y.pointerDownState.lastClickedPoint}])}else{var j=P.createPointAt(J,g-y.pointerOffset.x,l-y.pointerOffset.y,C.gridSize),V=j[0]-de[0],oe=j[1]-de[1];P.movePoints(J,S.map(function(K){return{index:K,point:K===y.pointerDownState.lastClickedPoint?P.createPointAt(J,g-y.pointerOffset.x,l-y.pointerOffset.y,C.gridSize):[J.points[K][0]+V,J.points[K][1]+oe],isDragging:K===y.pointerDownState.lastClickedPoint}})),(0,Se.WJ)(J)&&(0,Se.RB)(J,!1)}if((0,N.Mn)(J,!1)){var G=[];S[0]===0&&G.push((0,he.AK)(P.getPointGlobalCoordinates(J,J.points[0])));var ye=S[S.length-1];ye===J.points.length-1&&G.push((0,he.AK)(P.getPointGlobalCoordinates(J,J.points[ye]))),G.length&&w(J,G)}return!0}return!1}},{key:"handlePointerUp",value:function(M,C,g){var l,w=C.elementId,y=C.selectedPointsIndices,S=C.isDragging,_=C.pointerDownState,J=P.getElement(w);if(!J)return C;var de={};if(S&&y){var ve,ie=Ee(y);try{for(ie.s();!(ve=ie.n()).done;){var $=ve.value;if($===0||$===J.points.length-1){(0,k.g6)(J.points,g.zoom.value)&&P.movePoints(J,[{index:$,point:$===0?J.points[J.points.length-1]:J.points[0]}]);var De=(0,ee.N1)(g)?(0,ee.Y9)((0,he.AK)(P.getPointAtIndexGlobalCoordinates(J,$)),B.Z.getScene(J)):null;de[$===0?"startBindingElement":"endBindingElement"]=De}}}catch(pe){ie.e(pe)}finally{ie.f()}}return re(re(re({},C),de),{},{selectedPointsIndices:S||M.shiftKey?!S&&M.shiftKey&&(l=_.prevSelectedPointsIndices)!==null&&l!==void 0&&l.includes(_.lastClickedPoint)?y&&y.filter(function(pe){return pe!==_.lastClickedPoint}):y:y!=null&&y.includes(_.lastClickedPoint)?[_.lastClickedPoint]:y,isDragging:!1,pointerOffset:{x:0,y:0}})}},{key:"isSegmentTooShort",value:function(M,C,g,l){var w=(0,k.LW)(C[0],C[1],g[0],g[1]);return M.points.length>2&&M.roundness&&(w=(0,k.eH)(M,g)),w*l.value<4*P.POINT_HANDLE_SIZE}},{key:"getSegmentMidPoint",value:function(M,C,g,l){var w=(0,k.H5)(C,g);if(M.points.length>2&&M.roundness){var y=(0,k.yB)(M,M.points[l]);if(y){var S=(0,k.lk)(M,M.points[l],.5),_=(0,k.N_)(y[0],y[1],y[2],y[3],S),J=(0,h.Z)(_,2),de=J[0],ve=J[1];w=P.getPointGlobalCoordinates(M,[de,ve])}}return w}},{key:"getSegmentMidPointIndex",value:function(M,C,g){var l=P.getElement(M.elementId);if(!l)return-1;for(var w=P.getEditorMidPoints(l,C),y=0;y<w.length;){if(P.arePointsEqual(g,w[y]))return y+1;y++}return-1}},{key:"handlePointerDown",value:function(M,C,g,l,w){var y,S={didAddPoint:!1,hitElement:null,linearElementEditor:null};if(!w)return S;var _=w.elementId,J=P.getElement(_);if(!J)return S;var de=P.getSegmentMidpointHitCoords(w,l,C),ve=null;if(de&&(ve=P.getSegmentMidPointIndex(w,C,de)),M.altKey&&C.editingLinearElement)return w.lastUncommittedPoint==null&&((0,Z.DR)(J,{points:[].concat((0,v.Z)(J.points),[P.createPointAt(J,l.x,l.y,C.gridSize)])}),S.didAddPoint=!0),g.resumeRecording(),S.linearElementEditor=re(re({},w),{},{pointerDownState:{prevSelectedPointsIndices:w.selectedPointsIndices,lastClickedPoint:-1,origin:{x:l.x,y:l.y},segmentMidpoint:{value:de,index:ve,added:!1}},selectedPointsIndices:[J.points.length-1],lastUncommittedPoint:null,endBindingElement:(0,ee.Y9)(l,B.Z.getScene(J))}),S.didAddPoint=!0,S;var ie=P.getPointIndexUnderCursor(J,C.zoom,l.x,l.y);if(ie>=0||de)S.hitElement=J;else{var $=w.startBindingElement,De=w.endBindingElement;(0,ee.N1)(C)&&(0,N.Mn)(J)&&(0,ee.HG)(J,$,De)}var pe=(0,R.qf)(J),ae=(0,h.Z)(pe,4),j=ae[0],V=ae[1],oe=(j+ae[2])/2,G=(V+ae[3])/2,ye=ie>-1&&(0,k.U1)(J.x+J.points[ie][0],J.y+J.points[ie][1],oe,G,J.angle),K=ie>-1||M.shiftKey?M.shiftKey||(y=w.selectedPointsIndices)!==null&&y!==void 0&&y.includes(ie)?U([].concat((0,v.Z)(w.selectedPointsIndices||[]),[ie])):[ie]:null;return S.linearElementEditor=re(re({},w),{},{pointerDownState:{prevSelectedPointsIndices:w.selectedPointsIndices,lastClickedPoint:ie,origin:{x:l.x,y:l.y},segmentMidpoint:{value:de,index:ve,added:!1}},selectedPointsIndices:K,pointerOffset:ye?{x:l.x-ye[0],y:l.y-ye[1]}:{x:0,y:0}}),S}},{key:"arePointsEqual",value:function(M,C){return!M&&!C||!(!M||!C)&&(0,k.Jj)(M,C)}},{key:"handlePointerMove",value:function(M,C,g,l){if(!l.editingLinearElement)return null;var w=l.editingLinearElement,y=w.elementId,S=w.lastUncommittedPoint,_=P.getElement(y);if(!_)return l.editingLinearElement;var J,de=_.points,ve=de[de.length-1];if(!M.altKey)return ve===S&&P.deletePoints(_,[de.length-1]),re(re({},l.editingLinearElement),{},{lastUncommittedPoint:null});if((0,ke.Ge)(M)&&de.length>=2){var ie=de[de.length-2],$=P._getShiftLockedDelta(_,ie,[C,g],l.gridSize),De=(0,h.Z)($,2),pe=De[0],ae=De[1];J=[pe+ie[0],ae+ie[1]]}else J=P.createPointAt(_,C-l.editingLinearElement.pointerOffset.x,g-l.editingLinearElement.pointerOffset.y,l.gridSize);return ve===S?P.movePoints(_,[{index:_.points.length-1,point:J}]):P.addPoints(_,l,[{point:J}]),re(re({},l.editingLinearElement),{},{lastUncommittedPoint:_.points[_.points.length-1]})}},{key:"getPointGlobalCoordinates",value:function(M,C){var g=(0,R.qf)(M),l=(0,h.Z)(g,4),w=l[0],y=l[1],S=(w+l[2])/2,_=(y+l[3])/2,J=M.x,de=M.y,ve=(0,k.U1)(J+C[0],de+C[1],S,_,M.angle),ie=(0,h.Z)(ve,2);return[J=ie[0],de=ie[1]]}},{key:"getPointsGlobalCoordinates",value:function(M){var C=(0,R.qf)(M),g=(0,h.Z)(C,4),l=g[0],w=g[1],y=g[2],S=g[3],_=(l+y)/2,J=(w+S)/2;return M.points.map(function(de){var ve=M.x,ie=M.y,$=(0,k.U1)(ve+de[0],ie+de[1],_,J,M.angle),De=(0,h.Z)($,2);return[ve=De[0],ie=De[1]]})}},{key:"getPointAtIndexGlobalCoordinates",value:function(M,C){var g=C<0?M.points.length+C:C,l=(0,R.qf)(M),w=(0,h.Z)(l,4),y=w[0],S=w[1],_=(y+w[2])/2,J=(S+w[3])/2,de=M.points[g],ve=M.x,ie=M.y;return de?(0,k.U1)(ve+de[0],ie+de[1],_,J,M.angle):(0,k.U1)(ve,ie,_,J,M.angle)}},{key:"pointFromAbsoluteCoords",value:function(M,C){var g=(0,R.qf)(M),l=(0,h.Z)(g,4),w=l[0],y=l[1],S=(w+l[2])/2,_=(y+l[3])/2,J=(0,k.U1)(C[0],C[1],S,_,-M.angle),de=(0,h.Z)(J,2),ve=de[0],ie=de[1];return[ve-M.x,ie-M.y]}},{key:"getPointIndexUnderCursor",value:function(M,C,g,l){for(var w=P.getPointsGlobalCoordinates(M),y=w.length;--y>-1;){var S=w[y];if((0,k.LW)(g,l,S[0],S[1])*C.value<P.POINT_HANDLE_SIZE+1)return y}return-1}},{key:"createPointAt",value:function(M,C,g,l){var w=(0,k.wC)(C,g,l),y=(0,R.qf)(M),S=(0,h.Z)(y,4),_=S[0],J=S[1],de=(_+S[2])/2,ve=(J+S[3])/2,ie=(0,k.U1)(w[0],w[1],de,ve,-M.angle),$=(0,h.Z)(ie,2),De=$[0],pe=$[1];return[De-M.x,pe-M.y]}},{key:"getNormalizedPoints",value:function(M){var C=M.points,g=C[0][0],l=C[0][1];return{points:C.map(function(w,y){return[w[0]-g,w[1]-l]}),x:M.x+g,y:M.y+l}}},{key:"normalizePoints",value:function(M){(0,Z.DR)(M,P.getNormalizedPoints(M))}},{key:"duplicateSelectedPoints",value:function(M){if(!M.editingLinearElement)return!1;var C=M.editingLinearElement,g=C.selectedPointsIndices,l=C.elementId,w=P.getElement(l);if(!w||g===null)return!1;var y=w.points,S=[],_=!1,J=-1,de=y.reduce(function(ie,$,De){if(++J,ie.push($),g.includes(De)){var pe=y[De+1];pe||(_=!0),ie.push(pe?[($[0]+pe[0])/2,($[1]+pe[1])/2]:[$[0],$[1]]),S.push(J+1),++J}return ie},[]);if((0,Z.DR)(w,{points:de}),_){var ve=w.points[w.points.length-1];P.movePoints(w,[{index:w.points.length-1,point:[ve[0]+30,ve[1]+30]}])}return{appState:re(re({},M),{},{editingLinearElement:re(re({},M.editingLinearElement),{},{selectedPointsIndices:S})})}}},{key:"deletePoints",value:function(M,C){var g=0,l=0;if(C.includes(0)){var w=M.points.find(function(S,_){return!C.includes(_)});w&&(g=w[0],l=w[1])}var y=M.points.reduce(function(S,_,J){return C.includes(J)||S.push(S.length?[_[0]-g,_[1]-l]:[0,0]),S},[]);P._updatePoints(M,y,g,l)}},{key:"addPoints",value:function(M,C,g){var l=[].concat((0,v.Z)(M.points),(0,v.Z)(g.map(function(w){return w.point})));P._updatePoints(M,l,0,0)}},{key:"movePoints",value:function(M,C,g){var l=M.points,w=0,y=0,S=C.find(function(J){return J.index===0});S&&(w=S.point[0]+l[S.index][0],y=S.point[1]+l[S.index][1]);var _=l.map(function(J,de){var ve=C.find(function(De){return De.index===de});if(ve){if(S)return J;var ie=ve.point[0]-l[ve.index][0],$=ve.point[1]-l[ve.index][1];return[J[0]+ie,J[1]+$]}return w||y?[J[0]-w,J[1]-y]:J});P._updatePoints(M,_,w,y,g)}},{key:"shouldAddMidpoint",value:function(M,C,g){if(!P.getElement(M.elementId))return!1;var l=M.pointerDownState.segmentMidpoint;if(l.added||l.value===null||l.index===null||M.pointerDownState.origin===null)return!1;var w=M.pointerDownState.origin,y=(0,k.LW)(w.x,w.y,C.x,C.y);return!(!g.editingLinearElement&&y<we.f/g.zoom.value)}},{key:"addMidpoint",value:function(M,C,g){var l=P.getElement(M.elementId);if(l){var w=M.pointerDownState.segmentMidpoint,y={pointerDownState:M.pointerDownState,selectedPointsIndices:M.selectedPointsIndices},S=P.createPointAt(l,C.x,C.y,g.gridSize),_=[].concat((0,v.Z)(l.points.slice(0,w.index)),[S],(0,v.Z)(l.points.slice(w.index)));return(0,Z.DR)(l,{points:_}),y.pointerDownState=re(re({},M.pointerDownState),{},{segmentMidpoint:re(re({},M.pointerDownState.segmentMidpoint),{},{added:!0}),lastClickedPoint:w.index}),y.selectedPointsIndices=[w.index],y}}},{key:"_updatePoints",value:function(M,C,g,l,w){var y=(0,d.Ut)(M,C),S=(0,d.Ut)(M,M.points),_=(y[0]+y[2])/2,J=(y[1]+y[3])/2,de=(S[0]+S[2])/2-_,ve=(S[1]+S[3])/2-J,ie=(0,k.U1)(g,l,de,ve,M.angle);(0,Z.DR)(M,re(re({},w),{},{points:C,x:M.x+ie[0],y:M.y+ie[1]}))}},{key:"_getShiftLockedDelta",value:function(M,C,g,l){var w=P.getPointGlobalCoordinates(M,C),y=(0,k.wC)(g[0],g[1],l),S=(0,h.Z)(y,2),_=S[0],J=S[1],de=(0,R.o4)(w[0],w[1],_,J),ve=de.width,ie=de.height;return(0,k.xj)([ve,ie],[0,0],-M.angle)}}]),P}();A.POINT_HANDLE_SIZE=10,A.getEditorMidPoints=function(P,M){var C=(0,Se.WJ)(P);return!M.editingLinearElement&&P.points.length>2&&!C?[]:(T.version===P.version&&T.zoom===M.zoom.value||A.updateEditorMidPointsCache(P,M),T.points)},A.updateEditorMidPointsCache=function(P,M){for(var C=A.getPointsGlobalCoordinates(P),g=0,l=[];g<C.length-1;)if(A.isSegmentTooShort(P,P.points[g],P.points[g+1],M.zoom))l.push(null),g++;else{var w=A.getSegmentMidPoint(P,C[g],C[g+1],g+1);l.push(w),g++}T.points=l,T.version=P.version,T.zoom=M.zoom.value},A.getSegmentMidpointHitCoords=function(P,M,C){var g=P.elementId,l=A.getElement(g);if(!l||A.getPointIndexUnderCursor(l,C.zoom,M.x,M.y)>=0||A.getPointsGlobalCoordinates(l).length>=3&&!C.editingLinearElement)return null;var w=A.POINT_HANDLE_SIZE/C.zoom.value,y=P.segmentMidPointHoveredCoords;if(y&&(0,k.LW)(y[0],y[1],M.x,M.y)<=w)return y;for(var S=0,_=A.getEditorMidPoints(l,C);S<_.length;){if(_[S]!==null&&(0,k.LW)(_[S][0],_[S][1],M.x,M.y)<=w)return _[S];S++}return null},A.getBoundTextElementPosition=function(P,M){var C=A.getPointsGlobalCoordinates(P);C.length<2&&(0,Z.DR)(M,{isDeleted:!0});var g=0,l=0;if(P.points.length%2==1){var w=Math.floor(P.points.length/2),y=A.getPointGlobalCoordinates(P,P.points[w]);g=y[0]-M.width/2,l=y[1]-M.height/2}else{var S=P.points.length/2-1,_=T.points[S];P.points.length===2&&(_=(0,k.H5)(C[0],C[1])),_&&T.version===P.version||(_=A.getSegmentMidPoint(P,C[S],C[S+1],S+1)),g=_[0]-M.width/2,l=_[1]-M.height/2}return{x:g,y:l}},A.getMinMaxXYWithBoundText=function(P,M,C){var g=(0,h.Z)(M,4),l=g[0],w=g[1],y=g[2],S=g[3],_=(l+y)/2,J=(w+S)/2,de=A.getBoundTextElementPosition(P,C),ve=de.x,ie=de.y,$=ve+C.width,De=ie+C.height,pe=(0,k.xj)([l,w],[_,J],P.angle),ae=(0,k.xj)([y,w],[_,J],P.angle),j=(0,k.xj)([ve,ie],[_,J],-P.angle),V=(0,k.xj)([$,ie],[_,J],-P.angle),oe=(0,k.xj)([ve,De],[_,J],-P.angle),G=(0,k.xj)([$,De],[_,J],-P.angle);return pe[0]<ae[0]&&pe[1]>=ae[1]?(l=Math.min(l,oe[0]),y=Math.max(y,Math.max(V[0],G[0])),w=Math.min(w,j[1]),S=Math.max(S,G[1])):pe[0]>=ae[0]&&pe[1]>ae[1]?(l=Math.min(l,G[0]),y=Math.max(y,Math.max(j[0],V[0])),w=Math.min(w,oe[1]),S=Math.max(S,V[1])):pe[0]>=ae[0]?(l=Math.min(l,V[0]),y=Math.max(y,oe[0]),w=Math.min(w,G[1]),S=Math.max(S,j[1])):pe[1]<=ae[1]&&(l=Math.min(l,Math.min(V[0],j[0])),y=Math.max(y,G[0]),w=Math.min(w,V[1]),S=Math.max(S,oe[1])),[l,w,y,S,_,J]},A.getElementAbsoluteCoords=function(P){var M,C,g,l,w,y=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(P.points.length<2||!(0,je.R2)(P)){var S=P.points.reduce(function(H,L){var I=(0,h.Z)(L,2),F=I[0],X=I[1];return H.minY=Math.min(H.minY,X),H.minX=Math.min(H.minX,F),H.maxX=Math.max(H.maxX,F),H.maxY=Math.max(H.maxY,X),H},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}),_=S.minX,J=S.minY,de=S.maxX,ve=S.maxY;C=_+P.x,g=J+P.y,l=de+P.x,w=ve+P.y}else{var ie=(0,je.R2)(P),$=(0,d.CM)(ie[0]),De=(0,d.IX)($),pe=(0,h.Z)(De,4),ae=pe[0],j=pe[1],V=pe[2],oe=pe[3];C=ae+P.x,g=j+P.y,l=V+P.x,w=oe+P.y}var G=(C+l)/2,ye=(g+w)/2;if(M=[C,g,l,w,G,ye],!y)return M;var K=(0,Se.WJ)(P);return K&&(M=A.getMinMaxXYWithBoundText(P,[C,g,l,w],K)),M};var U=function(P){var M=(0,v.Z)(new Set(P.filter(function(C){return C!==null&&C!==-1})));return(M=M.sort(function(C,g){return C-g})).length?M:null}},1935:function(b,m,a){a.d(m,{BE:function(){return ee},DR:function(){return B},ZP:function(){return he}});var v=a(6655),E=a(7169),h=a(3063),f=a(1564),D=a(5001),k=a(6954),R=a(6340);function d(N,ke){var Se=Object.keys(N);if(Object.getOwnPropertySymbols){var je=Object.getOwnPropertySymbols(N);ke&&(je=je.filter(function(we){return Object.getOwnPropertyDescriptor(N,we).enumerable})),Se.push.apply(Se,je)}return Se}function Z(N){for(var ke=1;ke<arguments.length;ke++){var Se=arguments[ke]!=null?arguments[ke]:{};ke%2?d(Object(Se),!0).forEach(function(je){(0,E.Z)(N,je,Se[je])}):Object.getOwnPropertyDescriptors?Object.defineProperties(N,Object.getOwnPropertyDescriptors(Se)):d(Object(Se)).forEach(function(je){Object.defineProperty(N,je,Object.getOwnPropertyDescriptor(Se,je))})}return N}var B=function(N,ke){var Se,je=!(arguments.length>2&&arguments[2]!==void 0)||arguments[2],we=!1,Ee=ke,Me=Ee.points,z=Ee.fileId;for(var re in Me!==void 0&&(ke=Z(Z({},(0,D.k)(Me)),ke)),ke){var T=ke[re];if(T!==void 0){if(N[re]===T&&((0,v.Z)(T)!=="object"||T===null||re==="groupIds"||re==="scale"))continue;if(re==="scale"){var A=N[re],U=T;if(A[0]===U[0]&&A[1]===U[1])continue}else if(re==="points"){var P=N[re],M=T;if(P.length===M.length){for(var C=!1,g=P.length;--g;){var l=P[g],w=M[g];if(l[0]!==w[0]||l[1]!==w[1]){C=!0;break}}if(!C)continue}}N[re]=T,we=!0}}return we&&(ke.height===void 0&&ke.width===void 0&&z===void 0&&Me===void 0||(0,h.bI)(N),N.version++,N.versionNonce=(0,k.LU)(),N.updated=(0,R.C3)(),je&&((Se=f.Z.getScene(N))===null||Se===void 0||Se.informMutation())),N},ee=function(N,ke){var Se=!1;for(var je in ke){var we=ke[je];if(we!==void 0){if(N[je]===we&&((0,v.Z)(we)!=="object"||we===null))continue;Se=!0}}return Se?Z(Z(Z({},N),ke),{},{updated:(0,R.C3)(),version:N.version+1,versionNonce:(0,k.LU)()}):N},he=function(N,ke){return N.version=(ke??N.version)+1,N.versionNonce=(0,k.LU)(),N.updated=(0,R.C3)(),N}},2791:function(b,m,a){a.d(m,{JZ:function(){return A},KE:function(){return C},N2:function(){return P},N_:function(){return M},OL:function(){return w},Sy:function(){return y},Up:function(){return Me},VL:function(){return re},jd:function(){return U},vw:function(){return l},y8:function(){return g}});var v=a(6655),E=a(2577),h=a(7169),f=a(2726),D=a(6340),k=a(6954),R=a(1935),d=a(242),Z=a(1047),B=a(6552),ee=a(8925),he=a(5710),N=a(2335),ke=a(1974),Se=["x","y","strokeColor","backgroundColor","fillStyle","strokeWidth","strokeStyle","roughness","opacity","width","height","angle","groupIds","roundness","boundElements","link","locked"];function je(S,_){var J=Object.keys(S);if(Object.getOwnPropertySymbols){var de=Object.getOwnPropertySymbols(S);_&&(de=de.filter(function(ve){return Object.getOwnPropertyDescriptor(S,ve).enumerable})),J.push.apply(J,de)}return J}function we(S){for(var _=1;_<arguments.length;_++){var J=arguments[_]!=null?arguments[_]:{};_%2?je(Object(J),!0).forEach(function(de){(0,h.Z)(S,de,J[de])}):Object.getOwnPropertyDescriptors?Object.defineProperties(S,Object.getOwnPropertyDescriptors(J)):je(Object(J)).forEach(function(de){Object.defineProperty(S,de,Object.getOwnPropertyDescriptor(J,de))})}return S}var Ee=function(S,_){var J,de,ve=_.x,ie=_.y,$=_.strokeColor,De=_.backgroundColor,pe=_.fillStyle,ae=_.strokeWidth,j=_.strokeStyle,V=_.roughness,oe=_.opacity,G=_.width,ye=G===void 0?0:G,K=_.height,H=K===void 0?0:K,L=_.angle,I=L===void 0?0:L,F=_.groupIds,X=F===void 0?[]:F,le=_.roundness,q=le===void 0?null:le,Ce=_.boundElements,te=Ce===void 0?null:Ce,me=_.link,Re=me===void 0?null:me,Be=_.locked,Q=(0,f.Z)(_,Se);return{id:Q.id||(0,k.kb)(),type:S,x:ve,y:ie,width:ye,height:H,angle:I,strokeColor:$,backgroundColor:De,fillStyle:pe,strokeWidth:ae,strokeStyle:j,roughness:V,opacity:oe,groupIds:X,roundness:q,seed:(J=Q.seed)!==null&&J!==void 0?J:(0,k.LU)(),version:Q.version||1,versionNonce:(de=Q.versionNonce)!==null&&de!==void 0?de:0,isDeleted:!1,boundElements:te,updated:(0,D.C3)(),link:Re,locked:Be}},Me=function(S){return Ee(S.type,S)},z=function(S,_){return{x:S.textAlign==="center"?_.width/2:S.textAlign==="right"?_.width:0,y:S.verticalAlign==="middle"?_.height/2:0}},re=function(S){var _=(0,he.bG)(S.text),J=(0,he.X1)(_,(0,D.mO)(S)),de=z(S,J);return(0,R.BE)(we(we({},Ee("text",S)),{},{text:_,fontSize:S.fontSize,fontFamily:S.fontFamily,textAlign:S.textAlign,verticalAlign:S.verticalAlign,x:S.x-de.x,y:S.y-de.y,width:J.width,height:J.height,baseline:J.baseline,containerId:S.containerId||null,originalText:_}),{})},T=function(S,_){var J=null,de=(0,he.tl)(S);de&&(J=U(de));var ve,ie,$=(0,he.X1)(_,(0,D.mO)(S),J),De=$.width,pe=$.height,ae=$.baseline,j=S.textAlign,V=S.verticalAlign;if(j!=="center"||V!==N.oX.MIDDLE||S.containerId){var oe=(0,Z.qf)(S),G=(0,E.Z)(oe,4),ye=G[0],K=G[1],H=G[2],L=G[3],I=(0,ee.wC)(S,De,pe,!1),F=(0,E.Z)(I,4),X=(ye-F[0])/2,le=(K-F[1])/2,q=(H-F[2])/2,Ce=(L-F[3])/2,te=(0,B.yq)({s:!0,e:j==="center"||j==="left",w:j==="center"||j==="right"},S.x,S.y,S.angle,X,le,q,Ce),me=(0,E.Z)(te,2);ve=me[0],ie=me[1]}else{var Re=(0,he.X1)(S.text,(0,D.mO)(S),J),Be=z(S,{width:De-Re.width,height:pe-Re.height});ve=S.x-Be.x,ie=S.y-Be.y}if(de){var Q=(0,he.S)(S),se=(0,he.HE)(de),ue=se.height,_e=se.width;pe>ue-2*Q&&(ue=pe+2*Q),De>_e-2*Q&&(_e=De+2*Q),(0,ke.Yv)(de)||ue===se.height&&_e===se.width||(0,R.DR)(de,{height:ue,width:_e})}return{width:De,height:pe,x:Number.isFinite(ve)?ve:S.x,y:Number.isFinite(ie)?ie:S.y,baseline:ae}},A=function(S){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:S.text,J=(0,he.tl)(S);J&&(_=(0,he.lD)(_,(0,D.mO)(S),U(J)));var de=T(S,_);return we({text:_},de)},U=function(S){var _=(0,he.HE)(S).width;if((0,ke.Yv)(S)){var J=_-8*N.gK*2;if(J<=0){var de=(0,he.WJ)(S);return de?de.width:8*N.gK*2}return J}return _-2*N.gK},P=function(S){var _=(0,he.HE)(S).height;if((0,ke.Yv)(S)){if(_-8*N.gK*2<=0){var J=(0,he.WJ)(S);return J?J.height:8*N.gK*2}return _}return _-2*N.gK},M=function(S,_){_.text;var J=_.isDeleted,de=_.originalText;return(0,R.BE)(S,we({originalText:de,isDeleted:J??S.isDeleted},A(S,de)))},C=function(S){return we(we({},Ee(S.type,S)),{},{points:S.points||[],pressures:[],simulatePressure:S.simulatePressure,lastCommittedPoint:null})},g=function(S){return we(we({},Ee(S.type,S)),{},{points:S.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:S.startArrowhead,endArrowhead:S.endArrowhead})},l=function(S){var _,J,de;return we(we({},Ee("image",S)),{},{strokeColor:"transparent",status:(_=S.status)!==null&&_!==void 0?_:"pending",fileId:(J=S.fileId)!==null&&J!==void 0?J:null,scale:(de=S.scale)!==null&&de!==void 0?de:[1,1]})},w=function S(_){var J=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;if(_==null||(0,v.Z)(_)!=="object")return _;if(Object.prototype.toString.call(_)==="[object Object]"){var de=typeof _.constructor=="function"?Object.create(Object.getPrototypeOf(_)):{};for(var ve in _)if(_.hasOwnProperty(ve)){if(J===0&&(ve==="shape"||ve==="canvas"))continue;de[ve]=S(_[ve],J+1)}return de}if(Array.isArray(_)){for(var ie=_.length,$=new Array(ie);ie--;)$[ie]=S(_[ie],J+1);return $}return _},y=function(S,_,J,de){var ve,ie,$=w(J);return(0,D.h2)()?($.id="".concat($.id,"_copy"),(ve=window.h)!==null&&ve!==void 0&&(ie=ve.app)!==null&&ie!==void 0&&ie.getSceneElementsIncludingDeleted().find(function(De){return De.id===$.id})&&($.id+="_copy")):$.id=(0,k.kb)(),$.boundElements=null,$.updated=(0,D.C3)(),$.seed=(0,k.LU)(),$.groupIds=(0,d.Qy)($.groupIds,S,function(De){return _.has(De)||_.set(De,(0,k.kb)()),_.get(De)}),de&&($=Object.assign($,de)),$}},8634:function(b,m,a){a.d(m,{LW:function(){return je},T:function(){return P},l2:function(){return re},vY:function(){return we},xx:function(){return U}});var v=a(7169),E=a(1930),h=a(2577),f=a(2335),D=a(5001),k=a(6552),R=a(8925),d=a(1974),Z=a(1935),B=a(6340),ee=a(8290),he=a(1564),N=a(5710),ke=a(2791);function Se(M,C){var g=Object.keys(M);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(M);C&&(l=l.filter(function(w){return Object.getOwnPropertyDescriptor(M,w).enumerable})),g.push.apply(g,l)}return g}var je=function(M){return M>=2*Math.PI?M-2*Math.PI:M},we=function(M,C,g,l,w,y,S,_,J,de,ve){if(g.length===1){var ie=(0,h.Z)(g,1)[0];return C==="rotation"?(Ee(ie,_,J,w,M.originalElements),(0,ee.Ww)(ie)):!(0,d.iB)(ie)||C!=="nw"&&C!=="ne"&&C!=="sw"&&C!=="se"?C&&re(M.originalElements,S,ie,C,y,_,J):(z(ie,C,y,_,J),(0,ee.Ww)(ie)),!0}if(g.length>1){if(C==="rotation")return A(M,g,_,J,w,de,ve),!0;if(C==="nw"||C==="ne"||C==="sw"||C==="se")return T(M,g,C,y,_,J),!0}return!1},Ee=function(M,C,g,l,w){var y=(0,R.qf)(M),S=(0,h.Z)(y,4),_=S[0],J=S[1],de=(_+S[2])/2,ve=(J+S[3])/2,ie=5*Math.PI/2+Math.atan2(g-ve,C-de);l&&(ie+=f.ay/2,ie-=ie%f.ay),ie=je(ie);var $=(0,N.xB)(M);if((0,Z.DR)(M,{angle:ie}),$){var De,pe=(De=he.Z.getScene(M))===null||De===void 0?void 0:De.getElement($);pe&&!(0,d.Yv)(M)&&(0,Z.DR)(pe,{angle:ie})}},Me=function(M,C,g){var l=M.width;if((0,d.Xh)(M)){var w=(0,N.tl)(M);w&&(l=(0,ke.jd)(w))}var y=M.fontSize*(C/l);if(y<1)return null;var S=(0,N.X1)(M.text,(0,B.mO)({fontSize:y,fontFamily:M.fontFamily}),M.containerId?l:null);return{size:y,baseline:S.baseline+(g-S.height)}},z=function(M,C,g,l,w){var y,S=(0,R.qf)(M),_=(0,h.Z)(S,4),J=_[0],de=_[1],ve=_[2],ie=_[3],$=(J+ve)/2,De=(de+ie)/2,pe=(0,k.U1)(l,w,$,De,-M.angle),ae=(0,h.Z)(pe,2),j=ae[0],V=ae[1];switch(C){case"se":y=Math.max((j-J)/(ve-J),(V-de)/(ie-de));break;case"nw":y=Math.max((ve-j)/(ve-J),(ie-V)/(ie-de));break;case"ne":y=Math.max((j-J)/(ve-J),(ie-V)/(ie-de));break;case"sw":y=Math.max((ve-j)/(ve-J),(V-de)/(ie-de))}if(y>0){var oe=M.width*y,G=M.height*y,ye=Me(M,oe,G);if(ye===null)return;var K=(0,R.wC)(M,oe,G,!1),H=(0,h.Z)(K,4),L=(J-H[0])/2,I=(de-H[1])/2,F=(ve-H[2])/2,X=(ie-H[3])/2,le=(0,k.yq)(function(me,Re){return{n:/^(n|ne|nw)$/.test(me)||Re&&/^(s|se|sw)$/.test(me),s:/^(s|se|sw)$/.test(me)||Re&&/^(n|ne|nw)$/.test(me),w:/^(w|nw|sw)$/.test(me)||Re&&/^(e|ne|se)$/.test(me),e:/^(e|ne|se)$/.test(me)||Re&&/^(w|nw|sw)$/.test(me)}}(C,g),M.x,M.y,M.angle,L,I,F,X),q=(0,h.Z)(le,2),Ce=q[0],te=q[1];(0,Z.DR)(M,{fontSize:ye.size,width:oe,height:G,baseline:ye.baseline,x:Ce,y:te})}},re=function(M,C,g,l,w,y,S){var _=M.get(g.id),J=(0,R.wC)(_,_.width,_.height,!0),de=(0,h.Z)(J,4),ve=[de[0],de[1]],ie=[de[2],de[3]],$=(0,k.H5)(ve,ie),De=(0,k.xj)([y,S],$,-_.angle),pe=(0,R.wC)(g,g.width,g.height,!0),ae=(0,h.Z)(pe,4),j=ae[0],V=ae[1],oe=ae[2]-j,G=ae[3]-V,ye=(ie[0]-ve[0])/oe,K=(ie[1]-ve[1])/G,H={},L=(0,N.WJ)(g);l.includes("e")&&(ye=(De[0]-ve[0])/oe),l.includes("s")&&(K=(De[1]-ve[1])/G),l.includes("w")&&(ye=(ie[0]-De[0])/oe),l.includes("n")&&(K=(ie[1]-De[1])/G);var I=_.width,F=_.height,X=g.width*ye,le=g.height*K;if(w&&(X=2*X-I,le=2*le-F),C){var q=Math.abs(X)/I,Ce=Math.abs(le)/F;if(l.length===1&&(le*=q,X*=Ce),l.length===2){var te=Math.max(q,Ce);X=I*te*Math.sign(X),le=F*te*Math.sign(le)}}if(L){var me=M.get(L.id);if(me&&(H={fontSize:me.fontSize,baseline:me.baseline}),C){var Re=(0,N.S)(L),Be=Me(L,X-2*Re,le-2*Re);if(Be===null)return;H={fontSize:Be.size,baseline:Be.baseline}}else{var Q=(0,N.AT)((0,B.mO)(L)),se=(0,N.w_)((0,B.mO)(L));X=Math.ceil(Math.max(X,Q)),le=Math.ceil(Math.max(le,se))}}var ue=(0,R.wC)(_,X,le,!0),_e=(0,h.Z)(ue,4),Ze=_e[0],Ge=_e[1],tt=_e[2],lt=_e[3],nt=tt-Ze,qe=lt-Ge,Ve=[].concat(ve);if(["n","w","nw"].includes(l)&&(Ve=[ie[0]-Math.abs(nt),ie[1]-Math.abs(qe)]),l==="ne"){var be=[ve[0],ie[1]];Ve=[be[0],be[1]-Math.abs(qe)]}if(l==="sw"){var Te=[ie[0],ve[1]];Ve=[Te[0]-Math.abs(nt),Te[1]]}C&&(["s","n"].includes(l)&&(Ve[0]=$[0]-nt/2),["e","w"].includes(l)&&(Ve[1]=$[1]-qe/2)),X<0&&(l.includes("e")&&(Ve[0]-=Math.abs(nt)),l.includes("w")&&(Ve[0]+=Math.abs(nt))),le<0&&(l.includes("s")&&(Ve[1]-=Math.abs(qe)),l.includes("n")&&(Ve[1]+=Math.abs(qe))),w&&(Ve[0]=$[0]-Math.abs(nt)/2,Ve[1]=$[1]-Math.abs(qe)/2);var Ae,Pe,We=_.angle,Ue=(0,k.xj)(Ve,$,We),Je=[Ve[0]+Math.abs(nt)/2,Ve[1]+Math.abs(qe)/2],et=(0,k.xj)(Je,$,We);Ve=(0,k.xj)(Ue,et,-We),((0,d.bt)(g)||(0,d.F9)(g))&&(Ae=(0,D.z)(1,le,_.points,!0),Pe=(0,D.z)(0,X,Ae,!0));var Qe=(0,E.Z)(Ve);Qe[0]+=_.x-Ze,Qe[1]+=_.y-Ge;var it={width:Math.abs(X),height:Math.abs(le),x:Qe[0],y:Qe[1],points:Pe};"scale"in g&&"scale"in _&&(0,Z.DR)(g,{scale:[(Math.sign(tt-_.x)||_.scale[0])*_.scale[0],(Math.sign(lt-_.y)||_.scale[1])*_.scale[1]]}),it.width!==0&&it.height!==0&&Number.isFinite(it.x)&&Number.isFinite(it.y)&&((0,ee.Ww)(g,{newSize:{width:it.width,height:it.height}}),(0,Z.DR)(g,it),L&&H&&(0,Z.DR)(L,{fontSize:H.fontSize}),(0,N.RB)(g,l))},T=function(M,C,g,l,w,y){var S=C.reduce(function(I,F){var X=M.originalElements.get(F.id);return X&&I.push({orig:X,latest:F}),I},[]),_=(0,R.v2)(S.map(function(I){return I.orig})),J=_.minX,de=_.minY,ve=_.maxX,ie=_.maxY,$=_.midX,De=_.midY,pe=g,ae=l?[$,De]:{ne:[J,ie],se:[J,de],sw:[ve,de],nw:[ve,ie]}[pe],j=(0,h.Z)(ae,2),V=j[0],oe=j[1],G={ne:[w>=V,y<=oe],se:[w>=V,y>=oe],sw:[w<=V,y>=oe],nw:[w<=V,y<=oe]}[pe].map(function(I){return I?1:-1}),ye=(0,h.Z)(G,2),K=ye[0],H=ye[1];if(!(K<0&&H<0)){var L=Math.max(K*Math.abs(w-V)/(ve-J),H*Math.abs(y-oe)/(ie-de))*(l?2:1);L!==0&&S.forEach(function(I){var F=I.orig.width*L,X=I.orig.height*L,le=V+(I.orig.x-V)*L,q=oe+(I.orig.y-oe)*L,Ce=function(se,ue,_e,Ze){return(0,d.bt)(se)||(0,d.F9)(se)?{points:(0,D.z)(0,ue,(0,D.z)(1,_e,se.points,Ze),Ze)}:{}}(I.orig,F,X,!1),te=function(se){for(var ue=1;ue<arguments.length;ue++){var _e=arguments[ue]!=null?arguments[ue]:{};ue%2?Se(Object(_e),!0).forEach(function(Ze){(0,v.Z)(se,Ze,_e[Ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(_e)):Se(Object(_e)).forEach(function(Ze){Object.defineProperty(se,Ze,Object.getOwnPropertyDescriptor(_e,Ze))})}return se}({width:F,height:X,x:le,y:q},Ce),me=null,Re=(0,N.WJ)(I.latest);if(Re||(0,d.iB)(I.orig)){var Be=2*(0,N.S)(Re),Q=Me(Re??I.orig,F-Be,X-Be);if(!Q)return;(0,d.iB)(I.orig)&&(te.fontSize=Q.size,te.baseline=Q.baseline),Re&&(me={fontSize:Q.size,baseline:Q.baseline})}(0,ee.Ww)(I.latest,{newSize:{width:F,height:X}}),(0,Z.DR)(I.latest,te),Re&&me&&((0,Z.DR)(Re,me),(0,N.RB)(I.latest,g))})}},A=function(M,C,g,l,w,y,S){var _=5*Math.PI/2+Math.atan2(l-S,g-y);w&&(_+=f.ay/2,_-=_%f.ay),C.forEach(function(J){var de,ve,ie=(0,R.qf)(J),$=(0,h.Z)(ie,4),De=$[0],pe=$[1],ae=(De+$[2])/2,j=(pe+$[3])/2,V=(de=(ve=M.originalElements.get(J.id))===null||ve===void 0?void 0:ve.angle)!==null&&de!==void 0?de:J.angle,oe=(0,k.U1)(ae,j,y,S,_+V-J.angle),G=(0,h.Z)(oe,2),ye=G[0],K=G[1];(0,Z.DR)(J,{x:J.x+(ye-ae),y:J.y+(K-j),angle:je(_+V)});var H=(0,N.xB)(J);if(H){var L,I=(L=he.Z.getScene(J))===null||L===void 0?void 0:L.getElement(H);I&&!(0,d.Yv)(J)&&(0,Z.DR)(I,{x:I.x+(ye-ae),y:I.y+(K-j),angle:je(_+V)})}})},U=function(M,C,g,l){var w=C.length===1?(0,R.qf)(C[0]):(0,R.KP)(C),y=(0,h.Z)(w,4),S=y[0],_=y[1],J=y[2],de=y[3],ve=(S+J)/2,ie=(_+de)/2,$=C.length===1?C[0].angle:0,De=(0,k.U1)(g,l,ve,ie,-$),pe=(0,h.Z)(De,2);switch(g=pe[0],l=pe[1],M){case"n":return(0,k.U1)(g-(S+J)/2,l-_,0,0,$);case"s":return(0,k.U1)(g-(S+J)/2,l-de,0,0,$);case"w":return(0,k.U1)(g-S,l-(_+de)/2,0,0,$);case"e":return(0,k.U1)(g-J,l-(_+de)/2,0,0,$);case"nw":return(0,k.U1)(g-S,l-_,0,0,$);case"ne":return(0,k.U1)(g-J,l-_,0,0,$);case"sw":return(0,k.U1)(g-S,l-de,0,0,$);case"se":return(0,k.U1)(g-J,l-de,0,0,$);default:return[0,0]}},P=function(M,C){var g=(0,h.Z)(C.points,2),l=(0,h.Z)(g[1],2),w=l[0],y=l[1];return M==="nw"&&(w<0||y<0)||M==="ne"&&w>=0||M==="sw"&&w<=0||M==="se"&&(w>0||y>0)?"end":"origin"}},5710:function(b,m,a){a.d(m,{AT:function(){return l},HE:function(){return de},H_:function(){return ie},OW:function(){return pe},P7:function(){return Ee},RB:function(){return Me},S:function(){return $},TP:function(){return ve},WJ:function(){return _},X1:function(){return re},Zr:function(){return ae},bG:function(){return je},cn:function(){return De},hP:function(){return U},lD:function(){return C},mY:function(){return M},oN:function(){return we},tl:function(){return J},w_:function(){return w},xB:function(){return S}});var v,E,h=a(2577),f=a(1930),D=a(6340),k=a(1935),R=a(2335),d=a(1564),Z=a(1047),B=a(2791),ee=a(1974),he=a(6938),N=a(75),ke=a(2325),Se=a(6906),je=function(j){return j.replace(/\t/g,"        ").replace(/\r?\n|\r/g,`
`)},we=function(j,V){var oe=void 0,G=j.text;V&&(oe=(0,B.jd)(V),G=C(j.originalText,(0,D.mO)(j),oe));var ye=re(G,(0,D.mO)(j),oe),K=j.y,H=j.x;if(V)if((0,ee.Yv)(V)){var L=j.x+j.width/2,I=j.y+j.height/2,F=ye.width-j.width,X=ye.height-j.height;K=I-(j.height+X)/2,H=L-(j.width+F)/2}else{var le=de(V),q=le.height;j.verticalAlign===R.oX.TOP?K=V.y:j.verticalAlign===R.oX.BOTTOM?K=V.y+le.height-ye.height-R.gK:(K=V.y+le.height/2-ye.height/2,ye.height>(0,B.N2)(V)&&(q=ye.height+2*R.gK,K=V.y+q/2-ye.height/2)),H=j.textAlign===R.I8.LEFT?V.x+R.gK:j.textAlign===R.I8.RIGHT?V.x+le.width-ye.width-R.gK:V.x+le.width/2-ye.width/2,(0,Se.h_)(V.id,q),(0,k.DR)(V,{height:q})}(0,k.DR)(j,{width:ye.width,height:ye.height,baseline:ye.baseline,y:K,x:H,text:G})},Ee=function(j,V,oe){var G=(0,D.xn)(j);V.forEach(function(ye){var K=oe.get(ye.id),H=S(ye);if(H){var L=oe.get(H);if(L){var I=G.get(K);I&&(0,k.DR)(I,{boundElements:(I.boundElements||[]).concat({type:"text",id:L})});var F=G.get(L);F&&(0,Z.iB)(F)&&(0,k.DR)(F,{containerId:I?K:null})}}})},Me=function(j,V){var oe=S(j);if(oe){(0,Se.kT)(j.id);var G=d.Z.getScene(j).getElement(oe);if(G&&G.text){if(!j)return;var ye=(G=d.Z.getScene(j).getElement(oe)).text,K=G.height,H=G.width,L=de(j),I=(0,B.jd)(j),F=(0,B.N2)(j),X=L.height,le=G.baseline;if(V!=="n"&&V!=="s"){ye&&(ye=C(G.originalText,(0,D.mO)(G),I));var q=re(ye,(0,D.mO)(G),I);K=q.height,H=q.width,le=q.baseline}if(K>F){var Ce=(X=K+2*$(G))-L.height,te=(0,ee.Yv)(j)||V!=="ne"&&V!=="nw"&&V!=="n"?j.y:j.y-Ce;(0,k.DR)(j,{height:X,y:te})}(0,k.DR)(G,{text:ye,width:H,height:K,baseline:le}),(0,ee.Yv)(j)||z(j,G)}}},z=function(j,V){var oe,G=de(j),ye=$(V);oe=V.verticalAlign===R.oX.TOP?j.y+ye:V.verticalAlign===R.oX.BOTTOM?j.y+G.height-V.height-ye:j.y+G.height/2-V.height/2;var K=V.textAlign===R.I8.LEFT?j.x+ye:V.textAlign===R.I8.RIGHT?j.x+G.width-V.width-ye:j.x+G.width/2-V.width/2;(0,k.DR)(V,{x:K,y:oe})},re=function(j,V,oe){j=j.split(`
`).map(function(F){return F||" "}).join(`
`);var G=document.createElement("div");if(G.style.position="absolute",G.style.whiteSpace="pre",G.style.font=V,G.style.minHeight="1em",oe){var ye=U(V);G.style.maxWidth="".concat(oe+1,"px"),G.style.overflow="hidden",G.style.wordBreak="break-word",G.style.lineHeight="".concat(String(ye),"px"),G.style.whiteSpace="pre-wrap"}document.body.appendChild(G),G.innerText=j;var K=document.createElement("span");K.style.display="inline-block",K.style.overflow="hidden",K.style.width="1px",K.style.height="1px",G.appendChild(K);var H=K.offsetTop+K.offsetHeight,L=G.offsetWidth+1,I=G.offsetHeight;return document.body.removeChild(G),(0,D.h2)()?{width:L,height:I,baseline:H,container:G}:{width:L,height:I,baseline:H}},T="ABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789".toLocaleUpperCase(),A={},U=function(j){return A[j]||(A[j]=re(T,j,null).height),A[j]},P=function(j,V){v||(v=document.createElement("canvas"));var oe=v.getContext("2d");oe.font=V;var G=oe.measureText(j);return(0,D.h2)()?10*G.width:G.width+.2},M=function(j,V){var oe=j.split(`
`),G=0;return oe.forEach(function(ye){G=Math.max(G,P(ye,V))}),G},C=function(j,V,oe){var G=[],ye=j.split(`
`),K=P(" ",V),H=function(L){L.trim()&&G.push(L)};return ye.forEach(function(L){var I=L.split(" ");if(I.length!==1||I[0]!==""){for(var F="",X=0,le=0;le<I.length;)if(P(I[le],V)>=oe){for(H(F),F="",X=0;I[le].length>0;){var q=String.fromCodePoint(I[le].codePointAt(0)),Ce=g.calculate(q,V);X+=Ce,I[le]=I[le].slice(q.length),X>=oe?(F.slice(-1)===" "&&(F=F.slice(0,-1)),H(F),F=q,X=Ce):F+=q}X+K>=oe?(H(F),F="",X=0):(F+=" ",X+=K),le++}else{for(;X<oe&&le<I.length;){var te=I[le];if((X=P(F+te,V))>=oe){H(F),X=0,F="";break}if(le++,F+="".concat(te," "),X+K>=oe){var me=F.slice(0,-1);H(me),F="",X=0;break}}X===oe&&(F="",X=0)}F&&(F.slice(-1)===" "&&(F=F.slice(0,-1)),H(F))}else G.push(I[0])}),G.join(`
`)},g=(E={},{calculate:function(j,V){var oe=j.charCodeAt(0);if(E[V]||(E[V]=[]),!E[V][oe]){var G=P(j,V);E[V][oe]=G}return E[V][oe]},getCache:function(j){return E[j]}}),l=function(j){var V=y(j);return V===0?re(T.split("").join(`
`),j).width+2*R.gK:V+2*R.gK},w=function(j){return U(j)+2*R.gK},y=function(j){var V=g.getCache(j);if(!V)return 0;var oe=V.filter(function(G){return G!==void 0});return Math.max.apply(Math,(0,f.Z)(oe))},S=function(j){var V,oe,G;return j!=null&&(V=j.boundElements)!==null&&V!==void 0&&V.length&&(j==null||(oe=j.boundElements)===null||oe===void 0||(G=oe.filter(function(ye){return ye.type==="text"})[0])===null||G===void 0?void 0:G.id)||null},_=function(j){if(!j)return null;var V,oe=S(j);return oe&&((V=d.Z.getScene(j))===null||V===void 0?void 0:V.getElement(oe))||null},J=function(j){return j&&j.containerId&&((V=d.Z.getScene(j))===null||V===void 0?void 0:V.getElement(j.containerId))||null;var V},de=function(j){return(0,ee.Yv)(j)?{width:Math.max(j.width,300),height:j.height}:{width:j.width,height:j.height}},ve=function(j,V){if(!(0,ee.Yv)(j))return{x:j.x+j.width/2,y:j.y+j.height/2};var oe=he._.getPointsGlobalCoordinates(j);if(oe.length%2==1){var G=Math.floor(j.points.length/2),ye=he._.getPointGlobalCoordinates(j,j.points[G]);return{x:ye[0],y:ye[1]}}var K=j.points.length/2-1,H=he._.getEditorMidPoints(j,V)[K];return H||(H=he._.getSegmentMidPoint(j,oe[K],oe[K+1],K+1)),{x:H[0],y:H[1]}},ie=function(j){var V=J(j);return!V||(0,ee.Yv)(V)?j.angle:V.angle},$=function(j){var V=J(j);return V?(0,ee.Yv)(V)?8*R.gK:R.gK:0},De=function(j){return j.some(function(V){if((0,ee.Xh)(V)){var oe=J(V);return!(0,Z.iB)(V)||!(0,ee.Yv)(oe)}return!!_(V)&&!(0,ee.Yv)(V)})},pe=function(j,V,oe,G){var ye=(0,N.eD)(j,V);if(ye.length===1)return(0,ee.mG)(ye[0],!1)?ye[0]:null;for(var K=null,H=j.length-1;H>=0;--H)if(!j[H].isDeleted){var L=(0,Z.qf)(j[H]),I=(0,h.Z)(L,4),F=I[0],X=I[1],le=I[2],q=I[3];if((0,ee.Yv)(j[H])&&(0,ke.Qu)(j[H],V,[oe,G])){K=j[H];break}if(F<oe&&oe<le&&X<G&&G<q){K=j[H];break}}return(0,ee.mG)(K,!1)?K:null},ae=function(j){return j.type==="rectangle"||j.type==="ellipse"||j.type==="diamond"||(0,ee.pC)(j)||(0,ee.Yv)(j)}},6906:function(b,m,a){a.d(m,{b_:function(){return T},eR:function(){return re},h_:function(){return Me},kT:function(){return z}});var v=a(8950),E=a(2577),h=a(2975),f=a.n(h),D=a(6066),k=a(6340),R=a(1564),d=a(1974),Z=a(2335),B=a(1935),ee=a(5710),he=a(6208),N=a(2416),ke=a(2791),Se=a(6938),je=a(6665),we=function(A,U,P,M,C,g){var l=M.zoom,w=180*P/Math.PI,y=A*(l.value-1)/2,S=U*(l.value-1)/2;return A>C&&l.value!==1&&(y=C*(l.value-1)/2),U>g&&l.value!==1&&(S=g*(l.value-1)/2),"translate(".concat(y,"px, ").concat(S,"px) scale(").concat(l.value,") rotate(").concat(w,"deg)")},Ee={},Me=function(A,U){var P=Ee[A]||(Ee[A]={height:U});return P.height=U,P},z=function(A){Ee[A]&&delete Ee[A]},re=function(A){var U,P;return(U=(P=Ee[A])===null||P===void 0?void 0:P.height)!==null&&U!==void 0?U:null},T=function(A){var U=A.id,P=A.onChange,M=A.onSubmit,C=A.getViewportCoords,g=A.element,l=A.canvas,w=A.excalidrawContainer,y=A.app,S=function(){var I,F=y.state,X=(I=R.Z.getScene(g))===null||I===void 0?void 0:I.getElement(U);if(X){var le=X.textAlign,q=X.verticalAlign,Ce=(0,ee.hP)((0,k.mO)(X));if(X&&(0,d.iB)(X)){var te=X.x,me=X.y,Re=(0,ee.tl)(X),Be=X.width,Q=X.height,se=X.width,ue=X.height;if(Re&&X.containerId){if((0,d.Yv)(Re)){var _e=Se._.getBoundTextElementPosition(Re,X);te=_e.x,me=_e.y}var Ze,Ge=function(ft,yt){if(!yt.style.fontFamily||!yt.style.fontSize)return!1;var ut=yt.style.fontFamily.replace(/"/g,"");return(0,k.$g)({fontFamily:ft.fontFamily})!==ut||"".concat(ft.fontSize,"px")!==yt.style.fontSize}(X,_),tt=(0,ee.HE)(Re),lt=Number(_.style.height.slice(0,-2));if(lt>0&&(ue=lt),Ge&&(ue=X.height),Ge?Ze=Me(Re.id,tt.height):(Ze=Ee[Re.id])||(Ze=Me(Re.id,tt.height)),Be=(0,ke.jd)(Re),Q=(0,ke.N2)(Re),!(0,d.Yv)(Re)&&ue>Q){var nt=Math.min(ue-Q,Ce);return void(0,B.DR)(Re,{height:tt.height+nt})}if(!(0,d.Yv)(Re)&&tt.height>Ze.height&&ue<Q){var qe=Math.min(Q-ue,Ce);(0,B.DR)(Re,{height:tt.height-qe})}else q===Z.oX.MIDDLE&&((0,d.Yv)(Re)||(me=Re.y+tt.height/2-ue/2)),q===Z.oX.BOTTOM&&(me=Re.y+tt.height-ue-(0,ee.S)(X))}var Ve=C(te,me),be=(0,E.Z)(Ve,2),Te=be[0],Ae=be[1],Pe=_.selectionStart,We=_.selectionEnd,Ue=_.value.length;if(_.value=X.originalText,Pe===We&&We!==Ue){var Je=Ue-We;_.selectionStart=_.value.length-Je,_.selectionEnd=_.value.length-Je}var et=X.originalText.split(`
`),Qe=X.containerId?Ce:X.height/et.length;Re||(Be=(F.width-8-Te)/F.zoom.value);var it=(F.height-Ae)/F.zoom.value;Object.assign(_.style,{font:(0,k.mO)(X),lineHeight:"".concat(Qe,"px"),width:"".concat(Math.min(se,Be),"px"),height:"".concat(ue,"px"),left:"".concat(Te,"px"),top:"".concat(Ae,"px"),transform:we(se,ue,(0,ee.H_)(X),F,Be,it),textAlign:le,verticalAlign:q,color:X.strokeColor,opacity:X.opacity/100,filter:"var(--theme-filter)",maxHeight:"".concat(it,"px")}),(0,k.h2)()&&(_.style.fontFamily=(0,k.$g)(X)),(0,B.DR)(X,{x:te,y:me})}}},_=document.createElement("textarea");_.dir="auto",_.tabIndex=0,_.dataset.type="wysiwyg",_.wrap="off",_.classList.add("excalidraw-wysiwyg");var J="pre",de="normal";(0,d.Xh)(g)&&(J="pre-wrap",de="break-word"),Object.assign(_.style,{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",zIndex:"var(--zIndex-wysiwyg)",wordBreak:de,whiteSpace:J,overflowWrap:"break-word",boxSizing:"content-box"}),S(),P&&(_.onpaste=function(){var I=(0,v.Z)(f().mark(function F(X){var le,q,Ce,te,me,Re;return f().wrap(function(Be){for(;;)switch(Be.prev=Be.next){case 0:return Be.next=2,(0,je.mQ)(X,!0);case 2:if((le=Be.sent).text){Be.next=5;break}return Be.abrupt("return");case 5:if(q=(0,ee.bG)(le.text)){Be.next=8;break}return Be.abrupt("return");case 8:Ce=(0,ee.tl)(g),te=(0,k.mO)({fontSize:y.state.currentItemFontSize,fontFamily:y.state.currentItemFontFamily}),Ce&&(me=(0,ee.lD)("".concat(_.value).concat(q),te,(0,ke.jd)(Ce)),Re=(0,ee.mY)(me,te),_.style.width="".concat(Re,"px"));case 11:case"end":return Be.stop()}},F)}));return function(F){return I.apply(this,arguments)}}(),_.oninput=function(){var I,F=(I=R.Z.getScene(g))===null||I===void 0?void 0:I.getElement(U),X=(0,k.mO)(F),le=Math.round(_.scrollHeight/(0,ee.hP)(X));if((0,d.Xh)(g)&&le>1){var q=(0,ee.tl)(g),Ce="auto";_.style.height="0px";var te=!1;le===2&&(0,ee.lD)(_.value,X,(0,ke.jd)(q)).split(`
`).length===1&&(Ce="".concat(_.scrollHeight/2,"px"),_.style.height=Ce,te=!0);var me=(0,ee.lD)((0,ee.bG)(_.value),X,(0,ke.jd)(q)),Re=(0,ee.mY)(me,X);_.style.width="".concat(Re,"px"),te||(_.style.height="".concat(_.scrollHeight,"px"))}P((0,ee.bG)(_.value))}),_.onkeydown=function(I){if(!I.shiftKey&&N.Lo.keyTest(I))I.preventDefault(),y.actionManager.executeAction(N.Lo),S();else if(!I.shiftKey&&N.CZ.keyTest(I))I.preventDefault(),y.actionManager.executeAction(N.CZ),S();else if(he.Tu.keyTest(I))y.actionManager.executeAction(he.Tu);else if(he.Zq.keyTest(I))y.actionManager.executeAction(he.Zq);else if(I.key===D.tW.ESCAPE)I.preventDefault(),j=!0,V();else if(I.key===D.tW.ENTER&&I[D.tW.CTRL_OR_CMD]){if(I.preventDefault(),I.isComposing||I.keyCode===229)return;j=!0,V()}else(I.key===D.tW.TAB||I[D.tW.CTRL_OR_CMD]&&(I.code===D.aU.BRACKET_LEFT||I.code===D.aU.BRACKET_RIGHT))&&(I.preventDefault(),I.shiftKey||I.code===D.aU.BRACKET_LEFT?De():$(),_.dispatchEvent(new Event("input")))};var ve=" ".repeat(4),ie=new RegExp("^ {1,".concat(4,"}")),$=function(){var I=_.selectionStart,F=_.selectionEnd,X=pe(),le=_.value;X.forEach(function(q){var Ce=le.slice(0,q),te=le.slice(q);le="".concat(Ce).concat(ve).concat(te)}),_.value=le,_.selectionStart=I+4,_.selectionEnd=F+4*X.length},De=function(){var I=_.selectionStart,F=_.selectionEnd,X=pe(),le=[],q=_.value;X.forEach(function(Ce){var te=q.slice(Ce,Ce+4).match(ie);if(te){var me=q.slice(0,Ce),Re=q.slice(Ce+te[0].length);q="".concat(me).concat(Re),le.push(Ce)}}),_.value=q,le.length&&(I>le[le.length-1]?_.selectionStart=Math.max(I-4,le[le.length-1]):_.selectionStart=I,_.selectionEnd=Math.max(_.selectionStart,F-4*le.length))},pe=function(){var I=_.selectionStart,F=_.selectionEnd,X=_.value,le=X.slice(0,I).match(/[^\n]*$/)[0].length;return I-=le,X.slice(I,F).split(`
`).reduce(function(q,Ce,te,me){return q.concat(te?q[te-1]+me[te-1].length+1:I)},[]).reverse()},ae=function(I){I.preventDefault(),I.stopPropagation()},j=!1,V=function(){var I;oe();var F=(I=R.Z.getScene(g))===null||I===void 0?void 0:I.getElement(g.id);if(F){var X=_.value,le=(0,ee.tl)(F);if(le)if(X=F.text,_.value.trim()){var q=(0,ee.xB)(le);q&&q===g.id||(0,B.DR)(le,{boundElements:(le.boundElements||[]).concat({type:"text",id:g.id})})}else{var Ce;(0,B.DR)(le,{boundElements:(Ce=le.boundElements)===null||Ce===void 0?void 0:Ce.filter(function(te){return!(0,d.iB)(te)})})}M({text:X,viaKeyboard:j,originalText:_.value})}},oe=function(){H||(H=!0,_.onblur=null,_.oninput=null,_.onkeydown=null,L&&L.disconnect(),window.removeEventListener("resize",S),window.removeEventListener("wheel",ae,!0),window.removeEventListener("pointerdown",ye),window.removeEventListener("pointerup",G),window.removeEventListener("blur",V),K(),_.remove())},G=function I(F){window.removeEventListener("pointerup",I);var X=F==null?void 0:F.target,le=X instanceof HTMLInputElement&&X.closest(".color-picker-input")&&(0,k.s)(X);setTimeout(function(){_.onblur=V,X&&le&&(X.onblur=function(){_.focus()}),le||_.focus()})},ye=function(I){var F=I.target instanceof HTMLInputElement&&I.target.closest(".color-picker-input")&&(0,k.s)(I.target);((I.target instanceof HTMLElement||I.target instanceof SVGElement)&&I.target.closest(".".concat(Z.$C.SHAPE_ACTIONS_MENU))&&!(0,k.s)(I.target)||F)&&(_.onblur=null,window.addEventListener("pointerup",G),window.addEventListener("blur",V))},K=R.Z.getScene(g).addCallback(function(){var I;S(),!((I=document.activeElement)===null||I===void 0||!I.closest(".color-picker-input"))||_.focus()}),H=!1;_.select(),G();var L=null;l&&"ResizeObserver"in window?(L=new window.ResizeObserver(function(){S()})).observe(l):window.addEventListener("resize",S),window.addEventListener("pointerdown",ye),window.addEventListener("wheel",ae,{passive:!1,capture:!0}),w==null||w.querySelector(".excalidraw-textEditorContainer").appendChild(_)}},267:function(b,m,a){a.d(m,{PC:function(){return ke},kK:function(){return N},oY:function(){return Se},ox:function(){return d}});var v=a(2577),E=a(8925),h=a(6552),f=a(1047),D=a(1974),k=a(3547),R={mouse:8,pen:16,touch:28},d={e:!0,s:!0,n:!0,w:!0},Z={e:!0,s:!0,n:!0,w:!0},B={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},ee={e:!0,s:!0,n:!0,w:!0},he=function(je,we,Ee,Me,z,re,T){var A=(0,h.U1)(je+Ee/2,we+Me/2,z,re,T),U=(0,v.Z)(A,2);return[U[0]-Ee/2,U[1]-Me/2,Ee,Me]},N=function(je,we,Ee,Me){var z=(0,v.Z)(je,6),re=z[0],T=z[1],A=z[2],U=z[3],P=z[4],M=z[5],C=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},g=arguments.length>5&&arguments[5]!==void 0?arguments[5]:4,l=R[Me],w=l/Ee.value,y=l/Ee.value,S=l/Ee.value,_=l/Ee.value,J=A-re,de=U-T,ve=g/Ee.value,ie=(l-2*k.Lu)/(2*Ee.value),$={nw:C.nw?void 0:he(re-ve-S+ie,T-ve-_+ie,w,y,P,M,we),ne:C.ne?void 0:he(A+ve-ie,T-ve-_+ie,w,y,P,M,we),sw:C.sw?void 0:he(re-ve-S+ie,U+ve-ie,w,y,P,M,we),se:C.se?void 0:he(A+ve-ie,U+ve-ie,w,y,P,M,we),rotation:C.rotation?void 0:he(re+J/2-w/2,T-ve-_+ie-16/Ee.value,w,y,P,M,we)},De=5*R.mouse/Ee.value;return Math.abs(J)>De&&(C.n||($.n=he(re+J/2-w/2,T-ve-_+ie,w,y,P,M,we)),C.s||($.s=he(re+J/2-w/2,U+ve-ie,w,y,P,M,we))),Math.abs(de)>De&&(C.w||($.w=he(re-ve-S+ie,T+de/2-y/2,w,y,P,M,we)),C.e||($.e=he(A+ve-ie,T+de/2-y/2,w,y,P,M,we))),$},ke=function(je,we){var Ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"mouse";if(je.locked)return{};var Me={};if(je.type==="freedraw"||(0,D.bt)(je)){if(je.points.length===2){var z=(0,v.Z)(je.points,2),re=z[1];re[0]===0||re[1]===0?Me=ee:re[0]>0&&re[1]<0?Me=B:re[0]>0&&re[1]>0?Me=ee:re[0]<0&&re[1]>0?Me=B:re[0]<0&&re[1]<0&&(Me=ee)}}else(0,f.iB)(je)&&(Me=Z);var T=(0,D.bt)(je)?k.Lu+8:k.Lu;return N((0,E.qf)(je,!0),je.angle,we,Ee,Me,T)},Se=function(je,we){if(we.editingLinearElement)return!1;if(je.length>1)return!0;var Ee=je[0];return!(0,D.bt)(Ee)||Ee.points.length>2}},1974:function(b,m,a){a.d(m,{F9:function(){return D},Lx:function(){return ee},Mn:function(){return B},QI:function(){return we},UQ:function(){return Me},Xh:function(){return je},Xo:function(){return Se},Yv:function(){return d},bt:function(){return R},dt:function(){return Z},eK:function(){return Ee},f0:function(){return he},iB:function(){return f},mG:function(){return N},pC:function(){return h},r2:function(){return ke},wi:function(){return E}});var v=a(2335),E=function(z){return!!z&&z.type==="image"&&!!z.fileId},h=function(z){return!!z&&z.type==="image"},f=function(z){return z!=null&&z.type==="text"},D=function(z){return z!=null&&k(z.type)},k=function(z){return z==="freedraw"},R=function(z){return z!=null&&Z(z.type)},d=function(z){return z!=null&&z.type==="arrow"},Z=function(z){return z==="arrow"||z==="line"},B=function(z){var re=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return z!=null&&(!z.locked||re===!0)&&ee(z.type)},ee=function(z){return z==="arrow"},he=function(z){var re=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return!(z==null||z.locked&&re!==!0||z.type!=="rectangle"&&z.type!=="diamond"&&z.type!=="ellipse"&&z.type!=="image"&&(z.type!=="text"||z.containerId))},N=function(z){var re=!(arguments.length>1&&arguments[1]!==void 0)||arguments[1];return z!=null&&(!z.locked||re===!0)&&(z.type==="rectangle"||z.type==="diamond"||z.type==="ellipse"||z.type==="image"||d(z))},ke=function(z){return(z==null?void 0:z.type)==="text"||(z==null?void 0:z.type)==="diamond"||(z==null?void 0:z.type)==="rectangle"||(z==null?void 0:z.type)==="ellipse"||(z==null?void 0:z.type)==="arrow"||(z==null?void 0:z.type)==="freedraw"||(z==null?void 0:z.type)==="line"},Se=function(z){var re;return he(z)&&!((re=z.boundElements)===null||re===void 0||!re.some(function(T){return T.type==="text"}))},je=function(z){return z!==null&&"containerId"in z&&z.containerId!==null&&f(z)},we=function(z){return z==="rectangle"},Ee=function(z,re){return!(z!==v.a6.ADAPTIVE_RADIUS&&z!==v.a6.LEGACY||!we(re.type))||z===v.a6.PROPORTIONAL_RADIUS&&((T=re.type)==="line"||T==="arrow"||T==="diamond");var T},Me=function(z){return z.type==="arrow"||z.type==="line"||z.type==="diamond"?{type:v.a6.PROPORTIONAL_RADIUS}:z.type==="rectangle"?{type:v.a6.ADAPTIVE_RADIUS}:null}},6797:function(b,m,a){a.d(m,{_:function(){return he},l:function(){return ee}});var v=a(5169),E=a(8821),h=a(2248),f=a(7245),D=a(2312),k=a(5901);function R(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function d(N,ke,Se){return d=R()?Reflect.construct.bind():function(je,we,Ee){var Me=[null];Me.push.apply(Me,we);var z=new(Function.bind.apply(je,Me));return Ee&&(0,k.Z)(z,Ee.prototype),z},d.apply(null,arguments)}function Z(N){var ke=typeof Map=="function"?new Map:void 0;return Z=function(Se){if(Se===null||(je=Se,Function.toString.call(je).indexOf("[native code]")===-1))return Se;var je;if(typeof Se!="function")throw new TypeError("Super expression must either be null or a function");if(ke!==void 0){if(ke.has(Se))return ke.get(Se);ke.set(Se,we)}function we(){return d(Se,arguments,(0,D.Z)(this).constructor)}return we.prototype=Object.create(Se.prototype,{constructor:{value:we,enumerable:!1,writable:!0,configurable:!0}}),(0,k.Z)(we,Se)},Z(N)}function B(N){var ke=function(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Se,je=(0,D.Z)(N);if(ke){var we=(0,D.Z)(this).constructor;Se=Reflect.construct(je,arguments,we)}else Se=je.apply(this,arguments);return(0,f.Z)(this,Se)}}var ee=function(N){(0,h.Z)(Se,N);var ke=B(Se);function Se(){var je,we=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Couldn't export canvas.",Ee=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"CANVAS_ERROR";return(0,E.Z)(this,Se),(je=ke.call(this)).name=Ee,je.message=we,je}return(0,v.Z)(Se)}(Z(Error)),he=function(N){(0,h.Z)(Se,N);var ke=B(Se);function Se(){var je=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"Request Aborted";return(0,E.Z)(this,Se),ke.call(this,je,"AbortError")}return(0,v.Z)(Se)}(Z(DOMException))},242:function(b,m,a){a.d(m,{AI:function(){return T},F$:function(){return B},Fb:function(){return we},Nd:function(){return je},Qy:function(){return Me},S_:function(){return z},YS:function(){return Ee},bO:function(){return ke},h6:function(){return re},iE:function(){return Se},iJ:function(){return N},yO:function(){return he},zq:function(){return ee}});var v=a(1930),E=a(2577),h=a(7169),f=a(75),D=a(5710);function k(A,U){var P=typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(!P){if(Array.isArray(A)||(P=function(y,S){if(y){if(typeof y=="string")return R(y,S);var _=Object.prototype.toString.call(y).slice(8,-1);if(_==="Object"&&y.constructor&&(_=y.constructor.name),_==="Map"||_==="Set")return Array.from(y);if(_==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(_))return R(y,S)}}(A))||U&&A&&typeof A.length=="number"){P&&(A=P);var M=0,C=function(){};return{s:C,n:function(){return M>=A.length?{done:!0}:{done:!1,value:A[M++]}},e:function(y){throw y},f:C}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,l=!0,w=!1;return{s:function(){P=P.call(A)},n:function(){var y=P.next();return l=y.done,y},e:function(y){w=!0,g=y},f:function(){try{l||P.return==null||P.return()}finally{if(w)throw g}}}}function R(A,U){(U==null||U>A.length)&&(U=A.length);for(var P=0,M=new Array(U);P<U;P++)M[P]=A[P];return M}function d(A,U){var P=Object.keys(A);if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(A);U&&(M=M.filter(function(C){return Object.getOwnPropertyDescriptor(A,C).enumerable})),P.push.apply(P,M)}return P}function Z(A){for(var U=1;U<arguments.length;U++){var P=arguments[U]!=null?arguments[U]:{};U%2?d(Object(P),!0).forEach(function(M){(0,h.Z)(A,M,P[M])}):Object.getOwnPropertyDescriptors?Object.defineProperties(A,Object.getOwnPropertyDescriptors(P)):d(Object(P)).forEach(function(M){Object.defineProperty(A,M,Object.getOwnPropertyDescriptor(P,M))})}return A}var B=function(A,U,P){var M=P.filter(function(C){return C.groupIds.includes(A)});return M.length<2?U.selectedGroupIds[A]||U.editingGroupId===A?Z(Z({},U),{},{selectedGroupIds:Z(Z({},U.selectedGroupIds),{},(0,h.Z)({},A,!1)),editingGroupId:null}):U:Z(Z({},U),{},{selectedGroupIds:Z(Z({},U.selectedGroupIds),{},(0,h.Z)({},A,!0)),selectedElementIds:Z(Z({},U.selectedElementIds),Object.fromEntries(M.map(function(C){return[C.id,!0]})))})},ee=function(A,U){return he(A,U)!=null},he=function(A,U){return U.groupIds.filter(function(P){return P!==A.editingGroupId}).find(function(P){return A.selectedGroupIds[P]})},N=function(A){return Object.entries(A.selectedGroupIds).filter(function(U){var P=(0,E.Z)(U,2);return P[0],P[1]}).map(function(U){var P=(0,E.Z)(U,2),M=P[0];return P[1],M})},ke=function(A,U){var P=Z(Z({},A),{},{selectedGroupIds:{}}),M=(0,f.eD)(U,A);if(!M.length)return Z(Z({},P),{},{editingGroupId:null});var C,g=k(M);try{for(g.s();!(C=g.n()).done;){var l=C.value.groupIds;if(A.editingGroupId){var w=l.indexOf(A.editingGroupId);w>-1&&(l=l.slice(0,w))}if(l.length>0){var y=l[l.length-1];P=B(y,P,U)}}}catch(S){g.e(S)}finally{g.f()}return P},Se=function(A,U){return Z(Z({},A),{},{editingGroupId:U.groupIds.length?U.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(0,h.Z)({},U.id,!0)})},je=function(A,U){return A.groupIds.includes(U)},we=function(A,U){return A.filter(function(P){return je(P,U)})},Ee=function(A,U){return A.groupIds.find(function(P){return U[P]})},Me=function(A,U,P){for(var M=(0,v.Z)(A),C=U?A.indexOf(U):-1,g=C>-1?C:A.length,l=0;l<g;l++)M[l]=P(M[l]);return M},z=function(A,U,P){var M=(0,v.Z)(A),C=P?M.indexOf(P):-1,g=C>-1?C:M.length;return M.splice(g,0,U),M},re=function(A,U){return A.filter(function(P){return!U[P]})},T=function(A){var U=new Map;return A.forEach(function(P){var M=P.groupIds.length===0?P.id:P.groupIds[P.groupIds.length-1],C=U.get(M)||[],g=(0,D.WJ)(P);g&&C.push(g),U.set(M,[].concat((0,v.Z)(C),[P]))}),Array.from(U.values())}},8211:function(b,m,a){a.d(m,{Fp:function(){return R},G3:function(){return N},Mj:function(){return d},m0:function(){return he},t:function(){return Se}});var v=a(8950),E=a(2975),h=a.n(E),f=a(1463),D=a(4451),k=a(2335),R={code:"en",label:"English"},d=[{code:"ar-SA",label:"",rtl:!0},{code:"bg-BG",label:""},{code:"ca-ES",label:"Catal"},{code:"cs-CZ",label:"esky"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:""},{code:"es-ES",label:"Espaol"},{code:"eu-ES",label:"Euskara"},{code:"fa-IR",label:"",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Franais"},{code:"gl-ES",label:"Galego"},{code:"he-IL",label:"",rtl:!0},{code:"hi-IN",label:""},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",label:""},{code:"kab-KAB",label:"Taqbaylit"},{code:"kk-KZ",label:" "},{code:"ko-KR",label:""},{code:"ku-TR",label:"Kurd"},{code:"lt-LT",label:"Lietuvi"},{code:"lv-LV",label:"Latvieu"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokml"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:""},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Portugus Brasileiro"},{code:"pt-PT",label:"Portugus"},{code:"ro-RO",label:"Romn"},{code:"ru-RU",label:""},{code:"sk-SK",label:"Slovenina"},{code:"sv-SE",label:"Svenska"},{code:"sl-SI",label:"Slovenina"},{code:"tr-TR",label:"Trke"},{code:"uk-UA",label:""},{code:"zh-CN",label:""},{code:"zh-TW",label:""},{code:"vi-VN",label:"Ting Vit"},{code:"mr-IN",label:""}].concat([R]).sort(function(je,we){return je.label>we.label?1:-1}).filter(function(je){return D[je.code]>=85}),Z="__test__";k.Vi.DEVELOPMENT==="production"&&d.unshift({code:Z,label:"test language"},{code:"".concat(Z,".rtl"),label:"test language (rtl)",rtl:!0});var B=R,ee={},he=function(){var je=(0,v.Z)(h().mark(function we(Ee){return h().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:if(B=Ee,document.documentElement.dir=B.rtl?"rtl":"ltr",document.documentElement.lang=B.code,!Ee.code.startsWith(Z)){Me.next=7;break}ee={},Me.next=17;break;case 7:return Me.prev=7,Me.next=10,a(940)("./".concat(B.code,".json"));case 10:ee=Me.sent,Me.next=17;break;case 13:Me.prev=13,Me.t0=Me.catch(7),console.error("Failed to load language ".concat(Ee.code,":"),Me.t0.message),ee=f;case 17:case"end":return Me.stop()}},we,null,[[7,13]])}));return function(we){return je.apply(this,arguments)}}(),N=function(){return B},ke=function(je,we){for(var Ee=0;Ee<we.length;++Ee){var Me=we[Ee];if(je[Me]===void 0)return;je=je[Me]}if(typeof je=="string")return je},Se=function(je,we){if(B.code.startsWith(Z)){var Ee=we?"".concat(je,"(").concat(JSON.stringify(we).slice(1,-1),")"):je;return"[[".concat(Ee,"]]")}var Me=je.split("."),z=ke(ee,Me)||ke(f,Me);if(z===void 0)throw new Error("Can't find translation for ".concat(je));if(we)for(var re in we)z=z.replace("{{".concat(re,"}}"),String(we[re]));return z}},9487:function(b,m,a){a.d(m,{e_:function(){return h},yE:function(){return E}});var v=a(4739),E=(a(9787),Symbol()),h=(0,v.Vv)()},6066:function(b,m,a){a.d(m,{E0:function(){return k},Ge:function(){return R},OA:function(){return D},Wl:function(){return f},aU:function(){return E},tW:function(){return h}});var v=a(2335),E={EQUAL:"Equal",MINUS:"Minus",NUM_ADD:"NumpadAdd",NUM_SUBTRACT:"NumpadSubtract",NUM_ZERO:"Numpad0",BRACKET_RIGHT:"BracketRight",BRACKET_LEFT:"BracketLeft",ONE:"Digit1",TWO:"Digit2",NINE:"Digit9",QUOTE:"Quote",ZERO:"Digit0",SLASH:"Slash",C:"KeyC",D:"KeyD",H:"KeyH",V:"KeyV",Z:"KeyZ",R:"KeyR"},h={ARROW_DOWN:"ArrowDown",ARROW_LEFT:"ArrowLeft",ARROW_RIGHT:"ArrowRight",ARROW_UP:"ArrowUp",PAGE_UP:"PageUp",PAGE_DOWN:"PageDown",BACKSPACE:"Backspace",ALT:"Alt",CTRL_OR_CMD:v.Um?"metaKey":"ctrlKey",DELETE:"Delete",ENTER:"Enter",ESCAPE:"Escape",QUESTION_MARK:"?",SPACE:" ",TAB:"Tab",CHEVRON_LEFT:"<",CHEVRON_RIGHT:">",PERIOD:".",COMMA:",",A:"a",C:"c",D:"d",E:"e",F:"f",G:"g",H:"h",I:"i",L:"l",O:"o",P:"p",Q:"q",R:"r",S:"s",T:"t",V:"v",X:"x",Y:"y",Z:"z",K:"k",0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9"},f=function(d){return d===h.ARROW_LEFT||d===h.ARROW_RIGHT||d===h.ARROW_DOWN||d===h.ARROW_UP},D=function(d){return d.altKey},k=function(d){return d.shiftKey},R=function(d){return d.shiftKey}},6552:function(b,m,a){a.d(m,{H5:function(){return d},Jj:function(){return re},LW:function(){return R},N_:function(){return we},U1:function(){return f},c9:function(){return B},eH:function(){return Me},g6:function(){return Z},lk:function(){return z},wC:function(){return ke},xj:function(){return D},yB:function(){return je},yW:function(){return Se},yq:function(){return k}});var v=a(2335),E=a(3063),h=a(8925),f=function(T,A,U,P,M){return[(T-U)*Math.cos(M)-(A-P)*Math.sin(M)+U,(T-U)*Math.sin(M)+(A-P)*Math.cos(M)+P]},D=function(T,A,U){return f(T[0],T[1],A[0],A[1],U)},k=function(T,A,U,P,M,C,g,l){var w=Math.cos(P),y=Math.sin(P);return T.e&&T.w?A+=M+g:T.e?(A+=M*(1+w),U+=M*y,A+=g*(1-w),U+=g*-y):T.w&&(A+=M*(1-w),U+=M*-y,A+=g*(1+w),U+=g*y),T.n&&T.s?U+=C+l:T.n?(A+=C*y,U+=C*(1-w),A+=l*-y,U+=l*(1+w)):T.s&&(A+=C*-y,U+=C*(1+w),A+=l*y,U+=l*(1-w)),[A,U]},R=function(T,A,U,P){var M=U-T,C=P-A;return Math.hypot(M,C)},d=function(T,A){return[(T[0]+A[0])/2,(T[1]+A[1])/2]},Z=function(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;if(T.length>=3){var U=[T[0],T[T.length-1]],P=U[0],M=U[1],C=R(P[0],P[1],M[0],M[1]);return C<=v.qx/A}return!1},B=function(T,A,U){var P=T.length;if(P<3)return!1;for(var M=[Number.MAX_SAFE_INTEGER,U],C=[A,U],g=0,l=0;l<P;l++){var w=T[l],y=T[(l+1)%P];if(N(w,y,C,M)){if(he(w,C,y)===0)return ee(w,C,y);g++}}return g%2==1},ee=function(T,A,U){return A[0]<=Math.max(T[0],U[0])&&A[0]>=Math.min(T[0],U[0])&&A[1]<=Math.max(T[1],U[1])&&A[1]>=Math.min(T[1],U[1])},he=function(T,A,U){var P=(A[1]-T[1])*(U[0]-A[0])-(A[0]-T[0])*(U[1]-A[1]);return P===0?0:P>0?1:2},N=function(T,A,U,P){var M=he(T,A,U),C=he(T,A,P),g=he(U,P,T),l=he(U,P,A);return M!==C&&g!==l||!(M!==0||!ee(T,U,A))||!(C!==0||!ee(T,P,A))||!(g!==0||!ee(U,T,P))||!(l!==0||!ee(U,A,P))},ke=function(T,A,U){return U?[Math.round(T/U)*U,Math.round(A/U)*U]:[T,A]},Se=function(T,A){var U,P,M;if(((U=A.roundness)===null||U===void 0?void 0:U.type)===v.a6.PROPORTIONAL_RADIUS||((P=A.roundness)===null||P===void 0?void 0:P.type)===v.a6.LEGACY)return T*v.Rx;if(((M=A.roundness)===null||M===void 0?void 0:M.type)===v.a6.ADAPTIVE_RADIUS){var C,g,l=(C=(g=A.roundness)===null||g===void 0?void 0:g.value)!==null&&C!==void 0?C:v._9;return T<=l/v.Rx?T*v.Rx:l}return 0},je=function(T,A){var U=(0,E.R2)(T);if(!U)return null;for(var P=(0,h.CM)(U[0]),M=[0,0],C=0,g=1/0,l=null;C<P.length;){var w=P[C],y=w.op,S=w.data;if(y==="move"&&(M=S),y==="bcurveTo"){var _=M,J=[S[0],S[1]],de=[S[2],S[3]],ve=[S[4],S[5]],ie=R(ve[0],ve[1],A[0],A[1]);ie<g&&(g=ie,l=[_,J,de,ve]),M=ve}C++}return l},we=function(T,A,U,P,M){var C=function(g,l){return Math.pow(1-g,3)*P[l]+3*g*Math.pow(1-g,2)*U[l]+3*Math.pow(g,2)*(1-g)*A[l]+T[l]*Math.pow(g,3)};return[C(M,0),C(M,1)]},Ee=function(T,A){var U=[];U[0]=0;for(var P=function(g,l){var w=je(g,l);if(!w)return[];for(var y=[],S=1;S>0;){var _=we(w[0],w[1],w[2],w[3],S);y.push([_[0],_[1]]),S-=.05}return y.length&&re(y.at(-1),l)&&y.push([l[0],l[1]]),y}(T,A),M=0,C=0;M<P.length-1;)C+=R(P[M][0],P[M][1],P[M+1][0],P[M+1][1]),U.push(C),M++;return U},Me=function(T,A){return Ee(T,A).at(-1)},z=function(T,A,U){for(var P=Ee(T,A),M=P.length-1,C=U*P.at(-1),g=0,l=M,w=0;g<l;)P[w=Math.floor(g+(l-g)/2)]<C?g=w+1:l=w;return P[w]>C&&w--,P[w]===C?w/M:1-(w+(C-P[w])/(P[w+1]-P[w]))/M},re=function(T,A){return T[0]===A[0]&&T[1]===A[1]}},3024:function(b,m,a){a.d(m,{$D:function(){return z},Fl:function(){return Me},I_:function(){return ee.I_},N7:function(){return ke.N7},NI:function(){return ee.NI},NL:function(){return Ee},ZY:function(){return N.ZY},cT:function(){return N.cT},i1:function(){return re},lV:function(){return N.lV},zh:function(){return Se.zh}});var v=a(8950),E=a(7169),h=a(2975),f=a.n(h),D=a(4162),k=a(8897),R=a(1047),d=a(679),Z=a(2335),B=a(673),ee=a(5523),he=a(6665),N=a(434),ke=a(3063),Se=a(7053);function je(T,A){var U=Object.keys(T);if(Object.getOwnPropertySymbols){var P=Object.getOwnPropertySymbols(T);A&&(P=P.filter(function(M){return Object.getOwnPropertyDescriptor(T,M).enumerable})),U.push.apply(U,P)}return U}function we(T){for(var A=1;A<arguments.length;A++){var U=arguments[A]!=null?arguments[A]:{};A%2?je(Object(U),!0).forEach(function(P){(0,E.Z)(T,P,U[P])}):Object.getOwnPropertyDescriptors?Object.defineProperties(T,Object.getOwnPropertyDescriptors(U)):je(Object(U)).forEach(function(P){Object.defineProperty(T,P,Object.getOwnPropertyDescriptor(U,P))})}return T}var Ee=function(T){var A=T.elements,U=T.appState,P=T.files,M=T.maxWidthOrHeight,C=T.getDimensions,g=T.exportPadding,l=(0,d.nu)({elements:A,appState:U},null,null),w=l.elements,y=l.appState,S=y.exportBackground,_=y.viewBackgroundColor;return(0,D.NL)((0,R.Lm)(w),we(we({},y),{},{offsetTop:0,offsetLeft:0,width:0,height:0}),P||{},{exportBackground:S,exportPadding:g,viewBackgroundColor:_},function(J,de){var ve,ie=document.createElement("canvas");if(M){typeof C=="function"&&console.warn("`getDimensions()` is ignored when `maxWidthOrHeight` is supplied.");var $=Math.max(J,de),De=M/$;return ie.width=J*De,ie.height=de*De,{canvas:ie,scale:De}}var pe=(C==null?void 0:C(J,de))||{width:J,height:de};return ie.width=pe.width,ie.height=pe.height,{canvas:ie,scale:(ve=pe.scale)!==null&&ve!==void 0?ve:1}})},Me=function(){var T=(0,v.Z)(f().mark(function A(U){var P,M,C,g,l,w;return f().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return C=(M=U).mimeType,g=C===void 0?Z.LO.png:C,l=M.quality,g===Z.LO.png&&typeof l=="number"&&console.warn('"quality" will be ignored for "'.concat(Z.LO.png,'" mimeType')),g==="image/jpg"&&(g=Z.LO.jpg),g!==Z.LO.jpg||(P=U.appState)!==null&&P!==void 0&&P.exportBackground||(console.warn('Defaulting "exportBackground" to "true" for "'.concat(Z.LO.jpg,'" mimeType')),U=we(we({},U),{},{appState:we(we({},U.appState),{},{exportBackground:!0})})),y.next=6,Ee(U);case 6:return w=y.sent,l=l||(/image\/jpe?g/.test(g)?.92:.8),y.abrupt("return",new Promise(function(S,_){w.toBlob(function(){var J=(0,v.Z)(f().mark(function de(ve){var ie;return f().wrap(function($){for(;;)switch($.prev=$.next){case 0:if(ve){$.next=2;break}return $.abrupt("return",_(new Error("couldn't export to blob")));case 2:if(!ve||g!==Z.LO.png||(ie=U.appState)===null||ie===void 0||!ie.exportEmbedScene){$.next=6;break}return $.next=5,(0,B.encodePngMetadata)({blob:ve,metadata:(0,ee.I_)(U.elements,U.appState,U.files||{},"local")});case 5:ve=$.sent;case 6:S(ve);case 7:case"end":return $.stop()}},de)}));return function(de){return J.apply(this,arguments)}}(),g,l)}));case 9:case"end":return y.stop()}},A)}));return function(A){return T.apply(this,arguments)}}(),z=function(){var T=(0,v.Z)(f().mark(function A(U){var P,M,C,g,l,w,y,S,_;return f().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return P=U.elements,M=U.appState,C=M===void 0?(0,k.im)():M,g=U.files,l=g===void 0?{}:g,w=U.exportPadding,y=(0,d.nu)({elements:P,appState:C},null,null),S=y.elements,_=y.appState,J.abrupt("return",(0,D.$D)((0,R.Lm)(S),we(we({},_),{},{exportPadding:w}),l));case 3:case"end":return J.stop()}},A)}));return function(A){return T.apply(this,arguments)}}(),re=function(){var T=(0,v.Z)(f().mark(function A(U){var P,M;return f().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(U.type!=="svg"){C.next=8;break}return C.next=3,z(U);case 3:return P=C.sent,C.next=6,(0,he.dd)(P.outerHTML);case 6:case 11:case 17:C.next=20;break;case 8:if(U.type!=="png"){C.next=13;break}return C.next=11,(0,he.uR)(Me(U));case 13:if(U.type!=="json"){C.next=19;break}return M=we(we({offsetTop:0,offsetLeft:0,width:0,height:0},(0,k.im)()),U.appState),C.next=17,(0,he.vQ)(U.elements,M,U.files);case 19:throw new Error("Invalid export type");case 20:case"end":return C.stop()}},A)}));return function(A){return T.apply(this,arguments)}}()},5001:function(b,m,a){a.d(m,{k:function(){return E},z:function(){return h}});var v=a(1930),E=function(f){var D=f.map(function(R){return R[0]}),k=f.map(function(R){return R[1]});return{width:Math.max.apply(Math,(0,v.Z)(D))-Math.min.apply(Math,(0,v.Z)(D)),height:Math.max.apply(Math,(0,v.Z)(k))-Math.min.apply(Math,(0,v.Z)(k))}},h=function(f,D,k,R){var d=k.map(function(je){return je[f]}),Z=Math.max.apply(Math,(0,v.Z)(d)),B=Math.min.apply(Math,(0,v.Z)(d)),ee=Z-B,he=ee===0?1:D/ee,N=1/0,ke=k.map(function(je){var we=je[f]*he,Ee=(0,v.Z)(je);return Ee[f]=we,we<N&&(N=we),Ee});if(!R||ke.length===2)return ke;var Se=B-N;return ke.map(function(je){return je.map(function(we,Ee){return Ee===f?we+Se:we})})}},6954:function(b,m,a){a.d(m,{LU:function(){return k},kb:function(){return R}});var v=a(8152),E=a(5605),h=a(6340),f=new v.k(Date.now()),D=0,k=function(){return Math.floor(f.next()*Math.pow(2,31))},R=function(){return(0,h.h2)()?"id".concat(D++):(0,E.x0)()}},3063:function(b,m,a){a.d(m,{Dn:function(){return De},i:function(){return H},N7:function(){return me},R2:function(){return G},bI:function(){return K},lw:function(){return X},Rg:function(){return q}});var v=a(1930),E=a(7169),h=a(2577),f=a(1974),D=a(8925),k=a(6340),R=a(6552),d=a(8234),Z=a(8897),B=a(2335);function ee(Q,se,ue,_e=Ze=>Ze){return Q*_e(.5-se*(.5-ue))}function he(Q,se){return[Q[0]+se[0],Q[1]+se[1]]}function N(Q,se){return[Q[0]-se[0],Q[1]-se[1]]}function ke(Q,se){return[Q[0]*se,Q[1]*se]}function Se(Q){return[Q[1],-Q[0]]}function je(Q,se){return Q[0]*se[0]+Q[1]*se[1]}function we(Q,se){return Q[0]===se[0]&&Q[1]===se[1]}function Ee(Q,se){return function(ue){return ue[0]*ue[0]+ue[1]*ue[1]}(N(Q,se))}function Me(Q){return function(se,ue){return[se[0]/ue,se[1]/ue]}(Q,function(se){return Math.hypot(se[0],se[1])}(Q))}function z(Q,se){return Math.hypot(Q[1]-se[1],Q[0]-se[0])}function re(Q,se,ue){let _e=Math.sin(ue),Ze=Math.cos(ue),Ge=Q[0]-se[0],tt=Q[1]-se[1],lt=Ge*_e+tt*Ze;return[Ge*Ze-tt*_e+se[0],lt+se[1]]}function T(Q,se,ue){return he(Q,ke(N(se,Q),ue))}function A(Q,se,ue){return he(Q,ke(se,ue))}var{min:U,PI:P}=Math,M=P+1e-4;function C(Q,se={}){return function(ue,_e={}){let{size:Ze=16,smoothing:Ge=.5,thinning:tt=.5,simulatePressure:lt=!0,easing:nt=Vt=>Vt,start:qe={},end:Ve={},last:be=!1}=_e,{cap:Te=!0,easing:Ae=Vt=>Vt*(2-Vt)}=qe,{cap:Pe=!0,easing:We=Vt=>--Vt*Vt*Vt+1}=Ve;if(ue.length===0||Ze<=0)return[];let Ue,Je=ue[ue.length-1].runningLength,et=qe.taper===!1?0:qe.taper===!0?Math.max(Ze,Je):qe.taper,Qe=Ve.taper===!1?0:Ve.taper===!0?Math.max(Ze,Je):Ve.taper,it=Math.pow(Ze*Ge,2),ft=[],yt=[],ut=ue.slice(0,10).reduce((Vt,Qt)=>{let $e=Qt.pressure;if(lt){let rt=U(1,Qt.distance/Ze),gt=U(1,1-rt);$e=U(1,Vt+.275*rt*(gt-Vt))}return(Vt+$e)/2},ue[0].pressure),pt=ee(Ze,tt,ue[ue.length-1].pressure,nt),wt=ue[0].vector,zt=ue[0].point,Yt=zt,Ht=zt,It=Yt,_t=!1;for(let Vt=0;Vt<ue.length;Vt++){let{pressure:Qt}=ue[Vt],{point:$e,vector:rt,distance:gt,runningLength:vt}=ue[Vt];if(Vt<ue.length-1&&Je-vt<3)continue;if(tt){if(lt){let Jt=U(1,gt/Ze),kn=U(1,1-Jt);Qt=U(1,ut+.275*Jt*(kn-ut))}pt=ee(Ze,tt,Qt,nt)}else pt=Ze/2;Ue===void 0&&(Ue=pt);let St=vt<et?Ae(vt/et):1,At=Je-vt<Qe?We((Je-vt)/Qe):1;pt=Math.max(.01,pt*Math.min(St,At));let Zt=(Vt<ue.length-1?ue[Vt+1]:ue[Vt]).vector,Wt=Vt<ue.length-1?je(rt,Zt):1,en=Wt!==null&&Wt<0;if(je(rt,wt)<0&&!_t||en){let Jt=ke(Se(wt),pt);for(let kn=.07692307692307693,Nn=0;Nn<=1;Nn+=kn)Ht=re(N($e,Jt),$e,M*Nn),ft.push(Ht),It=re(he($e,Jt),$e,M*-Nn),yt.push(It);zt=Ht,Yt=It,en&&(_t=!0);continue}if(_t=!1,Vt===ue.length-1){let Jt=ke(Se(rt),pt);ft.push(N($e,Jt)),yt.push(he($e,Jt));continue}let sn=ke(Se(T(Zt,rt,Wt)),pt);Ht=N($e,sn),(Vt<=1||Ee(zt,Ht)>it)&&(ft.push(Ht),zt=Ht),It=he($e,sn),(Vt<=1||Ee(Yt,It)>it)&&(yt.push(It),Yt=It),ut=Qt,wt=rt}let Ct=ue[0].point.slice(0,2),Bt=ue.length>1?ue[ue.length-1].point.slice(0,2):he(ue[0].point,[1,1]),hn=[],wn=[];if(ue.length===1){if(!et&&!Qe||be){let Vt=A(Ct,Me(Se(N(Ct,Bt))),-(Ue||pt)),Qt=[];for(let $e=.07692307692307693,rt=$e;rt<=1;rt+=$e)Qt.push(re(Vt,Ct,2*M*rt));return Qt}}else{if(!(et||Qe&&ue.length===1))if(Te)for(let Qt=.07692307692307693,$e=Qt;$e<=1;$e+=Qt){let rt=re(yt[0],Ct,M*$e);hn.push(rt)}else{let Qt=N(ft[0],yt[0]),$e=ke(Qt,.5),rt=ke(Qt,.51);hn.push(N(Ct,$e),N(Ct,rt),he(Ct,rt),he(Ct,$e))}let Vt=Se(function(Qt){return[-Qt[0],-Qt[1]]}(ue[ue.length-1].vector));if(Qe||et&&ue.length===1)wn.push(Bt);else if(Pe){let Qt=A(Bt,Vt,pt);for(let $e=.034482758620689655,rt=$e;rt<1;rt+=$e)wn.push(re(Qt,Bt,3*M*rt))}else wn.push(he(Bt,ke(Vt,pt)),he(Bt,ke(Vt,.99*pt)),N(Bt,ke(Vt,.99*pt)),N(Bt,ke(Vt,pt)))}return ft.concat(wn,yt.reverse(),hn)}(function(ue,_e={}){var Ze;let{streamline:Ge=.5,size:tt=16,last:lt=!1}=_e;if(ue.length===0)return[];let nt=.15+.85*(1-Ge),qe=Array.isArray(ue[0])?ue:ue.map(({x:We,y:Ue,pressure:Je=.5})=>[We,Ue,Je]);if(qe.length===2){let We=qe[1];qe=qe.slice(0,-1);for(let Ue=1;Ue<5;Ue++)qe.push(T(qe[0],We,Ue/4))}qe.length===1&&(qe=[...qe,[...he(qe[0],[1,1]),...qe[0].slice(2)]]);let Ve=[{point:[qe[0][0],qe[0][1]],pressure:qe[0][2]>=0?qe[0][2]:.25,vector:[1,1],distance:0,runningLength:0}],be=!1,Te=0,Ae=Ve[0],Pe=qe.length-1;for(let We=1;We<qe.length;We++){let Ue=lt&&We===Pe?qe[We].slice(0,2):T(Ae.point,qe[We],nt);if(we(Ae.point,Ue))continue;let Je=z(Ue,Ae.point);if(Te+=Je,We<Pe&&!be){if(Te<tt)continue;be=!0}Ae={point:Ue,pressure:qe[We][2]>=0?qe[We][2]:.5,vector:Me(N(Ae.point,Ue)),distance:Je,runningLength:Te},Ve.push(Ae)}return Ve[0].vector=((Ze=Ve[1])==null?void 0:Ze.vector)||[0,0],Ve}(Q,se),se)}var g=a(5710),l=a(6938);function w(Q,se){var ue=Object.keys(Q);if(Object.getOwnPropertySymbols){var _e=Object.getOwnPropertySymbols(Q);se&&(_e=_e.filter(function(Ze){return Object.getOwnPropertyDescriptor(Q,Ze).enumerable})),ue.push.apply(ue,_e)}return ue}function y(Q){for(var se=1;se<arguments.length;se++){var ue=arguments[se]!=null?arguments[se]:{};se%2?w(Object(ue),!0).forEach(function(_e){(0,E.Z)(Q,_e,ue[_e])}):Object.getOwnPropertyDescriptors?Object.defineProperties(Q,Object.getOwnPropertyDescriptors(ue)):w(Object(ue)).forEach(function(_e){Object.defineProperty(Q,_e,Object.getOwnPropertyDescriptor(ue,_e))})}return Q}var S="invert(100%) hue-rotate(180deg) saturate(1.25)",_=(0,Z.im)(),J=function(Q,se){return(0,f.wi)(Q)&&!se.imageCache.has(Q.fileId)},de=function(Q,se){var ue;return se.theme==="dark"&&(0,f.wi)(Q)&&!J(Q,se)&&((ue=se.imageCache.get(Q.fileId))===null||ue===void 0?void 0:ue.mimeType)!==B.LO.svg},ve=function(Q){return[8,8+Q]},ie=function(Q){return[1.5,6+Q]},$=function(Q){return Q.type==="freedraw"?12*Q.strokeWidth:20},De=14,pe=document.createElement("img");pe.src="data:".concat(B.LO.svg,",").concat(encodeURIComponent('<svg aria-hidden="true" focusable="false" data-prefix="fas" data-icon="image" class="svg-inline--fa fa-image fa-w-16" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path fill="#888" d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48zM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56zM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48z"></path></svg>'));var ae=document.createElement("img");ae.src="data:".concat(B.LO.svg,",").concat(encodeURIComponent('<svg viewBox="0 0 668 668" xmlns="http://www.w3.org/2000/svg" xml:space="preserve" style="fill-rule:evenodd;clip-rule:evenodd;stroke-linejoin:round;stroke-miterlimit:2"><path d="M464 448H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h416c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48ZM112 120c-30.928 0-56 25.072-56 56s25.072 56 56 56 56-25.072 56-56-25.072-56-56-56ZM64 384h384V272l-87.515-87.515c-4.686-4.686-12.284-4.686-16.971 0L208 320l-55.515-55.515c-4.686-4.686-12.284-4.686-16.971 0L64 336v48Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.81709 0 0 .81709 124.825 145.825)"/><path d="M256 8C119.034 8 8 119.033 8 256c0 136.967 111.034 248 248 248s248-111.034 248-248S392.967 8 256 8Zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676ZM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676Z" style="fill:#888;fill-rule:nonzero" transform="matrix(.30366 0 0 .30366 506.822 60.065)"/></svg>'));var j=function(Q,se,ue,_e){switch(ue.globalAlpha=Q.opacity/100,Q.type){case"rectangle":case"diamond":case"ellipse":ue.lineJoin="round",ue.lineCap="round",se.draw(G(Q));break;case"arrow":case"line":ue.lineJoin="round",ue.lineCap="round",G(Q).forEach(function(We){se.draw(We)});break;case"freedraw":ue.save(),ue.fillStyle=Q.strokeColor;var Ze=function(We){return Ce.get(We)}(Q),Ge=G(Q);Ge&&se.draw(Ge),ue.fillStyle=Q.strokeColor,ue.fill(Ze),ue.restore();break;case"image":var tt,lt=(0,f.wi)(Q)?(tt=_e.imageCache.get(Q.fileId))===null||tt===void 0?void 0:tt.image:void 0;lt==null||lt instanceof Promise?function(We,Ue,Je){Ue.fillStyle="#E7E7E7",Ue.fillRect(0,0,We.width,We.height);var et=Math.min(We.width,We.height),Qe=Math.min(et,Math.min(.4*et,100));Ue.drawImage(We.status==="error"?ae:pe,We.width/2-Qe/2,We.height/2-Qe/2,Qe,Qe)}(Q,ue,_e.zoom.value):ue.drawImage(lt,0,0,Q.width,Q.height);break;default:if(!(0,f.iB)(Q))throw new Error("Unimplemented type ".concat(Q.type));var nt=(0,k.dZ)(Q.text),qe=nt&&!ue.canvas.isConnected;qe&&document.body.appendChild(ue.canvas),ue.canvas.setAttribute("dir",nt?"rtl":"ltr"),ue.save(),ue.font=(0,k.mO)(Q),ue.fillStyle=Q.strokeColor,ue.textAlign=Q.textAlign;var Ve=Q.text.replace(/\r\n?/g,`
`).split(`
`),be=Q.containerId?(0,g.hP)((0,k.mO)(Q)):Q.height/Ve.length,Te=Q.height-Q.baseline;Q.verticalAlign===B.oX.BOTTOM&&(Te=(0,g.S)(Q));for(var Ae=Q.textAlign==="center"?Q.width/2:Q.textAlign==="right"?Q.width:0,Pe=0;Pe<Ve.length;Pe++)ue.fillText(Ve[Pe],Ae,(Pe+1)*be-Te);ue.restore(),qe&&ue.canvas.remove()}ue.globalAlpha=1},V=new WeakMap,oe=new WeakMap,G=function(Q){return oe.get(Q)},ye=function(Q,se){return oe.set(Q,se)},K=function(Q){return oe.delete(Q)},H=function(Q){var se=arguments.length>1&&arguments[1]!==void 0&&arguments[1],ue={seed:Q.seed,strokeLineDash:Q.strokeStyle==="dashed"?ve(Q.strokeWidth):Q.strokeStyle==="dotted"?ie(Q.strokeWidth):void 0,disableMultiStroke:Q.strokeStyle!=="solid",strokeWidth:Q.strokeStyle!=="solid"?Q.strokeWidth+.5:Q.strokeWidth,fillWeight:Q.strokeWidth/2,hachureGap:4*Q.strokeWidth,roughness:Q.roughness,stroke:Q.strokeColor,preserveVertices:se};switch(Q.type){case"rectangle":case"diamond":case"ellipse":return ue.fillStyle=Q.fillStyle,ue.fill=Q.backgroundColor==="transparent"?void 0:Q.backgroundColor,Q.type==="ellipse"&&(ue.curveFitting=1),ue;case"line":case"freedraw":return(0,R.g6)(Q.points)&&(ue.fillStyle=Q.fillStyle,ue.fill=Q.backgroundColor==="transparent"?void 0:Q.backgroundColor),ue;case"arrow":return ue;default:throw new Error("Unimplemented type ".concat(Q.type))}},L=function(Q,se){var ue=oe.get(Q);if(ue===void 0)switch(V.delete(Q),Q.type){case"rectangle":if(Q.roundness){var _e=Q.width,Ze=Q.height,Ge=(0,R.yW)(Math.min(_e,Ze),Q);ue=se.path("M ".concat(Ge," 0 L ").concat(_e-Ge," 0 Q ").concat(_e," 0, ").concat(_e," ").concat(Ge," L ").concat(_e," ").concat(Ze-Ge," Q ").concat(_e," ").concat(Ze,", ").concat(_e-Ge," ").concat(Ze," L ").concat(Ge," ").concat(Ze," Q 0 ").concat(Ze,", 0 ").concat(Ze-Ge," L 0 ").concat(Ge," Q 0 0, ").concat(Ge," 0"),H(Q,!0))}else ue=se.rectangle(0,0,Q.width,Q.height,H(Q));ye(Q,ue);break;case"diamond":var tt=(0,D.UC)(Q),lt=(0,h.Z)(tt,8),nt=lt[0],qe=lt[1],Ve=lt[2],be=lt[3],Te=lt[4],Ae=lt[5],Pe=lt[6],We=lt[7];if(Q.roundness){var Ue=(0,R.yW)(Math.abs(nt-Pe),Q),Je=(0,R.yW)(Math.abs(be-qe),Q);ue=se.path("M ".concat(nt+Ue," ").concat(qe+Je," L ").concat(Ve-Ue," ").concat(be-Je,`
            C `).concat(Ve," ").concat(be,", ").concat(Ve," ").concat(be,", ").concat(Ve-Ue," ").concat(be+Je,`
            L `).concat(Te+Ue," ").concat(Ae-Je,`
            C `).concat(Te," ").concat(Ae,", ").concat(Te," ").concat(Ae,", ").concat(Te-Ue," ").concat(Ae-Je,`
            L `).concat(Pe+Ue," ").concat(We+Je,`
            C `).concat(Pe," ").concat(We,", ").concat(Pe," ").concat(We,", ").concat(Pe+Ue," ").concat(We-Je,`
            L `).concat(nt-Ue," ").concat(qe+Je,`
            C `).concat(nt," ").concat(qe,", ").concat(nt," ").concat(qe,", ").concat(nt+Ue," ").concat(qe+Je),H(Q,!0))}else ue=se.polygon([[nt,qe],[Ve,be],[Te,Ae],[Pe,We]],H(Q));ye(Q,ue);break;case"ellipse":ue=se.ellipse(Q.width/2,Q.height/2,Q.width,Q.height,H(Q)),ye(Q,ue);break;case"line":case"arrow":var et=H(Q),Qe=Q.points.length?Q.points:[[0,0]];if(ue=Q.roundness?[se.curve(Qe,et)]:et.fill?[se.polygon(Qe,et)]:[se.linearPath(Qe,et)],Q.type==="arrow"){var it=Q.startArrowhead,ft=it===void 0?null:it,yt=Q.endArrowhead,ut=yt===void 0?"arrow":yt,pt=function(It,_t,Ct,Bt){var hn=(0,D.Y5)(It,_t,Ct,Bt);if(hn===null)return[];if(Bt==="dot"){var wn=(0,h.Z)(hn,3),Vt=wn[0],Qt=wn[1],$e=wn[2];return[se.circle(Vt,Qt,$e,y(y({},et),{},{fill:It.strokeColor,fillStyle:"solid",stroke:"none"}))]}if(Bt==="triangle"){var rt=(0,h.Z)(hn,6),gt=rt[0],vt=rt[1],St=rt[2],At=rt[3],Zt=rt[4],Wt=rt[5];return delete et.strokeLineDash,[se.polygon([[gt,vt],[St,At],[Zt,Wt],[gt,vt]],y(y({},et),{},{fill:It.strokeColor,fillStyle:"solid"}))]}var en=(0,h.Z)(hn,6),sn=en[0],Jt=en[1],kn=en[2],Nn=en[3],Gn=en[4],Zn=en[5];if(It.strokeStyle==="dotted"){var tn=ie(It.strokeWidth-1);et.strokeLineDash=[tn[0],tn[1]-1]}else delete et.strokeLineDash;return[se.line(kn,Nn,sn,Jt,et),se.line(Gn,Zn,sn,Jt,et)]};if(ft!==null){var wt,zt=pt(Q,ue,"start",ft);(wt=ue).push.apply(wt,(0,v.Z)(zt))}if(ut!==null){var Yt,Ht=pt(Q,ue,"end",ut);(Yt=ue).push.apply(Yt,(0,v.Z)(Ht))}}ye(Q,ue);break;case"freedraw":te(Q),ue=(0,R.g6)(Q.points)?se.polygon(Q.points,y(y({},H(Q)),{},{stroke:"none"})):null,ye(Q,ue);break;case"text":case"image":ye(Q,null)}},I=function(Q,se){var ue,_e=se?se.zoom:_.zoom,Ze=V.get(Q),Ge=Ze&&Ze.canvasZoom!==_e.value&&!(se!=null&&se.shouldCacheIgnoreZoom),tt=((ue=(0,g.WJ)(Q))===null||ue===void 0?void 0:ue.version)||null;if(!Ze||Ge||Ze.theme!==se.theme||Ze.boundTextElementVersion!==tt){var lt=function(nt,qe,Ve){var be,Te=document.createElement("canvas"),Ae=Te.getContext("2d"),Pe=$(nt),We=0,Ue=0;if((0,f.bt)(nt)||(0,f.F9)(nt)){var Je=(0,D.qf)(nt),et=(0,h.Z)(Je,4),Qe=et[0],it=et[1],ft=et[2],yt=et[3];Te.width=(0,k.TE)(Qe,ft)*window.devicePixelRatio*qe.value+Pe*qe.value*2,Te.height=(0,k.TE)(it,yt)*window.devicePixelRatio*qe.value+Pe*qe.value*2,We=nt.x>Qe?(0,k.TE)(nt.x,Qe)*window.devicePixelRatio*qe.value:0,Ue=nt.y>it?(0,k.TE)(nt.y,it)*window.devicePixelRatio*qe.value:0,Ae.translate(We,Ue)}else Te.width=nt.width*window.devicePixelRatio*qe.value+Pe*qe.value*2,Te.height=nt.height*window.devicePixelRatio*qe.value+Pe*qe.value*2;Ae.save(),Ae.translate(Pe*qe.value,Pe*qe.value),Ae.scale(window.devicePixelRatio*qe.value,window.devicePixelRatio*qe.value);var ut=d.Z.canvas(Te);return de(nt,Ve)&&(Ae.filter=S),j(nt,ut,Ae,Ve),Ae.restore(),{element:nt,canvas:Te,theme:Ve.theme,canvasZoom:qe.value,canvasOffsetX:We,canvasOffsetY:Ue,boundTextElementVersion:((be=(0,g.WJ)(nt))===null||be===void 0?void 0:be.version)||null}}(Q,_e,se);return V.set(Q,lt),lt}return Ze},F=function(Q,se,ue,_e){var Ze=Q.element,Ge=$(Ze),tt=Q.canvasZoom,lt=(0,D.qf)(Ze),nt=(0,h.Z)(lt,4),qe=nt[0],Ve=nt[1],be=nt[2],Te=nt[3];(0,f.F9)(Ze)&&(qe=Math.floor(qe),be=Math.ceil(be),Ve=Math.floor(Ve),Te=Math.ceil(Te));var Ae=((qe+be)/2+_e.scrollX)*window.devicePixelRatio,Pe=((Ve+Te)/2+_e.scrollY)*window.devicePixelRatio;ue.save(),ue.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);var We=(0,g.WJ)(Ze);if((0,f.Yv)(Ze)&&We){var Ue=document.createElement("canvas"),Je=Ue.getContext("2d"),et=Math.max((0,k.TE)(qe,be),(0,k.TE)(Ve,Te));Ue.width=et*window.devicePixelRatio*tt+Ge*Q.canvasZoom*10,Ue.height=et*window.devicePixelRatio*tt+Ge*Q.canvasZoom*10;var Qe=(Ue.width-Q.canvas.width)/2,it=(Ue.height-Q.canvas.height)/2;Je.translate(Ue.width/2,Ue.height/2),Je.rotate(Ze.angle),Je.drawImage(Q.canvas,-Q.canvas.width/2,-Q.canvas.height/2,Q.canvas.width,Q.canvas.height);var ft=(0,D.qf)(We),yt=(0,h.Z)(ft,6),ut=yt[4],pt=yt[5];Je.rotate(-Ze.angle);var wt=Ue.width/2-(ut-qe)*window.devicePixelRatio*tt-Qe-Ge*tt,zt=Ue.height/2-(pt-Ve)*window.devicePixelRatio*tt-it-Ge*tt;Je.translate(-wt,-zt),Je.clearRect(-(We.width/2+B.gK)*window.devicePixelRatio*tt,-(We.height/2+B.gK)*window.devicePixelRatio*tt,(We.width+2*B.gK)*window.devicePixelRatio*tt,(We.height+2*B.gK)*window.devicePixelRatio*tt),ue.translate(Ae,Pe),ue.drawImage(Ue,-(be-qe)/2*window.devicePixelRatio-Qe/tt-Ge,-(Te-Ve)/2*window.devicePixelRatio-it/tt-Ge,Ue.width/tt,Ue.height/tt)}else ue.translate(Ae,Pe),ue.rotate(Ze.angle),"scale"in Q.element&&!J(Ze,_e)&&ue.scale(Q.element.scale[0],Q.element.scale[1]),ue.translate(-Ae,-Pe),ue.drawImage(Q.canvas,(qe+_e.scrollX)*window.devicePixelRatio-Ge*Q.canvasZoom/Q.canvasZoom,(Ve+_e.scrollY)*window.devicePixelRatio-Ge*Q.canvasZoom/Q.canvasZoom,Q.canvas.width/Q.canvasZoom,Q.canvas.height/Q.canvasZoom);ue.restore()},X=function(Q,se,ue,_e,Ze){var Ge=se.generator;switch(Q.type){case"selection":ue.save(),ue.translate(Q.x+_e.scrollX,Q.y+_e.scrollY),ue.fillStyle="rgba(0, 0, 200, 0.04)";var tt=.5/_e.zoom.value;ue.fillRect(tt,tt,Q.width,Q.height),ue.lineWidth=1/_e.zoom.value,ue.strokeStyle="rgb(105, 101, 219)",ue.strokeRect(tt,tt,Q.width,Q.height),ue.restore();break;case"freedraw":if(L(Q,Ge),_e.isExporting){var lt=(0,D.qf)(Q),nt=(0,h.Z)(lt,4),qe=nt[0],Ve=nt[1],be=nt[2],Te=nt[3],Ae=(qe+be)/2+_e.scrollX,Pe=(Ve+Te)/2+_e.scrollY,We=(be-qe)/2-(Q.x-qe),Ue=(Te-Ve)/2-(Q.y-Ve);ue.save(),ue.translate(Ae,Pe),ue.rotate(Q.angle),ue.translate(-We,-Ue),j(Q,se,ue,_e),ue.restore()}else{var Je=I(Q,_e);F(Je,0,ue,_e)}break;case"rectangle":case"diamond":case"ellipse":case"line":case"arrow":case"image":case"text":if(L(Q,Ge),_e.isExporting){var et=(0,D.qf)(Q),Qe=(0,h.Z)(et,4),it=Qe[0],ft=Qe[1],yt=Qe[2],ut=Qe[3],pt=(it+yt)/2+_e.scrollX,wt=(ft+ut)/2+_e.scrollY,zt=(yt-it)/2-(Q.x-it),Yt=(ut-ft)/2-(Q.y-ft);if((0,f.iB)(Q)){var Ht=(0,g.tl)(Q);if((0,f.Yv)(Ht)){var It=l._.getBoundTextElementPosition(Ht,Q);zt=(yt-it)/2-(It.x-it),Yt=(ut-ft)/2-(It.y-ft)}}ue.save(),ue.translate(pt,wt),de(Q,_e)&&(ue.filter="none");var _t=(0,g.WJ)(Q);if((0,f.Yv)(Q)&&_t){var Ct=document.createElement("canvas"),Bt=Ct.getContext("2d"),hn=Math.max((0,k.TE)(it,yt),(0,k.TE)(ft,ut)),wn=$(Q);Ct.width=hn*Ze.exportScale+10*wn*Ze.exportScale,Ct.height=hn*Ze.exportScale+10*wn*Ze.exportScale,Bt.translate(Ct.width/2,Ct.height/2),Bt.scale(Ze.exportScale,Ze.exportScale),zt=Q.width/2-(Q.x-it),Yt=Q.height/2-(Q.y-ft),Bt.rotate(Q.angle);var Vt=d.Z.canvas(Ct);Bt.translate(-zt,-Yt),j(Q,Vt,Bt,_e),Bt.translate(zt,Yt),Bt.rotate(-Q.angle);var Qt=(0,D.qf)(_t),$e=(0,h.Z)(Qt,6),rt=(it+yt)/2-$e[4],gt=(ft+ut)/2-$e[5];Bt.translate(-rt,-gt),Bt.clearRect(-_t.width/2,-_t.height/2,_t.width,_t.height),ue.scale(1/Ze.exportScale,1/Ze.exportScale),ue.drawImage(Ct,-Ct.width/2,-Ct.height/2,Ct.width,Ct.height)}else ue.rotate(Q.angle),Q.type==="image"&&ue.scale(Q.scale[0],Q.scale[1]),ue.translate(-zt,-Yt),j(Q,se,ue,_e);ue.restore()}else{var vt=I(Q,_e);F(vt,0,ue,_e)}break;default:throw new Error("Unimplemented type ".concat(Q.type))}},le=function(Q,se,ue){if(ue===void 0)return Q.draw(se);var _e={sets:se.sets,shape:se.shape,options:y(y({},se.options),{},{fixedDecimalPlaceDigits:ue})};return Q.draw(_e)},q=function(Q,se,ue,_e,Ze,Ge,tt){var lt=(0,D.qf)(Q),nt=(0,h.Z)(lt,4),qe=nt[0],Ve=nt[1],be=nt[2],Te=nt[3],Ae=(be-qe)/2-(Q.x-qe),Pe=(Te-Ve)/2-(Q.y-Ve);if((0,f.iB)(Q)){var We=(0,g.tl)(Q);if((0,f.Yv)(We)){var Ue=(0,D.qf)(We),Je=(0,h.Z)(Ue,4),et=Je[0],Qe=Je[1],it=Je[2],ft=Je[3],yt=l._.getBoundTextElementPosition(We,Q);Ae=(it-et)/2-(yt.x-et),Pe=(ft-Qe)/2-(yt.y-Qe),Ze=Ze+yt.x-Q.x,Ge=Ge+yt.y-Q.y}}var ut=180*Q.angle/Math.PI,pt=se.generator,wt=ue;if(Q.link){var zt=ue.ownerDocument.createElementNS(B.hR,"a");zt.setAttribute("href",Q.link),wt.appendChild(zt),wt=zt}switch(Q.type){case"selection":throw new Error("Selection rendering is not supported for SVG");case"rectangle":case"diamond":case"ellipse":L(Q,pt);var Yt=le(se,G(Q),B.zK),Ht=Q.opacity/100;Ht!==1&&(Yt.setAttribute("stroke-opacity","".concat(Ht)),Yt.setAttribute("fill-opacity","".concat(Ht))),Yt.setAttribute("stroke-linecap","round"),Yt.setAttribute("transform","translate(".concat(Ze||0," ").concat(Ge||0,") rotate(").concat(ut," ").concat(Ae," ").concat(Pe,")")),wt.appendChild(Yt);break;case"line":case"arrow":var It=(0,g.WJ)(Q),_t=ue.ownerDocument.createElementNS(B.hR,"mask");if(It){_t.setAttribute("id","mask-".concat(Q.id));var Ct=ue.ownerDocument.createElementNS(B.hR,"rect");Ze=Ze||0,Ge=Ge||0,Ct.setAttribute("x","0"),Ct.setAttribute("y","0"),Ct.setAttribute("fill","#fff"),Ct.setAttribute("width","".concat(Q.width+100+Ze)),Ct.setAttribute("height","".concat(Q.height+100+Ge)),_t.appendChild(Ct);var Bt=ue.ownerDocument.createElementNS(B.hR,"rect"),hn=l._.getBoundTextElementPosition(Q,It),wn=Ze+hn.x-Q.x,Vt=Ge+hn.y-Q.y;Bt.setAttribute("x",wn.toString()),Bt.setAttribute("y",Vt.toString()),Bt.setAttribute("fill","#000"),Bt.setAttribute("width","".concat(It.width)),Bt.setAttribute("height","".concat(It.height)),Bt.setAttribute("opacity","1"),_t.appendChild(Bt)}L(Q,pt);var Qt=ue.ownerDocument.createElementNS(B.hR,"g");It&&Qt.setAttribute("mask","url(#mask-".concat(Q.id,")"));var $e=Q.opacity/100;Qt.setAttribute("stroke-linecap","round"),G(Q).forEach(function(Io){var Kr=le(se,Io,B.zK);$e!==1&&(Kr.setAttribute("stroke-opacity","".concat($e)),Kr.setAttribute("fill-opacity","".concat($e))),Kr.setAttribute("transform","translate(".concat(Ze||0," ").concat(Ge||0,") rotate(").concat(ut," ").concat(Ae," ").concat(Pe,")")),Q.type==="line"&&(0,R.g6)(Q.points)&&Q.backgroundColor!=="transparent"&&Kr.setAttribute("fill-rule","evenodd"),Qt.appendChild(Kr)}),wt.appendChild(Qt),wt.append(_t);break;case"freedraw":L(Q,pt),te(Q);var rt=Q.opacity/100,gt=G(Q),vt=gt?le(se,gt,B.zK):ue.ownerDocument.createElementNS(B.hR,"g");rt!==1&&(vt.setAttribute("stroke-opacity","".concat(rt)),vt.setAttribute("fill-opacity","".concat(rt))),vt.setAttribute("transform","translate(".concat(Ze||0," ").concat(Ge||0,") rotate(").concat(ut," ").concat(Ae," ").concat(Pe,")")),vt.setAttribute("stroke","none");var St=ue.ownerDocument.createElementNS(B.hR,"path");St.setAttribute("fill",Q.strokeColor),St.setAttribute("d",me(Q)),vt.appendChild(St),wt.appendChild(vt);break;case"image":var At=Math.round(Q.width),Zt=Math.round(Q.height),Wt=(0,f.wi)(Q)&&_e[Q.fileId];if(Wt){var en="image-".concat(Wt.id),sn=ue.querySelector("#".concat(en));if(!sn){(sn=ue.ownerDocument.createElementNS(B.hR,"symbol")).id=en;var Jt=ue.ownerDocument.createElementNS(B.hR,"image");Jt.setAttribute("width","100%"),Jt.setAttribute("height","100%"),Jt.setAttribute("href",Wt.dataURL),sn.appendChild(Jt),wt.prepend(sn)}var kn=ue.ownerDocument.createElementNS(B.hR,"use");if(kn.setAttribute("href","#".concat(en)),tt&&Wt.mimeType!==B.LO.svg&&kn.setAttribute("filter",S),kn.setAttribute("width","".concat(At)),kn.setAttribute("height","".concat(Zt)),Q.scale[0]!==1||Q.scale[1]!==1){var Nn=Q.scale[0]!==1?-At:0,Gn=Q.scale[1]!==1?-Zt:0;kn.setAttribute("transform","scale(".concat(Q.scale[0],", ").concat(Q.scale[1],") translate(").concat(Nn," ").concat(Gn,")"))}var Zn=ue.ownerDocument.createElementNS(B.hR,"g");Zn.appendChild(kn),Zn.setAttribute("transform","translate(".concat(Ze||0," ").concat(Ge||0,") rotate(").concat(ut," ").concat(Ae," ").concat(Pe,")")),wt.appendChild(Zn)}break;default:if(!(0,f.iB)(Q))throw new Error("Unimplemented type ".concat(Q.type));var tn=Q.opacity/100,dn=ue.ownerDocument.createElementNS(B.hR,"g");tn!==1&&(dn.setAttribute("stroke-opacity","".concat(tn)),dn.setAttribute("fill-opacity","".concat(tn))),dn.setAttribute("transform","translate(".concat(Ze||0," ").concat(Ge||0,") rotate(").concat(ut," ").concat(Ae," ").concat(Pe,")"));for(var En=Q.text.replace(/\r\n?/g,`
`).split(`
`),Un=Q.height/En.length,Dr=Q.height-Q.baseline,Ui=Q.textAlign==="center"?Q.width/2:Q.textAlign==="right"?Q.width:0,Vi=(0,k.dZ)(Q.text)?"rtl":"ltr",Ki=Q.textAlign==="center"?"middle":Q.textAlign==="right"||Vi==="rtl"?"end":"start",Di=0;Di<En.length;Di++){var nr=ue.ownerDocument.createElementNS(B.hR,"text");nr.textContent=En[Di],nr.setAttribute("x","".concat(Ui)),nr.setAttribute("y","".concat((Di+1)*Un-Dr)),nr.setAttribute("font-family",(0,k.$g)(Q)),nr.setAttribute("font-size","".concat(Q.fontSize,"px")),nr.setAttribute("fill",Q.strokeColor),nr.setAttribute("text-anchor",Ki),nr.setAttribute("style","white-space: pre;"),nr.setAttribute("direction",Vi),dn.appendChild(nr)}wt.appendChild(dn)}},Ce=new WeakMap([]);function te(Q){var se=me(Q),ue=new Path2D(se);return Ce.set(Q,ue),ue}function me(Q){return function(se){if(!se.length)return"";var ue=se.length-1;return se.reduce(function(_e,Ze,Ge,tt){return Ge===ue?_e.push(Ze,Re(Ze,tt[0]),"L",tt[0],"Z"):_e.push(Ze,Re(Ze,tt[Ge+1])),_e},["M",se[0],"Q"]).join(" ").replace(Be,"$1")}(C(Q.simulatePressure?Q.points:Q.points.length?Q.points.map(function(se,ue){var _e=(0,h.Z)(se,2);return[_e[0],_e[1],Q.pressures[ue]]}):[[0,0,.5]],{simulatePressure:Q.simulatePressure,size:4.25*Q.strokeWidth,thinning:.6,smoothing:.5,streamline:.5,easing:function(se){return Math.sin(se*Math.PI/2)},last:!!Q.lastCommittedPoint}))}function Re(Q,se){return[(Q[0]+se[0])/2,(Q[1]+se[1])/2]}var Be=/(\s?[A-Z]?,?-?[0-9]*\.[0-9]{0,2})(([0-9]|e|-)*)/g},3547:function(b,m,a){a.d(m,{Lu:function(){return A},Eu:function(){return y},M_:function(){return De}});var v,E=a(2577),h=a(1930),f=a(5284),D=a(1047),k=a(756),R=a(1868),d=a(3063),Z=a(8982),B=a(6938),ee=a(242),he=a(2325),N=a(8290),ke=a(267),Se=a(6340);(function(pe){pe.ACTIVE="active",pe.AWAY="away",pe.IDLE="idle"})(v||(v={}));var je=a(2335),we=a(4929),Ee=a(1974);function Me(pe,ae){var j=typeof Symbol<"u"&&pe[Symbol.iterator]||pe["@@iterator"];if(!j){if(Array.isArray(pe)||(j=function(H,L){if(H){if(typeof H=="string")return z(H,L);var I=Object.prototype.toString.call(H).slice(8,-1);if(I==="Object"&&H.constructor&&(I=H.constructor.name),I==="Map"||I==="Set")return Array.from(H);if(I==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(I))return z(H,L)}}(pe))||ae&&pe&&typeof pe.length=="number"){j&&(pe=j);var V=0,oe=function(){};return{s:oe,n:function(){return V>=pe.length?{done:!0}:{done:!1,value:pe[V++]}},e:function(H){throw H},f:oe}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var G,ye=!0,K=!1;return{s:function(){j=j.call(pe)},n:function(){var H=j.next();return ye=H.done,H},e:function(H){K=!0,G=H},f:function(){try{ye||j.return==null||j.return()}finally{if(K)throw G}}}}function z(pe,ae){(ae==null||ae>pe.length)&&(ae=pe.length);for(var j=0,V=new Array(ae);j<ae;j++)V[j]=pe[j];return V}var re,T=(0,Se.Q5)(),A=2,U=function(pe,ae,j,V,oe,G,ye,K){var H=arguments.length>8&&arguments[8]!==void 0&&arguments[8];pe.save(),pe.translate(G,ye),pe.rotate(K),H&&pe.fillRect(ae-G,j-ye,V,oe),pe.strokeRect(ae-G,j-ye,V,oe),pe.restore()},P=function(pe,ae,j,V){var oe=!(arguments.length>4&&arguments[4]!==void 0)||arguments[4];pe.beginPath(),pe.arc(ae,j,V,0,2*Math.PI),pe.fill(),oe&&pe.stroke()},M=function(pe,ae,j,V,oe,G){var ye=arguments.length>6&&arguments[6]!==void 0&&arguments[6];pe.strokeStyle="#5e5ad8",pe.setLineDash([]),pe.fillStyle="rgba(255, 255, 255, 0.9)",G?pe.fillStyle="rgba(134, 131, 226, 0.9)":ye&&(pe.fillStyle="rgba(177, 151, 252, 0.7)"),P(pe,V[0],V[1],oe/j.zoom.value,!ye)},C=function(pe,ae,j,V){if(ae.selectedLinearElement){pe.save(),pe.translate(j.scrollX,j.scrollY),pe.lineWidth=1/j.zoom.value;var oe=B._.getPointsGlobalCoordinates(V),G=B._.POINT_HANDLE_SIZE,ye=ae.editingLinearElement?G:G/2;oe.forEach(function(K,H){var L,I,F=!((L=ae.editingLinearElement)===null||L===void 0||(I=L.selectedPointsIndices)===null||I===void 0||!I.includes(H));M(pe,ae,j,K,ye,F)}),B._.getEditorMidPoints(V,ae).filter(function(K){return K!==null}).forEach(function(K){var H;ae!=null&&(H=ae.selectedLinearElement)!==null&&H!==void 0&&H.segmentMidPointHoveredCoords&&B._.arePointsEqual(K,ae.selectedLinearElement.segmentMidPointHoveredCoords)?ae.editingLinearElement?(M(pe,ae,j,K,ye,!1),g(K,pe,j)):(g(K,pe,j),M(pe,ae,j,K,ye,!1)):(ae.editingLinearElement||oe.length===2)&&M(pe,ae,j,K,G/2,!1,!0)}),pe.restore()}},g=function(pe,ae,j){ae.fillStyle="rgba(105, 101, 219, 0.4)",P(ae,pe[0],pe[1],B._.POINT_HANDLE_SIZE/j.zoom.value,!1)},l=function(pe){var ae,j=pe.elements,V=pe.appState,oe=pe.scale,G=pe.rc,ye=pe.canvas,K=pe.renderConfig;if(ye===null)return{atLeastOneVisibleElement:!1};var H=K.renderScrollbars,L=H===void 0||H,I=K.renderSelection,F=I===void 0||I,X=K.renderGrid,le=X===void 0||X,q=K.isExporting,Ce=K.selectionColor||f.black,te=ye.getContext("2d");te.setTransform(1,0,0,1,0,0),te.save(),te.scale(oe,oe);var me=ye.width/oe,Re=ye.height/oe;q&&K.theme==="dark"&&(te.filter=je.ZF),typeof K.viewBackgroundColor=="string"?((K.viewBackgroundColor==="transparent"||K.viewBackgroundColor.length===5||K.viewBackgroundColor.length===9||/(hsla|rgba)\(/.test(K.viewBackgroundColor))&&te.clearRect(0,0,me,Re),te.save(),te.fillStyle=K.viewBackgroundColor,te.fillRect(0,0,me,Re),te.restore()):te.clearRect(0,0,me,Re),te.save(),te.scale(K.zoom.value,K.zoom.value),le&&V.gridSize&&function(St,At,Zt,Wt,en,sn){St.save(),St.strokeStyle="rgba(0,0,0,0.1)",St.beginPath();for(var Jt=Zt;Jt<Zt+en+2*At;Jt+=At)St.moveTo(Jt,Wt-At),St.lineTo(Jt,Wt+sn+2*At);for(var kn=Wt;kn<Wt+sn+2*At;kn+=At)St.moveTo(Zt-At,kn),St.lineTo(Zt+en+2*At,kn);St.stroke(),St.restore()}(te,V.gridSize,-Math.ceil(K.zoom.value/V.gridSize)*V.gridSize+K.scrollX%V.gridSize,-Math.ceil(K.zoom.value/V.gridSize)*V.gridSize+K.scrollY%V.gridSize,me/K.zoom.value,Re/K.zoom.value);var Be=j.filter(function(St){return $(St,me,Re,{zoom:K.zoom,offsetLeft:V.offsetLeft,offsetTop:V.offsetTop,scrollX:K.scrollX,scrollY:K.scrollY})}),Q=void 0;if(Be.forEach(function(St){try{var At;(0,d.lw)(St,G,te,K,V),((At=V.editingLinearElement)===null||At===void 0?void 0:At.elementId)===St.id&&St&&(Q=St),q||ie(St,te,V)}catch(Zt){console.error(Zt)}}),Q&&C(te,V,K,Q),V.selectionElement)try{(0,d.lw)(V.selectionElement,G,te,K,V)}catch(St){console.error(St)}(0,N.N1)(V)&&V.suggestedBindings.filter(function(St){return St!=null}).forEach(function(St){J(te,K,St)});var se,ue=(0,R.eD)(j,V);if(ue.length===1&&((ae=V.editingLinearElement)===null||ae===void 0?void 0:ae.elementId)===ue[0].id&&C(te,V,K,ue[0]),V.selectedLinearElement&&V.selectedLinearElement.hoverPointIndex>=0&&function(St,At,Zt){var Wt,en,sn=At.selectedLinearElement,Jt=sn.elementId,kn=sn.hoverPointIndex;if((Wt=At.editingLinearElement)===null||Wt===void 0||(en=Wt.selectedPointsIndices)===null||en===void 0||!en.includes(kn)){var Nn=B._.getElement(Jt);if(Nn){var Gn=B._.getPointAtIndexGlobalCoordinates(Nn,kn);St.save(),St.translate(Zt.scrollX,Zt.scrollY),g(Gn,St,Zt),St.restore()}}}(te,V,K),F&&!V.multiElement&&!V.editingLinearElement){var _e,Ze=(0,ke.oY)(ue,V),Ge=ue.map(function(St){return St.id});if(ue.length===1&&(0,Ee.bt)(ue[0])&&((_e=V.selectedLinearElement)===null||_e===void 0?void 0:_e.elementId)===ue[0].id&&!ue[0].locked&&C(te,V,K,ue[0]),Ze){var tt,lt=j.reduce(function(St,At){var Zt=[];if(Ge.includes(At.id)&&!(0,ee.zq)(V,At)&&Zt.push(Ce),K.remoteSelectedElementIds[At.id]&&Zt.push.apply(Zt,(0,h.Z)(K.remoteSelectedElementIds[At.id].map(function(tn){return(0,Z.X)(tn,V).background}))),Zt.length){var Wt=(0,D.qf)(At,!0),en=(0,E.Z)(Wt,6),sn=en[0],Jt=en[1],kn=en[2],Nn=en[3],Gn=en[4],Zn=en[5];St.push({angle:At.angle,elementX1:sn,elementY1:Jt,elementX2:kn,elementY2:Nn,selectionColors:Zt,dashed:!!K.remoteSelectedElementIds[At.id],cx:Gn,cy:Zn})}return St},[]),nt=function(St){var At=(0,ee.Fb)(j,St),Zt=(0,D.KP)(At),Wt=(0,E.Z)(Zt,4),en=Wt[0],sn=Wt[1],Jt=Wt[2],kn=Wt[3];lt.push({angle:0,elementX1:en,elementX2:Jt,elementY1:sn,elementY2:kn,selectionColors:[f.black],dashed:!0,cx:en+(Jt-en)/2,cy:sn+(kn-sn)/2})},qe=Me((0,ee.iJ)(V));try{for(qe.s();!(tt=qe.n()).done;)nt(tt.value)}catch(St){qe.e(St)}finally{qe.f()}V.editingGroupId&&nt(V.editingGroupId),lt.forEach(function(St){return _(te,K,St)})}if(te.save(),te.translate(K.scrollX,K.scrollY),ue.length===1){te.fillStyle=f.white;var Ve=(0,D.PC)(ue[0],K.zoom,"mouse");!V.viewModeEnabled&&Ze&&S(te,K,Ve,ue[0].angle)}else if(ue.length>1&&!V.isRotating){var be=2*A/K.zoom.value;te.fillStyle=f.white;var Te=(0,D.KP)(ue),Ae=(0,E.Z)(Te,4),Pe=Ae[0],We=Ae[1],Ue=Ae[2],Je=Ae[3],et=te.getLineDash();te.setLineDash([2/K.zoom.value]);var Qe=te.lineWidth;te.lineWidth=1/K.zoom.value,te.strokeStyle=Ce,U(te,Pe-be,We-be,Ue-Pe+2*be,Je-We+2*be,(Pe+Ue)/2,(We+Je)/2,0),te.lineWidth=Qe,te.setLineDash(et);var it=(0,D.kK)([Pe,We,Ue,Je,(Pe+Ue)/2,(We+Je)/2],0,K.zoom,"mouse",D.ox);ue.some(function(St){return!St.locked})&&S(te,K,it,0)}te.restore()}for(var ft in te.restore(),K.remotePointerViewportCoords){var yt=K.remotePointerViewportCoords[ft],ut=yt.x,pt=yt.y;ut-=V.offsetLeft,pt-=V.offsetTop;var wt=ut<0||ut>me-9||pt<0||pt>Re-14;ut=Math.max(ut,0),ut=Math.min(ut,me-9),pt=Math.max(pt,0),pt=Math.min(pt,Re-14);var zt=(0,Z.X)(ft,V),Yt=zt.background,Ht=zt.stroke;te.save(),te.strokeStyle=Ht,te.fillStyle=Yt;var It=K.remotePointerUserStates[ft];(wt||It===v.AWAY)&&(te.globalAlpha=.48),K.remotePointerButton&&K.remotePointerButton[ft]==="down"&&(te.beginPath(),te.arc(ut,pt,15,0,2*Math.PI,!1),te.lineWidth=3,te.strokeStyle="#ffffff88",te.stroke(),te.closePath(),te.beginPath(),te.arc(ut,pt,15,0,2*Math.PI,!1),te.lineWidth=1,te.strokeStyle=Ht,te.stroke(),te.closePath()),te.beginPath(),te.moveTo(ut,pt),te.lineTo(ut+1,pt+14),te.lineTo(ut+4,pt+9),te.lineTo(ut+9,pt+10),te.lineTo(ut,pt),te.fill(),te.stroke();var _t=K.remotePointerUsernames[ft],Ct="";It===v.AWAY?Ct=T?"":" (".concat(v.AWAY,")"):It===v.IDLE&&(Ct=T?"":" (".concat(v.IDLE,")"));var Bt="".concat(_t||"").concat(Ct?" ".concat(Ct):"");if(!wt&&Bt){var hn=ut+9,wn=pt+14,Vt=te.measureText(Bt),Qt=Vt.actualBoundingBoxDescent+Vt.actualBoundingBoxAscent,$e=hn-1,rt=wn-1,gt=Vt.width+8+2,vt=Qt+8+2;te.roundRect?(te.beginPath(),te.roundRect($e,rt,gt,vt,4/K.zoom.value),te.fillStyle=Yt,te.fill(),te.fillStyle=Ht,te.stroke()):(te.fillStyle=Ht,te.fillRect($e,rt,gt,vt),te.fillStyle=Yt,te.fillRect(hn,wn,gt-2,vt-2)),te.fillStyle=f.white,te.fillText(Bt,hn+4,wn+4+Vt.actualBoundingBoxAscent)}te.restore(),te.closePath()}return L&&(se=(0,k.tJ)(j,me,Re,K),te.save(),te.fillStyle=k.w1,te.strokeStyle="rgba(255,255,255,0.8)",[se.horizontal,se.vertical].forEach(function(St){St&&function(At,Zt,Wt,en,sn,Jt){At.beginPath(),At.moveTo(Zt+Jt,Wt),At.lineTo(Zt+en-Jt,Wt),At.quadraticCurveTo(Zt+en,Wt,Zt+en,Wt+Jt),At.lineTo(Zt+en,Wt+sn-Jt),At.quadraticCurveTo(Zt+en,Wt+sn,Zt+en-Jt,Wt+sn),At.lineTo(Zt+Jt,Wt+sn),At.quadraticCurveTo(Zt,Wt+sn,Zt,Wt+sn-Jt),At.lineTo(Zt,Wt+Jt),At.quadraticCurveTo(Zt,Wt,Zt+Jt,Wt),At.closePath(),At.fill(),At.stroke()}(te,St.x,St.y,St.width,St.height,k.nn/2)}),te.restore()),te.restore(),{atLeastOneVisibleElement:Be.length>0,scrollBars:se}},w=(0,Se.hR)(function(pe){var ae,j=l(pe);(ae=pe.callback)===null||ae===void 0||ae.call(pe,j)},{trailing:!0}),y=function(pe,ae){var j;if(!ae){var V=l(pe);return(j=pe.callback)===null||j===void 0||j.call(pe,V),V}w(pe)},S=function(pe,ae,j,V){Object.keys(j).forEach(function(oe){var G=j[oe];if(G!==void 0){var ye=(0,E.Z)(G,4),K=ye[0],H=ye[1],L=ye[2],I=ye[3];pe.save(),pe.lineWidth=1/ae.zoom.value,ae.selectionColor&&(pe.strokeStyle=ae.selectionColor),oe==="rotation"?P(pe,K+L/2,H+I/2,L/2):pe.roundRect?(pe.beginPath(),pe.roundRect(K,H,L,I,2/ae.zoom.value),pe.fill(),pe.stroke()):U(pe,K,H,L,I,K+L/2,H+I/2,V,!0),pe.restore()}})},_=function(pe,ae,j){var V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:2*A,oe=j.angle,G=j.elementX1,ye=j.elementY1,K=j.elementX2,H=j.elementY2,L=j.selectionColors,I=j.cx,F=j.cy,X=j.dashed,le=K-G,q=H-ye,Ce=V/ae.zoom.value,te=8/ae.zoom.value,me=4/ae.zoom.value;pe.save(),pe.translate(ae.scrollX,ae.scrollY),pe.lineWidth=1/ae.zoom.value;for(var Re=L.length,Be=0;Be<Re;++Be)pe.strokeStyle=L[Be],X&&pe.setLineDash([te,me+(te+me)*(Re-1)]),pe.lineDashOffset=(te+me)*Be,U(pe,G-Ce,ye-Ce,le+2*Ce,q+2*Ce,I,F,oe);pe.restore()},J=function(pe,ae,j){var V=Array.isArray(j)?ve:de;pe.save(),pe.translate(ae.scrollX,ae.scrollY),V(pe,j),pe.restore()},de=function(pe,ae){var j=(0,D.qf)(ae),V=(0,E.Z)(j,4),oe=V[0],G=V[1],ye=V[2]-oe,K=V[3]-G,H=(0,he.fb)(ae,ye,K);pe.strokeStyle="rgba(0,0,0,.05)",pe.lineWidth=H-4;var L=2+H/2;switch(ae.type){case"rectangle":case"text":case"image":U(pe,oe-L,G-L,ye+2*L,K+2*L,oe+ye/2,G+K/2,ae.angle);break;case"diamond":var I=Math.hypot(ye,K);(function(F,X,le,q,Ce,te){F.save(),F.translate(q,Ce),F.rotate(te),F.beginPath(),F.moveTo(0,le/2),F.lineTo(X/2,0),F.lineTo(0,-le/2),F.lineTo(-X/2,0),F.closePath(),F.stroke(),F.restore()})(pe,ye+2*(L*I/K),K+2*(L*I/ye),oe+ye/2,G+K/2,ae.angle);break;case"ellipse":(function(F,X,le,q,Ce,te){F.beginPath(),F.ellipse(q,Ce,X/2,le/2,te,0,2*Math.PI),F.stroke()})(pe,ye+2*L,K+2*L,oe+ye/2,G+K/2,ae.angle)}},ve=function(pe,ae){var j=(0,E.Z)(ae,3),V=j[0],oe=j[1],G=j[2],ye=(0,he.fb)(G,G.width,G.height);pe.strokeStyle="rgba(0,0,0,0)",pe.fillStyle="rgba(0,0,0,.05)",(oe==="both"?[0,-1]:oe==="start"?[0]:[-1]).forEach(function(K){var H=B._.getPointAtIndexGlobalCoordinates(V,K),L=(0,E.Z)(H,2),I=L[0],F=L[1];P(pe,I,F,ye)})},ie=function(pe,ae,j){if(pe.link&&!j.selectedElementIds[pe.id]){var V=(0,D.qf)(pe),oe=(0,E.Z)(V,4),G=oe[0],ye=oe[1],K=oe[2],H=oe[3],L=(0,we.sw)([G,ye,K,H],pe.angle,j),I=(0,E.Z)(L,4),F=I[0],X=I[1],le=I[2],q=I[3],Ce=F+le/2,te=X+q/2;if(ae.save(),ae.translate(j.scrollX+Ce,j.scrollY+te),ae.rotate(pe.angle),re&&re.zoom===j.zoom.value)ae.drawImage(re,F-Ce,X-te,le,q);else{(re=document.createElement("canvas")).zoom=j.zoom.value,re.width=le*window.devicePixelRatio*j.zoom.value,re.height=q*window.devicePixelRatio*j.zoom.value;var me=re.getContext("2d");me.scale(window.devicePixelRatio*j.zoom.value,window.devicePixelRatio*j.zoom.value),me.fillStyle="#fff",me.fillRect(0,0,le,q),me.drawImage(we.rj,0,0,le,q),me.restore(),ae.drawImage(re,F-Ce,X-te,le,q)}ae.restore()}},$=function(pe,ae,j,V){var oe=(0,D.Pi)(pe),G=(0,E.Z)(oe,4),ye=G[0],K=G[1],H=G[2],L=G[3],I=(0,Se.dE)({clientX:V.offsetLeft,clientY:V.offsetTop},V),F=(0,Se.dE)({clientX:V.offsetLeft+ae,clientY:V.offsetTop+j},V);return I.x<=H&&I.y<=L&&F.x>=ye&&F.y>=K},De=function(pe,ae,j,V){var oe=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{},G=oe.offsetX,ye=G===void 0?0:G,K=oe.offsetY,H=K===void 0?0:K,L=oe.exportWithDarkMode,I=L!==void 0&&L;j&&pe.forEach(function(F,X){if(!F.isDeleted)try{(0,d.Rg)(F,ae,j,V,F.x+ye,F.y+H,I)}catch(le){console.error(le)}})}},1564:function(b,m,a){var v=a(1930),E=a(8821),h=a(5169),f=a(1047),D=function(R){return typeof R=="string"},k=function(){function R(){(0,E.Z)(this,R),this.callbacks=new Set,this.nonDeletedElements=[],this.elements=[],this.elementsMap=new Map}return(0,h.Z)(R,[{key:"getElementsIncludingDeleted",value:function(){return this.elements}},{key:"getNonDeletedElements",value:function(){return this.nonDeletedElements}},{key:"getElement",value:function(d){return this.elementsMap.get(d)||null}},{key:"getNonDeletedElement",value:function(d){var Z=this.getElement(d);return Z&&(0,f.qP)(Z)?Z:null}},{key:"mapElements",value:function(d){var Z=!1,B=this.elements.map(function(ee){var he=d(ee);return he!==ee&&(Z=!0),he});return Z&&this.replaceAllElements(B),Z}},{key:"replaceAllElements",value:function(d){var Z=this;this.elements=d,this.elementsMap.clear(),d.forEach(function(B){Z.elementsMap.set(B.id,B),R.mapElementToScene(B,Z)}),this.nonDeletedElements=(0,f.Lm)(this.elements),this.informMutation()}},{key:"informMutation",value:function(){for(var d=0,Z=Array.from(this.callbacks);d<Z.length;d++)(0,Z[d])()}},{key:"addCallback",value:function(d){var Z=this;if(this.callbacks.has(d))throw new Error;return this.callbacks.add(d),function(){if(!Z.callbacks.has(d))throw new Error;Z.callbacks.delete(d)}}},{key:"destroy",value:function(){var d=this;R.sceneMapById.forEach(function(Z,B){Z===d&&R.sceneMapById.delete(B)}),this.callbacks.clear()}},{key:"insertElementAtIndex",value:function(d,Z){if(!Number.isFinite(Z)||Z<0)throw new Error("insertElementAtIndex can only be called with index >= 0");var B=[].concat((0,v.Z)(this.elements.slice(0,Z)),[d],(0,v.Z)(this.elements.slice(Z)));this.replaceAllElements(B)}},{key:"getElementIndex",value:function(d){return this.elements.findIndex(function(Z){return Z.id===d})}}],[{key:"mapElementToScene",value:function(d,Z){D(d)?this.sceneMapById.set(d,Z):(this.sceneMapByElement.set(d,Z),this.sceneMapById.set(d.id,Z))}},{key:"getScene",value:function(d){return D(d)?this.sceneMapById.get(d)||null:this.sceneMapByElement.get(d)||null}}]),R}();k.sceneMapByElement=new WeakMap,k.sceneMapById=new Map,m.Z=k},8120:function(b,m,a){a.d(m,{$b:function(){return v},CJ:function(){return Z},M9:function(){return f},PD:function(){return E},QG:function(){return d},Un:function(){return R},Zd:function(){return h},bZ:function(){return k},sh:function(){return D}});var v=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="line"||B==="freedraw"},E=function(B){return B!=="image"},h=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="freedraw"||B==="arrow"||B==="line"},f=function(B){return B==="rectangle"||B==="ellipse"||B==="diamond"||B==="arrow"||B==="line"},D=function(B){return B==="rectangle"||B==="arrow"||B==="line"||B==="diamond"},k=function(B){return B==="text"},R=function(B){return B==="arrow"},d=function(B,ee){for(var he=null,N=B.length-1;N>=0;--N){var ke=B[N];if(!ke.isDeleted&&ee(ke)){he=ke;break}}return he},Z=function(B,ee){return B.filter(function(he){return!he.isDeleted&&ee(he)})}},4162:function(b,m,a){a.d(m,{$D:function(){return Se},Cg:function(){return we},NL:function(){return ke},oj:function(){return N}});var v=a(2577),E=a(8950),h=a(2975),f=a.n(h),D=a(8234),k=a(8925),R=a(3547),d=a(6340),Z=a(2335),B=a(8897),ee=a(5523),he=a(5637),N="<!-- svg-source:excalidraw -->",ke=function(){var Ee=(0,E.Z)(f().mark(function Me(z,re,T,A){var U,P,M,C,g,l,w,y,S,_,J,de,ve,ie,$,De,pe,ae,j=arguments;return f().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return U=A.exportBackground,P=A.exportPadding,M=P===void 0?Z.qy:P,C=A.viewBackgroundColor,g=j.length>4&&j[4]!==void 0?j[4]:function(oe,G){var ye=document.createElement("canvas");return ye.width=oe*re.exportScale,ye.height=G*re.exportScale,{canvas:ye,scale:re.exportScale}},l=je(z,M),w=(0,v.Z)(l,4),y=w[0],S=w[1],_=w[2],J=w[3],de=g(_,J),ve=de.canvas,ie=de.scale,$=ie===void 0?1:ie,De=(0,B.im)(),V.next=7,(0,he.Xx)({imageCache:new Map,fileIds:(0,he.oA)(z).map(function(oe){return oe.fileId}),files:T});case 7:return pe=V.sent,ae=pe.imageCache,(0,R.Eu)({elements:z,appState:re,scale:$,rc:D.Z.canvas(ve),canvas:ve,renderConfig:{viewBackgroundColor:U?C:null,scrollX:-y+M,scrollY:-S+M,zoom:De.zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{},theme:re.exportWithDarkMode?"dark":"light",imageCache:ae,renderScrollbars:!1,renderSelection:!1,renderGrid:!1,isExporting:!0}}),V.abrupt("return",ve);case 11:case"end":return V.stop()}},Me)}));return function(Me,z,re,T){return Ee.apply(this,arguments)}}(),Se=function(){var Ee=(0,E.Z)(f().mark(function Me(z,re,T){var A,U,P,M,C,g,l,w,y,S,_,J,de,ve,ie,$,De,pe;return f().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:if(A=re.exportPadding,U=A===void 0?Z.qy:A,P=re.viewBackgroundColor,M=re.exportScale,C=M===void 0?1:M,g=re.exportEmbedScene,l="",!g){ae.next=14;break}return ae.prev=3,ae.next=6,Promise.resolve().then(a.bind(a,673));case 6:return ae.next=8,ae.sent.encodeSvgMetadata({text:(0,ee.I_)(z,re,T||{},"local")});case 8:l=ae.sent,ae.next=14;break;case 11:ae.prev=11,ae.t0=ae.catch(3),console.error(ae.t0);case 14:return w=je(z,U),y=(0,v.Z)(w,4),S=y[0],_=y[1],J=y[2],de=y[3],(ve=document.createElementNS(Z.hR,"svg")).setAttribute("version","1.1"),ve.setAttribute("xmlns",Z.hR),ve.setAttribute("viewBox","0 0 ".concat(J," ").concat(de)),ve.setAttribute("width","".concat(J*C)),ve.setAttribute("height","".concat(de*C)),re.exportWithDarkMode&&ve.setAttribute("filter",Z.ZF),ie="https://excalidraw.com/",ie=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.14.2"),($=ie)!==null&&$!==void 0&&$.startsWith("/")&&(ie=ie.replace("/","".concat(window.location.origin,"/"))),ie="".concat(ie,"/dist/excalidraw-assets/"),ve.innerHTML=`
  `.concat(N,`
  `).concat(l,`
  <defs>
    <style class="style-fonts">
      @font-face {
        font-family: "Virgil";
        src: url("`).concat(ie,`Virgil.woff2");
      }
      @font-face {
        font-family: "Cascadia";
        src: url("`).concat(ie,`Cascadia.woff2");
      }
    </style>
  </defs>
  `),re.exportBackground&&P&&((De=ve.ownerDocument.createElementNS(Z.hR,"rect")).setAttribute("x","0"),De.setAttribute("y","0"),De.setAttribute("width","".concat(J)),De.setAttribute("height","".concat(de)),De.setAttribute("fill",P),ve.appendChild(De)),pe=D.Z.svg(ve),(0,R.M_)(z,pe,ve,T||{},{offsetX:-S+U,offsetY:-_+U,exportWithDarkMode:re.exportWithDarkMode}),ae.abrupt("return",ve);case 29:case"end":return ae.stop()}},Me,null,[[3,11]])}));return function(Me,z,re){return Ee.apply(this,arguments)}}(),je=function(Ee,Me){var z=(0,k.KP)(Ee),re=(0,v.Z)(z,4),T=re[0],A=re[1],U=re[2],P=re[3];return[T,A,(0,d.TE)(T,U)+2*Me,(0,d.TE)(A,P)+Me+Me]},we=function(Ee,Me,z){var re=je(Ee,Me).map(function(A){return Math.trunc(A*z)}),T=(0,v.Z)(re,4);return[T[2],T[3]]}},75:function(b,m,a){a.d(m,{$b:function(){return f.$b},CJ:function(){return f.CJ},M9:function(){return f.M9},N:function(){return E.N},PR:function(){return E.PR},QG:function(){return f.QG},Un:function(){return f.Un},W:function(){return h.W},Yp:function(){return E.Yp},Zd:function(){return f.Zd},Zs:function(){return E.Zs},_4:function(){return v._4},bZ:function(){return f.bZ},eD:function(){return E.eD},j:function(){return D.j},sh:function(){return f.sh}});var v=a(756),E=a(1868),h=a(2264),f=a(8120),D=a(746)},2264:function(b,m,a){a.d(m,{W:function(){return D},s:function(){return f}});var v=a(2577),E=a(1047),h=a(6340),f=function(k){var R=k.scenePoint,d=k.viewportDimensions,Z=k.zoom;return{scrollX:d.width/2/Z.value-R.x,scrollY:d.height/2/Z.value-R.y}},D=function(k,R,d){if(!(k=(0,E.n_)(k)).length)return{scrollX:0,scrollY:0};var Z=(0,E.KP)(k),B=(0,v.Z)(Z,4),ee=B[0],he=B[1],N=B[2],ke=B[3];if(function(we,Ee,Me){var z=(0,v.Z)(Me,4),re=z[0],T=z[1],A=z[2],U=z[3],P=(0,h._i)({sceneX:re,sceneY:T},we),M=P.x,C=P.y,g=(0,h._i)({sceneX:A,sceneY:U},we),l=g.x,w=g.y;return l-M>we.width||w-C>we.height}(R,0,[ee,he,N,ke])){var Se=(0,E.os)(k,(0,h.dE)({clientX:R.scrollX,clientY:R.scrollY},R)),je=(0,v.Z)(Se,4);ee=je[0],he=je[1],N=je[2],ke=je[3]}return f({scenePoint:{x:(ee+N)/2,y:(he+ke)/2},viewportDimensions:{width:R.width,height:R.height},zoom:R.zoom})}},756:function(b,m,a){a.d(m,{WM:function(){return D},_4:function(){return Z},nn:function(){return k},tJ:function(){return d},w1:function(){return R}});var v=a(2577),E=a(1047),h=a(6340),f=a(8211),D=4,k=6,R="rgba(0,0,0,0.3)",d=function(B,ee,he,N){var ke=N.scrollX,Se=N.scrollY,je=N.zoom;if(B.length===0)return{horizontal:null,vertical:null};var we=(0,E.KP)(B),Ee=(0,v.Z)(we,4),Me=Ee[0],z=Ee[1],re=Ee[2],T=Ee[3],A=ee/je.value,U=he/je.value,P=ee-A,M=he-U,C={top:parseInt((0,h.IH)("sat")),bottom:parseInt((0,h.IH)("sab")),left:parseInt((0,h.IH)("sal")),right:parseInt((0,h.IH)("sar"))},g=(0,f.G3)().rtl,l=P/2-ke+C.left,w=M/2-Se+C.top,y=l+A-C.right,S=w+U-C.bottom,_=Math.min(Me,l),J=Math.min(z,w),de=Math.max(re,y),ve=Math.max(T,S);return{horizontal:l===_&&y===de?null:{x:Math.max(C.left,D)+(l-_)/(de-_)*ee,y:he-k-Math.max(D,C.bottom),width:(y-l)/(de-_)*ee-Math.max(2*D,C.left+C.right),height:k},vertical:w===J&&S===ve?null:{x:g?Math.max(C.left,D):ee-k-Math.max(C.right,D),y:(w-J)/(ve-J)*he+Math.max(C.top,D),width:k,height:(S-w)/(ve-J)*he-Math.max(2*D,C.top+C.bottom)}}},Z=function(B,ee,he){var N=[B.horizontal,B.vertical].map(function(we){return we!=null&&we.x<=ee&&ee<=we.x+we.width&&we.y<=he&&he<=we.y+we.height}),ke=(0,v.Z)(N,2),Se=ke[0],je=ke[1];return{isOverEither:Se||je,isOverHorizontal:Se,isOverVertical:je}}},1868:function(b,m,a){a.d(m,{N:function(){return D},PR:function(){return k},Yp:function(){return f},Zs:function(){return d},eD:function(){return R}});var v=a(2577),E=a(1047),h=a(1974),f=function(Z,B){var ee=(0,E.qf)(B),he=(0,v.Z)(ee,4),N=he[0],ke=he[1],Se=he[2],je=he[3];return Z.filter(function(we){var Ee=(0,E.Pi)(we),Me=(0,v.Z)(Ee,4),z=Me[0],re=Me[1],T=Me[2],A=Me[3];return we.locked===!1&&we.type!=="selection"&&!(0,h.Xh)(we)&&N<=z&&ke<=re&&Se>=T&&je>=A})},D=function(Z,B){return Z.some(function(ee){return B.selectedElementIds[ee.id]})},k=function(Z,B,ee){var he=Array.from(new Set(R(Z,B).map(function(N){return ee(N)})));return he.length===1?he[0]:null},R=function(Z,B){var ee=arguments.length>2&&arguments[2]!==void 0&&arguments[2];return Z.filter(function(he){return B.selectedElementIds[he.id]||ee&&(0,h.Xh)(he)&&B.selectedElementIds[he==null?void 0:he.containerId]?he:null})},d=function(Z,B){return B.editingElement?[B.editingElement]:R(Z,B,!0)}},746:function(b,m,a){a.d(m,{E:function(){return h},j:function(){return E}});var v=a(2335),E=function(f){return Math.max(v.Zj,Math.min(f,30))},h=function(f,D){var k=f.viewportX,R=f.viewportY,d=f.nextZoom,Z=k-D.offsetLeft,B=R-D.offsetTop,ee=D.zoom.value;return{scrollX:D.scrollX+(Z-Z/ee)+-(Z-Z/d),scrollY:D.scrollY+(B-B/ee)+-(B-B/d),zoom:{value:d}}}},6340:function(b,m,a){a.d(m,{$9:function(){return ye},$g:function(){return Me},$h:function(){return te},AK:function(){return De},C3:function(){return F},Ds:function(){return re},FG:function(){return pe},Fc:function(){return ke},G3:function(){return I},IH:function(){return ve},Ip:function(){return H},KJ:function(){return C},Mj:function(){return Q},OF:function(){return g},Om:function(){return P},Oo:function(){return Se},PI:function(){return oe},Pr:function(){return S},Q5:function(){return K},Qm:function(){return V},TE:function(){return U},Uk:function(){return l},_Z:function(){return we},_i:function(){return de},ag:function(){return q},cx:function(){return ae},dE:function(){return J},dZ:function(){return $},h2:function(){return le},hR:function(){return T},mO:function(){return z},qr:function(){return j},qz:function(){return L},rB:function(){return w},s:function(){return Ee},tH:function(){return G},uY:function(){return _},v4:function(){return Ce},w8:function(){return Be},wO:function(){return je},wo:function(){return y},xn:function(){return X},xp:function(){return Re},y8:function(){return me},yo:function(){return A},z8:function(){return M}});var v=a(6655),E=a(7169),h=a(1930),f=a(2577),D=a(5284),k=a(56),R=a(2335),d=a(5156),Z=a(8897);function B(se,ue){var _e=Object.keys(se);if(Object.getOwnPropertySymbols){var Ze=Object.getOwnPropertySymbols(se);ue&&(Ze=Ze.filter(function(Ge){return Object.getOwnPropertyDescriptor(se,Ge).enumerable})),_e.push.apply(_e,Ze)}return _e}function ee(se){for(var ue=1;ue<arguments.length;ue++){var _e=arguments[ue]!=null?arguments[ue]:{};ue%2?B(Object(_e),!0).forEach(function(Ze){(0,E.Z)(se,Ze,_e[Ze])}):Object.getOwnPropertyDescriptors?Object.defineProperties(se,Object.getOwnPropertyDescriptors(_e)):B(Object(_e)).forEach(function(Ze){Object.defineProperty(se,Ze,Object.getOwnPropertyDescriptor(_e,Ze))})}return se}var he,N,ke=function(){var se=new Date,ue=se.getFullYear(),_e="".concat(se.getMonth()+1).padStart(2,"0"),Ze="".concat(se.getDate()).padStart(2,"0"),Ge="".concat(se.getHours()).padStart(2,"0"),tt="".concat(se.getMinutes()).padStart(2,"0");return"".concat(ue,"-").concat(_e,"-").concat(Ze,"-").concat(Ge).concat(tt)},Se=function(se){return se.charAt(0).toUpperCase()+se.slice(1)},je=function(se){return se instanceof HTMLElement&&se.className.includes("ToolIcon")},we=function(se){return se instanceof HTMLElement&&se.dataset.type==="wysiwyg"||se instanceof HTMLBRElement||se instanceof HTMLInputElement||se instanceof HTMLTextAreaElement||se instanceof HTMLSelectElement},Ee=function(se){return se instanceof HTMLElement&&se.dataset.type==="wysiwyg"||se instanceof HTMLBRElement||se instanceof HTMLTextAreaElement||se instanceof HTMLInputElement&&(se.type==="text"||se.type==="number")},Me=function(se){for(var ue=se.fontFamily,_e=0,Ze=Object.entries(R.ut);_e<Ze.length;_e++){var Ge=(0,f.Z)(Ze[_e],2),tt=Ge[0];if(Ge[1]===ue)return"".concat(tt,", ").concat(R._D)}return R._D},z=function(se){var ue=se.fontSize,_e=se.fontFamily;return"".concat(ue,"px ").concat(Me({fontFamily:_e}))},re=function(se,ue){var _e=0,Ze=null,Ge=function(){for(var tt=arguments.length,lt=new Array(tt),nt=0;nt<tt;nt++)lt[nt]=arguments[nt];Ze=lt,clearTimeout(_e),_e=window.setTimeout(function(){Ze=null,se.apply(void 0,lt)},ue)};return Ge.flush=function(){if(clearTimeout(_e),Ze){var tt=Ze;Ze=null,se.apply(void 0,(0,h.Z)(tt))}},Ge.cancel=function(){Ze=null,clearTimeout(_e)},Ge},T=function(se,ue){var _e=null,Ze=null,Ge=null,tt=function nt(qe){_e=window.requestAnimationFrame(function(){_e=null,se.apply(void 0,(0,h.Z)(qe)),Ze=null,Ge&&(Ze=Ge,Ge=null,nt(Ze))})},lt=function(){for(var nt=arguments.length,qe=new Array(nt),Ve=0;Ve<nt;Ve++)qe[Ve]=arguments[Ve];Ze=qe,_e===null?tt(Ze):ue!=null&&ue.trailing&&(Ge=qe)};return lt.flush=function(){_e!==null&&(cancelAnimationFrame(_e),_e=null),Ze&&(se.apply(void 0,(0,h.Z)(Ge||Ze)),Ze=Ge=null)},lt.cancel=function(){Ze=Ge=null,_e!==null&&(cancelAnimationFrame(_e),_e=null)},lt},A=function(se,ue){if(!se.length||ue<1)return[];for(var _e=0,Ze=0,Ge=Array(Math.ceil(se.length/ue));_e<se.length;)Ge[Ze++]=se.slice(_e,_e+=ue);return Ge},U=function(se,ue){return Math.abs(se-ue)},P=function(se,ue){return ue.type==="custom"?ee(ee({},se.activeTool),{},{type:"custom",customType:ue.customType}):ee(ee({},se.activeTool),{},{lastActiveTool:ue.lastActiveToolBeforeEraser===void 0?se.activeTool.lastActiveTool:ue.lastActiveToolBeforeEraser,type:ue.type,customType:null})},M=function(se){se&&(se.style.cursor="")},C=function(se,ue){se&&(se.style.cursor=ue)},g=function(se,ue){he&&he.theme===ue||function(){var _e=ue===R.C6.DARK;(he=document.createElement("canvas")).theme=ue,he.height=20,he.width=20;var Ze=he.getContext("2d");Ze.lineWidth=1,Ze.beginPath(),Ze.arc(he.width/2,he.height/2,5,0,2*Math.PI),Ze.fillStyle=_e?D.black:D.white,Ze.fill(),Ze.strokeStyle=_e?D.white:D.black,Ze.stroke(),N=he.toDataURL(R.LO.svg)}(),C(se,"url(".concat(N,") ").concat(10," ").concat(10,", auto"))},l=function(se,ue){se&&(ue.activeTool.type==="selection"?M(se):(0,Z.l$)(ue)?se.style.cursor=R.oc.GRAB:(0,Z.EN)(ue)?g(se,ue.theme):["image","custom"].includes(ue.activeTool.type)||(se.style.cursor=R.oc.CROSSHAIR))},w=function(){var se;return((se=document.fullscreenElement)===null||se===void 0?void 0:se.nodeName)==="HTML"},y=function(){return document.documentElement.requestFullscreen()},S=function(){return document.exitFullscreen()},_=function(se){return se=se.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter"),R.Um?se.replace(/\bCtrlOrCmd\b/gi,"Cmd").replace(/\bAlt\b/i,"Option"):se.replace(/\bCtrlOrCmd\b/gi,"Ctrl")},J=function(se,ue){var _e=se.clientX,Ze=se.clientY,Ge=ue.zoom,tt=ue.offsetLeft,lt=ue.offsetTop,nt=ue.scrollX,qe=ue.scrollY;return{x:(_e-tt)/Ge.value-nt,y:(Ze-lt)/Ge.value-qe}},de=function(se,ue){var _e=se.sceneX,Ze=se.sceneY,Ge=ue.zoom,tt=ue.offsetLeft,lt=ue.offsetTop,nt=ue.scrollX,qe=ue.scrollY;return{x:(_e+nt)*Ge.value+tt,y:(Ze+qe)*Ge.value+lt}},ve=function(se){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(se))},ie=new RegExp("^[^".concat("A-Za-z--------","]*[").concat("---","]")),$=function(se){return ie.test(se)},De=function(se){var ue=(0,f.Z)(se,2);return{x:ue[0],y:ue[1]}},pe=function(se){if((se==null?void 0:se.name)!=="AbortError")throw se;console.warn(se)},ae=function(se,ue){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;_e<0&&(_e=se.length+_e);for(var Ze=(_e=Math.min(se.length,Math.max(_e,0)))-1;++Ze<se.length;)if(ue(se[Ze],Ze,se))return Ze;return-1},j=function(se,ue){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:se.length-1;_e<0&&(_e=se.length+_e);for(var Ze=(_e=Math.min(se.length-1,Math.max(_e,0)))+1;--Ze>-1;)if(ue(se[Ze],Ze,se))return Ze;return-1},V=function(se){var ue=se.length===5&&se.substr(4,1)==="0",_e=se.length===9&&se.substr(7,2)==="00";return ue||_e||se===k.Z.elementBackground[0]},oe=function(){var se,ue,_e=new Promise(function(Ze,Ge){se=Ze,ue=Ge});return _e.resolve=se,_e.reject=ue,_e},G=function(se){return function(ue){(0,d.unstable_batchedUpdates)(se,ue)}},ye=function(se){return T(function(ue){(0,d.unstable_batchedUpdates)(se,ue)})},K=function(){var se=document.createElement("canvas").getContext("2d");return se?(se.fillStyle="#f00",se.textBaseline="top",se.font="32px Arial",se.fillText("",0,0),se.getImageData(12,12,1,1).data[0]!==0):!1},H=function(se){for(var ue=se.parentElement;ue;){if(ue===document.body)return document;var _e=window.getComputedStyle(ue).overflowY;if(ue.scrollHeight>ue.clientHeight&&(_e==="auto"||_e==="scroll"||_e==="overlay"))return ue;ue=ue.parentElement}return document},L=function(se){for(var ue=se.parentElement;ue;){if(ue.tabIndex>-1)return void ue.focus();ue=ue.parentElement}},I=function(se){return Array.from(se).map(function(ue){return"0".concat(ue.toString(16)).slice(-2)}).join("")},F=function(){return le()?1:Date.now()},X=function(se){return se.reduce(function(ue,_e){return ue.set(typeof _e=="string"?_e:_e.id,_e),ue},new Map)},le=function(){var se;return typeof process<"u"&&((se={REACT_APP_BACKEND_V2_GET_URL:"https://json.excalidraw.com/api/v2/",REACT_APP_BACKEND_V2_POST_URL:"https://json.excalidraw.com/api/v2/post/",REACT_APP_LIBRARY_URL:"https://libraries.excalidraw.com",REACT_APP_LIBRARY_BACKEND:"https://us-central1-excalidraw-room-persistence.cloudfunctions.net/libraries",REACT_APP_PORTAL_URL:"https://portal.excalidraw.com",REACT_APP_WS_SERVER_URL:"",REACT_APP_FIREBASE_CONFIG:'{"apiKey":"AIzaSyAd15pYlMci_xIp9ko6wkEsDzAAA0Dn0RU","authDomain":"excalidraw-room-persistence.firebaseapp.com","databaseURL":"https://excalidraw-room-persistence.firebaseio.com","projectId":"excalidraw-room-persistence","storageBucket":"excalidraw-room-persistence.appspot.com","messagingSenderId":"654800341332","appId":"1:654800341332:web:4a692de832b55bd57ce0c1"}',REACT_APP_GOOGLE_ANALYTICS_ID:"UA-387204-13",REACT_APP_PLUS_APP:"https://app.excalidraw.com",PKG_NAME:"@excalidraw/excalidraw",PKG_VERSION:"0.14.2",IS_EXCALIDRAW_NPM_PACKAGE:!0})===null||se===void 0?void 0:se.NODE_ENV)==="test"},q=function(se,ue){return new CustomEvent(se,{detail:{nativeEvent:ue},cancelable:!0})},Ce=function(se,ue){var _e=!1;for(var Ze in ue){var Ge=ue[Ze];if(Ge!==void 0){if(se[Ze]===Ge&&((0,v.Z)(Ge)!=="object"||Ge===null))continue;_e=!0}}return _e?ee(ee({},se),ue):se},te=function(){try{return window.self===window.top?"top":"iframe"}catch{return"iframe"}},me=function(se){return!!se&&(0,v.Z)(se)==="object"&&"then"in se&&"catch"in se&&"finally"in se},Re=function(se){var ue=se==null?void 0:se.querySelectorAll("button, a, input, select, textarea, div[tabindex], label[tabindex]");return ue?Array.from(ue).filter(function(_e){return _e.tabIndex>-1&&!_e.disabled}):[]},Be=function(se,ue){var _e=Object.keys(se),Ze=Object.keys(se);return _e.length===Ze.length&&_e.every(function(Ge){return se[Ge]===ue[Ge]})},Q=function(se,ue){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},Ze=_e.checkForDefaultPrevented,Ge=Ze===void 0||Ze;return function(tt){if(se==null||se(tt),!Ge||!tt.defaultPrevented)return ue==null?void 0:ue(tt)}}},9669:function(b){b.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg=="},7984:function(b){b.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},1639:function(b){b.exports='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="292.4" height="292.4" viewBox="0 0 292 292"><path fill="%23ced4da" d="M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/></svg>'},9729:function(b,m,a){b.exports=a.p+"excalidraw-assets/Assistant-Bold.woff2"},1273:function(b,m,a){b.exports=a.p+"excalidraw-assets/Assistant-Medium.woff2"},8303:function(b,m,a){b.exports=a.p+"excalidraw-assets/Assistant-Regular.woff2"},9577:function(b,m,a){b.exports=a.p+"excalidraw-assets/Assistant-SemiBold.woff2"},3147:function(b,m,a){b.exports=a.p+"excalidraw-assets/Cascadia.woff2"},3940:function(b,m,a){b.exports=a.p+"excalidraw-assets/Virgil.woff2"},9787:function(b){b.exports=n},5156:function(b){b.exports=r},9649:function(b,m,a){var v=a(8114).default;function E(){b.exports=E=function(){return h},b.exports.__esModule=!0,b.exports.default=b.exports;var h={},f=Object.prototype,D=f.hasOwnProperty,k=Object.defineProperty||function(y,S,_){y[S]=_.value},R=typeof Symbol=="function"?Symbol:{},d=R.iterator||"@@iterator",Z=R.asyncIterator||"@@asyncIterator",B=R.toStringTag||"@@toStringTag";function ee(y,S,_){return Object.defineProperty(y,S,{value:_,enumerable:!0,configurable:!0,writable:!0}),y[S]}try{ee({},"")}catch{ee=function(S,_,J){return S[_]=J}}function he(y,S,_,J){var de=S&&S.prototype instanceof Se?S:Se,ve=Object.create(de.prototype),ie=new g(J||[]);return k(ve,"_invoke",{value:U(y,_,ie)}),ve}function N(y,S,_){try{return{type:"normal",arg:y.call(S,_)}}catch(J){return{type:"throw",arg:J}}}h.wrap=he;var ke={};function Se(){}function je(){}function we(){}var Ee={};ee(Ee,d,function(){return this});var Me=Object.getPrototypeOf,z=Me&&Me(Me(l([])));z&&z!==f&&D.call(z,d)&&(Ee=z);var re=we.prototype=Se.prototype=Object.create(Ee);function T(y){["next","throw","return"].forEach(function(S){ee(y,S,function(_){return this._invoke(S,_)})})}function A(y,S){function _(de,ve,ie,$){var De=N(y[de],y,ve);if(De.type!=="throw"){var pe=De.arg,ae=pe.value;return ae&&v(ae)=="object"&&D.call(ae,"__await")?S.resolve(ae.__await).then(function(j){_("next",j,ie,$)},function(j){_("throw",j,ie,$)}):S.resolve(ae).then(function(j){pe.value=j,ie(pe)},function(j){return _("throw",j,ie,$)})}$(De.arg)}var J;k(this,"_invoke",{value:function(de,ve){function ie(){return new S(function($,De){_(de,ve,$,De)})}return J=J?J.then(ie,ie):ie()}})}function U(y,S,_){var J="suspendedStart";return function(de,ve){if(J==="executing")throw new Error("Generator is already running");if(J==="completed"){if(de==="throw")throw ve;return w()}for(_.method=de,_.arg=ve;;){var ie=_.delegate;if(ie){var $=P(ie,_);if($){if($===ke)continue;return $}}if(_.method==="next")_.sent=_._sent=_.arg;else if(_.method==="throw"){if(J==="suspendedStart")throw J="completed",_.arg;_.dispatchException(_.arg)}else _.method==="return"&&_.abrupt("return",_.arg);J="executing";var De=N(y,S,_);if(De.type==="normal"){if(J=_.done?"completed":"suspendedYield",De.arg===ke)continue;return{value:De.arg,done:_.done}}De.type==="throw"&&(J="completed",_.method="throw",_.arg=De.arg)}}}function P(y,S){var _=y.iterator[S.method];if(_===void 0){if(S.delegate=null,S.method==="throw"){if(y.iterator.return&&(S.method="return",S.arg=void 0,P(y,S),S.method==="throw"))return ke;S.method="throw",S.arg=new TypeError("The iterator does not provide a 'throw' method")}return ke}var J=N(_,y.iterator,S.arg);if(J.type==="throw")return S.method="throw",S.arg=J.arg,S.delegate=null,ke;var de=J.arg;return de?de.done?(S[y.resultName]=de.value,S.next=y.nextLoc,S.method!=="return"&&(S.method="next",S.arg=void 0),S.delegate=null,ke):de:(S.method="throw",S.arg=new TypeError("iterator result is not an object"),S.delegate=null,ke)}function M(y){var S={tryLoc:y[0]};1 in y&&(S.catchLoc=y[1]),2 in y&&(S.finallyLoc=y[2],S.afterLoc=y[3]),this.tryEntries.push(S)}function C(y){var S=y.completion||{};S.type="normal",delete S.arg,y.completion=S}function g(y){this.tryEntries=[{tryLoc:"root"}],y.forEach(M,this),this.reset(!0)}function l(y){if(y){var S=y[d];if(S)return S.call(y);if(typeof y.next=="function")return y;if(!isNaN(y.length)){var _=-1,J=function de(){for(;++_<y.length;)if(D.call(y,_))return de.value=y[_],de.done=!1,de;return de.value=void 0,de.done=!0,de};return J.next=J}}return{next:w}}function w(){return{value:void 0,done:!0}}return je.prototype=we,k(re,"constructor",{value:we,configurable:!0}),k(we,"constructor",{value:je,configurable:!0}),je.displayName=ee(we,B,"GeneratorFunction"),h.isGeneratorFunction=function(y){var S=typeof y=="function"&&y.constructor;return!!S&&(S===je||(S.displayName||S.name)==="GeneratorFunction")},h.mark=function(y){return Object.setPrototypeOf?Object.setPrototypeOf(y,we):(y.__proto__=we,ee(y,B,"GeneratorFunction")),y.prototype=Object.create(re),y},h.awrap=function(y){return{__await:y}},T(A.prototype),ee(A.prototype,Z,function(){return this}),h.AsyncIterator=A,h.async=function(y,S,_,J,de){de===void 0&&(de=Promise);var ve=new A(he(y,S,_,J),de);return h.isGeneratorFunction(S)?ve:ve.next().then(function(ie){return ie.done?ie.value:ve.next()})},T(re),ee(re,B,"Generator"),ee(re,d,function(){return this}),ee(re,"toString",function(){return"[object Generator]"}),h.keys=function(y){var S=Object(y),_=[];for(var J in S)_.push(J);return _.reverse(),function de(){for(;_.length;){var ve=_.pop();if(ve in S)return de.value=ve,de.done=!1,de}return de.done=!0,de}},h.values=l,g.prototype={constructor:g,reset:function(y){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!y)for(var S in this)S.charAt(0)==="t"&&D.call(this,S)&&!isNaN(+S.slice(1))&&(this[S]=void 0)},stop:function(){this.done=!0;var y=this.tryEntries[0].completion;if(y.type==="throw")throw y.arg;return this.rval},dispatchException:function(y){if(this.done)throw y;var S=this;function _(De,pe){return ve.type="throw",ve.arg=y,S.next=De,pe&&(S.method="next",S.arg=void 0),!!pe}for(var J=this.tryEntries.length-1;J>=0;--J){var de=this.tryEntries[J],ve=de.completion;if(de.tryLoc==="root")return _("end");if(de.tryLoc<=this.prev){var ie=D.call(de,"catchLoc"),$=D.call(de,"finallyLoc");if(ie&&$){if(this.prev<de.catchLoc)return _(de.catchLoc,!0);if(this.prev<de.finallyLoc)return _(de.finallyLoc)}else if(ie){if(this.prev<de.catchLoc)return _(de.catchLoc,!0)}else{if(!$)throw new Error("try statement without catch or finally");if(this.prev<de.finallyLoc)return _(de.finallyLoc)}}}},abrupt:function(y,S){for(var _=this.tryEntries.length-1;_>=0;--_){var J=this.tryEntries[_];if(J.tryLoc<=this.prev&&D.call(J,"finallyLoc")&&this.prev<J.finallyLoc){var de=J;break}}de&&(y==="break"||y==="continue")&&de.tryLoc<=S&&S<=de.finallyLoc&&(de=null);var ve=de?de.completion:{};return ve.type=y,ve.arg=S,de?(this.method="next",this.next=de.finallyLoc,ke):this.complete(ve)},complete:function(y,S){if(y.type==="throw")throw y.arg;return y.type==="break"||y.type==="continue"?this.next=y.arg:y.type==="return"?(this.rval=this.arg=y.arg,this.method="return",this.next="end"):y.type==="normal"&&S&&(this.next=S),ke},finish:function(y){for(var S=this.tryEntries.length-1;S>=0;--S){var _=this.tryEntries[S];if(_.finallyLoc===y)return this.complete(_.completion,_.afterLoc),C(_),ke}},catch:function(y){for(var S=this.tryEntries.length-1;S>=0;--S){var _=this.tryEntries[S];if(_.tryLoc===y){var J=_.completion;if(J.type==="throw"){var de=J.arg;C(_)}return de}}throw new Error("illegal catch attempt")},delegateYield:function(y,S,_){return this.delegate={iterator:l(y),resultName:S,nextLoc:_},this.method==="next"&&(this.arg=void 0),ke}},h}b.exports=E,b.exports.__esModule=!0,b.exports.default=b.exports},8114:function(b){function m(a){return b.exports=m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(v){return typeof v}:function(v){return v&&typeof Symbol=="function"&&v.constructor===Symbol&&v!==Symbol.prototype?"symbol":typeof v},b.exports.__esModule=!0,b.exports.default=b.exports,m(a)}b.exports=m,b.exports.__esModule=!0,b.exports.default=b.exports},2975:function(b,m,a){var v=a(9649)();b.exports=v;try{regeneratorRuntime=v}catch{typeof globalThis=="object"?globalThis.regeneratorRuntime=v:Function("r","regeneratorRuntime = r")(v)}},7017:function(b,m,a){function v(E,h){(h==null||h>E.length)&&(h=E.length);for(var f=0,D=new Array(h);f<h;f++)D[f]=E[f];return D}a.d(m,{Z:function(){return v}})},3173:function(b,m,a){function v(E){if(E===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}a.d(m,{Z:function(){return v}})},8950:function(b,m,a){function v(h,f,D,k,R,d,Z){try{var B=h[d](Z),ee=B.value}catch(he){return void D(he)}B.done?f(ee):Promise.resolve(ee).then(k,R)}function E(h){return function(){var f=this,D=arguments;return new Promise(function(k,R){var d=h.apply(f,D);function Z(ee){v(d,k,R,Z,B,"next",ee)}function B(ee){v(d,k,R,Z,B,"throw",ee)}Z(void 0)})}}a.d(m,{Z:function(){return E}})},8821:function(b,m,a){function v(E,h){if(!(E instanceof h))throw new TypeError("Cannot call a class as a function")}a.d(m,{Z:function(){return v}})},5169:function(b,m,a){function v(h,f){for(var D=0;D<f.length;D++){var k=f[D];k.enumerable=k.enumerable||!1,k.configurable=!0,"value"in k&&(k.writable=!0),Object.defineProperty(h,k.key,k)}}function E(h,f,D){return f&&v(h.prototype,f),D&&v(h,D),Object.defineProperty(h,"prototype",{writable:!1}),h}a.d(m,{Z:function(){return E}})},7169:function(b,m,a){function v(E,h,f){return h in E?Object.defineProperty(E,h,{value:f,enumerable:!0,configurable:!0,writable:!0}):E[h]=f,E}a.d(m,{Z:function(){return v}})},2312:function(b,m,a){function v(E){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(h){return h.__proto__||Object.getPrototypeOf(h)},v(E)}a.d(m,{Z:function(){return v}})},2248:function(b,m,a){a.d(m,{Z:function(){return E}});var v=a(5901);function E(h,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function");h.prototype=Object.create(f&&f.prototype,{constructor:{value:h,writable:!0,configurable:!0}}),Object.defineProperty(h,"prototype",{writable:!1}),f&&(0,v.Z)(h,f)}},2726:function(b,m,a){function v(E,h){if(E==null)return{};var f,D,k=function(d,Z){if(d==null)return{};var B,ee,he={},N=Object.keys(d);for(ee=0;ee<N.length;ee++)B=N[ee],Z.indexOf(B)>=0||(he[B]=d[B]);return he}(E,h);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(E);for(D=0;D<R.length;D++)f=R[D],h.indexOf(f)>=0||Object.prototype.propertyIsEnumerable.call(E,f)&&(k[f]=E[f])}return k}a.d(m,{Z:function(){return v}})},7245:function(b,m,a){a.d(m,{Z:function(){return h}});var v=a(6655),E=a(3173);function h(f,D){if(D&&((0,v.Z)(D)==="object"||typeof D=="function"))return D;if(D!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return(0,E.Z)(f)}},5901:function(b,m,a){function v(E,h){return v=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(f,D){return f.__proto__=D,f},v(E,h)}a.d(m,{Z:function(){return v}})},2577:function(b,m,a){a.d(m,{Z:function(){return E}});var v=a(9139);function E(h,f){return function(D){if(Array.isArray(D))return D}(h)||function(D,k){var R=D==null?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(R!=null){var d,Z,B=[],ee=!0,he=!1;try{for(R=R.call(D);!(ee=(d=R.next()).done)&&(B.push(d.value),!k||B.length!==k);ee=!0);}catch(N){he=!0,Z=N}finally{try{ee||R.return==null||R.return()}finally{if(he)throw Z}}return B}}(h,f)||(0,v.Z)(h,f)||function(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},1930:function(b,m,a){a.d(m,{Z:function(){return h}});var v=a(7017),E=a(9139);function h(f){return function(D){if(Array.isArray(D))return(0,v.Z)(D)}(f)||function(D){if(typeof Symbol<"u"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}(f)||(0,E.Z)(f)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()}},6655:function(b,m,a){function v(E){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},v(E)}a.d(m,{Z:function(){return v}})},9139:function(b,m,a){a.d(m,{Z:function(){return E}});var v=a(7017);function E(h,f){if(h){if(typeof h=="string")return(0,v.Z)(h,f);var D=Object.prototype.toString.call(h).slice(8,-1);return D==="Object"&&h.constructor&&(D=h.constructor.name),D==="Map"||D==="Set"?Array.from(h):D==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D)?(0,v.Z)(h,f):void 0}}},5605:function(b,m,a){a.d(m,{x0:function(){return v}});let v=(E=21)=>crypto.getRandomValues(new Uint8Array(E)).reduce((h,f)=>h+=(f&=63)<36?f.toString(36):f<62?(f-26).toString(36).toUpperCase():f>62?"-":"_","")},5284:function(b){b.exports=JSON.parse('{"white":"#ffffff","black":"#000000","gray":["#f8f9fa","#f1f3f5","#e9ecef","#dee2e6","#ced4da","#adb5bd","#868e96","#495057","#343a40","#212529"],"red":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"pink":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"grape":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"violet":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"indigo":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"blue":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"cyan":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"teal":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"green":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"lime":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"yellow":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"orange":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}')},1463:function(b){b.exports=JSON.parse(`{"labels":{"paste":"Paste","pasteAsPlaintext":"Paste as plaintext","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","copyText":"Copy to clipboard as text","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","arrowhead_triangle":"Triangle","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"Background","exportEmbedScene":"Embed scene","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File name","colorPicker":"Color picker","canvasColors":"Used on canvas","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration...","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library","libraries":"Browse libraries","loadingScene":"Loading scene","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","flipHorizontal":"Flip horizontal","flipVertical":"Flip vertical","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share","showStroke":"Show stroke color picker","showBackground":"Show background color picker","toggleTheme":"Toggle theme","personalLib":"Personal Library","excalidrawLib":"Excalidraw Library","decreaseFontSize":"Decrease font size","increaseFontSize":"Increase font size","unbindText":"Unbind text","bindText":"Bind text to the container","link":{"edit":"Edit link","create":"Create link","label":"Link"},"lineEditor":{"edit":"Edit line","exit":"Exit line editor"},"elementLock":{"lock":"Lock","unlock":"Unlock","lockAll":"Lock all","unlockAll":"Unlock all"},"statusPublished":"Published","sidebarLock":"Keep sidebar open"},"library":{"noItems":"No items added yet...","hint_emptyLibrary":"Select an item on canvas to add it here, or install a library from the public repository, below.","hint_emptyPrivateLibrary":"Select an item on canvas to add it here."},"buttons":{"clearReset":"Reset the canvas","exportJSON":"Export to file","exportImage":"Export image...","export":"Save to...","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save to current file","saveAs":"Save as","load":"Open","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode","cancel":"Cancel","clear":"Clear","remove":"Remove","publishLibrary":"Publish","submit":"Submit","confirm":"Confirm"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn't create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn't create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn't load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn't copy to clipboard.","decryptFailed":"Couldn't decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can't read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorAddingToLibrary":"Couldn't add item to the library","errorRemovingFromLibrary":"Couldn't remove item from the library","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"This image does not seem to contain any scene data. Have you enabled scene embedding during export?","cannotRestoreFromImage":"Scene couldn't be restored from this image file","invalidSceneUrl":"Couldn't import scene from the supplied URL. It's either malformed, or doesn't contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?","removeItemsFromsLibrary":"Delete {{count}} item(s) from library?","invalidEncryptionKey":"Encryption key must be of 22 characters. Live collaboration is disabled."},"errors":{"unsupportedFileType":"Unsupported file type.","imageInsertError":"Couldn't insert image. Try again later...","fileTooBig":"File is too big. Maximum allowed size is {{maxSize}}.","svgImageInsertError":"Couldn't insert SVG image. The SVG markup looks invalid.","invalidSVGString":"Invalid SVG.","cannotResolveCollabServer":"Couldn't connect to the collab server. Please reload the page and try again.","importLibraryError":"Couldn't load library","collabSaveFailed":"Couldn't save to the backend database. If problems persist, you should save your file locally to ensure you don't lose your work.","collabSaveFailed_sizeExceeded":"Couldn't save to the backend database, the canvas seems to be too big. You should save the file locally to ensure you don't lose your work."},"toolBar":{"selection":"Selection","image":"Insert image","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","freedraw":"Draw","text":"Text","library":"Library","lock":"Keep selected tool active after drawing","penMode":"Pen mode - prevent touch","link":"Add/ Update link for a selected shape","eraser":"Eraser","hand":"Hand (panning tool)"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"canvasPanning":"To move canvas, hold mouse wheel or spacebar while dragging, or use the hand tool","linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you're finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","text_selected":"Double-click or press ENTER to edit text","text_editing":"Press Escape or CtrlOrCmd+ENTER to finish editing","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","resizeImage":"You can resize freely by holding SHIFT,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Hold CtrlOrCmd and Double-click or press CtrlOrCmd + Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point(s),\\nCtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to edit (hold SHIFT to select multiple),\\nor hold Alt and click to add new points","placeImage":"Click to place the image, or click and drag to set its size manually","publishLibrary":"Publish your own library","bindTextToElement":"Press enter to add text","deepBoxSelect":"Hold CtrlOrCmd to deep select, and to prevent dragging","eraserRevert":"Hold Alt to revert the elements marked for deletion","firefox_clipboard_write":"This feature can likely be enabled by setting the \\"dom.events.asyncClipboard.clipboardItem\\" flag to \\"true\\". To change the browser flags in Firefox, visit the \\"about:config\\" page."},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn't work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don't worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you'll be able to continue working with the scene, locally. Note that this won't affect other people, and they'll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"exportDialog":{"disk_title":"Save to disk","disk_details":"Export the scene data to a file from which you can import later.","disk_button":"Save to file","link_title":"Shareable link","link_details":"Export as a read-only link.","link_button":"Export to Link","excalidrawplus_description":"Save the scene to your Excalidraw+ workspace.","excalidrawplus_button":"Export","excalidrawplus_exportError":"Couldn't export to Excalidraw+ at this moment..."},"helpDialog":{"blog":"Read our blog","click":"click","deepSelect":"Deep select","deepBoxSelect":"Deep select within box, and prevent dragging","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","doubleClick":"double-click","drag":"drag","editor":"Editor","editSelectedShape":"Edit selected shape (text/arrow/line)","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","tools":"Tools","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text editor)","textNewLine":"Add new line (text editor)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection","toggleElementLock":"Lock/unlock selection","movePageUpDown":"Move page up/down","movePageLeftRight":"Move page left/right"},"clearCanvasDialog":{"title":"Clear canvas"},"publishDialog":{"title":"Publish library","itemName":"Item name","authorName":"Author name","githubUsername":"GitHub username","twitterUsername":"Twitter username","libraryName":"Library name","libraryDesc":"Library description","website":"Website","placeholder":{"authorName":"Your name or username","libraryName":"Name of your library","libraryDesc":"Description of your library to help people understand its usage","githubHandle":"GitHub handle (optional), so you can edit the library once submitted for review","twitterHandle":"Twitter username (optional), so we know who to credit when promoting over Twitter","website":"Link to your personal website or elsewhere (optional)"},"errors":{"required":"Required","website":"Enter a valid URL"},"noteDescription":{"pre":"Submit your library to be included in the ","link":"public library repository","post":"for other people to use in their drawings."},"noteGuidelines":{"pre":"The library needs to be manually approved first. Please read the ","link":"guidelines","post":" before submitting. You will need a GitHub account to communicate and make changes if requested, but it is not strictly required."},"noteLicense":{"pre":"By submitting, you agree the library will be published under the ","link":"MIT License, ","post":"which in short means anyone can use them without restrictions."},"noteItems":"Each library item must have its own name so it's filterable. The following library items will be included:","atleastOneLibItem":"Please select at least one library item to get started","republishWarning":"Note: some of the selected items are marked as already published/submitted. You should only resubmit items when updating an existing library or submission."},"publishSuccessDialog":{"title":"Library submitted","content":"Thank you {{authorName}}. Your library has been submitted for review. You can track the status","link":"here"},"confirmDialog":{"resetLibrary":"Reset library","removeItemsFromLib":"Remove selected items from library"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw's servers will never see them.","link":"Blog post on end-to-end encryption in Excalidraw"},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"addedToLibrary":"Added to library","copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection","pasteAsSingleElement":"Use {{shortcut}} to paste as a single element,\\nor paste into an existing text editor"},"colors":{"495057":"Gray 7","ffffff":"White","f8f9fa":"Gray 0","f1f3f5":"Gray 1","fff5f5":"Red 0","fff0f6":"Pink 0","f8f0fc":"Grape 0","f3f0ff":"Violet 0","edf2ff":"Indigo 0","e7f5ff":"Blue 0","e3fafc":"Cyan 0","e6fcf5":"Teal 0","ebfbee":"Green 0","f4fce3":"Lime 0","fff9db":"Yellow 0","fff4e6":"Orange 0","transparent":"Transparent","ced4da":"Gray 4","868e96":"Gray 6","fa5252":"Red 6","e64980":"Pink 6","be4bdb":"Grape 6","7950f2":"Violet 6","4c6ef5":"Indigo 6","228be6":"Blue 6","15aabf":"Cyan 6","12b886":"Teal 6","40c057":"Green 6","82c91e":"Lime 6","fab005":"Yellow 6","fd7e14":"Orange 6","000000":"Black","343a40":"Gray 8","c92a2a":"Red 9","a61e4d":"Pink 9","862e9c":"Grape 9","5f3dc4":"Violet 9","364fc7":"Indigo 9","1864ab":"Blue 9","0b7285":"Cyan 9","087f5b":"Teal 9","2b8a3e":"Green 9","5c940d":"Lime 9","e67700":"Yellow 9","d9480f":"Orange 9"},"welcomeScreen":{"app":{"center_heading":"All your data is saved locally in your browser.","center_heading_plus":"Did you want to go to the Excalidraw+ instead?","menuHint":"Export, preferences, languages, ..."},"defaults":{"menuHint":"Export, preferences, and more...","center_heading":"Diagrams. Made. Simple.","toolbarHint":"Pick a tool & Start drawing!","helpHint":"Shortcuts & help"}}}`)},4451:function(b){b.exports=JSON.parse('{"ar-SA":87,"bg-BG":55,"bn-BD":60,"ca-ES":94,"cs-CZ":75,"da-DK":33,"de-DE":100,"el-GR":100,"en":100,"es-ES":100,"eu-ES":100,"fa-IR":96,"fi-FI":93,"fr-FR":100,"gl-ES":100,"he-IL":90,"hi-IN":69,"hu-HU":89,"id-ID":100,"it-IT":100,"ja-JP":100,"kab-KAB":93,"kk-KZ":21,"ko-KR":99,"ku-TR":96,"lt-LT":64,"lv-LV":98,"mr-IN":98,"my-MM":41,"nb-NO":100,"nl-NL":91,"nn-NO":90,"oc-FR":98,"pa-IN":83,"pl-PL":85,"pt-BR":98,"pt-PT":100,"ro-RO":100,"ru-RU":98,"si-LK":8,"sk-SK":100,"sl-SI":100,"sv-SE":96,"ta-IN":93,"tr-TR":98,"uk-UA":96,"vi-VN":20,"zh-CN":100,"zh-HK":26,"zh-TW":100}')}},x={};function O(b){var m=x[b];if(m!==void 0)return m.exports;var a=x[b]={id:b,exports:{}};return u[b](a,a.exports,O),a.exports}O.m=u,O.n=function(b){var m=b&&b.__esModule?function(){return b.default}:function(){return b};return O.d(m,{a:m}),m},o=Object.getPrototypeOf?function(b){return Object.getPrototypeOf(b)}:function(b){return b.__proto__},O.t=function(b,m){if(1&m&&(b=this(b)),8&m||typeof b=="object"&&b&&(4&m&&b.__esModule||16&m&&typeof b.then=="function"))return b;var a=Object.create(null);O.r(a);var v={};i=i||[null,o({}),o([]),o(o)];for(var E=2&m&&b;typeof E=="object"&&!~i.indexOf(E);E=o(E))Object.getOwnPropertyNames(E).forEach(function(h){v[h]=function(){return b[h]}});return v.default=function(){return b},O.d(a,v),a},O.d=function(b,m){for(var a in m)O.o(m,a)&&!O.o(b,a)&&Object.defineProperty(b,a,{enumerable:!0,get:m[a]})},O.f={},O.e=function(b){return Promise.all(Object.keys(O.f).reduce(function(m,a){return O.f[a](b,m),m},[]))},O.u=function(b){return"excalidraw-assets/"+{22:"locales/kk-KZ-json",1204:"locales/ja-JP-json",1302:"locales/si-LK-json",1477:"locales/my-MM-json",1513:"locales/el-GR-json",1628:"locales/bg-BG-json",1690:"locales/oc-FR-json",1790:"locales/da-DK-json",2091:"locales/ar-SA-json",2312:"locales/he-IL-json",2359:"locales/nb-NO-json",2404:"locales/ta-IN-json",2943:"locales/gl-ES-json",3024:"locales/nl-NL-json",3031:"locales/ku-TR-json",3082:"locales/de-DE-json",3162:"locales/pa-IN-json",3397:"locales/mr-IN-json",3421:"locales/zh-TW-json",3512:"locales/fi-FI-json",3674:"locales/pl-PL-json",3682:"locales/fr-FR-json",3721:"locales/pt-BR-json",3808:"locales/id-ID-json",3885:"locales/nn-NO-json",4e3:"locales/vi-VN-json",4680:"locales/zh-CN-json",4736:"vendor",4977:"locales/tr-TR-json",5089:"locales/ro-RO-json",5130:"locales/ca-ES-json",5330:"locales/fa-IR-json",5395:"locales/pt-PT-json",6071:"locales/sl-SI-json",6239:"locales/it-IT-json",6265:"locales/cs-CZ-json",6768:"locales/lv-LV-json",6844:"locales/ko-KR-json",7368:"locales/hu-HU-json",7429:"locales/bn-BD-json",7759:"locales/uk-UA-json",7920:"locales/zh-HK-json",8081:"locales/eu-ES-json",8124:"locales/ru-RU-json",8340:"locales/lt-LT-json",8534:"locales/sv-SE-json",8750:"locales/sk-SK-json",8759:"locales/es-ES-json",9551:"locales/kab-KAB-json",9828:"locales/hi-IN-json"}[b]+"-"+{22:"99a76a48916e784a3941",1204:"fe7beb29f046cf979c5a",1302:"e13dc6084f655194af4f",1477:"42e19993d78f0511571b",1513:"908e098345bfe344ced8",1628:"44988db4fe7f7bee07bc",1690:"78fba0f25867078ee02f",1790:"d6ab0523c9f9ac4d4c9e",2091:"7917b25a9d62d616fcc5",2312:"990bb8880202c20c3785",2359:"4f22057d9bc9df25cb6a",2404:"489ab902f9b0c9beda2e",2943:"efa2a7afe9e96f9e3f3e",3024:"57a2b32c58feb9bae878",3031:"05e1c3849ef5154e3157",3082:"9ee7f888aa463032fc1c",3162:"9ec2bd766af522488b44",3397:"018610e3231f3e9bd068",3421:"34674e3698d74ccdf98b",3512:"192a5cc851541797f756",3674:"474c6d4804d20d89d2dc",3682:"a7f8d76d690714b6eb78",3721:"94fa57d1ac7d244fde4e",3808:"41353abc8704e1038943",3885:"5e0a10f6fe31c9155bd4",4e3:"111b8f1260701cbdeb96",4680:"75e3e6cf7a1cb55917ed",4736:"53d1c69ef585b6dd219b",4977:"7cb48008ab8645becf37",5089:"7e65c3ca40525a2b7f5e",5130:"4d5527dd80e208ef2522",5330:"97bb57d1147c72892c68",5395:"6d8fb5092f873fdd74be",6071:"a0dbeb91d8ddbfac8ac1",6239:"b14da0116f6f5e0712e9",6265:"3ff3ea69ff9ae725c469",6768:"c31a44bb3a66bf7e2106",6844:"04089ce24a73ee1c83f0",7368:"545e1923f5ad1c94c6ab",7429:"7ff651d150881fbbfb13",7759:"2360947dd1e1db4ee5ad",7920:"696f940b619ce66fe8d2",8081:"5720590cf9a63067baf3",8124:"96975eab7a07d2d6b772",8340:"f0baeb52b74ec4e2b65e",8534:"209bf1d6aa674d6550df",8750:"cd3468557b0bce2c8793",8759:"47d0ae898ef2c67ce309",9551:"17519996c12e47f5fded",9828:"33a69bbfe9268d9133d4"}[b]+".js"},O.g=function(){if(typeof globalThis=="object")return globalThis;try{return this||new Function("return this")()}catch{if(typeof window=="object")return window}}(),O.o=function(b,m){return Object.prototype.hasOwnProperty.call(b,m)},s={},c="ExcalidrawLib:",O.l=function(b,m,a,v){if(s[b])s[b].push(m);else{var E,h;if(a!==void 0)for(var f=document.getElementsByTagName("script"),D=0;D<f.length;D++){var k=f[D];if(k.getAttribute("src")==b||k.getAttribute("data-webpack")==c+a){E=k;break}}E||(h=!0,(E=document.createElement("script")).charset="utf-8",E.timeout=120,O.nc&&E.setAttribute("nonce",O.nc),E.setAttribute("data-webpack",c+a),E.src=b),s[b]=[m];var R=function(Z,B){E.onerror=E.onload=null,clearTimeout(d);var ee=s[b];if(delete s[b],E.parentNode&&E.parentNode.removeChild(E),ee&&ee.forEach(function(he){return he(B)}),Z)return Z(B)},d=setTimeout(R.bind(null,void 0,{type:"timeout",target:E}),12e4);E.onerror=R.bind(null,E.onerror),E.onload=R.bind(null,E.onload),h&&document.head.appendChild(E)}},O.r=function(b){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(b,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(b,"__esModule",{value:!0})},O.p="",function(){O.b=document.baseURI||self.location.href;var b={1388:0};O.f.j=function(v,E){var h=O.o(b,v)?b[v]:void 0;if(h!==0)if(h)E.push(h[2]);else{var f=new Promise(function(R,d){h=b[v]=[R,d]});E.push(h[2]=f);var D=O.p+O.u(v),k=new Error;O.l(D,function(R){if(O.o(b,v)&&((h=b[v])!==0&&(b[v]=void 0),h)){var d=R&&(R.type==="load"?"missing":R.type),Z=R&&R.target&&R.target.src;k.message="Loading chunk "+v+` failed.
(`+d+": "+Z+")",k.name="ChunkLoadError",k.type=d,k.request=Z,h[1](k)}},"chunk-"+v,v)}};var m=function(v,E){var h,f,D=E[0],k=E[1],R=E[2],d=0;if(D.some(function(Z){return b[Z]!==0})){for(h in k)O.o(k,h)&&(O.m[h]=k[h]);R&&R(O)}for(v&&v(E);d<D.length;d++)f=D[d],O.o(b,f)&&b[f]&&b[f][0](),b[f]=0},a=self.webpackChunkExcalidrawLib=self.webpackChunkExcalidrawLib||[];a.forEach(m.bind(null,0)),a.push=m.bind(null,a.push.bind(a))}(),O.nc=void 0;var Y={};return function(){O.r(Y),O.d(Y,{Button:function(){return Pe},Excalidraw:function(){return Qt},FONT_FAMILY:function(){return b.ut},Footer:function(){return ae},LiveCollaborationTrigger:function(){return ft},MIME_TYPES:function(){return b.LO},MainMenu:function(){return j.Z},Sidebar:function(){return Ht.Y},THEME:function(){return b.C6},WelcomeScreen:function(){return nt},bumpVersion:function(){return zt.ZP},defaultLang:function(){return P.Fp},exportToBlob:function(){return pt.Fl},exportToCanvas:function(){return pt.NL},exportToClipboard:function(){return pt.i1},exportToSvg:function(){return pt.$D},getFreeDrawSvgPath:function(){return pt.N7},getNonDeletedElements:function(){return yt.Lm},getSceneVersion:function(){return yt.Uo},isInvisiblySmallElement:function(){return yt.QD},isLinearElement:function(){return wt.bt},languages:function(){return P.Mj},loadFromBlob:function(){return pt.cT},loadLibraryFromBlob:function(){return pt.lV},loadSceneOrLibraryFromBlob:function(){return pt.ZY},mergeLibraryItems:function(){return pt.zh},mutateElement:function(){return zt.DR},newElementWith:function(){return zt.BE},parseLibraryTokensFromUrl:function(){return Yt.Di},restore:function(){return ut.nu},restoreAppState:function(){return ut.lY},restoreElements:function(){return ut.ET},restoreLibraryItems:function(){return ut.wJ},sceneCoordsToViewportCoords:function(){return l._i},serializeAsJSON:function(){return pt.I_},serializeLibraryAsJSON:function(){return pt.NI},useDevice:function(){return g.Fy},useHandleLibrary:function(){return Yt.xS},viewportCoordsToSceneCoords:function(){return l.dE}});var b=O(2335);b.Vi.TEST!=="production"&&(O.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat("@excalidraw/excalidraw","@").concat("0.14.2","/dist/"));var m=function(){Array.prototype.at||Object.defineProperty(Array.prototype,"at",{value:function($e){if(($e=Math.trunc($e)||0)<0&&($e+=this.length),!($e<0||$e>=this.length))return this[$e]},writable:!0,enumerable:!1,configurable:!0})},a=O(487),v=O.n(a),E=O(631),h=O.n(E),f=O(2052),D=O.n(f),k=O(4010),R=O.n(k),d=O(1469),Z=O.n(d),B=O(9329),ee=O.n(B),he=O(4295),N={};N.styleTagTransform=ee(),N.setAttributes=R(),N.insert=D().bind(null,"head"),N.domAPI=h(),N.insertStyleElement=Z(),v()(he.Z,N),he.Z&&he.Z.locals&&he.Z.locals;var ke=O(6479),Se=O.n(ke),je=O(9713),we=O.n(je),Ee=O(9787),Me=O.n(Ee),z=O(8950),re=O(2577),T=O(2975),A=O.n(T),U=O(5440),P=O(8211),M=O(4512),C=function($e){var rt=(0,Ee.useState)(!0),gt=(0,re.Z)(rt,2),vt=gt[0],St=gt[1];return(0,Ee.useEffect)(function(){var At=function(){var Wt=(0,z.Z)(A().mark(function en(){return A().wrap(function(sn){for(;;)switch(sn.prev=sn.next){case 0:return sn.next=2,(0,P.m0)(Zt);case 2:St(!1);case 3:case"end":return sn.stop()}},en)}));return function(){return Wt.apply(this,arguments)}}(),Zt=P.Mj.find(function(Wt){return Wt.code===$e.langCode})||P.Fp;At()},[$e.langCode]),vt?(0,M.jsx)(U.z,{theme:$e.theme}):$e.children},g=O(4206),l=O(6340),w=O(9915),y={};y.styleTagTransform=ee(),y.setAttributes=R(),y.insert=D().bind(null,"head"),y.domAPI=h(),y.insertStyleElement=Z(),v()(w.Z,y),w.Z&&w.Z.locals&&w.Z.locals;var S=O(9310),_={};_.styleTagTransform=ee(),_.setAttributes=R(),_.insert=D().bind(null,"head"),_.domAPI=h(),_.insertStyleElement=Z(),v()(S.Z,_),S.Z&&S.Z.locals&&S.Z.locals;var J=O(4739),de=O(9487),ve=O(45),ie=O(8888),$=O(8793),De={};De.styleTagTransform=ee(),De.setAttributes=R(),De.insert=D().bind(null,"head"),De.domAPI=h(),De.insertStyleElement=Z(),v()($.Z,De),$.Z&&$.Z.locals&&$.Z.locals;var pe=function($e){var rt=$e.children,gt=(0,ie.R6)().footerCenterTunnel,vt=(0,g.gF)();return(0,M.jsx)(gt.In,{children:(0,M.jsx)("div",{className:(0,ve.Z)("footer-center zen-mode-transition",{"layer-ui__wrapper__footer-left--transition-bottom":vt.zenModeEnabled}),children:rt})})},ae=pe;pe.displayName="FooterCenter";var j=O(4709),V=O(7169),oe=O(2726),G=O(5654),ye=O(785),K=O(3646),H=["onSelect","children","icon","shortcut","className"],L=["children","href","icon","shortcut","className"];function I($e,rt){var gt=Object.keys($e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols($e);rt&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor($e,St).enumerable})),gt.push.apply(gt,vt)}return gt}function F($e){for(var rt=1;rt<arguments.length;rt++){var gt=arguments[rt]!=null?arguments[rt]:{};rt%2?I(Object(gt),!0).forEach(function(vt){(0,V.Z)($e,vt,gt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(gt)):I(Object(gt)).forEach(function(vt){Object.defineProperty($e,vt,Object.getOwnPropertyDescriptor(gt,vt))})}return $e}var X=function($e){var rt=$e.icon,gt=$e.shortcut,vt=$e.children,St=(0,g.Fy)();return(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)("div",{className:"welcome-screen-menu-item__icon",children:rt}),(0,M.jsx)("div",{className:"welcome-screen-menu-item__text",children:vt}),gt&&!St.isMobile&&(0,M.jsx)("div",{className:"welcome-screen-menu-item__shortcut",children:gt})]})};X.displayName="WelcomeScreenMenuItemContent";var le=function($e){var rt=$e.onSelect,gt=$e.children,vt=$e.icon,St=$e.shortcut,At=$e.className,Zt=At===void 0?"":At,Wt=(0,oe.Z)($e,H);return(0,M.jsx)("button",F(F({},Wt),{},{type:"button",className:"welcome-screen-menu-item ".concat(Zt),onClick:rt,children:(0,M.jsx)(X,{icon:vt,shortcut:St,children:gt})}))};le.displayName="WelcomeScreenMenuItem";var q=function($e){var rt=$e.children,gt=$e.href,vt=$e.icon,St=$e.shortcut,At=$e.className,Zt=At===void 0?"":At,Wt=(0,oe.Z)($e,L);return(0,M.jsx)("a",F(F({},Wt),{},{className:"welcome-screen-menu-item ".concat(Zt),href:gt,target:"_blank",rel:"noreferrer",children:(0,M.jsx)(X,{icon:vt,shortcut:St,children:rt})}))};q.displayName="WelcomeScreenMenuItemLink";var Ce=function($e){var rt=$e.children,gt=(0,ie.R6)().welcomeScreenCenterTunnel;return(0,M.jsx)(gt.In,{children:(0,M.jsx)("div",{className:"welcome-screen-center",children:rt||(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(te,{}),(0,M.jsx)(me,{children:(0,P.t)("welcomeScreen.defaults.center_heading")}),(0,M.jsxs)(Re,{children:[(0,M.jsx)(Q,{}),(0,M.jsx)(Be,{})]})]})})})};Ce.displayName="Center";var te=function($e){var rt=$e.children;return(0,M.jsx)("div",{className:"welcome-screen-center__logo virgil welcome-screen-decor",children:rt||(0,M.jsxs)(M.Fragment,{children:[K.Mw," Excalidraw"]})})};te.displayName="Logo";var me=function($e){var rt=$e.children;return(0,M.jsx)("div",{className:"welcome-screen-center__heading welcome-screen-decor virgil",children:rt})};me.displayName="Heading";var Re=function($e){var rt=$e.children;return(0,M.jsx)("div",{className:"welcome-screen-menu",children:rt})};Re.displayName="Menu";var Be=function(){var $e=(0,g.eh)();return(0,M.jsx)(le,{onSelect:function(){return $e.executeAction(G.jY)},shortcut:"?",icon:K.by,children:(0,P.t)("helpDialog.title")})};Be.displayName="MenuItemHelp";var Q=function(){var $e=(0,g.gF)(),rt=(0,g.eh)();return $e.viewModeEnabled?null:(0,M.jsx)(le,{onSelect:function(){return rt.executeAction(G._d)},shortcut:(0,ye.C)("loadScene"),icon:K.Tl,children:(0,P.t)("buttons.load")})};Q.displayName="MenuItemLoadScene";var se=function($e){var rt=$e.onSelect;return(0,g.gF)(),(0,M.jsx)(le,{shortcut:null,onSelect:rt,icon:K.jn,children:(0,P.t)("labels.liveCollaboration")})};se.displayName="MenuItemLiveCollaborationTrigger",Ce.Logo=te,Ce.Heading=me,Ce.Menu=Re,Ce.MenuItem=le,Ce.MenuItemLink=q,Ce.MenuItemHelp=Be,Ce.MenuItemLoadScene=Q,Ce.MenuItemLiveCollaborationTrigger=se;var ue=function($e){var rt=$e.children,gt=(0,ie.R6)().welcomeScreenMenuHintTunnel;return(0,M.jsx)(gt.In,{children:(0,M.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--menu",children:[K.oQ,(0,M.jsx)("div",{className:"welcome-screen-decor-hint__label",children:rt||(0,P.t)("welcomeScreen.defaults.menuHint")})]})})};ue.displayName="MenuHint";var _e=function($e){var rt=$e.children,gt=(0,ie.R6)().welcomeScreenToolbarHintTunnel;return(0,M.jsx)(gt.In,{children:(0,M.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--toolbar",children:[(0,M.jsx)("div",{className:"welcome-screen-decor-hint__label",children:rt||(0,P.t)("welcomeScreen.defaults.toolbarHint")}),K.DJ]})})};_e.displayName="ToolbarHint";var Ze=function($e){var rt=$e.children,gt=(0,ie.R6)().welcomeScreenHelpHintTunnel;return(0,M.jsx)(gt.In,{children:(0,M.jsxs)("div",{className:"virgil welcome-screen-decor welcome-screen-decor-hint welcome-screen-decor-hint--help",children:[(0,M.jsx)("div",{children:rt||(0,P.t)("welcomeScreen.defaults.helpHint")}),K._U]})})};Ze.displayName="HelpHint";var Ge=O(1569),tt={};tt.styleTagTransform=ee(),tt.setAttributes=R(),tt.insert=D().bind(null,"head"),tt.domAPI=h(),tt.insertStyleElement=Z(),v()(Ge.Z,tt),Ge.Z&&Ge.Z.locals&&Ge.Z.locals;var lt=function($e){return(0,M.jsx)(M.Fragment,{children:$e.children||(0,M.jsxs)(M.Fragment,{children:[(0,M.jsx)(Ce,{}),(0,M.jsx)(ue,{}),(0,M.jsx)(_e,{}),(0,M.jsx)(Ze,{})]})})};lt.displayName="WelcomeScreen",lt.Center=Ce,lt.Hints={MenuHint:ue,ToolbarHint:_e,HelpHint:Ze};var nt=lt,qe=O(3137),Ve={};Ve.styleTagTransform=ee(),Ve.setAttributes=R(),Ve.insert=D().bind(null,"head"),Ve.domAPI=h(),Ve.insertStyleElement=Z(),v()(qe.Z,Ve),qe.Z&&qe.Z.locals&&qe.Z.locals;var be=["type","onSelect","children","className"];function Te($e,rt){var gt=Object.keys($e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols($e);rt&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor($e,St).enumerable})),gt.push.apply(gt,vt)}return gt}function Ae($e){for(var rt=1;rt<arguments.length;rt++){var gt=arguments[rt]!=null?arguments[rt]:{};rt%2?Te(Object(gt),!0).forEach(function(vt){(0,V.Z)($e,vt,gt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(gt)):Te(Object(gt)).forEach(function(vt){Object.defineProperty($e,vt,Object.getOwnPropertyDescriptor(gt,vt))})}return $e}var Pe=function($e){var rt=$e.type,gt=rt===void 0?"button":rt,vt=$e.onSelect,St=$e.children,At=$e.className,Zt=At===void 0?"":At,Wt=(0,oe.Z)($e,be);return(0,M.jsx)("button",Ae(Ae({onClick:function(en){var sn;vt(),(sn=Wt.onClick)===null||sn===void 0||sn.call(Wt,en)},type:gt,className:"excalidraw-button ".concat(Zt)},Wt),{},{children:St}))},We=O(3397),Ue={};Ue.styleTagTransform=ee(),Ue.setAttributes=R(),Ue.insert=D().bind(null,"head"),Ue.domAPI=h(),Ue.insertStyleElement=Z(),v()(We.Z,Ue),We.Z&&We.Z.locals&&We.Z.locals;var Je=["isCollaborating","onSelect"];function et($e,rt){var gt=Object.keys($e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols($e);rt&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor($e,St).enumerable})),gt.push.apply(gt,vt)}return gt}function Qe($e){for(var rt=1;rt<arguments.length;rt++){var gt=arguments[rt]!=null?arguments[rt]:{};rt%2?et(Object(gt),!0).forEach(function(vt){(0,V.Z)($e,vt,gt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(gt)):et(Object(gt)).forEach(function(vt){Object.defineProperty($e,vt,Object.getOwnPropertyDescriptor(gt,vt))})}return $e}var it=function($e){var rt=$e.isCollaborating,gt=$e.onSelect,vt=(0,oe.Z)($e,Je),St=(0,g.gF)();return(0,M.jsxs)(Pe,Qe(Qe({},vt),{},{className:(0,ve.Z)("collab-button",{active:rt}),type:"button",onSelect:gt,style:{position:"relative"},title:(0,P.t)("labels.liveCollaboration"),children:[K.jn,St.collaborators.size>0&&(0,M.jsx)("div",{className:"CollabButton-collaborators",children:St.collaborators.size})]}))},ft=it;it.displayName="LiveCollaborationTrigger";var yt=O(1047),ut=O(679),pt=O(3024),wt=O(1974),zt=O(1935),Yt=O(7053),Ht=O(9430),It=["initialData","UIOptions"],_t=["initialData","UIOptions"];function Ct($e,rt){var gt=Object.keys($e);if(Object.getOwnPropertySymbols){var vt=Object.getOwnPropertySymbols($e);rt&&(vt=vt.filter(function(St){return Object.getOwnPropertyDescriptor($e,St).enumerable})),gt.push.apply(gt,vt)}return gt}function Bt($e){for(var rt=1;rt<arguments.length;rt++){var gt=arguments[rt]!=null?arguments[rt]:{};rt%2?Ct(Object(gt),!0).forEach(function(vt){we()($e,vt,gt[vt])}):Object.getOwnPropertyDescriptors?Object.defineProperties($e,Object.getOwnPropertyDescriptors(gt)):Ct(Object(gt)).forEach(function(vt){Object.defineProperty($e,vt,Object.getOwnPropertyDescriptor(gt,vt))})}return $e}var hn=function($e){var rt,gt,vt,St=$e.onChange,At=$e.initialData,Zt=$e.excalidrawRef,Wt=$e.isCollaborating,en=Wt!==void 0&&Wt,sn=$e.onPointerUpdate,Jt=$e.renderTopRightUI,kn=$e.renderSidebar,Nn=$e.langCode,Gn=Nn===void 0?P.Fp.code:Nn,Zn=$e.viewModeEnabled,tn=$e.zenModeEnabled,dn=$e.gridModeEnabled,En=$e.libraryReturnUrl,Un=$e.theme,Dr=$e.name,Ui=$e.renderCustomStats,Vi=$e.onPaste,Ki=$e.detectScroll,Di=Ki===void 0||Ki,nr=$e.handleKeyboardGlobally,Io=nr!==void 0&&nr,Kr=$e.onLibraryChange,Oi=$e.autoFocus,jo=Oi!==void 0&&Oi,Gi=$e.generateIdForFile,As=$e.onLinkOpen,fe=$e.onPointerDown,Oe=$e.onScrollChange,ze=$e.children,Fe=(rt=$e.UIOptions)===null||rt===void 0?void 0:rt.canvasActions,ot=Bt(Bt({},$e.UIOptions),{},{canvasActions:Bt(Bt({},b.cW.canvasActions),Fe)});return Fe!=null&&Fe.export&&(ot.canvasActions.export.saveFileToDisk=(gt=(vt=Fe.export)===null||vt===void 0?void 0:vt.saveFileToDisk)!==null&&gt!==void 0?gt:b.cW.canvasActions.export.saveFileToDisk),ot.canvasActions.toggleTheme===null&&Un===void 0&&(ot.canvasActions.toggleTheme=!0),(0,Ee.useEffect)(function(){var dt=function(jt){typeof jt.scale=="number"&&jt.scale!==1&&jt.preventDefault()};return document.addEventListener("touchmove",dt,{passive:!1}),function(){document.removeEventListener("touchmove",dt)}},[]),(0,M.jsx)(C,{langCode:Gn,theme:Un,children:(0,M.jsx)(J.zt,{unstable_createStore:function(){return de.e_},scope:de.yE,children:(0,M.jsx)(g.ZP,{onChange:St,initialData:At,excalidrawRef:Zt,isCollaborating:en,onPointerUpdate:sn,renderTopRightUI:Jt,langCode:Gn,viewModeEnabled:Zn,zenModeEnabled:tn,gridModeEnabled:dn,libraryReturnUrl:En,theme:Un,name:Dr,renderCustomStats:Ui,UIOptions:ot,onPaste:Vi,detectScroll:Di,handleKeyboardGlobally:Io,onLibraryChange:Kr,autoFocus:jo,generateIdForFile:Gi,onLinkOpen:As,onPointerDown:fe,onScrollChange:Oe,renderSidebar:kn,children:ze})})})},wn=function($e,rt){if($e.children!==rt.children)return!1;$e.initialData;var gt=$e.UIOptions,vt=gt===void 0?{}:gt,St=Se()($e,It),At=(rt.initialData,rt.UIOptions),Zt=At===void 0?{}:At,Wt=Se()(rt,_t),en=Object.keys(vt),sn=Object.keys(Zt);return en.length===sn.length&&en.every(function(Jt){return Jt==="canvasActions"?Object.keys(vt.canvasActions).every(function(kn){var Nn,Gn,Zn,tn;return kn==="export"&&vt!=null&&(Nn=vt.canvasActions)!==null&&Nn!==void 0&&Nn.export&&Zt!=null&&(Gn=Zt.canvasActions)!==null&&Gn!==void 0&&Gn.export?vt.canvasActions.export.saveFileToDisk===Zt.canvasActions.export.saveFileToDisk:(vt==null||(Zn=vt.canvasActions)===null||Zn===void 0?void 0:Zn[kn])===(Zt==null||(tn=Zt.canvasActions)===null||tn===void 0?void 0:tn[kn])}):vt[Jt]===Zt[Jt]})&&(0,l.w8)(St,Wt)},Vt=(0,Ee.forwardRef)(function($e,rt){return(0,M.jsx)(hn,Bt(Bt({},$e),{},{excalidrawRef:rt}))}),Qt=Me().memo(Vt,wn);Qt.displayName="Excalidraw",m()}(),Y}()})})(kO);(function(t){t.exports=U0})(wO);function EO(t){let e,n,r,i;return{c(){e=Rn("span"),n=Ho("Excalidraw Component"),r=no(),i=Rn("div"),this.h()},l(o){e=zn(o,"SPAN",{class:!0});var s=jn(e);n=Wo(s,"Excalidraw Component"),s.forEach(qt),r=ro(o),i=zn(o,"DIV",{style:!0}),jn(i).forEach(qt),this.h()},h(){un(e,"class","label"),pd(i,"width","500px"),pd(i,"height","600px")},m(o,s){Kn(o,e,s),In(e,n),Kn(o,r,s),Kn(o,i,s),t[4](i)},p:jr,d(o){o&&qt(e),o&&qt(r),o&&qt(i),t[4](null)}}}function SO(t){let e,n;return e=new u4({props:{class:"svelte-component "+t[0],style:null,$$slots:{default:[EO]},$$scope:{ctx:t}}}),{c(){ya(e.$$.fragment)},l(r){ba(e.$$.fragment,r)},m(r,i){xa(e,r,i),n=!0},p(r,[i]){const o={};i&1&&(o.class="svelte-component "+r[0]),i&66&&(o.$$scope={dirty:i,ctx:r}),e.$set(o)},i(r){n||(tr(e.$$.fragment,r),n=!0)},o(r){gr(e.$$.fragment,r),n=!1},d(r){wa(e,r)}}}function CO(t,e,n){let{node:r}=e,{updateAttributes:i}=e,{selected:o=!1}=e,s;function c(x){const O=x!=null&&x.length?btoa(JSON.stringify(x)):"";console.log("Handling & encoding change",{ex:x},{encoded:O}),i({draw:O}),i({count:+r.attrs.count+1})}Ef(function(){const x=r.attrs.draw;let O=x?atob(x):null;const Y=O?{elements:JSON.parse(O)}:{},b={onChange:c,initialData:Y};Gw(s).render(gD.createElement(W0.Excalidraw,b))});function u(x){Pc[x?"unshift":"push"](()=>{s=x,n(1,s)})}return t.$$set=x=>{"node"in x&&n(2,r=x.node),"updateAttributes"in x&&n(3,i=x.updateAttributes),"selected"in x&&n(0,o=x.selected)},[o,s,r,i,u]}class DO extends To{constructor(e){super(),Ao(this,e,CO,SO,fo,{node:2,updateAttributes:3,selected:0})}}const tf="svelte-excalidraw-component",OO=ei.create({name:"svelteExcalidrawComponent",group:"block",atom:!0,draggable:!0,inline:!1,addAttributes(){return{count:{default:0,parseHTML:t=>t.getAttribute("data-count"),renderHTML:t=>({"data-count":t.count})},draw:{default:""}}},parseHTML(){return[{tag:tf}]},renderHTML({HTMLAttributes:t}){return[tf,ar(t)]},addNodeView(){return a4(DO)}}),Yw=qC({storageKey:"TIPTAP_INSERT_MENU",capacity:3}),_y=[{title:"H1",command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setNode("heading",{level:1}).run()}},{title:"bold",command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).setMark("bold").run()}},{title:"draw",command:({editor:t,range:e})=>{t.chain().focus().deleteRange(e).insertContent(`<${tf}></${tf}>`).run()}},{title:"image",command:async({editor:t,range:e})=>{const n=await Xy();t.chain().focus().setImage({src:n}).run()}}],Py=(t,e)=>(e||[]).map(n=>t.find(r=>r.title===n)).filter(Boolean),MO={items:({query:t})=>{const e=Yw.get(),n=_y.filter(r=>!e.includes(r.title)).slice(0,10);return console.log({recentUsed:e},{restCommands:n},Py(e)),[...Py(_y,e),...n].filter(r=>r.title.toLowerCase().startsWith(t.toLowerCase()))},render:()=>{let t,e;return{onStart:n=>{const{clientRect:r,command:i,decorationNode:o,editor:s,items:c}=n,u=document.createElement("div"),x=new GC({target:u,props:{items:c,command:i}});t=new x2(x,{element:u}),n.clientRect&&(e=Bl("body",{getReferenceClientRect:n.clientRect,appendTo:()=>document.body,content:t.dom,showOnCreate:!0,interactive:!0,trigger:"manual",placement:"bottom-start"}))},onUpdate(n){t.updateProps(n),n.clientRect&&e[0].setProps({getReferenceClientRect:n.clientRect})},onKeyDown(n){var r;return n.event.key==="Escape"?(e[0].hide(),!0):(r=t.ref)==null?void 0:r.onKeyDown(n)},onExit(){e[0].destroy(),t.destroy()}}}},TO=Ur.create({name:"commands",addOptions(){return{suggestion:{char:"/",command:({editor:t,range:e,props:n})=>{n.command({editor:t,range:e}),Yw.put(n.title)}}}},addProseMirrorPlugins(){return[i4({editor:this.editor,...this.options.suggestion})]}}),AO=TO.configure({suggestion:MO}),IO=/^\s*>\s$/,jO=ei.create({name:"blockquote",addOptions(){return{HTMLAttributes:{}}},content:"block+",group:"block",defining:!0,parseHTML(){return[{tag:"blockquote"}]},renderHTML({HTMLAttributes:t}){return["blockquote",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{setBlockquote:()=>({commands:t})=>t.wrapIn(this.name),toggleBlockquote:()=>({commands:t})=>t.toggleWrap(this.name),unsetBlockquote:()=>({commands:t})=>t.lift(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-b":()=>this.editor.commands.toggleBlockquote()}},addInputRules(){return[Rf({find:IO,type:this.type})]}}),_O=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))$/,PO=/(?:^|\s)((?:\*\*)((?:[^*]+))(?:\*\*))/g,LO=/(?:^|\s)((?:__)((?:[^__]+))(?:__))$/,NO=/(?:^|\s)((?:__)((?:[^__]+))(?:__))/g,RO=Oo.create({name:"bold",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"strong"},{tag:"b",getAttrs:t=>t.style.fontWeight!=="normal"&&null},{style:"font-weight",getAttrs:t=>/^(bold(er)?|[5-9]\d{2,})$/.test(t)&&null}]},renderHTML({HTMLAttributes:t}){return["strong",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{setBold:()=>({commands:t})=>t.setMark(this.name),toggleBold:()=>({commands:t})=>t.toggleMark(this.name),unsetBold:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-b":()=>this.editor.commands.toggleBold(),"Mod-B":()=>this.editor.commands.toggleBold()}},addInputRules(){return[Cl({find:_O,type:this.type}),Cl({find:LO,type:this.type})]},addPasteRules(){return[xs({find:PO,type:this.type}),xs({find:NO,type:this.type})]}}),zO=/^\s*([-+*])\s$/,BO=ei.create({name:"bulletList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:"ul"}]},renderHTML({HTMLAttributes:t}){return["ul",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleBulletList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-8":()=>this.editor.commands.toggleBulletList()}},addInputRules(){return[Rf({find:zO,type:this.type})]}}),ZO=/(?:^|\s)((?:`)((?:[^`]+))(?:`))$/,FO=/(?:^|\s)((?:`)((?:[^`]+))(?:`))/g,HO=Oo.create({name:"code",addOptions(){return{HTMLAttributes:{}}},excludes:"_",code:!0,exitable:!0,parseHTML(){return[{tag:"code"}]},renderHTML({HTMLAttributes:t}){return["code",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{setCode:()=>({commands:t})=>t.setMark(this.name),toggleCode:()=>({commands:t})=>t.toggleMark(this.name),unsetCode:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-e":()=>this.editor.commands.toggleCode()}},addInputRules(){return[Cl({find:ZO,type:this.type})]},addPasteRules(){return[xs({find:FO,type:this.type})]}}),WO=/^```([a-z]+)?[\s\n]$/,UO=/^~~~([a-z]+)?[\s\n]$/,VO=ei.create({name:"codeBlock",addOptions(){return{languageClassPrefix:"language-",exitOnTripleEnter:!0,exitOnArrowDown:!0,HTMLAttributes:{}}},content:"text*",marks:"",group:"block",code:!0,defining:!0,addAttributes(){return{language:{default:null,parseHTML:t=>{var e;const{languageClassPrefix:n}=this.options,o=[...((e=t.firstElementChild)===null||e===void 0?void 0:e.classList)||[]].filter(s=>s.startsWith(n)).map(s=>s.replace(n,""))[0];return o||null},rendered:!1}}},parseHTML(){return[{tag:"pre",preserveWhitespace:"full"}]},renderHTML({node:t,HTMLAttributes:e}){return["pre",ar(this.options.HTMLAttributes,e),["code",{class:t.attrs.language?this.options.languageClassPrefix+t.attrs.language:null},0]]},addCommands(){return{setCodeBlock:t=>({commands:e})=>e.setNode(this.name,t),toggleCodeBlock:t=>({commands:e})=>e.toggleNode(this.name,"paragraph",t)}},addKeyboardShortcuts(){return{"Mod-Alt-c":()=>this.editor.commands.toggleCodeBlock(),Backspace:()=>{const{empty:t,$anchor:e}=this.editor.state.selection,n=e.pos===1;return!t||e.parent.type.name!==this.name?!1:n||!e.parent.textContent.length?this.editor.commands.clearNodes():!1},Enter:({editor:t})=>{if(!this.options.exitOnTripleEnter)return!1;const{state:e}=t,{selection:n}=e,{$from:r,empty:i}=n;if(!i||r.parent.type!==this.type)return!1;const o=r.parentOffset===r.parent.nodeSize-2,s=r.parent.textContent.endsWith(`

`);return!o||!s?!1:t.chain().command(({tr:c})=>(c.delete(r.pos-2,r.pos),!0)).exitCode().run()},ArrowDown:({editor:t})=>{if(!this.options.exitOnArrowDown)return!1;const{state:e}=t,{selection:n,doc:r}=e,{$from:i,empty:o}=n;if(!o||i.parent.type!==this.type||!(i.parentOffset===i.parent.nodeSize-2))return!1;const c=i.after();return c===void 0||r.nodeAt(c)?!1:t.commands.exitCode()}}},addInputRules(){return[Uh({find:WO,type:this.type,getAttributes:t=>({language:t[1]})}),Uh({find:UO,type:this.type,getAttributes:t=>({language:t[1]})})]},addProseMirrorPlugins(){return[new Nr({key:new Ei("codeBlockVSCodeHandler"),props:{handlePaste:(t,e)=>{if(!e.clipboardData||this.editor.isActive(this.type.name))return!1;const n=e.clipboardData.getData("text/plain"),r=e.clipboardData.getData("vscode-editor-data"),i=r?JSON.parse(r):void 0,o=i==null?void 0:i.mode;if(!n||!o)return!1;const{tr:s}=t.state;return s.replaceSelectionWith(this.type.create({language:o})),s.setSelection(xn.near(s.doc.resolve(Math.max(0,s.selection.from-2)))),s.insertText(n.replace(/\r\n?/g,`
`)),s.setMeta("paste",!0),t.dispatch(s),!0}}})]}}),Jw=ei.create({name:"doc",topNode:!0,content:"block+"});function KO(t={}){return new Nr({view(e){return new GO(e,t)}})}class GO{constructor(e,n){this.editorView=e,this.cursorPos=null,this.element=null,this.timeout=-1,this.width=n.width||1,this.color=n.color||"black",this.class=n.class,this.handlers=["dragover","dragend","drop","dragleave"].map(r=>{let i=o=>{this[r](o)};return e.dom.addEventListener(r,i),{name:r,handler:i}})}destroy(){this.handlers.forEach(({name:e,handler:n})=>this.editorView.dom.removeEventListener(e,n))}update(e,n){this.cursorPos!=null&&n.doc!=e.state.doc&&(this.cursorPos>e.state.doc.content.size?this.setCursor(null):this.updateOverlay())}setCursor(e){e!=this.cursorPos&&(this.cursorPos=e,e==null?(this.element.parentNode.removeChild(this.element),this.element=null):this.updateOverlay())}updateOverlay(){let e=this.editorView.state.doc.resolve(this.cursorPos),n=!e.parent.inlineContent,r;if(n){let c=e.nodeBefore,u=e.nodeAfter;if(c||u){let x=this.editorView.nodeDOM(this.cursorPos-(c?c.nodeSize:0));if(x){let O=x.getBoundingClientRect(),Y=c?O.bottom:O.top;c&&u&&(Y=(Y+this.editorView.nodeDOM(this.cursorPos).getBoundingClientRect().top)/2),r={left:O.left,right:O.right,top:Y-this.width/2,bottom:Y+this.width/2}}}}if(!r){let c=this.editorView.coordsAtPos(this.cursorPos);r={left:c.left-this.width/2,right:c.left+this.width/2,top:c.top,bottom:c.bottom}}let i=this.editorView.dom.offsetParent;this.element||(this.element=i.appendChild(document.createElement("div")),this.class&&(this.element.className=this.class),this.element.style.cssText="position: absolute; z-index: 50; pointer-events: none; background-color: "+this.color),this.element.classList.toggle("prosemirror-dropcursor-block",n),this.element.classList.toggle("prosemirror-dropcursor-inline",!n);let o,s;if(!i||i==document.body&&getComputedStyle(i).position=="static")o=-pageXOffset,s=-pageYOffset;else{let c=i.getBoundingClientRect();o=c.left-i.scrollLeft,s=c.top-i.scrollTop}this.element.style.left=r.left-o+"px",this.element.style.top=r.top-s+"px",this.element.style.width=r.right-r.left+"px",this.element.style.height=r.bottom-r.top+"px"}scheduleRemoval(e){clearTimeout(this.timeout),this.timeout=setTimeout(()=>this.setCursor(null),e)}dragover(e){if(!this.editorView.editable)return;let n=this.editorView.posAtCoords({left:e.clientX,top:e.clientY}),r=n&&n.inside>=0&&this.editorView.state.doc.nodeAt(n.inside),i=r&&r.type.spec.disableDropCursor,o=typeof i=="function"?i(this.editorView,n,e):i;if(n&&!o){let s=n.pos;if(this.editorView.dragging&&this.editorView.dragging.slice&&(s=xb(this.editorView.state.doc,s,this.editorView.dragging.slice),s==null))return this.setCursor(null);this.setCursor(s),this.scheduleRemoval(5e3)}}dragend(){this.scheduleRemoval(20)}drop(){this.scheduleRemoval(20)}dragleave(e){(e.target==this.editorView.dom||!this.editorView.dom.contains(e.relatedTarget))&&this.setCursor(null)}}const YO=Ur.create({name:"dropCursor",addOptions(){return{color:"currentColor",width:1,class:void 0}},addProseMirrorPlugins(){return[KO(this.options)]}});class er extends yn{constructor(e){super(e,e)}map(e,n){let r=e.resolve(n.map(this.head));return er.valid(r)?new er(r):yn.near(r)}content(){return Lt.empty}eq(e){return e instanceof er&&e.head==this.head}toJSON(){return{type:"gapcursor",pos:this.head}}static fromJSON(e,n){if(typeof n.pos!="number")throw new RangeError("Invalid input for GapCursor.fromJSON");return new er(e.resolve(n.pos))}getBookmark(){return new mg(this.anchor)}static valid(e){let n=e.parent;if(n.isTextblock||!JO(e)||!XO(e))return!1;let r=n.type.spec.allowGapCursor;if(r!=null)return r;let i=n.contentMatchAt(e.index()).defaultType;return i&&i.isTextblock}static findGapCursorFrom(e,n,r=!1){e:for(;;){if(!r&&er.valid(e))return e;let i=e.pos,o=null;for(let s=e.depth;;s--){let c=e.node(s);if(n>0?e.indexAfter(s)<c.childCount:e.index(s)>0){o=c.child(n>0?e.indexAfter(s):e.index(s)-1);break}else if(s==0)return null;i+=n;let u=e.doc.resolve(i);if(er.valid(u))return u}for(;;){let s=n>0?o.firstChild:o.lastChild;if(!s){if(o.isAtom&&!o.isText&&!rn.isSelectable(o)){e=e.doc.resolve(i+o.nodeSize*n),r=!1;continue e}break}o=s,i+=n;let c=e.doc.resolve(i);if(er.valid(c))return c}return null}}}er.prototype.visible=!1;er.findFrom=er.findGapCursorFrom;yn.jsonID("gapcursor",er);class mg{constructor(e){this.pos=e}map(e){return new mg(e.map(this.pos))}resolve(e){let n=e.resolve(this.pos);return er.valid(n)?new er(n):yn.near(n)}}function JO(t){for(let e=t.depth;e>=0;e--){let n=t.index(e),r=t.node(e);if(n==0){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n-1);;i=i.lastChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function XO(t){for(let e=t.depth;e>=0;e--){let n=t.indexAfter(e),r=t.node(e);if(n==r.childCount){if(r.type.spec.isolating)return!0;continue}for(let i=r.child(n);;i=i.firstChild){if(i.childCount==0&&!i.inlineContent||i.isAtom||i.type.spec.isolating)return!0;if(i.inlineContent)return!1}}return!0}function $O(){return new Nr({props:{decorations:tM,createSelectionBetween(t,e,n){return e.pos==n.pos&&er.valid(n)?new er(n):null},handleClick:QO,handleKeyDown:qO,handleDOMEvents:{beforeinput:eM}}})}const qO=o2({ArrowLeft:Gu("horiz",-1),ArrowRight:Gu("horiz",1),ArrowUp:Gu("vert",-1),ArrowDown:Gu("vert",1)});function Gu(t,e){const n=t=="vert"?e>0?"down":"up":e>0?"right":"left";return function(r,i,o){let s=r.selection,c=e>0?s.$to:s.$from,u=s.empty;if(s instanceof xn){if(!o.endOfTextblock(n)||c.depth==0)return!1;u=!1,c=r.doc.resolve(e>0?c.after():c.before())}let x=er.findGapCursorFrom(c,e,u);return x?(i&&i(r.tr.setSelection(new er(x))),!0):!1}}function QO(t,e,n){if(!t||!t.editable)return!1;let r=t.state.doc.resolve(e);if(!er.valid(r))return!1;let i=t.posAtCoords({left:n.clientX,top:n.clientY});return i&&i.inside>-1&&rn.isSelectable(t.state.doc.nodeAt(i.inside))?!1:(t.dispatch(t.state.tr.setSelection(new er(r))),!0)}function eM(t,e){if(e.inputType!="insertCompositionText"||!(t.state.selection instanceof er))return!1;let{$from:n}=t.state.selection,r=n.parent.contentMatchAt(n.index()).findWrapping(t.state.schema.nodes.text);if(!r)return!1;let i=xt.empty;for(let s=r.length-1;s>=0;s--)i=xt.from(r[s].createAndFill(null,i));let o=t.state.tr.replace(n.pos,n.pos,new Lt(i,0,0));return o.setSelection(xn.near(o.doc.resolve(n.pos+1))),t.dispatch(o),!1}function tM(t){if(!(t.selection instanceof er))return null;let e=document.createElement("div");return e.className="ProseMirror-gapcursor",cr.create(t.doc,[bi.widget(t.selection.head,e,{key:"gapcursor"})])}const nM=Ur.create({name:"gapCursor",addProseMirrorPlugins(){return[$O()]},extendNodeSchema(t){var e;const n={name:t.name,options:t.options,storage:t.storage};return{allowGapCursor:(e=vn(Ut(t,"allowGapCursor",n)))!==null&&e!==void 0?e:null}}}),rM=ei.create({name:"hardBreak",addOptions(){return{keepMarks:!0,HTMLAttributes:{}}},inline:!0,group:"inline",selectable:!1,parseHTML(){return[{tag:"br"}]},renderHTML({HTMLAttributes:t}){return["br",ar(this.options.HTMLAttributes,t)]},renderText(){return`
`},addCommands(){return{setHardBreak:()=>({commands:t,chain:e,state:n,editor:r})=>t.first([()=>t.exitCode(),()=>t.command(()=>{const{selection:i,storedMarks:o}=n;if(i.$from.parent.type.spec.isolating)return!1;const{keepMarks:s}=this.options,{splittableMarks:c}=r.extensionManager,u=o||i.$to.parentOffset&&i.$from.marks();return e().insertContent({type:this.name}).command(({tr:x,dispatch:O})=>{if(O&&u&&s){const Y=u.filter(b=>c.includes(b.type.name));x.ensureMarks(Y)}return!0}).run()})])}},addKeyboardShortcuts(){return{"Mod-Enter":()=>this.editor.commands.setHardBreak(),"Shift-Enter":()=>this.editor.commands.setHardBreak()}}}),iM=ei.create({name:"heading",addOptions(){return{levels:[1,2,3,4,5,6],HTMLAttributes:{}}},content:"inline*",group:"block",defining:!0,addAttributes(){return{level:{default:1,rendered:!1}}},parseHTML(){return this.options.levels.map(t=>({tag:`h${t}`,attrs:{level:t}}))},renderHTML({node:t,HTMLAttributes:e}){return[`h${this.options.levels.includes(t.attrs.level)?t.attrs.level:this.options.levels[0]}`,ar(this.options.HTMLAttributes,e),0]},addCommands(){return{setHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.setNode(this.name,t):!1,toggleHeading:t=>({commands:e})=>this.options.levels.includes(t.level)?e.toggleNode(this.name,"paragraph",t):!1}},addKeyboardShortcuts(){return this.options.levels.reduce((t,e)=>({...t,[`Mod-Alt-${e}`]:()=>this.editor.commands.toggleHeading({level:e})}),{})},addInputRules(){return this.options.levels.map(t=>Uh({find:new RegExp(`^(#{1,${t}})\\s$`),type:this.type,getAttributes:{level:t}}))}});var nf=200,Pr=function(){};Pr.prototype.append=function(e){return e.length?(e=Pr.from(e),!this.length&&e||e.length<nf&&this.leafAppend(e)||this.length<nf&&e.leafPrepend(this)||this.appendInner(e)):this};Pr.prototype.prepend=function(e){return e.length?Pr.from(e).append(this):this};Pr.prototype.appendInner=function(e){return new oM(this,e)};Pr.prototype.slice=function(e,n){return e===void 0&&(e=0),n===void 0&&(n=this.length),e>=n?Pr.empty:this.sliceInner(Math.max(0,e),Math.min(this.length,n))};Pr.prototype.get=function(e){if(!(e<0||e>=this.length))return this.getInner(e)};Pr.prototype.forEach=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length),n<=r?this.forEachInner(e,n,r,0):this.forEachInvertedInner(e,n,r,0)};Pr.prototype.map=function(e,n,r){n===void 0&&(n=0),r===void 0&&(r=this.length);var i=[];return this.forEach(function(o,s){return i.push(e(o,s))},n,r),i};Pr.from=function(e){return e instanceof Pr?e:e&&e.length?new Xw(e):Pr.empty};var Xw=function(t){function e(r){t.call(this),this.values=r}t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e;var n={length:{configurable:!0},depth:{configurable:!0}};return e.prototype.flatten=function(){return this.values},e.prototype.sliceInner=function(i,o){return i==0&&o==this.length?this:new e(this.values.slice(i,o))},e.prototype.getInner=function(i){return this.values[i]},e.prototype.forEachInner=function(i,o,s,c){for(var u=o;u<s;u++)if(i(this.values[u],c+u)===!1)return!1},e.prototype.forEachInvertedInner=function(i,o,s,c){for(var u=o-1;u>=s;u--)if(i(this.values[u],c+u)===!1)return!1},e.prototype.leafAppend=function(i){if(this.length+i.length<=nf)return new e(this.values.concat(i.flatten()))},e.prototype.leafPrepend=function(i){if(this.length+i.length<=nf)return new e(i.flatten().concat(this.values))},n.length.get=function(){return this.values.length},n.depth.get=function(){return 0},Object.defineProperties(e.prototype,n),e}(Pr);Pr.empty=new Xw([]);var oM=function(t){function e(n,r){t.call(this),this.left=n,this.right=r,this.length=n.length+r.length,this.depth=Math.max(n.depth,r.depth)+1}return t&&(e.__proto__=t),e.prototype=Object.create(t&&t.prototype),e.prototype.constructor=e,e.prototype.flatten=function(){return this.left.flatten().concat(this.right.flatten())},e.prototype.getInner=function(r){return r<this.left.length?this.left.get(r):this.right.get(r-this.left.length)},e.prototype.forEachInner=function(r,i,o,s){var c=this.left.length;if(i<c&&this.left.forEachInner(r,i,Math.min(o,c),s)===!1||o>c&&this.right.forEachInner(r,Math.max(i-c,0),Math.min(this.length,o)-c,s+c)===!1)return!1},e.prototype.forEachInvertedInner=function(r,i,o,s){var c=this.left.length;if(i>c&&this.right.forEachInvertedInner(r,i-c,Math.max(o,c)-c,s+c)===!1||o<c&&this.left.forEachInvertedInner(r,Math.min(i,c),o,s)===!1)return!1},e.prototype.sliceInner=function(r,i){if(r==0&&i==this.length)return this;var o=this.left.length;return i<=o?this.left.slice(r,i):r>=o?this.right.slice(r-o,i-o):this.left.slice(r,o).append(this.right.slice(0,i-o))},e.prototype.leafAppend=function(r){var i=this.right.leafAppend(r);if(i)return new e(this.left,i)},e.prototype.leafPrepend=function(r){var i=this.left.leafPrepend(r);if(i)return new e(i,this.right)},e.prototype.appendInner=function(r){return this.left.depth>=Math.max(this.right.depth,r.depth)+1?new e(this.left,new e(this.right,r)):new e(this,r)},e}(Pr),$w=Pr;const aM=500;class to{constructor(e,n){this.items=e,this.eventCount=n}popEvent(e,n){if(this.eventCount==0)return null;let r=this.items.length;for(;;r--)if(this.items.get(r-1).selection){--r;break}let i,o;n&&(i=this.remapping(r,this.items.length),o=i.maps.length);let s=e.tr,c,u,x=[],O=[];return this.items.forEach((Y,b)=>{if(!Y.step){i||(i=this.remapping(r,b+1),o=i.maps.length),o--,O.push(Y);return}if(i){O.push(new go(Y.map));let m=Y.step.map(i.slice(o)),a;m&&s.maybeStep(m).doc&&(a=s.mapping.maps[s.mapping.maps.length-1],x.push(new go(a,void 0,void 0,x.length+O.length))),o--,a&&i.appendMap(a,o)}else s.maybeStep(Y.step);if(Y.selection)return c=i?Y.selection.map(i.slice(o)):Y.selection,u=new to(this.items.slice(0,r).append(O.reverse().concat(x)),this.eventCount-1),!1},this.items.length,0),{remaining:u,transform:s,selection:c}}addTransform(e,n,r,i){let o=[],s=this.eventCount,c=this.items,u=!i&&c.length?c.get(c.length-1):null;for(let O=0;O<e.steps.length;O++){let Y=e.steps[O].invert(e.docs[O]),b=new go(e.mapping.maps[O],Y,n),m;(m=u&&u.merge(b))&&(b=m,O?o.pop():c=c.slice(0,c.length-1)),o.push(b),n&&(s++,n=void 0),i||(u=b)}let x=s-r.depth;return x>lM&&(c=sM(c,x),s-=x),new to(c.append(o),s)}remapping(e,n){let r=new ll;return this.items.forEach((i,o)=>{let s=i.mirrorOffset!=null&&o-i.mirrorOffset>=e?r.maps.length-i.mirrorOffset:void 0;r.appendMap(i.map,s)},e,n),r}addMaps(e){return this.eventCount==0?this:new to(this.items.append(e.map(n=>new go(n))),this.eventCount)}rebased(e,n){if(!this.eventCount)return this;let r=[],i=Math.max(0,this.items.length-n),o=e.mapping,s=e.steps.length,c=this.eventCount;this.items.forEach(b=>{b.selection&&c--},i);let u=n;this.items.forEach(b=>{let m=o.getMirror(--u);if(m==null)return;s=Math.min(s,m);let a=o.maps[m];if(b.step){let v=e.steps[m].invert(e.docs[m]),E=b.selection&&b.selection.map(o.slice(u+1,m));E&&c++,r.push(new go(a,v,E))}else r.push(new go(a))},i);let x=[];for(let b=n;b<s;b++)x.push(new go(o.maps[b]));let O=this.items.slice(0,i).append(x).append(r),Y=new to(O,c);return Y.emptyItemCount()>aM&&(Y=Y.compress(this.items.length-r.length)),Y}emptyItemCount(){let e=0;return this.items.forEach(n=>{n.step||e++}),e}compress(e=this.items.length){let n=this.remapping(0,e),r=n.maps.length,i=[],o=0;return this.items.forEach((s,c)=>{if(c>=e)i.push(s),s.selection&&o++;else if(s.step){let u=s.step.map(n.slice(r)),x=u&&u.getMap();if(r--,x&&n.appendMap(x,r),u){let O=s.selection&&s.selection.map(n.slice(r));O&&o++;let Y=new go(x.invert(),u,O),b,m=i.length-1;(b=i.length&&i[m].merge(Y))?i[m]=b:i.push(Y)}}else s.map&&r--},this.items.length,0),new to($w.from(i.reverse()),o)}}to.empty=new to($w.empty,0);function sM(t,e){let n;return t.forEach((r,i)=>{if(r.selection&&e--==0)return n=i,!1}),t.slice(n)}class go{constructor(e,n,r,i){this.map=e,this.step=n,this.selection=r,this.mirrorOffset=i}merge(e){if(this.step&&e.step&&!e.selection){let n=e.step.merge(this.step);if(n)return new go(n.getMap().invert(),n,this.selection)}}}class la{constructor(e,n,r,i){this.done=e,this.undone=n,this.prevRanges=r,this.prevTime=i}}const lM=20;function cM(t,e,n,r){let i=n.getMeta(ja),o;if(i)return i.historyState;n.getMeta(dM)&&(t=new la(t.done,t.undone,null,0));let s=n.getMeta("appendedTransaction");if(n.steps.length==0)return t;if(s&&s.getMeta(ja))return s.getMeta(ja).redo?new la(t.done.addTransform(n,void 0,r,cd(e)),t.undone,Ly(n.mapping.maps[n.steps.length-1]),t.prevTime):new la(t.done,t.undone.addTransform(n,void 0,r,cd(e)),null,t.prevTime);if(n.getMeta("addToHistory")!==!1&&!(s&&s.getMeta("addToHistory")===!1)){let c=t.prevTime==0||!s&&(t.prevTime<(n.time||0)-r.newGroupDelay||!uM(n,t.prevRanges)),u=s?wh(t.prevRanges,n.mapping):Ly(n.mapping.maps[n.steps.length-1]);return new la(t.done.addTransform(n,c?e.selection.getBookmark():void 0,r,cd(e)),to.empty,u,n.time)}else return(o=n.getMeta("rebased"))?new la(t.done.rebased(n,o),t.undone.rebased(n,o),wh(t.prevRanges,n.mapping),t.prevTime):new la(t.done.addMaps(n.mapping.maps),t.undone.addMaps(n.mapping.maps),wh(t.prevRanges,n.mapping),t.prevTime)}function uM(t,e){if(!e)return!1;if(!t.docChanged)return!0;let n=!1;return t.mapping.maps[0].forEach((r,i)=>{for(let o=0;o<e.length;o+=2)r<=e[o+1]&&i>=e[o]&&(n=!0)}),n}function Ly(t){let e=[];return t.forEach((n,r,i,o)=>e.push(i,o)),e}function wh(t,e){if(!t)return null;let n=[];for(let r=0;r<t.length;r+=2){let i=e.map(t[r],1),o=e.map(t[r+1],-1);i<=o&&n.push(i,o)}return n}function qw(t,e,n,r){let i=cd(e),o=ja.get(e).spec.config,s=(r?t.undone:t.done).popEvent(e,i);if(!s)return;let c=s.selection.resolve(s.transform.doc),u=(r?t.done:t.undone).addTransform(s.transform,e.selection.getBookmark(),o,i),x=new la(r?u:s.remaining,r?s.remaining:u,null,0);n(s.transform.setSelection(c).setMeta(ja,{redo:r,historyState:x}).scrollIntoView())}let kh=!1,Ny=null;function cd(t){let e=t.plugins;if(Ny!=e){kh=!1,Ny=e;for(let n=0;n<e.length;n++)if(e[n].spec.historyPreserveItems){kh=!0;break}}return kh}const ja=new Ei("history"),dM=new Ei("closeHistory");function fM(t={}){return t={depth:t.depth||100,newGroupDelay:t.newGroupDelay||500},new Nr({key:ja,state:{init(){return new la(to.empty,to.empty,null,0)},apply(e,n,r){return cM(n,r,e,t)}},config:t,props:{handleDOMEvents:{beforeinput(e,n){let r=n.inputType,i=r=="historyUndo"?Qw:r=="historyRedo"?ek:null;return i?(n.preventDefault(),i(e.state,e.dispatch)):!1}}}})}const Qw=(t,e)=>{let n=ja.getState(t);return!n||n.done.eventCount==0?!1:(e&&qw(n,t,e,!1),!0)},ek=(t,e)=>{let n=ja.getState(t);return!n||n.undone.eventCount==0?!1:(e&&qw(n,t,e,!0),!0)},pM=Ur.create({name:"history",addOptions(){return{depth:100,newGroupDelay:500}},addCommands(){return{undo:()=>({state:t,dispatch:e})=>Qw(t,e),redo:()=>({state:t,dispatch:e})=>ek(t,e)}},addProseMirrorPlugins(){return[fM(this.options)]},addKeyboardShortcuts(){return{"Mod-z":()=>this.editor.commands.undo(),"Mod-y":()=>this.editor.commands.redo(),"Shift-Mod-z":()=>this.editor.commands.redo(),"Mod-":()=>this.editor.commands.undo(),"Shift-Mod-":()=>this.editor.commands.redo()}}}),hM=ei.create({name:"horizontalRule",addOptions(){return{HTMLAttributes:{}}},group:"block",parseHTML(){return[{tag:"hr"}]},renderHTML({HTMLAttributes:t}){return["hr",ar(this.options.HTMLAttributes,t)]},addCommands(){return{setHorizontalRule:()=>({chain:t})=>t().insertContent({type:this.name}).command(({tr:e,dispatch:n})=>{var r;if(n){const{$to:i}=e.selection,o=i.end();if(i.nodeAfter)e.setSelection(xn.create(e.doc,i.pos));else{const s=(r=i.parent.type.contentMatch.defaultType)===null||r===void 0?void 0:r.create();s&&(e.insert(o,s),e.setSelection(xn.create(e.doc,o)))}e.scrollIntoView()}return!0}).run()}},addInputRules(){return[b2({find:/^(?:---|-|___\s|\*\*\*\s)$/,type:this.type})]}}),mM=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))$/,gM=/(?:^|\s)((?:\*)((?:[^*]+))(?:\*))/g,vM=/(?:^|\s)((?:_)((?:[^_]+))(?:_))$/,yM=/(?:^|\s)((?:_)((?:[^_]+))(?:_))/g,bM=Oo.create({name:"italic",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"em"},{tag:"i",getAttrs:t=>t.style.fontStyle!=="normal"&&null},{style:"font-style=italic"}]},renderHTML({HTMLAttributes:t}){return["em",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{setItalic:()=>({commands:t})=>t.setMark(this.name),toggleItalic:()=>({commands:t})=>t.toggleMark(this.name),unsetItalic:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-i":()=>this.editor.commands.toggleItalic(),"Mod-I":()=>this.editor.commands.toggleItalic()}},addInputRules(){return[Cl({find:mM,type:this.type}),Cl({find:vM,type:this.type})]},addPasteRules(){return[xs({find:gM,type:this.type}),xs({find:yM,type:this.type})]}}),xM=ei.create({name:"listItem",addOptions(){return{HTMLAttributes:{}}},content:"paragraph block*",defining:!0,parseHTML(){return[{tag:"li"}]},renderHTML({HTMLAttributes:t}){return["li",ar(this.options.HTMLAttributes,t),0]},addKeyboardShortcuts(){return{Enter:()=>this.editor.commands.splitListItem(this.name),Tab:()=>this.editor.commands.sinkListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)}}}),wM=/^(\d+)\.\s$/,kM=ei.create({name:"orderedList",addOptions(){return{itemTypeName:"listItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},addAttributes(){return{start:{default:1,parseHTML:t=>t.hasAttribute("start")?parseInt(t.getAttribute("start")||"",10):1}}},parseHTML(){return[{tag:"ol"}]},renderHTML({HTMLAttributes:t}){const{start:e,...n}=t;return e===1?["ol",ar(this.options.HTMLAttributes,n),0]:["ol",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{toggleOrderedList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-7":()=>this.editor.commands.toggleOrderedList()}},addInputRules(){return[Rf({find:wM,type:this.type,getAttributes:t=>({start:+t[1]}),joinPredicate:(t,e)=>e.childCount+e.attrs.start===+t[1]})]}}),tk=ei.create({name:"paragraph",priority:1e3,addOptions(){return{HTMLAttributes:{}}},group:"block",content:"inline*",parseHTML(){return[{tag:"p"}]},renderHTML({HTMLAttributes:t}){return["p",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{setParagraph:()=>({commands:t})=>t.setNode(this.name)}},addKeyboardShortcuts(){return{"Mod-Alt-0":()=>this.editor.commands.setParagraph()}}}),EM=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))$/,SM=/(?:^|\s)((?:~~)((?:[^~]+))(?:~~))/g,CM=Oo.create({name:"strike",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"s"},{tag:"del"},{tag:"strike"},{style:"text-decoration",consuming:!1,getAttrs:t=>t.includes("line-through")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["s",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{setStrike:()=>({commands:t})=>t.setMark(this.name),toggleStrike:()=>({commands:t})=>t.toggleMark(this.name),unsetStrike:()=>({commands:t})=>t.unsetMark(this.name)}},addKeyboardShortcuts(){return{"Mod-Shift-x":()=>this.editor.commands.toggleStrike()}},addInputRules(){return[Cl({find:EM,type:this.type})]},addPasteRules(){return[xs({find:SM,type:this.type})]}}),nk=ei.create({name:"text",group:"inline"}),DM=Ur.create({name:"starterKit",addExtensions(){var t,e,n,r,i,o,s,c,u,x,O,Y,b,m,a,v,E,h;const f=[];return this.options.blockquote!==!1&&f.push(jO.configure((t=this.options)===null||t===void 0?void 0:t.blockquote)),this.options.bold!==!1&&f.push(RO.configure((e=this.options)===null||e===void 0?void 0:e.bold)),this.options.bulletList!==!1&&f.push(BO.configure((n=this.options)===null||n===void 0?void 0:n.bulletList)),this.options.code!==!1&&f.push(HO.configure((r=this.options)===null||r===void 0?void 0:r.code)),this.options.codeBlock!==!1&&f.push(VO.configure((i=this.options)===null||i===void 0?void 0:i.codeBlock)),this.options.document!==!1&&f.push(Jw.configure((o=this.options)===null||o===void 0?void 0:o.document)),this.options.dropcursor!==!1&&f.push(YO.configure((s=this.options)===null||s===void 0?void 0:s.dropcursor)),this.options.gapcursor!==!1&&f.push(nM.configure((c=this.options)===null||c===void 0?void 0:c.gapcursor)),this.options.hardBreak!==!1&&f.push(rM.configure((u=this.options)===null||u===void 0?void 0:u.hardBreak)),this.options.heading!==!1&&f.push(iM.configure((x=this.options)===null||x===void 0?void 0:x.heading)),this.options.history!==!1&&f.push(pM.configure((O=this.options)===null||O===void 0?void 0:O.history)),this.options.horizontalRule!==!1&&f.push(hM.configure((Y=this.options)===null||Y===void 0?void 0:Y.horizontalRule)),this.options.italic!==!1&&f.push(bM.configure((b=this.options)===null||b===void 0?void 0:b.italic)),this.options.listItem!==!1&&f.push(xM.configure((m=this.options)===null||m===void 0?void 0:m.listItem)),this.options.orderedList!==!1&&f.push(kM.configure((a=this.options)===null||a===void 0?void 0:a.orderedList)),this.options.paragraph!==!1&&f.push(tk.configure((v=this.options)===null||v===void 0?void 0:v.paragraph)),this.options.strike!==!1&&f.push(CM.configure((E=this.options)===null||E===void 0?void 0:E.strike)),this.options.text!==!1&&f.push(nk.configure((h=this.options)===null||h===void 0?void 0:h.text)),f}});function gg(t){this.j={},this.jr=[],this.jd=null,this.t=t}gg.prototype={accepts:function(){return!!this.t},tt:function(e,n){if(n&&n.j)return this.j[e]=n,n;var r=n,i=this.j[e];if(i)return r&&(i.t=r),i;i=Pn();var o=rf(this,e);return o?(Object.assign(i.j,o.j),i.jr.append(o.jr),i.jr=o.jd,i.t=r||o.t):i.t=r,this.j[e]=i,i}};var Pn=function(){return new gg},an=function(e){return new gg(e)},Mt=function(e,n,r){e.j[n]||(e.j[n]=r)},xr=function(e,n,r){e.jr.push([n,r])},rf=function(e,n){var r=e.j[n];if(r)return r;for(var i=0;i<e.jr.length;i++){var o=e.jr[i][0],s=e.jr[i][1];if(o.test(n))return s}return e.jd},Sn=function(e,n,r){for(var i=0;i<n.length;i++)Mt(e,n[i],r)},OM=function(e,n){for(var r=0;r<n.length;r++){var i=n[r][0],o=n[r][1];Mt(e,i,o)}},Xa=function(e,n,r,i){for(var o=0,s=n.length,c;o<s&&(c=e.j[n[o]]);)e=c,o++;if(o>=s)return[];for(;o<s-1;)c=i(),Mt(e,n[o],c),e=c,o++;Mt(e,n[s-1],r)},Xi="DOMAIN",No="LOCALHOST",vo="TLD",Ii="NUM",Rl="PROTOCOL",vg="MAILTO",rk="WS",yg="NL",rl="OPENBRACE",Ac="OPENBRACKET",Ic="OPENANGLEBRACKET",jc="OPENPAREN",ns="CLOSEBRACE",il="CLOSEBRACKET",ol="CLOSEANGLEBRACKET",al="CLOSEPAREN",of="AMPERSAND",af="APOSTROPHE",sf="ASTERISK",sl="AT",lf="BACKSLASH",cf="BACKTICK",uf="CARET",_c="COLON",bg="COMMA",df="DOLLAR",ca="DOT",ff="EQUALS",xg="EXCLAMATION",pf="HYPHEN",hf="PERCENT",mf="PIPE",gf="PLUS",vf="POUND",yf="QUERY",wg="QUOTE",kg="SEMI",zo="SLASH",bf="TILDE",xf="UNDERSCORE",wf="SYM",MM=Object.freeze({__proto__:null,DOMAIN:Xi,LOCALHOST:No,TLD:vo,NUM:Ii,PROTOCOL:Rl,MAILTO:vg,WS:rk,NL:yg,OPENBRACE:rl,OPENBRACKET:Ac,OPENANGLEBRACKET:Ic,OPENPAREN:jc,CLOSEBRACE:ns,CLOSEBRACKET:il,CLOSEANGLEBRACKET:ol,CLOSEPAREN:al,AMPERSAND:of,APOSTROPHE:af,ASTERISK:sf,AT:sl,BACKSLASH:lf,BACKTICK:cf,CARET:uf,COLON:_c,COMMA:bg,DOLLAR:df,DOT:ca,EQUALS:ff,EXCLAMATION:xg,HYPHEN:pf,PERCENT:hf,PIPE:mf,PLUS:gf,POUND:vf,QUERY:yf,QUOTE:wg,SEMI:kg,SLASH:zo,TILDE:bf,UNDERSCORE:xf,SYM:wf}),Ry="aaa aarp abarth abb abbott abbvie abc able abogado abudhabi ac academy accenture accountant accountants aco actor ad adac ads adult ae aeg aero aetna af afamilycompany afl africa ag agakhan agency ai aig airbus airforce airtel akdn al alfaromeo alibaba alipay allfinanz allstate ally alsace alstom am amazon americanexpress americanfamily amex amfam amica amsterdam analytics android anquan anz ao aol apartments app apple aq aquarelle ar arab aramco archi army arpa art arte as asda asia associates at athleta attorney au auction audi audible audio auspost author auto autos avianca aw aws ax axa az azure ba baby baidu banamex bananarepublic band bank bar barcelona barclaycard barclays barefoot bargains baseball basketball bauhaus bayern bb bbc bbt bbva bcg bcn bd be beats beauty beer bentley berlin best bestbuy bet bf bg bh bharti bi bible bid bike bing bingo bio biz bj black blackfriday blockbuster blog bloomberg blue bm bms bmw bn bnpparibas bo boats boehringer bofa bom bond boo book booking bosch bostik boston bot boutique box br bradesco bridgestone broadway broker brother brussels bs bt budapest bugatti build builders business buy buzz bv bw by bz bzh ca cab cafe cal call calvinklein cam camera camp cancerresearch canon capetown capital capitalone car caravan cards care career careers cars casa case cash casino cat catering catholic cba cbn cbre cbs cc cd center ceo cern cf cfa cfd cg ch chanel channel charity chase chat cheap chintai christmas chrome church ci cipriani circle cisco citadel citi citic city cityeats ck cl claims cleaning click clinic clinique clothing cloud club clubmed cm cn co coach codes coffee college cologne com comcast commbank community company compare computer comsec condos construction consulting contact contractors cooking cookingchannel cool coop corsica country coupon coupons courses cpa cr credit creditcard creditunion cricket crown crs cruise cruises csc cu cuisinella cv cw cx cy cymru cyou cz dabur dad dance data date dating datsun day dclk dds de deal dealer deals degree delivery dell deloitte delta democrat dental dentist desi design dev dhl diamonds diet digital direct directory discount discover dish diy dj dk dm dnp do docs doctor dog domains dot download drive dtv dubai duck dunlop dupont durban dvag dvr dz earth eat ec eco edeka edu education ee eg email emerck energy engineer engineering enterprises epson equipment er ericsson erni es esq estate et etisalat eu eurovision eus events exchange expert exposed express extraspace fage fail fairwinds faith family fan fans farm farmers fashion fast fedex feedback ferrari ferrero fi fiat fidelity fido film final finance financial fire firestone firmdale fish fishing fit fitness fj fk flickr flights flir florist flowers fly fm fo foo food foodnetwork football ford forex forsale forum foundation fox fr free fresenius frl frogans frontdoor frontier ftr fujitsu fujixerox fun fund furniture futbol fyi ga gal gallery gallo gallup game games gap garden gay gb gbiz gd gdn ge gea gent genting george gf gg ggee gh gi gift gifts gives giving gl glade glass gle global globo gm gmail gmbh gmo gmx gn godaddy gold goldpoint golf goo goodyear goog google gop got gov gp gq gr grainger graphics gratis green gripe grocery group gs gt gu guardian gucci guge guide guitars guru gw gy hair hamburg hangout haus hbo hdfc hdfcbank health healthcare help helsinki here hermes hgtv hiphop hisamitsu hitachi hiv hk hkt hm hn hockey holdings holiday homedepot homegoods homes homesense honda horse hospital host hosting hot hoteles hotels hotmail house how hr hsbc ht hu hughes hyatt hyundai ibm icbc ice icu id ie ieee ifm ikano il im imamat imdb immo immobilien in inc industries infiniti info ing ink institute insurance insure int international intuit investments io ipiranga iq ir irish is ismaili ist istanbul it itau itv iveco jaguar java jcb je jeep jetzt jewelry jio jll jm jmp jnj jo jobs joburg jot joy jp jpmorgan jprs juegos juniper kaufen kddi ke kerryhotels kerrylogistics kerryproperties kfh kg kh ki kia kim kinder kindle kitchen kiwi km kn koeln komatsu kosher kp kpmg kpn kr krd kred kuokgroup kw ky kyoto kz la lacaixa lamborghini lamer lancaster lancia land landrover lanxess lasalle lat latino latrobe law lawyer lb lc lds lease leclerc lefrak legal lego lexus lgbt li lidl life lifeinsurance lifestyle lighting like lilly limited limo lincoln linde link lipsy live living lixil lk llc llp loan loans locker locus loft lol london lotte lotto love lpl lplfinancial lr ls lt ltd ltda lu lundbeck luxe luxury lv ly ma macys madrid maif maison makeup man management mango map market marketing markets marriott marshalls maserati mattel mba mc mckinsey md me med media meet melbourne meme memorial men menu merckmsd mg mh miami microsoft mil mini mint mit mitsubishi mk ml mlb mls mm mma mn mo mobi mobile moda moe moi mom monash money monster mormon mortgage moscow moto motorcycles mov movie mp mq mr ms msd mt mtn mtr mu museum mutual mv mw mx my mz na nab nagoya name nationwide natura navy nba nc ne nec net netbank netflix network neustar new news next nextdirect nexus nf nfl ng ngo nhk ni nico nike nikon ninja nissan nissay nl no nokia northwesternmutual norton now nowruz nowtv np nr nra nrw ntt nu nyc nz obi observer off office okinawa olayan olayangroup oldnavy ollo om omega one ong onl online onyourside ooo open oracle orange org organic origins osaka otsuka ott ovh pa page panasonic paris pars partners parts party passagens pay pccw pe pet pf pfizer pg ph pharmacy phd philips phone photo photography photos physio pics pictet pictures pid pin ping pink pioneer pizza pk pl place play playstation plumbing plus pm pn pnc pohl poker politie porn post pr pramerica praxi press prime pro prod productions prof progressive promo properties property protection pru prudential ps pt pub pw pwc py qa qpon quebec quest qvc racing radio raid re read realestate realtor realty recipes red redstone redumbrella rehab reise reisen reit reliance ren rent rentals repair report republican rest restaurant review reviews rexroth rich richardli ricoh ril rio rip rmit ro rocher rocks rodeo rogers room rs rsvp ru rugby ruhr run rw rwe ryukyu sa saarland safe safety sakura sale salon samsclub samsung sandvik sandvikcoromant sanofi sap sarl sas save saxo sb sbi sbs sc sca scb schaeffler schmidt scholarships school schule schwarz science scjohnson scot sd se search seat secure security seek select sener services ses seven sew sex sexy sfr sg sh shangrila sharp shaw shell shia shiksha shoes shop shopping shouji show showtime si silk sina singles site sj sk ski skin sky skype sl sling sm smart smile sn sncf so soccer social softbank software sohu solar solutions song sony soy spa space sport spot spreadbetting sr srl ss st stada staples star statebank statefarm stc stcgroup stockholm storage store stream studio study style su sucks supplies supply support surf surgery suzuki sv swatch swiftcover swiss sx sy sydney systems sz tab taipei talk taobao target tatamotors tatar tattoo tax taxi tc tci td tdk team tech technology tel temasek tennis teva tf tg th thd theater theatre tiaa tickets tienda tiffany tips tires tirol tj tjmaxx tjx tk tkmaxx tl tm tmall tn to today tokyo tools top toray toshiba total tours town toyota toys tr trade trading training travel travelchannel travelers travelersinsurance trust trv tt tube tui tunes tushu tv tvs tw tz ua ubank ubs ug uk unicom university uno uol ups us uy uz va vacations vana vanguard vc ve vegas ventures verisign versicherung vet vg vi viajes video vig viking villas vin vip virgin visa vision viva vivo vlaanderen vn vodka volkswagen volvo vote voting voto voyage vu vuelos wales walmart walter wang wanggou watch watches weather weatherchannel webcam weber website wed wedding weibo weir wf whoswho wien wiki williamhill win windows wine winners wme wolterskluwer woodside work works world wow ws wtc wtf xbox xerox xfinity xihuan xin xxx xyz yachts yahoo yamaxun yandex ye yodobashi yoga yokohama you youtube yt yun za zappos zara zero zip zm zone zuerich zw vermgensberater-ctb vermgensberatung-pwb                                                                                                                                                        ".split(" "),rc=/(?:[A-Za-z\xAA\xB5\xBA\xC0-\xD6\xD8-\xF6\xF8-\u02C1\u02C6-\u02D1\u02E0-\u02E4\u02EC\u02EE\u0370-\u0374\u0376\u0377\u037A-\u037D\u037F\u0386\u0388-\u038A\u038C\u038E-\u03A1\u03A3-\u03F5\u03F7-\u0481\u048A-\u052F\u0531-\u0556\u0559\u0560-\u0588\u05D0-\u05EA\u05EF-\u05F2\u0620-\u064A\u066E\u066F\u0671-\u06D3\u06D5\u06E5\u06E6\u06EE\u06EF\u06FA-\u06FC\u06FF\u0710\u0712-\u072F\u074D-\u07A5\u07B1\u07CA-\u07EA\u07F4\u07F5\u07FA\u0800-\u0815\u081A\u0824\u0828\u0840-\u0858\u0860-\u086A\u0870-\u0887\u0889-\u088E\u08A0-\u08C9\u0904-\u0939\u093D\u0950\u0958-\u0961\u0971-\u0980\u0985-\u098C\u098F\u0990\u0993-\u09A8\u09AA-\u09B0\u09B2\u09B6-\u09B9\u09BD\u09CE\u09DC\u09DD\u09DF-\u09E1\u09F0\u09F1\u09FC\u0A05-\u0A0A\u0A0F\u0A10\u0A13-\u0A28\u0A2A-\u0A30\u0A32\u0A33\u0A35\u0A36\u0A38\u0A39\u0A59-\u0A5C\u0A5E\u0A72-\u0A74\u0A85-\u0A8D\u0A8F-\u0A91\u0A93-\u0AA8\u0AAA-\u0AB0\u0AB2\u0AB3\u0AB5-\u0AB9\u0ABD\u0AD0\u0AE0\u0AE1\u0AF9\u0B05-\u0B0C\u0B0F\u0B10\u0B13-\u0B28\u0B2A-\u0B30\u0B32\u0B33\u0B35-\u0B39\u0B3D\u0B5C\u0B5D\u0B5F-\u0B61\u0B71\u0B83\u0B85-\u0B8A\u0B8E-\u0B90\u0B92-\u0B95\u0B99\u0B9A\u0B9C\u0B9E\u0B9F\u0BA3\u0BA4\u0BA8-\u0BAA\u0BAE-\u0BB9\u0BD0\u0C05-\u0C0C\u0C0E-\u0C10\u0C12-\u0C28\u0C2A-\u0C39\u0C3D\u0C58-\u0C5A\u0C5D\u0C60\u0C61\u0C80\u0C85-\u0C8C\u0C8E-\u0C90\u0C92-\u0CA8\u0CAA-\u0CB3\u0CB5-\u0CB9\u0CBD\u0CDD\u0CDE\u0CE0\u0CE1\u0CF1\u0CF2\u0D04-\u0D0C\u0D0E-\u0D10\u0D12-\u0D3A\u0D3D\u0D4E\u0D54-\u0D56\u0D5F-\u0D61\u0D7A-\u0D7F\u0D85-\u0D96\u0D9A-\u0DB1\u0DB3-\u0DBB\u0DBD\u0DC0-\u0DC6\u0E01-\u0E30\u0E32\u0E33\u0E40-\u0E46\u0E81\u0E82\u0E84\u0E86-\u0E8A\u0E8C-\u0EA3\u0EA5\u0EA7-\u0EB0\u0EB2\u0EB3\u0EBD\u0EC0-\u0EC4\u0EC6\u0EDC-\u0EDF\u0F00\u0F40-\u0F47\u0F49-\u0F6C\u0F88-\u0F8C\u1000-\u102A\u103F\u1050-\u1055\u105A-\u105D\u1061\u1065\u1066\u106E-\u1070\u1075-\u1081\u108E\u10A0-\u10C5\u10C7\u10CD\u10D0-\u10FA\u10FC-\u1248\u124A-\u124D\u1250-\u1256\u1258\u125A-\u125D\u1260-\u1288\u128A-\u128D\u1290-\u12B0\u12B2-\u12B5\u12B8-\u12BE\u12C0\u12C2-\u12C5\u12C8-\u12D6\u12D8-\u1310\u1312-\u1315\u1318-\u135A\u1380-\u138F\u13A0-\u13F5\u13F8-\u13FD\u1401-\u166C\u166F-\u167F\u1681-\u169A\u16A0-\u16EA\u16F1-\u16F8\u1700-\u1711\u171F-\u1731\u1740-\u1751\u1760-\u176C\u176E-\u1770\u1780-\u17B3\u17D7\u17DC\u1820-\u1878\u1880-\u1884\u1887-\u18A8\u18AA\u18B0-\u18F5\u1900-\u191E\u1950-\u196D\u1970-\u1974\u1980-\u19AB\u19B0-\u19C9\u1A00-\u1A16\u1A20-\u1A54\u1AA7\u1B05-\u1B33\u1B45-\u1B4C\u1B83-\u1BA0\u1BAE\u1BAF\u1BBA-\u1BE5\u1C00-\u1C23\u1C4D-\u1C4F\u1C5A-\u1C7D\u1C80-\u1C88\u1C90-\u1CBA\u1CBD-\u1CBF\u1CE9-\u1CEC\u1CEE-\u1CF3\u1CF5\u1CF6\u1CFA\u1D00-\u1DBF\u1E00-\u1F15\u1F18-\u1F1D\u1F20-\u1F45\u1F48-\u1F4D\u1F50-\u1F57\u1F59\u1F5B\u1F5D\u1F5F-\u1F7D\u1F80-\u1FB4\u1FB6-\u1FBC\u1FBE\u1FC2-\u1FC4\u1FC6-\u1FCC\u1FD0-\u1FD3\u1FD6-\u1FDB\u1FE0-\u1FEC\u1FF2-\u1FF4\u1FF6-\u1FFC\u2071\u207F\u2090-\u209C\u2102\u2107\u210A-\u2113\u2115\u2119-\u211D\u2124\u2126\u2128\u212A-\u212D\u212F-\u2139\u213C-\u213F\u2145-\u2149\u214E\u2183\u2184\u2C00-\u2CE4\u2CEB-\u2CEE\u2CF2\u2CF3\u2D00-\u2D25\u2D27\u2D2D\u2D30-\u2D67\u2D6F\u2D80-\u2D96\u2DA0-\u2DA6\u2DA8-\u2DAE\u2DB0-\u2DB6\u2DB8-\u2DBE\u2DC0-\u2DC6\u2DC8-\u2DCE\u2DD0-\u2DD6\u2DD8-\u2DDE\u2E2F\u3005\u3006\u3031-\u3035\u303B\u303C\u3041-\u3096\u309D-\u309F\u30A1-\u30FA\u30FC-\u30FF\u3105-\u312F\u3131-\u318E\u31A0-\u31BF\u31F0-\u31FF\u3400-\u4DBF\u4E00-\uA48C\uA4D0-\uA4FD\uA500-\uA60C\uA610-\uA61F\uA62A\uA62B\uA640-\uA66E\uA67F-\uA69D\uA6A0-\uA6E5\uA717-\uA71F\uA722-\uA788\uA78B-\uA7CA\uA7D0\uA7D1\uA7D3\uA7D5-\uA7D9\uA7F2-\uA801\uA803-\uA805\uA807-\uA80A\uA80C-\uA822\uA840-\uA873\uA882-\uA8B3\uA8F2-\uA8F7\uA8FB\uA8FD\uA8FE\uA90A-\uA925\uA930-\uA946\uA960-\uA97C\uA984-\uA9B2\uA9CF\uA9E0-\uA9E4\uA9E6-\uA9EF\uA9FA-\uA9FE\uAA00-\uAA28\uAA40-\uAA42\uAA44-\uAA4B\uAA60-\uAA76\uAA7A\uAA7E-\uAAAF\uAAB1\uAAB5\uAAB6\uAAB9-\uAABD\uAAC0\uAAC2\uAADB-\uAADD\uAAE0-\uAAEA\uAAF2-\uAAF4\uAB01-\uAB06\uAB09-\uAB0E\uAB11-\uAB16\uAB20-\uAB26\uAB28-\uAB2E\uAB30-\uAB5A\uAB5C-\uAB69\uAB70-\uABE2\uAC00-\uD7A3\uD7B0-\uD7C6\uD7CB-\uD7FB\uF900-\uFA6D\uFA70-\uFAD9\uFB00-\uFB06\uFB13-\uFB17\uFB1D\uFB1F-\uFB28\uFB2A-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBB1\uFBD3-\uFD3D\uFD50-\uFD8F\uFD92-\uFDC7\uFDF0-\uFDFB\uFE70-\uFE74\uFE76-\uFEFC\uFF21-\uFF3A\uFF41-\uFF5A\uFF66-\uFFBE\uFFC2-\uFFC7\uFFCA-\uFFCF\uFFD2-\uFFD7\uFFDA-\uFFDC]|\uD800[\uDC00-\uDC0B\uDC0D-\uDC26\uDC28-\uDC3A\uDC3C\uDC3D\uDC3F-\uDC4D\uDC50-\uDC5D\uDC80-\uDCFA\uDE80-\uDE9C\uDEA0-\uDED0\uDF00-\uDF1F\uDF2D-\uDF40\uDF42-\uDF49\uDF50-\uDF75\uDF80-\uDF9D\uDFA0-\uDFC3\uDFC8-\uDFCF]|\uD801[\uDC00-\uDC9D\uDCB0-\uDCD3\uDCD8-\uDCFB\uDD00-\uDD27\uDD30-\uDD63\uDD70-\uDD7A\uDD7C-\uDD8A\uDD8C-\uDD92\uDD94\uDD95\uDD97-\uDDA1\uDDA3-\uDDB1\uDDB3-\uDDB9\uDDBB\uDDBC\uDE00-\uDF36\uDF40-\uDF55\uDF60-\uDF67\uDF80-\uDF85\uDF87-\uDFB0\uDFB2-\uDFBA]|\uD802[\uDC00-\uDC05\uDC08\uDC0A-\uDC35\uDC37\uDC38\uDC3C\uDC3F-\uDC55\uDC60-\uDC76\uDC80-\uDC9E\uDCE0-\uDCF2\uDCF4\uDCF5\uDD00-\uDD15\uDD20-\uDD39\uDD80-\uDDB7\uDDBE\uDDBF\uDE00\uDE10-\uDE13\uDE15-\uDE17\uDE19-\uDE35\uDE60-\uDE7C\uDE80-\uDE9C\uDEC0-\uDEC7\uDEC9-\uDEE4\uDF00-\uDF35\uDF40-\uDF55\uDF60-\uDF72\uDF80-\uDF91]|\uD803[\uDC00-\uDC48\uDC80-\uDCB2\uDCC0-\uDCF2\uDD00-\uDD23\uDE80-\uDEA9\uDEB0\uDEB1\uDF00-\uDF1C\uDF27\uDF30-\uDF45\uDF70-\uDF81\uDFB0-\uDFC4\uDFE0-\uDFF6]|\uD804[\uDC03-\uDC37\uDC71\uDC72\uDC75\uDC83-\uDCAF\uDCD0-\uDCE8\uDD03-\uDD26\uDD44\uDD47\uDD50-\uDD72\uDD76\uDD83-\uDDB2\uDDC1-\uDDC4\uDDDA\uDDDC\uDE00-\uDE11\uDE13-\uDE2B\uDE80-\uDE86\uDE88\uDE8A-\uDE8D\uDE8F-\uDE9D\uDE9F-\uDEA8\uDEB0-\uDEDE\uDF05-\uDF0C\uDF0F\uDF10\uDF13-\uDF28\uDF2A-\uDF30\uDF32\uDF33\uDF35-\uDF39\uDF3D\uDF50\uDF5D-\uDF61]|\uD805[\uDC00-\uDC34\uDC47-\uDC4A\uDC5F-\uDC61\uDC80-\uDCAF\uDCC4\uDCC5\uDCC7\uDD80-\uDDAE\uDDD8-\uDDDB\uDE00-\uDE2F\uDE44\uDE80-\uDEAA\uDEB8\uDF00-\uDF1A\uDF40-\uDF46]|\uD806[\uDC00-\uDC2B\uDCA0-\uDCDF\uDCFF-\uDD06\uDD09\uDD0C-\uDD13\uDD15\uDD16\uDD18-\uDD2F\uDD3F\uDD41\uDDA0-\uDDA7\uDDAA-\uDDD0\uDDE1\uDDE3\uDE00\uDE0B-\uDE32\uDE3A\uDE50\uDE5C-\uDE89\uDE9D\uDEB0-\uDEF8]|\uD807[\uDC00-\uDC08\uDC0A-\uDC2E\uDC40\uDC72-\uDC8F\uDD00-\uDD06\uDD08\uDD09\uDD0B-\uDD30\uDD46\uDD60-\uDD65\uDD67\uDD68\uDD6A-\uDD89\uDD98\uDEE0-\uDEF2\uDFB0]|\uD808[\uDC00-\uDF99]|\uD809[\uDC80-\uDD43]|\uD80B[\uDF90-\uDFF0]|[\uD80C\uD81C-\uD820\uD822\uD840-\uD868\uD86A-\uD86C\uD86F-\uD872\uD874-\uD879\uD880-\uD883][\uDC00-\uDFFF]|\uD80D[\uDC00-\uDC2E]|\uD811[\uDC00-\uDE46]|\uD81A[\uDC00-\uDE38\uDE40-\uDE5E\uDE70-\uDEBE\uDED0-\uDEED\uDF00-\uDF2F\uDF40-\uDF43\uDF63-\uDF77\uDF7D-\uDF8F]|\uD81B[\uDE40-\uDE7F\uDF00-\uDF4A\uDF50\uDF93-\uDF9F\uDFE0\uDFE1\uDFE3]|\uD821[\uDC00-\uDFF7]|\uD823[\uDC00-\uDCD5\uDD00-\uDD08]|\uD82B[\uDFF0-\uDFF3\uDFF5-\uDFFB\uDFFD\uDFFE]|\uD82C[\uDC00-\uDD22\uDD50-\uDD52\uDD64-\uDD67\uDD70-\uDEFB]|\uD82F[\uDC00-\uDC6A\uDC70-\uDC7C\uDC80-\uDC88\uDC90-\uDC99]|\uD835[\uDC00-\uDC54\uDC56-\uDC9C\uDC9E\uDC9F\uDCA2\uDCA5\uDCA6\uDCA9-\uDCAC\uDCAE-\uDCB9\uDCBB\uDCBD-\uDCC3\uDCC5-\uDD05\uDD07-\uDD0A\uDD0D-\uDD14\uDD16-\uDD1C\uDD1E-\uDD39\uDD3B-\uDD3E\uDD40-\uDD44\uDD46\uDD4A-\uDD50\uDD52-\uDEA5\uDEA8-\uDEC0\uDEC2-\uDEDA\uDEDC-\uDEFA\uDEFC-\uDF14\uDF16-\uDF34\uDF36-\uDF4E\uDF50-\uDF6E\uDF70-\uDF88\uDF8A-\uDFA8\uDFAA-\uDFC2\uDFC4-\uDFCB]|\uD837[\uDF00-\uDF1E]|\uD838[\uDD00-\uDD2C\uDD37-\uDD3D\uDD4E\uDE90-\uDEAD\uDEC0-\uDEEB]|\uD839[\uDFE0-\uDFE6\uDFE8-\uDFEB\uDFED\uDFEE\uDFF0-\uDFFE]|\uD83A[\uDC00-\uDCC4\uDD00-\uDD43\uDD4B]|\uD83B[\uDE00-\uDE03\uDE05-\uDE1F\uDE21\uDE22\uDE24\uDE27\uDE29-\uDE32\uDE34-\uDE37\uDE39\uDE3B\uDE42\uDE47\uDE49\uDE4B\uDE4D-\uDE4F\uDE51\uDE52\uDE54\uDE57\uDE59\uDE5B\uDE5D\uDE5F\uDE61\uDE62\uDE64\uDE67-\uDE6A\uDE6C-\uDE72\uDE74-\uDE77\uDE79-\uDE7C\uDE7E\uDE80-\uDE89\uDE8B-\uDE9B\uDEA1-\uDEA3\uDEA5-\uDEA9\uDEAB-\uDEBB]|\uD869[\uDC00-\uDEDF\uDF00-\uDFFF]|\uD86D[\uDC00-\uDF38\uDF40-\uDFFF]|\uD86E[\uDC00-\uDC1D\uDC20-\uDFFF]|\uD873[\uDC00-\uDEA1\uDEB0-\uDFFF]|\uD87A[\uDC00-\uDFE0]|\uD87E[\uDC00-\uDE1D]|\uD884[\uDC00-\uDF4A])/,ic=/(?:[#\*0-9\xA9\xAE\u203C\u2049\u2122\u2139\u2194-\u2199\u21A9\u21AA\u231A\u231B\u2328\u23CF\u23E9-\u23F3\u23F8-\u23FA\u24C2\u25AA\u25AB\u25B6\u25C0\u25FB-\u25FE\u2600-\u2604\u260E\u2611\u2614\u2615\u2618\u261D\u2620\u2622\u2623\u2626\u262A\u262E\u262F\u2638-\u263A\u2640\u2642\u2648-\u2653\u265F\u2660\u2663\u2665\u2666\u2668\u267B\u267E\u267F\u2692-\u2697\u2699\u269B\u269C\u26A0\u26A1\u26A7\u26AA\u26AB\u26B0\u26B1\u26BD\u26BE\u26C4\u26C5\u26C8\u26CE\u26CF\u26D1\u26D3\u26D4\u26E9\u26EA\u26F0-\u26F5\u26F7-\u26FA\u26FD\u2702\u2705\u2708-\u270D\u270F\u2712\u2714\u2716\u271D\u2721\u2728\u2733\u2734\u2744\u2747\u274C\u274E\u2753-\u2755\u2757\u2763\u2764\u2795-\u2797\u27A1\u27B0\u27BF\u2934\u2935\u2B05-\u2B07\u2B1B\u2B1C\u2B50\u2B55\u3030\u303D\u3297\u3299]|\uD83C[\uDC04\uDCCF\uDD70\uDD71\uDD7E\uDD7F\uDD8E\uDD91-\uDD9A\uDDE6-\uDDFF\uDE01\uDE02\uDE1A\uDE2F\uDE32-\uDE3A\uDE50\uDE51\uDF00-\uDF21\uDF24-\uDF93\uDF96\uDF97\uDF99-\uDF9B\uDF9E-\uDFF0\uDFF3-\uDFF5\uDFF7-\uDFFF]|\uD83D[\uDC00-\uDCFD\uDCFF-\uDD3D\uDD49-\uDD4E\uDD50-\uDD67\uDD6F\uDD70\uDD73-\uDD7A\uDD87\uDD8A-\uDD8D\uDD90\uDD95\uDD96\uDDA4\uDDA5\uDDA8\uDDB1\uDDB2\uDDBC\uDDC2-\uDDC4\uDDD1-\uDDD3\uDDDC-\uDDDE\uDDE1\uDDE3\uDDE8\uDDEF\uDDF3\uDDFA-\uDE4F\uDE80-\uDEC5\uDECB-\uDED2\uDED5-\uDED7\uDEDD-\uDEE5\uDEE9\uDEEB\uDEEC\uDEF0\uDEF3-\uDEFC\uDFE0-\uDFEB\uDFF0]|\uD83E[\uDD0C-\uDD3A\uDD3C-\uDD45\uDD47-\uDDFF\uDE70-\uDE74\uDE78-\uDE7C\uDE80-\uDE86\uDE90-\uDEAC\uDEB0-\uDEBA\uDEC0-\uDEC5\uDED0-\uDED9\uDEE0-\uDEE7\uDEF0-\uDEF6])/,oc=/\uFE0F/,ac=/\d/,zy=/\s/;function TM(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=Pn(),n=an(Ii),r=an(Xi),i=Pn(),o=an(rk),s=[[ac,r],[rc,r],[ic,r],[oc,r]],c=function(){var k=an(Xi);return k.j={"-":i},k.jr=[].concat(s),k},u=function(k){var R=c();return R.t=k,R};OM(e,[["'",an(af)],["{",an(rl)],["[",an(Ac)],["<",an(Ic)],["(",an(jc)],["}",an(ns)],["]",an(il)],[">",an(ol)],[")",an(al)],["&",an(of)],["*",an(sf)],["@",an(sl)],["`",an(cf)],["^",an(uf)],[":",an(_c)],[",",an(bg)],["$",an(df)],[".",an(ca)],["=",an(ff)],["!",an(xg)],["-",an(pf)],["%",an(hf)],["|",an(mf)],["+",an(gf)],["#",an(vf)],["?",an(yf)],['"',an(wg)],["/",an(zo)],[";",an(kg)],["~",an(bf)],["_",an(xf)],["\\",an(lf)]]),Mt(e,`
`,an(yg)),xr(e,zy,o),Mt(o,`
`,Pn()),xr(o,zy,o);for(var x=0;x<Ry.length;x++)Xa(e,Ry[x],u(vo),c);var O=c(),Y=c(),b=c(),m=c();Xa(e,"file",O,c),Xa(e,"ftp",Y,c),Xa(e,"http",b,c),Xa(e,"mailto",m,c);var a=c(),v=an(Rl),E=an(vg);Mt(Y,"s",a),Mt(Y,":",v),Mt(b,"s",a),Mt(b,":",v),Mt(O,":",v),Mt(a,":",v),Mt(m,":",E);for(var h=c(),f=0;f<t.length;f++)Xa(e,t[f],h,c);return Mt(h,":",v),Xa(e,"localhost",u(No),c),xr(e,ac,n),xr(e,rc,r),xr(e,ic,r),xr(e,oc,r),xr(n,ac,n),xr(n,rc,r),xr(n,ic,r),xr(n,oc,r),Mt(n,"-",i),Mt(r,"-",i),Mt(i,"-",i),xr(r,ac,r),xr(r,rc,r),xr(r,ic,r),xr(r,oc,r),xr(i,ac,r),xr(i,rc,r),xr(i,ic,r),xr(i,oc,r),e.jd=an(wf),e}function AM(t,e){for(var n=IM(e.replace(/[A-Z]/g,function(m){return m.toLowerCase()})),r=n.length,i=[],o=0,s=0;s<r;){for(var c=t,u=null,x=0,O=null,Y=-1,b=-1;s<r&&(u=rf(c,n[s]));)c=u,c.accepts()?(Y=0,b=0,O=c):Y>=0&&(Y+=n[s].length,b++),x+=n[s].length,o+=n[s].length,s++;o-=Y,s-=b,x-=Y,i.push({t:O.t,v:e.substr(o-x,x),s:o-x,e:o})}return i}function IM(t){for(var e=[],n=t.length,r=0;r<n;){var i=t.charCodeAt(r),o=void 0,s=i<55296||i>56319||r+1===n||(o=t.charCodeAt(r+1))<56320||o>57343?t[r]:t.slice(r,r+2);e.push(s),r+=s.length}return e}function ud(t){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?ud=function(e){return typeof e}:ud=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ud(t)}var Zr={defaultProtocol:"http",events:null,format:By,formatHref:By,nl2br:!1,tagName:"a",target:null,rel:null,validate:!0,truncate:0,className:null,attributes:null,ignoreTags:[]};function jM(t){t=t||{},this.defaultProtocol="defaultProtocol"in t?t.defaultProtocol:Zr.defaultProtocol,this.events="events"in t?t.events:Zr.events,this.format="format"in t?t.format:Zr.format,this.formatHref="formatHref"in t?t.formatHref:Zr.formatHref,this.nl2br="nl2br"in t?t.nl2br:Zr.nl2br,this.tagName="tagName"in t?t.tagName:Zr.tagName,this.target="target"in t?t.target:Zr.target,this.rel="rel"in t?t.rel:Zr.rel,this.validate="validate"in t?t.validate:Zr.validate,this.truncate="truncate"in t?t.truncate:Zr.truncate,this.className="className"in t?t.className:Zr.className,this.attributes=t.attributes||Zr.attributes,this.ignoreTags=[];for(var e=("ignoreTags"in t)?t.ignoreTags:Zr.ignoreTags,n=0;n<e.length;n++)this.ignoreTags.push(e[n].toUpperCase())}jM.prototype={resolve:function(e){var n=e.toHref(this.defaultProtocol);return{formatted:this.get("format",e.toString(),e),formattedHref:this.get("formatHref",n,e),tagName:this.get("tagName",n,e),className:this.get("className",n,e),target:this.get("target",n,e),rel:this.get("rel",n,e),events:this.getObject("events",n,e),attributes:this.getObject("attributes",n,e),truncate:this.get("truncate",n,e)}},check:function(e){return this.get("validate",e.toString(),e)},get:function(e,n,r){var i=this[e];if(!i)return i;var o;switch(ud(i)){case"function":return i(n,r.t);case"object":return o=r.t in i?i[r.t]:Zr[e],typeof o=="function"?o(n,r.t):o}return i},getObject:function(e,n,r){var i=this[e];return typeof i=="function"?i(n,r.t):i}};function By(t){return t}function _M(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=Object.create(t.prototype);for(var i in n)r[i]=n[i];return r.constructor=e,e.prototype=r,e}function kf(){}kf.prototype={t:"token",isLink:!1,toString:function(){return this.v},toHref:function(){return this.toString()},startIndex:function(){return this.tk[0].s},endIndex:function(){return this.tk[this.tk.length-1].e},toObject:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zr.defaultProtocol;return{type:this.t,value:this.v,isLink:this.isLink,href:this.toHref(e),start:this.startIndex(),end:this.endIndex()}}};function Ts(t,e){function n(r,i){this.t=t,this.v=r,this.tk=i}return _M(kf,n,e),n}var ik=Ts("email",{isLink:!0}),V0=Ts("email",{isLink:!0,toHref:function(){return"mailto:"+this.toString()}}),K0=Ts("text"),ok=Ts("nl"),oa=Ts("url",{isLink:!0,toHref:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:Zr.defaultProtocol,n=this.tk,r=!1,i=!1,o=[],s=0;n[s].t===Rl;)r=!0,o.push(n[s].v),s++;for(;n[s].t===zo;)i=!0,o.push(n[s].v),s++;for(;s<n.length;s++)o.push(n[s].v);return o=o.join(""),r||i||(o="".concat(e,"://").concat(o)),o},hasProtocol:function(){return this.tk[0].t===Rl}}),PM=Object.freeze({__proto__:null,MultiToken:kf,Base:kf,createTokenClass:Ts,MailtoEmail:ik,Email:V0,Text:K0,Nl:ok,Url:oa});function LM(){var t=Pn(),e=Pn(),n=Pn(),r=Pn(),i=Pn(),o=Pn(),s=Pn(),c=an(oa),u=Pn(),x=an(oa),O=an(oa),Y=Pn(),b=Pn(),m=Pn(),a=Pn(),v=Pn(),E=an(oa),h=an(oa),f=an(oa),D=an(oa),k=Pn(),R=Pn(),d=Pn(),Z=Pn(),B=Pn(),ee=Pn(),he=an(V0),N=Pn(),ke=an(V0),Se=an(ik),je=Pn(),we=Pn(),Ee=Pn(),Me=Pn(),z=an(ok);Mt(t,yg,z),Mt(t,Rl,e),Mt(t,vg,n),Mt(e,zo,r),Mt(r,zo,i),Mt(t,vo,o),Mt(t,Xi,o),Mt(t,No,c),Mt(t,Ii,o),Mt(i,vo,O),Mt(i,Xi,O),Mt(i,Ii,O),Mt(i,No,O),Mt(o,ca,s),Mt(B,ca,ee),Mt(s,vo,c),Mt(s,Xi,o),Mt(s,Ii,o),Mt(s,No,o),Mt(ee,vo,he),Mt(ee,Xi,B),Mt(ee,Ii,B),Mt(ee,No,B),Mt(c,ca,s),Mt(he,ca,ee),Mt(c,_c,u),Mt(c,zo,O),Mt(u,Ii,x),Mt(x,zo,O),Mt(he,_c,N),Mt(N,Ii,ke);var re=[of,sf,sl,lf,cf,uf,df,Xi,ff,pf,No,Ii,hf,mf,gf,vf,Rl,zo,wf,bf,vo,xf],T=[af,ol,ns,il,al,_c,bg,ca,xg,Ic,rl,Ac,jc,yf,wg,kg];Mt(O,rl,b),Mt(O,Ac,m),Mt(O,Ic,a),Mt(O,jc,v),Mt(Y,rl,b),Mt(Y,Ac,m),Mt(Y,Ic,a),Mt(Y,jc,v),Mt(b,ns,O),Mt(m,il,O),Mt(a,ol,O),Mt(v,al,O),Mt(E,ns,O),Mt(h,il,O),Mt(f,ol,O),Mt(D,al,O),Mt(k,ns,O),Mt(R,il,O),Mt(d,ol,O),Mt(Z,al,O),Sn(b,re,E),Sn(m,re,h),Sn(a,re,f),Sn(v,re,D),Sn(b,T,k),Sn(m,T,R),Sn(a,T,d),Sn(v,T,Z),Sn(E,re,E),Sn(h,re,h),Sn(f,re,f),Sn(D,re,D),Sn(E,T,E),Sn(h,T,h),Sn(f,T,f),Sn(D,T,D),Sn(k,re,E),Sn(R,re,h),Sn(d,re,f),Sn(Z,re,D),Sn(k,T,k),Sn(R,T,R),Sn(d,T,d),Sn(Z,T,Z),Sn(O,re,O),Sn(Y,re,O),Sn(O,T,Y),Sn(Y,T,Y),Mt(n,vo,Se),Mt(n,Xi,Se),Mt(n,Ii,Se),Mt(n,No,Se),Sn(Se,re,Se),Sn(Se,T,je),Sn(je,re,Se),Sn(je,T,je);var A=[of,af,sf,lf,cf,uf,ns,df,Xi,ff,pf,Ii,rl,hf,mf,gf,vf,yf,zo,wf,bf,vo,xf];return Sn(o,A,we),Mt(o,sl,Ee),Sn(c,A,we),Mt(c,sl,Ee),Sn(s,A,we),Sn(we,A,we),Mt(we,sl,Ee),Mt(we,ca,Me),Sn(Me,A,we),Mt(Ee,vo,B),Mt(Ee,Xi,B),Mt(Ee,Ii,B),Mt(Ee,No,he),t}function NM(t,e,n){for(var r=n.length,i=0,o=[],s=[];i<r;){for(var c=t,u=null,x=null,O=0,Y=null,b=-1;i<r&&!(u=rf(c,n[i].t));)s.push(n[i++]);for(;i<r&&(x=u||rf(c,n[i].t));)u=null,c=x,c.accepts()?(b=0,Y=c):b>=0&&b++,i++,O++;if(b<0)for(var m=i-O;m<i;m++)s.push(n[m]);else{s.length>0&&(o.push(Eh(K0,e,s)),s=[]),i-=b,O-=b;var a=Y.t,v=n.slice(i-O,i);o.push(Eh(a,e,v))}}return s.length>0&&o.push(Eh(K0,e,s)),o}function Eh(t,e,n){var r=n[0].s,i=n[n.length-1].e,o=e.substr(r,i-r);return new t(o,n)}var RM=typeof console<"u"&&console&&console.warn||function(){},kr={scanner:null,parser:null,pluginQueue:[],customProtocols:[],initialized:!1};function zM(){kr.scanner=null,kr.parser=null,kr.pluginQueue=[],kr.customProtocols=[],kr.initialized=!1}function BM(t){if(kr.initialized&&RM('linkifyjs: already initialized - will not register custom protocol "'.concat(t,'" until you manually call linkify.init(). To avoid this warning, please register all custom protocols before invoking linkify the first time.')),!/^[a-z-]+$/.test(t))throw Error("linkifyjs: protocols containing characters other than a-z or - (hyphen) are not supported");kr.customProtocols.push(t)}function ZM(){kr.scanner={start:TM(kr.customProtocols),tokens:MM},kr.parser={start:LM(),tokens:PM};for(var t={createTokenClass:Ts},e=0;e<kr.pluginQueue.length;e++)kr.pluginQueue[e][1]({scanner:kr.scanner,parser:kr.parser,utils:t});kr.initialized=!0}function ak(t){return kr.initialized||ZM(),NM(kr.parser.start,t,AM(kr.scanner.start,t))}function Eg(t){for(var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=ak(t),r=[],i=0;i<n.length;i++){var o=n[i];o.isLink&&(!e||o.t===e)&&r.push(o.toObject())}return r}function Zy(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,n=ak(t);return n.length===1&&n[0].isLink&&(!e||n[0].t===e)}function FM(t){return new Nr({key:new Ei("autolink"),appendTransaction:(e,n,r)=>{const i=e.some(O=>O.docChanged)&&!n.doc.eq(r.doc),o=e.some(O=>O.getMeta("preventAutolink"));if(!i||o)return;const{tr:s}=r,c=dS(n.doc,[...e]),{mapping:u}=c;if(xS(c).forEach(({oldRange:O,newRange:Y})=>{Od(O.from,O.to,n.doc).filter(v=>v.mark.type===t.type).forEach(v=>{const E=u.map(v.from),h=u.map(v.to),f=Od(E,h,r.doc).filter(B=>B.mark.type===t.type);if(!f.length)return;const D=f[0],k=n.doc.textBetween(v.from,v.to,void 0," "),R=r.doc.textBetween(D.from,D.to,void 0," "),d=Zy(k),Z=Zy(R);d&&!Z&&s.removeMark(D.from,D.to,t.type)});const b=pS(r.doc,Y,v=>v.isTextblock);let m,a;if(b.length>1?(m=b[0],a=r.doc.textBetween(m.pos,m.pos+m.node.nodeSize,void 0," ")):b.length&&r.doc.textBetween(Y.from,Y.to," "," ").endsWith(" ")&&(m=b[0],a=r.doc.textBetween(m.pos,Y.to,void 0," ")),m&&a){const v=a.split(" ").filter(f=>f!=="");if(v.length<=0)return!1;const E=v[v.length-1],h=m.pos+a.lastIndexOf(E);if(!E)return!1;Eg(E).filter(f=>f.isLink).filter(f=>t.validate?t.validate(f.value):!0).map(f=>({...f,from:h+f.start+1,to:h+f.end+1})).forEach(f=>{s.addMark(f.from,f.to,t.type.create({href:f.href}))})}}),!!s.steps.length)return s}})}function HM(t){return new Nr({key:new Ei("handleClickLink"),props:{handleClick:(e,n,r)=>{var i;const o=y2(e.state,t.type.name);return((i=r.target)===null||i===void 0?void 0:i.closest("a"))&&o.href?(window.open(o.href,o.target),!0):!1}}})}function WM(t){return new Nr({key:new Ei("handlePasteLink"),props:{handlePaste:(e,n,r)=>{const{state:i}=e,{selection:o}=i,{empty:s}=o;if(s)return!1;let c="";r.content.forEach(x=>{c+=x.textContent});const u=Eg(c).find(x=>x.isLink&&x.value===c);return!c||!u?!1:(t.editor.commands.setMark(t.type,{href:u.href}),!0)}}})}const UM=Oo.create({name:"link",priority:1e3,keepOnSplit:!1,onCreate(){this.options.protocols.forEach(BM)},onDestroy(){zM()},inclusive(){return this.options.autolink},addOptions(){return{openOnClick:!0,linkOnPaste:!0,autolink:!0,protocols:[],HTMLAttributes:{target:"_blank",rel:"noopener noreferrer nofollow",class:null},validate:void 0}},addAttributes(){return{href:{default:null},target:{default:this.options.HTMLAttributes.target},class:{default:this.options.HTMLAttributes.class}}},parseHTML(){return[{tag:'a[href]:not([href *= "javascript:" i])'}]},renderHTML({HTMLAttributes:t}){return["a",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{setLink:t=>({chain:e})=>e().setMark(this.name,t).setMeta("preventAutolink",!0).run(),toggleLink:t=>({chain:e})=>e().toggleMark(this.name,t,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run(),unsetLink:()=>({chain:t})=>t().unsetMark(this.name,{extendEmptyMarkRange:!0}).setMeta("preventAutolink",!0).run()}},addPasteRules(){return[xs({find:t=>Eg(t).filter(e=>this.options.validate?this.options.validate(e.value):!0).filter(e=>e.isLink).map(e=>({text:e.value,index:e.start,data:e})),type:this.type,getAttributes:t=>{var e;return{href:(e=t.data)===null||e===void 0?void 0:e.href}}})]},addProseMirrorPlugins(){const t=[];return this.options.autolink&&t.push(FM({type:this.type,validate:this.options.validate})),this.options.openOnClick&&t.push(HM({type:this.type})),this.options.linkOnPaste&&t.push(WM({editor:this.editor,type:this.type})),t}}),VM=/(?:^|\s)(!\[(.+|:?)]\((\S+)(?:(?:\s+)["'](\S+)["'])?\))$/,KM=ei.create({name:"image",addOptions(){return{inline:!1,allowBase64:!1,HTMLAttributes:{}}},inline(){return this.options.inline},group(){return this.options.inline?"inline":"block"},draggable:!0,addAttributes(){return{src:{default:null},alt:{default:null},title:{default:null}}},parseHTML(){return[{tag:this.options.allowBase64?"img[src]":'img[src]:not([src^="data:"])'}]},renderHTML({HTMLAttributes:t}){return["img",ar(this.options.HTMLAttributes,t)]},addCommands(){return{setImage:t=>({commands:e})=>e.insertContent({type:this.name,attrs:t})}},addInputRules(){return[b2({find:VM,type:this.type,getAttributes:t=>{const[,,e,n,r]=t;return{src:n,alt:e,title:r}}})]}}),GM=Oo.create({name:"textStyle",addOptions(){return{HTMLAttributes:{}}},parseHTML(){return[{tag:"span",getAttrs:t=>t.hasAttribute("style")?{}:!1}]},renderHTML({HTMLAttributes:t}){return["span",ar(this.options.HTMLAttributes,t),0]},addCommands(){return{removeEmptyTextStyle:()=>({state:t,commands:e})=>{const n=fm(t,this.type);return Object.entries(n).some(([,i])=>!!i)?!0:e.unsetMark(this.name)}}}}),YM=Ur.create({name:"color",addOptions(){return{types:["textStyle"]}},addGlobalAttributes(){return[{types:this.options.types,attributes:{color:{default:null,parseHTML:t=>{var e;return(e=t.style.color)===null||e===void 0?void 0:e.replace(/['"]+/g,"")},renderHTML:t=>t.color?{style:`color: ${t.color}`}:{}}}}]},addCommands(){return{setColor:t=>({chain:e})=>e().setMark("textStyle",{color:t}).run(),unsetColor:()=>({chain:t})=>t().setMark("textStyle",{color:null}).removeEmptyTextStyle().run()}}}),JM=/^\s*(\[([( |x])?\])\s$/,XM=ei.create({name:"taskItem",addOptions(){return{nested:!1,HTMLAttributes:{}}},content(){return this.options.nested?"paragraph block*":"paragraph+"},defining:!0,addAttributes(){return{checked:{default:!1,keepOnSplit:!1,parseHTML:t=>t.getAttribute("data-checked")==="true",renderHTML:t=>({"data-checked":t.checked})}}},parseHTML(){return[{tag:`li[data-type="${this.name}"]`,priority:51}]},renderHTML({node:t,HTMLAttributes:e}){return["li",ar(this.options.HTMLAttributes,e,{"data-type":this.name}),["label",["input",{type:"checkbox",checked:t.attrs.checked?"checked":null}],["span"]],["div",0]]},addKeyboardShortcuts(){const t={Enter:()=>this.editor.commands.splitListItem(this.name),"Shift-Tab":()=>this.editor.commands.liftListItem(this.name)};return this.options.nested?{...t,Tab:()=>this.editor.commands.sinkListItem(this.name)}:t},addNodeView(){return({node:t,HTMLAttributes:e,getPos:n,editor:r})=>{const i=document.createElement("li"),o=document.createElement("label"),s=document.createElement("span"),c=document.createElement("input"),u=document.createElement("div");return o.contentEditable="false",c.type="checkbox",c.addEventListener("change",x=>{if(!r.isEditable&&!this.options.onReadOnlyChecked){c.checked=!c.checked;return}const{checked:O}=x.target;r.isEditable&&typeof n=="function"&&r.chain().focus(void 0,{scrollIntoView:!1}).command(({tr:Y})=>{const b=n(),m=Y.doc.nodeAt(b);return Y.setNodeMarkup(b,void 0,{...m==null?void 0:m.attrs,checked:O}),!0}).run(),!r.isEditable&&this.options.onReadOnlyChecked&&(this.options.onReadOnlyChecked(t,O)||(c.checked=!c.checked))}),Object.entries(this.options.HTMLAttributes).forEach(([x,O])=>{i.setAttribute(x,O)}),i.dataset.checked=t.attrs.checked,t.attrs.checked&&c.setAttribute("checked","checked"),o.append(c,s),i.append(o,u),Object.entries(e).forEach(([x,O])=>{i.setAttribute(x,O)}),{dom:i,contentDOM:u,update:x=>x.type!==this.type?!1:(i.dataset.checked=x.attrs.checked,x.attrs.checked?c.setAttribute("checked","checked"):c.removeAttribute("checked"),!0)}}},addInputRules(){return[Rf({find:JM,type:this.type,getAttributes:t=>({checked:t[t.length-1]==="x"})})]}}),$M=ei.create({name:"taskList",addOptions(){return{itemTypeName:"taskItem",HTMLAttributes:{}}},group:"block list",content(){return`${this.options.itemTypeName}+`},parseHTML(){return[{tag:`ul[data-type="${this.name}"]`,priority:51}]},renderHTML({HTMLAttributes:t}){return["ul",ar(this.options.HTMLAttributes,t,{"data-type":this.name}),0]},addCommands(){return{toggleTaskList:()=>({commands:t})=>t.toggleList(this.name,this.options.itemTypeName)}},addKeyboardShortcuts(){return{"Mod-Shift-9":()=>this.editor.commands.toggleTaskList()}}});function Fy(t){let e,n;return e=new p3({props:{editor:t[1]}}),{c(){ya(e.$$.fragment)},l(r){ba(e.$$.fragment,r)},m(r,i){xa(e,r,i),n=!0},p(r,i){const o={};i&2&&(o.editor=r[1]),e.$set(o)},i(r){n||(tr(e.$$.fragment,r),n=!0)},o(r){gr(e.$$.fragment,r),n=!1},d(r){wa(e,r)}}}function qM(t){let e,n;return{c(){e=Rn("p"),n=Ho("Select to Edit"),this.h()},l(r){e=zn(r,"P",{class:!0});var i=jn(e);n=Wo(i,"Select to Edit"),i.forEach(qt),this.h()},h(){un(e,"class","svelte-18usqpg")},m(r,i){Kn(r,e,i),In(e,n)},p:jr,d(r){r&&qt(e)}}}function QM(t){let e,n,r,i,o,s,c,u,x=t[1]&&Fy(t);const O=t[5].default,Y=Uy(O,t,t[4],null),b=Y||qM();return{c(){e=Rn("div"),n=no(),r=Rn("div"),x&&x.c(),i=no(),o=Rn("span"),b&&b.c(),this.h()},l(m){e=zn(m,"DIV",{class:!0}),jn(e).forEach(qt),n=ro(m),r=zn(m,"DIV",{class:!0});var a=jn(r);x&&x.l(a),a.forEach(qt),i=ro(m),o=zn(m,"SPAN",{contenteditable:!0,style:!0,class:!0});var v=jn(o);b&&b.l(v),v.forEach(qt),this.h()},h(){un(e,"class","outline-none svelte-18usqpg"),un(r,"class","svelte-18usqpg"),un(o,"contenteditable","true"),pd(o,"visibility","hidden"),pd(o,"display","none"),un(o,"class","svelte-18usqpg"),t[0]===void 0&&$k(()=>t[8].call(o))},m(m,a){Kn(m,e,a),t[6](e),Kn(m,n,a),Kn(m,r,a),x&&x.m(r,null),t[7](r),Kn(m,i,a),Kn(m,o,a),b&&b.m(o,null),t[0]!==void 0&&(o.innerHTML=t[0]),s=!0,c||(u=eo(o,"input",t[8]),c=!0)},p(m,[a]){m[1]?x?(x.p(m,a),a&2&&tr(x,1)):(x=Fy(m),x.c(),tr(x,1),x.m(r,null)):x&&(dd(),gr(x,1,1,()=>{x=null}),fd()),Y&&Y.p&&(!s||a&16)&&Vy(Y,O,m,m[4],s?Gy(O,m[4],a,null):Ky(m[4]),null),a&1&&m[0]!==o.innerHTML&&(o.innerHTML=m[0])},i(m){s||(tr(x),tr(b,m),s=!0)},o(m){gr(x),gr(b,m),s=!1},d(m){m&&qt(e),t[6](null),m&&qt(n),m&&qt(r),x&&x.d(),t[7](null),m&&qt(i),m&&qt(o),b&&b.d(m),c=!1,u()}}}function e7(t,e,n){let{$$slots:r={},$$scope:i}=e,{content:o}=e,s,c,u;const x=Wy();Ef(()=>(n(1,s=new QS({element:c,editorProps:{attributes:{class:"focus:outline-none"}},extensions:[Jw.extend({content:"taskList"}),tk,nk,$M,XM.configure({nested:!0}),HC.configure({element:u}),UM.configure({autolink:!0,protocols:["http","https","mailto"]}),KM.configure({allowBase64:!0}),YM.configure({types:["textStyle"]}),DM,GM,AO,OO],content:o,onTransaction:()=>{n(1,s)}})),s.on("update",({editor:m})=>{x("update",(m==null?void 0:m.getHTML())||o)}),x("editor",s),x("update",(s==null?void 0:s.getHTML())||o),()=>{s&&s.destroy()}));function O(m){Pc[m?"unshift":"push"](()=>{c=m,n(2,c)})}function Y(m){Pc[m?"unshift":"push"](()=>{u=m,n(3,u)})}function b(){o=this.innerHTML,n(0,o)}return t.$$set=m=>{"content"in m&&n(0,o=m.content),"$$scope"in m&&n(4,i=m.$$scope)},[o,s,c,u,i,r,O,Y,b]}class sk extends To{constructor(e){super(),Ao(this,e,e7,QM,fo,{content:0})}}const t7=`<p>Hello World! </p>\r
<p></p>\r
<p>Ways to Menu:</p>\r
<h1>1) <strong>Context</strong></h1>\r
<p>\r
	Welcome to TapMenu. The main point of this library is so that you can Highlight/Select text to\r
	bring up a contextual menu, which looks like this:\r
</p>\r
<p></p>\r
<img\r
	src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/2wBDAAIBAQIBAQICAgICAgICAwUDAwMDAwYEBAMFBwYHBwcGBwcICQsJCAgKCAcHCg0KCgsMDAwMBwkODw0MDgsMDAz/2wBDAQICAgMDAwYDAwYMCAcIDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDAz/wAARCABmANADASIAAhEBAxEB/8QAHwAAAQUBAQEBAQEAAAAAAAAAAAECAwQFBgcICQoL/8QAtRAAAgEDAwIEAwUFBAQAAAF9AQIDAAQRBRIhMUEGE1FhByJxFDKBkaEII0KxwRVS0fAkM2JyggkKFhcYGRolJicoKSo0NTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uHi4+Tl5ufo6erx8vP09fb3+Pn6/8QAHwEAAwEBAQEBAQEBAQAAAAAAAAECAwQFBgcICQoL/8QAtREAAgECBAQDBAcFBAQAAQJ3AAECAxEEBSExBhJBUQdhcRMiMoEIFEKRobHBCSMzUvAVYnLRChYkNOEl8RcYGRomJygpKjU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6goOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4uPk5ebn6Onq8vP09fb3+Pn6/9oADAMBAAIRAxEAPwD81/j3+1Z8Sf2p9R0q9+I3jLW/F13o2nwadaNe3DNHBHFGsY2J91S23cxAy7MzNkkmvP6KKqUnKTlLdijFRSjHZBRRRUjCiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKK/S//AIhW/wBoT/ocfg1/4NtS/wDkCj/iFb/aE/6HH4Nf+DbUv/kCgD80KK/S/wD4hW/2hP8Aocfg1/4NtS/+QK+aP+Cif/BK34hf8EzP+EP/AOE81jwbq3/CbfbfsP8AYF3cz+V9l+z+Z5vnQQ4z9pTbt3Zw2cYGQD5qt7iS0nSWJ3jkjYMjocMpHQg9jX6Yfse/HiT43f8ABvX+1v8AD/xDpWkagvwi0kapoN9LZRm4tv7Tlnklw+M7/OglfzPvnziCSAMfmZX6/wD/AAaz/Bvw9+0R8LP2qPAfi2wGqeGPF+maHpWqWnmNH59vMmrI6hlIZTg8MCCDgiuXH0ZVsLUoQdnKLXza0N8LUjTrwqS2TTPyAooorqMAr9K/2Lv2Sf2B/wBun9pbw38K/CV7+19p3iDxT9q+yXGrzeHYbOP7PazXT72ijkcZSBwMIfmK5wMkfmpX2z/wbp/8pkfg9/3Gv/THqFAHbzfsO/s5fGD4Dan4j+EPwf8A+Ch/im91HTbz/hGdUbwppl9oN1fIJI4vOmtYmLQLcJtl8olgFcD5hXxN8Yv2afiP+zv/AGd/wsD4f+NvAv8AbHm/YP8AhIdDutM+3eVs8zyvPRd+zzI923ON656ivtn/AIN0/wBpf4j/APDy34PfDr/hP/G3/Cvv+J1/xTH9uXX9jf8AIK1C4/49N/k/6/8Ae/c+/wDN97mvib4xftL/ABH/AGiP7O/4WB4/8beOv7H837B/wkOuXWp/YfN2eZ5Xnu2zf5ce7bjOxc9BQBxFFFFAHqXw8/Ye+NXxd8HWniLwn8IPij4n8P3+82up6T4Uv72zudjsj7Jo4mRtrqynB4KkHkV5vreiXvhnWbrTtSs7rT9QsZmt7m1uYmimt5FJVkdGAKsCCCCMgiv2t/Zl8X+EvA3/AASH/Y61Lxj8f/FvwG0y18T6vKZ9Cs7yY+INuqXRNpNJbtiGPgEtKkiYJytfC3/Bfzw14r0b/gqP8QNQ8WaPoujz+JEtNT05dKuzd213Y/Z0hhn8wpGxdxCd+UGHDAbgAxrGxVDFzw62jOUb/wCFRa+bTem+l9mh0Vz03J72T/8AJnF/dZa7a23PjGiiipEPgge6nSONGkkkYKiKMsxPAAHc17T8av8Agnl8WP2ffhm3izxP4dtrbTLSS3h1WK21W0u77w7LcLugj1G2ikaayeQfdE6ISfl4bivaP2Pvhvof7H1j4N+I3iHVY5PHPxT8D+Ir34bww6JNqY0DWYp0tdLuWCK3mXE00V7HGqo3kSm2lbqdiftifEbQ/wBkCw8ZfDnw7paN46+Kfgjw5Z/EiabW5tTGgazDO13qtspcv5lxNNFZSSszt5Ehuok6goAfFlFFFAHVfBX4K+Jf2h/iXp3hDwhpy6p4g1RZnt7d7qG1TZDC88rvLM6RRokUUjs7sqqqEk8V69/w61+L3934Xf8Ah1vCv/yxo/4Ja/8AJ3i/9iT40/8AUV1aup8N/wDBJPxNqfwk8Q+KdQ+JPwb02bTPDNv4h0zSR4ysJr3V5pCWfTwglBiuY4kZmDAgu0SKSWYxgHzx8avgr4l/Z4+Jeo+EPF+nLpfiDS1he4t0uobpNk0KTxOksLvFIjxSxurozKyuCDzXK19Ef8FSv+TvG/7EnwX/AOorpNfO9AH6Gf8ABx1/wU9/aA/ZK/4Kca14T+HHxX8W+EvDf9g6ZejTrK5HkJLJEQ7KGB252gkDAzk4yST8H/8AD9n9r3/ovnjz/wACI/8A4iveP+DsX/lL3rP/AGK+k/8Aop6/NOgD60/4fs/te/8ARfPHn/gRH/8AEV9xf8FUfih4h+Nf/BMf9hvxZ4s1i/8AEHiTxBoPiG91HUb2UyT3crS6cSzE/kAOAAAAAAK/Gmv14/4KA/8AKIT9gL/sV9e/9G6dQB8P1+0//Bn3/wAfv7QX08Of+5WvxYr9p/8Agz7/AOP39oL6eHP/AHK0AfixRRRQAVt/Dn4l+I/g/wCMrPxH4S8Qa34W8Qadv+yappF9LY3lrvRo32TRMrruR3U4IyrMDwTWJRQBt/Dn4l+I/g/4ys/EfhLxBrfhbxBp2/7JqmkX0tjeWu9GjfZNEyuu5HdTgjKswPBNYlFFABRRRQB90fCT/grB8LdN/Yv+F3wd+KH7OX/C0rP4V3l5qGn3j+PLjSIria4upZyXghtWyoEoQq0jBtucc4HgX/BQH9uPxJ/wUK/aT1L4ieJLKw0lpreLT9N0yyB8jS7KHPlQKx5cjczMxxlnYgKMKPFKKdZurVdaprJtyf8Aiejdtr20v202HF8seVbbfK97el9bdwooopCPa/gv/wAFDPiz+z/8Ml8J+F/EdvaaZZyzz6VNcaVaXd94dknG24k065mjaayaQfeMDoc/MMN81eLzzvdTvJI7SSSMWd2OWYnkknuaZRQAUUUUAdV8FfjV4l/Z5+JeneL/AAhqC6Xr+lrMlvcPaw3UeyaF4JUeKZHikR4pZEZHVlZXII5r17/h6V8Xv73wu/8ADU+Ff/ldXzvRQB1Xxq+NXiX9ob4l6j4v8X6guqa/qiwpcXCWsNrHshhSCJEihRIo0SKKNFRFVVVAAOK5WiigD+gP/gph/wAG3vg//gpn+1VqHxT8QfEzxL4avLywtdOSw07TYJIoo4I9oJZ2yzElj0AwQMcZPz//AMQXXwy/6LV47/8ABVaf41+PlFAH7B/8QXXwy/6LV47/APBVaf4157/wcB/swW37Fv7Kv7JPwsstXn12z8E2HiPTre/ngEMtzGJNNZSygkBgGAODgkZwM4H5fUUAFfr1/wAGpupXGn3fx08ieaDcNA3eW5Xd/wAhPrivyFr9dP8Ag1Y/4+/jl9NA/wDcnQB+cP7YH7IHjD9jT4yav4V8UaVe28NtcyLp2otCwtdVtwx8uaJ8YYMuMjqpyCAQRXlNf1var4Si1CTLID+FUD8PrfP3B+VAH8mFFf1nf8K+t/7g/Kj/AIV9b/3B+VAH8mNFf1nf8K+t/wC4Pyo/4V9b/wBwflQB/JjRX9Z3/Cvrf+4Pyo/4V9b/ANwflQB/JjRX9Z3/AAr63/uD8qP+FfW/9wflQB/JjRX9Z3/Cvrf+4Pyo/wCFfW/9wflQB/JjRX9Z3/Cvrf8AuD8qP+FfW/8AcH5UAfyY0V/Wd/wr63/uD8qP+FfW/wDcH5UAfyY0V/Wd/wAK+t/7g/Kj/hX1v/cH5UAfyY0V/Wd/wr63/uD8qP8AhX1v/cH5UAfyY0V/Wd/wr63/ALg/Kj/hX1v/AHB+VAH8mNFf1nf8K+t/7g/Kj/hX1v8A3B+VAH8mkML3Myxxozu5CqqjJYnsBX7jf8G3/wCyJ4t+AHwg8beLvFmm3eiN8QJ7H+z7G7iMVwLa1WcrOyEZUSG5baDyQmcYYE/oTD4At0bOwflW9pmmLZRgKMCgCXU9SttG024vLyeC1tLSNpp55nCRwooJZ2Y8BQASSeABUWg67YeKtDs9T0y8tNR03UYEubS7tZVmguonUMkiOpKsrKQQwJBBBFfNN7+0B8SPHHxA+Ptp5Pw+i8BfCSWawNne6Pc3t74jV9Bt70Ru/wBqSKFUmn+YmKXzo22BYinmPneDPj38TfGviX4YeA/h7afDLwfZa78KrTxdLeXuiXN5aaNKJLWJba3sYbq33QFJGVV85DHtU5cDYYjO8+Tq1Fr0lGpPX/t2m3p+qFXkqTXN5/hKnH85r7/Jn1lijFfJnw3/AG0PiL8e/Cnw88NeGrbwbofxG8Rt4iTXdX1Gwub7RNNXQNRGmXk1vZpcwzTfaLp4vKja5QxxyMzu5jCSejfse/Gvx38TfFPxW8O+P4vCX9qfDjxNDoMF14fguILfUYW0yyuxcNHNI7Ru7XLHygzCMYTzJdvmv0eyldrsm/VKSi2v+3nbo9+xXK7cz/4bff7n/TR7bijFeLW37RutzS/tAg2ulf8AFqLkQ6RiKT/SB/YdnqH7/wCf5j5tw6/Js+QKOuWPAeHP2mfi98aPiH4O8L+Ev+Fd6B/wkXwx07xvf61q2mXmopp95cTBGgjs47qAzROu8DNxGYyuSZc7KwUrzVNb2i/lKM5r/wAlhL8uoq37q3P1V/xgvzqR/HsfVGK/J7W/jV8VvDX2T+0fFvxC0/8AtC2S9tftOqXkX2mB87JU3MNyNg4YcHBwa/RD9kP41a38bfhXdz+KbHTLDxX4a1vUPDWtLpjObG4urK4eFri3DkukUyqkqxszNGJNhdyhc/M/xW8KeAfH3iX4EeG/ES+LhrHiTwRounRXunXNvHa6Z5u+OB2ieNmuP3rEuA8W1AMFieP2zwcxeGpVMR7ekqsJKDvZO0VGpK6v0a17vRJXsj8r8TsPWqRoqnV9m486erSvzU42duzb2v321Pnn/hpD4if9D740/wDB3c//ABdXR8a/iqfDh1j/AIS34g/2QLkWZvv7UvPswnKlxF5m7bv2gttznAzjFdb4/wD2W9O+H0/w1sri8vpb7xRrmo6PqzJInlJ9l1L7HugGzK5XJ+YtzjoOK9M8f+AfB3wg/Zk+IGgasPEeo6N4b+KrWdhBa3UNvd3rJZSIoknaJ0jwm5yRC24qFAXduX92xGY5QvZfVsPGbnKy9xbKfs3b/t7a9lbV2R+SUsuzTmqKvWlH2aV/fejcHNde0Xe130V3Y8H0b40fFfxFb302n+LPiFfRaZAbq8e31S8lW0hBAMkhViETJA3HA5FJ4c+NfxV8Ya1BpukeLfiDqmo3RIhtbPVLyeaYgEkKisWOACeB0Br6L+FHwf8ACnwoufiG8V7r8/gvxV8LIvEUausR1OC2muIw0BYYjMu6NlD7QvIO04waH7H3wk0C3+M3wg+IHhQazZ6Xq+r6jo99p2q3UV3NZ3UNpJIrJPHFEJI3ideDEpRkYZYEEcFbPMrjRxFaGFjaCvFuCScvZufLLS6futdtN7tX3w+WY+pUpU5YiV5Ss0pP4bx95d9JX118tHb52/4aQ+In/Q++NP8Awd3P/wAXR/w0h8RP+h98af8Ag7uf/i69b+GH7JfhOfwJ4H1LxZqJiPjVZLqW6XxdpGjR6Ha+cYUkNvd5muzlJHbYYwAAoLNnHmfwu+EGmeMP2otJ8DXGqG+0i88QDSH1HTnQfaYfO8vzoWIdcMPmU/MOR1r3aOJyOr7bkoxtSUm/cj9ltP7nF6Oze6ummeRWjmlKnTqzqytPlt7z+0lKPrdNPS9tnZ6FD/hpD4if9D740/8AB3c//F0f8NIfET/offGn/g7uf/i69a1z4GfCXS/h34x8SoPiCYvA2vjQJbF9RtA+tPJuEUqTC3ItcGKZmVkmyAoDZJIuN+xJoFn8QfG0zale3HhHw1pWm6rZQXGr2OkXt5/aMavbwy3dzi2iKZbe+1t2wBUy2Bx/2rkKTdTDqNu8IrW8Fa+137SHl72+krdzy3OLpQrOV77Tb0TlGUvRSjJPrdaJpq/jP/DSHxE/6H3xp/4O7n/4uj/hpD4if9D740/8Hdz/APF17Lon7J3w8vfiDqfneIdQuPD1h4FuPFdzaaRrOn6pfaXdW7oklpJcQhreXPzMrARkh0yF2nMHg39lHwd8TW+G2r6ZJ4m0vRPG0euRXdldX8F1dWlxp9vLMjRzrbxo0b7Y8gxAj5gCcgglm2QxTm6Csldv2cbfDKdvN8sJbXWm+qvVPKs5qSUI1XzPZc7u9Yq/l8cbp2a10umk39hT42eM/F/7VXhbTtW8W+J9U0+4+1+ba3eqTzQy7bOdhuRmIOGAIyOoBr9E8V8Ef8E7vhLpz6l4W8d+de/2vH4tudBEO9fs3kNo13OW27d2/coGd2Mds8198V/O/jM8L/bsIYWKio00mkraqc77fLU/Z/C1V3k8p4iTk5TbV3fTlivzTExRilor8lP0gTFGKWigBMUtFFAHnWnfsy6DpjfFIx3ern/hbd0bvWN0sf8AozHT4NPxb/J8o8q3Rvn3/OWPTCiP4dfsu6B8MvGnhzXbC71iW78L+D4vBNqlxLG0cllHJE6yOFjBM2YlywIXBPy+npNFJJKSmt0kvkoyivujKS9GxVIqp8ev/Dxl+cYv5I+SfjZ+zd4E/Zx8LeD3ttQ+N+i6tpeva9qmk+LPBHhyTxJqulyardy3t7aT28Fhdo9pK8xCia0kRTbxEusqo56H/gm18ItT8DaL8TPFeoxeMIY/iZ4tOvWX/CWJ5Wu3UCWFnZ/a7uHagtnuHtXmW2EcQgjkjj8mHb5KfStFXCcoucv5lb5Xi/zittO6b1Km3JJed/nr/wDJPz87XT8L+Lv7B+kfFjxt4w1SPxv8QfCum/ETTV03xXoehXdnBY6/tt3tlneSS2kuoZxCyRl7aeHcsEQYMF58+vf2Q9WX9rnRrLw54q+JPgbSvCfwssPD+n+JNHFrJ5/k3sim3lF3az2MspjSNjugLpklCgds/WtFYqmlOMl0d/X3ZxX3c7t92wp++nfeyXp70JP7+RXOQ+BXwS0X9nn4Z2PhbQjfTWlrJNczXV9cG4vNRup5XnuLqeQ43SyzSSSMQAMudqqoCj89LD9t/WbEeE7k+EPAlxrfgbTI9L0TWJrO5N3ZpHHsjkIE4ildSS6+bG6qxyqiv06riv8Ahm74d/8AQg+C/wDwR23/AMRX6NwNxZl+T+3/ALQw7q+05bWdrWU016NStba2j0Pi+LeHMbmjpPB1lT5Oa91e93FrvqnG9976n50eEP2vtc8OaFotpqGh+GPE9x4a1OfVtHvtXguJLjTZ5nWSQr5c0aSKZV8zbKjjcSfard7+2hq2v6R4p07W/CfgrX9O8Xa+/iS8t7y3u18m6Zdv7l4rhJI1A9G3EFgWKkg/oZ/wzd8O/wDoQfBf/gjtv/iKP+Gbvh3/ANCD4L/8Edt/8RX6JLxb4fc+f6hK976StZ35tLPT3ve0trrufFrw5zpR5frkWvNN30a1vvo2tb6Ox+eem/tteJrPxtr2sT6P4Uv7fX9FTw6+kz2Ug06z05ChS2gjSRWRVCBQdxYZJzu+ao9L/bP8Q+G/F3gvUdH0Xwzo+n+AvtDaTo1tDcGxWS4DCaWQyTNPI7Bhy0vGxcAc5/RD/hm74d/9CD4L/wDBHbf/ABFH/DN3w7/6EHwX/wCCO2/+Ipf8RZ4een9nyta1uZWtyuO21+VuN97Nq+rD/iHWd3v9dV732e90/uvGOm2i00R+bfhz9pq60/wLoOga14V8I+L7TwtNLLpEmsw3JlsVkcO0X7ieJZYt4LbJlcfMR907a5T4bfEe++F3xL0jxTYRWcuoaLfR38Ec8Z8hpEbcAyoV+XPZSPbFfqf/AMM3fDv/AKEHwX/4I7b/AOIo/wCGbvh3/wBCD4L/APBHbf8AxFdkPGnJoRqQjgp2nfmXMrO929Nldtt2tdu71OSp4V5nUUYzxUXy2to+mi13dlor7LRH5jan8edX1XwP4n0CS200WfizW49eu3WN/NjnTzcLGd+An75sggngc9c9G37YniG88Rand3+leHNT07XNFtNC1LSLq3mNjewWsaJA7bZRKsqFFcOkikNkjA4r9Fv+Gbvh3/0IPgv/AMEdt/8AEUf8M3fDv/oQfBf/AII7b/4isp+MWRT+LAS+9f3dfJ+5Gz3XKmtTReGObq1sYtPJ7OTm16OTba63d9D81NK/aNvPDWra7Povhzwtoltr3hyfwzLZ2kE/kw28xBeRWeVpXmyPvyu/pjaFAt+Bf2tPFHw60rwPaaZFpKL4Bv7u/sXkt2drr7UAs8U4L7WjZAUwoU4Y/NnBH6Qf8M3fDv8A6EHwX/4I7b/4ij/hm74d/wDQg+C//BHbf/EUT8YciqR5amAlJPe8k7+6463392TWu92VT8M83ptSp4uMbbWTVttrbbLbsfEvwB+L13+0Lr+kfCW00+w+HPh/Vp9SvBfeD5Lmz1axuZNKvIDcQXM0szLIqy5ViDsMabcAYP6D6VYf2Vpdta+dcXP2aJYvOnffLLtAG527scZJ7k1z/h34JeDPCGsQ6jpPhHwxpeoW+7yrq00qCGaLcpU7XVQRlSQcHoSK6ivyTjfiHB5xj44vA0nTjypNN3balN3v58x+j8K5Nisswbw2LqKo+ZtNKySairW/7dCiiivjj6YKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooAKKKKACiiigAooooA//9k="\r
/>\r
<p></p>\r
<p>\r
	Go ahead: &gt; <strong><span style="color: rgb(68, 160, 49)">Try it here! </span></strong>&lt;\r
</p>\r
<h1>2) <strong>Slash</strong></h1>\r
<p>Type a space and a slash: " /" to bring up the menu:</p>\r
<img\r
	src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADkAAADrCAIAAABcjKn2AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAYESURBVHhe7d1NTuNIGMbxHGE2HIYroF4hcQOu0GKJhHKE9AFYhAPQZwA2LTFCiAUQYPCgCAQSICE+Fsw85XriOC47duy3/BG9/0ULh8TvL5VKFm0BvbvupFY/qdVPavXTsln3t3prgz88aLB86/Gvtd7PfR40Wq71ePCjt/WbB82WZ/291fsxOOZBw+VY93/21n61hDrf+mew1ttqxVYNm2dtz7vKNsfalo+qqGxrm95Vtixriz6qojKsLXtX2dKtrfqoikqzmkVt17vKlv3eal9q9ZNa/aRWP6nVT0tn/bfeONUpx4pHBmG3k/7xE89+e2vHpYozrVaJB4/H49fX16+vr+/v7/98hvNjCmZhokUnxOlWC8XTxSN5pnrDXExPcFOsEfTt7Y0PbSJMt1yyXGsEfX5+5oOaCwZIKEu1Yq/gC9696azKlrS2Z1FtkFCWsNoNcHV19fn5yfs2HSTEuVZsgNFo5PvjqXiQEJdqvby85B3bEXHdtuKN1SXrxcUF79WOiFOrcMSpVTji1CoccWoVjji1CkdcKethv9frH/Egt/Heem/n0HwVDNd768MgvHWRiKu8rnDnjJ9ay0bc0lvHw41wD5jXdNLGcGy+ZbYH4y1x68wTO9zhHbGh5j8V4ipZTbPretSP3c77pFoNdLLY471hE9ZY0KzvmZVNsZoXJGct4xEnbTXfisq0HvWjHVIk4kSt8dvbvq6Jr7Otdvlr368hBYWvKb829ftz1tUUcm15+4G4Uta6I06twhGnVuGIU6twxKlVOOLUKhxxahWOOLUKR5xahSNuaa1BEGxvb6+urq6srPwlF86Gc+LMOD8nzUZccevu7q4s0Q3nxxTOi0VcQStOYU+3ubl5cHDw8fHBb0iEs+GcOLMd4XKJK2LFS2NXdDAY8CY/4fyYglmJzUBcESt2Ek6B581jn9nVxUQehxFXxIqNj8fjZeKxzzAFszCRx2HEFbHaDSC7R7PCFMzCRB6HEVfEigcjHvjPHUecWivljiNOrZVyxxGn1kq544hTa6XcccSptVLuOOLKWaPrQVGxCxhRh/1FLgxFueOI82SdXJBpvdV8vTEcB4tdcItyxxHncQ+0x5pSa61dWle1mtxxxKk1rCVWr7njiFNrpdxxxKm1Uu444tRaKXcccWqtlDuOOLVWyh1HXBFrl/6vuEv/B9+laxtdumaEOnMtzoZT2NX1F87vQhFxxa0ILw12Eja+LBpnwzlx5sRLH0XcQtamIk6twhGnVuGIU6twxKlVOOLUKhxxahWOOLUKR5xahSNu+a051zaOpj/QG/2oX5WI82AdD3cmPz8YDMv9sHki4rysayz3niUizrN15ic+S0dcaWtKrtVs3DKX4xIR53FdDVRgsyLiPFnNwi/yE9vzI86H1f1uxYiTtwYlLxnPiTg/1tkqbwbiyllrjji1CkecWoUjTq3CEadW4YhTq3DEqVU44tQqHHFqFY44tQpHnFqFI06twhGnVuGIU6twxKlVOOLUKhxxahWOOLUKR9zSWxe/cpn1C4qDQhdtiFOrU9NW868t7jYXuiZNr4HNWM2vXbb192qxTq8Lm7Xh1yE0mm1MfBpTa+xGnqfePTC5jJi8fXoxMbImNkNde4AHCKbQGv+V1GEOcaq31W/NWldDnL+uOKxjv0YjY/Py96tZyOj5hOepY13NW9g287qHXDZd4/hyhtyw9eGR9z1Qd8SpVTji1CoccWoVjji1CkecWoUjTq3CEZdq7djfZO3S37qt57cNFAkS4lKto9Ho6emJ9206SIhzrUH4t5mvr69536aDhLiEFcGKt9f5+fnj4yPv3lwwQEKZa7XbAEt7dnb28vLCBzURpsMACWWpVru0+JQ9PT19eHjgQ+sNczEdBkgoc60ozsUzw6twf3///v7u+4MM58cUzMJEzLVQSMhKtaKIi5fAPvLk5ORv/2GKXR3MtVBIaMqyIsvF3r25ucEj8UGGz10bnrFsPO/lJaZgFiZibgKKMq02K7ZoG56uj3j2kIgSSluO1YZH1hmnOhWytiS1+kmtfuqO9e7uf8Z96BDVB+DsAAAAAElFTkSuQmCC"\r
/>\r
<p>\r
	You can also do regular\r
	<a target="_blank" rel="noopener noreferrer nofollow" href="https://https://tiptap.dev/"\r
		>TipTap menu</a\r
	>\r
	stuff, like add links and lists:\r
</p>\r
<p></p>\r
<ul data-type="taskList">\r
	<li data-checked="true" data-type="taskItem">\r
		<label><input type="checkbox" checked="checked" /><span></span></label>\r
		<div><p>flour</p></div>\r
	</li>\r
	<li data-checked="false" data-type="taskItem">\r
		<label><input type="checkbox" /><span></span></label>\r
		<div><p>baking powder</p></div>\r
	</li>\r
</ul>\r
<p></p>\r
<p>You can start a checklist by typing [ ] or [x]</p>\r
<h1><strong>3) Draw</strong></h1>\r
<p>\r
	You can add inline sketches to your notes by typing\r
	<strong>"/<span style="color: rgb(175, 18, 18)">draw</span>"</strong>\r
</p>\r
<p></p>\r
<svelte-excalidraw-component\r
	data-count="754"\r
	draw="W3sidHlwZSI6InJlY3RhbmdsZSIsInZlcnNpb24iOjU0LCJ2ZXJzaW9uTm9uY2UiOjE3NDE4NjM2MjMsImlzRGVsZXRlZCI6ZmFsc2UsImlkIjoiWVhfczRUaG51SklNOHJzUFdCOFNvIiwiZmlsbFN0eWxlIjoiaGFjaHVyZSIsInN0cm9rZVdpZHRoIjoxLCJzdHJva2VTdHlsZSI6InNvbGlkIiwicm91Z2huZXNzIjoxLCJvcGFjaXR5IjoxMDAsImFuZ2xlIjowLCJ4Ijo5OSwieSI6MTQ0LCJzdHJva2VDb2xvciI6IiMwMDAwMDAiLCJiYWNrZ3JvdW5kQ29sb3IiOiJ0cmFuc3BhcmVudCIsIndpZHRoIjoyNTMsImhlaWdodCI6MzYxLCJzZWVkIjo5MDM4MzMyNTEsImdyb3VwSWRzIjpbXSwicm91bmRuZXNzIjp7InR5cGUiOjN9LCJib3VuZEVsZW1lbnRzIjpbXSwidXBkYXRlZCI6MTY4MDEyNjQyMDQ3MiwibGluayI6bnVsbCwibG9ja2VkIjpmYWxzZX0seyJ0eXBlIjoiZWxsaXBzZSIsInZlcnNpb24iOjM5LCJ2ZXJzaW9uTm9uY2UiOjExNTc0MDk3MzcsImlzRGVsZXRlZCI6dHJ1ZSwiaWQiOiJ1TmZiRk5sb3pmdkpHaFNEVkltX3oiLCJmaWxsU3R5bGUiOiJoYWNodXJlIiwic3Ryb2tlV2lkdGgiOjEsInN0cm9rZVN0eWxlIjoic29saWQiLCJyb3VnaG5lc3MiOjEsIm9wYWNpdHkiOjEwMCwiYW5nbGUiOjAsIngiOjE1NSwieSI6MTkzLCJzdHJva2VDb2xvciI6IiMwMDAwMDAiLCJiYWNrZ3JvdW5kQ29sb3IiOiIjNDBjMDU3Iiwid2lkdGgiOjIyOS45OTk5OTk5OTk5OTk5NywiaGVpZ2h0IjoyMTIsInNlZWQiOjE0MTk4ODY4MjksImdyb3VwSWRzIjpbXSwicm91bmRuZXNzIjp7InR5cGUiOjJ9LCJib3VuZEVsZW1lbnRzIjpbXSwidXBkYXRlZCI6MTY4MDEyNjI5NTg4OCwibGluayI6bnVsbCwibG9ja2VkIjpmYWxzZX0seyJ0eXBlIjoidGV4dCIsInZlcnNpb24iOjIyLCJ2ZXJzaW9uTm9uY2UiOjM5MDgyODM1OSwiaXNEZWxldGVkIjp0cnVlLCJpZCI6Imk3QnE4NWFrZWhCWXlOWW8wTUw3USIsImZpbGxTdHlsZSI6ImhhY2h1cmUiLCJzdHJva2VXaWR0aCI6MSwic3Ryb2tlU3R5bGUiOiJzb2xpZCIsInJvdWdobmVzcyI6MSwib3BhY2l0eSI6MTAwLCJhbmdsZSI6MCwieCI6MTY5LCJ5IjoyODUuNSwic3Ryb2tlQ29sb3IiOiIjMDAwMDAwIiwiYmFja2dyb3VuZENvbG9yIjoidHJhbnNwYXJlbnQiLCJ3aWR0aCI6MjAyLCJoZWlnaHQiOjI3LCJzZWVkIjoxNDM0MjAyNzIxLCJncm91cElkcyI6W10sInJvdW5kbmVzcyI6bnVsbCwiYm91bmRFbGVtZW50cyI6W10sInVwZGF0ZWQiOjE2ODAxMjYyOTU4ODgsImxpbmsiOm51bGwsImxvY2tlZCI6ZmFsc2UsImZvbnRTaXplIjoyMCwiZm9udEZhbWlseSI6MSwidGV4dCI6IllvdXIgQW1hemluZyBTa2V0Y2giLCJiYXNlbGluZSI6MTksInRleHRBbGlnbiI6ImNlbnRlciIsInZlcnRpY2FsQWxpZ24iOiJtaWRkbGUiLCJjb250YWluZXJJZCI6InVOZmJGTmxvemZ2SkdoU0RWSW1feiIsIm9yaWdpbmFsVGV4dCI6IllvdXIgQW1hemluZyBTa2V0Y2gifSx7InR5cGUiOiJyZWN0YW5nbGUiLCJ2ZXJzaW9uIjo3NCwidmVyc2lvbk5vbmNlIjoxMDcxNjc1Njg5LCJpc0RlbGV0ZWQiOmZhbHNlLCJpZCI6Ik9vWjZLQ0FDNm1YUjNFSWpCYVQzUyIsImZpbGxTdHlsZSI6ImhhY2h1cmUiLCJzdHJva2VXaWR0aCI6MSwic3Ryb2tlU3R5bGUiOiJzb2xpZCIsInJvdWdobmVzcyI6MSwib3BhY2l0eSI6MTAwLCJhbmdsZSI6MCwieCI6MTIzLCJ5IjoxNjIsInN0cm9rZUNvbG9yIjoiIzAwMDAwMCIsImJhY2tncm91bmRDb2xvciI6IiM0MGMwNTciLCJ3aWR0aCI6MTg5LCJoZWlnaHQiOjkxLCJzZWVkIjo1MDkzNTkyNDEsImdyb3VwSWRzIjpbXSwicm91bmRuZXNzIjp7InR5cGUiOjN9LCJib3VuZEVsZW1lbnRzIjpbeyJ0eXBlIjoidGV4dCIsImlkIjoiV09yYnN6cnBIeDNmVVk1bEpvLS1vIn1dLCJ1cGRhdGVkIjoxNjgwMTI2NDIwNDcyLCJsaW5rIjpudWxsLCJsb2NrZWQiOmZhbHNlfSx7InR5cGUiOiJyZWN0YW5nbGUiLCJ2ZXJzaW9uIjoxMDIsInZlcnNpb25Ob25jZSI6MjEwODI1NTI0MSwiaXNEZWxldGVkIjpmYWxzZSwiaWQiOiJoUU04elRQcXN0a0gyN2oxa0NYdUMiLCJmaWxsU3R5bGUiOiJoYWNodXJlIiwic3Ryb2tlV2lkdGgiOjEsInN0cm9rZVN0eWxlIjoic29saWQiLCJyb3VnaG5lc3MiOjEsIm9wYWNpdHkiOjEwMCwiYW5nbGUiOjAsIngiOjEyNSwieSI6MjgxLCJzdHJva2VDb2xvciI6IiMwMDAwMDAiLCJiYWNrZ3JvdW5kQ29sb3IiOiIjNDBjMDU3Iiwid2lkdGgiOjE4OSwiaGVpZ2h0Ijo5MSwic2VlZCI6MTA0MzI0OTQxNywiZ3JvdXBJZHMiOltdLCJyb3VuZG5lc3MiOnsidHlwZSI6M30sImJvdW5kRWxlbWVudHMiOlt7InR5cGUiOiJ0ZXh0IiwiaWQiOiJIakxzbkdrQTZNbFJNaDJTVjFFT1cifV0sInVwZGF0ZWQiOjE2ODAxMjY0MjA0NzIsImxpbmsiOm51bGwsImxvY2tlZCI6ZmFsc2V9LHsidHlwZSI6InJlY3RhbmdsZSIsInZlcnNpb24iOjEyNywidmVyc2lvbk5vbmNlIjoxMDY2NDY4MDczLCJpc0RlbGV0ZWQiOmZhbHNlLCJpZCI6IkZja2Zmek1BUEVISHJNM3NySG85ayIsImZpbGxTdHlsZSI6ImhhY2h1cmUiLCJzdHJva2VXaWR0aCI6MSwic3Ryb2tlU3R5bGUiOiJzb2xpZCIsInJvdWdobmVzcyI6MSwib3BhY2l0eSI6MTAwLCJhbmdsZSI6MCwieCI6MTI3LCJ5IjozOTQsInN0cm9rZUNvbG9yIjoiIzAwMDAwMCIsImJhY2tncm91bmRDb2xvciI6IiM0MGMwNTciLCJ3aWR0aCI6MTg5LCJoZWlnaHQiOjkxLCJzZWVkIjo4NjEwMjI5MTksImdyb3VwSWRzIjpbXSwicm91bmRuZXNzIjp7InR5cGUiOjN9LCJib3VuZEVsZW1lbnRzIjpbeyJ0eXBlIjoidGV4dCIsImlkIjoiNGxiY1BrZTJQU3BhaVJmanVHZTFzIn1dLCJ1cGRhdGVkIjoxNjgwMTI2NDIwNDcyLCJsaW5rIjpudWxsLCJsb2NrZWQiOmZhbHNlfSx7InR5cGUiOiJ0ZXh0IiwidmVyc2lvbiI6NzYsInZlcnNpb25Ob25jZSI6MTIzNTg3MDQ3LCJpc0RlbGV0ZWQiOmZhbHNlLCJpZCI6IldPcmJzenJwSHgzZlVZNWxKby0tbyIsImZpbGxTdHlsZSI6ImhhY2h1cmUiLCJzdHJva2VXaWR0aCI6MSwic3Ryb2tlU3R5bGUiOiJzb2xpZCIsInJvdWdobmVzcyI6MSwib3BhY2l0eSI6MTAwLCJhbmdsZSI6MCwieCI6MTQ5LCJ5IjoxOTQsInN0cm9rZUNvbG9yIjoiIzAwMDAwMCIsImJhY2tncm91bmRDb2xvciI6IiM0MGMwNTciLCJ3aWR0aCI6MTM3LCJoZWlnaHQiOjI3LCJzZWVkIjoxOTMzOTY3OTc3LCJncm91cElkcyI6W10sInJvdW5kbmVzcyI6bnVsbCwiYm91bmRFbGVtZW50cyI6W10sInVwZGF0ZWQiOjE2ODAxMjY0MjA0NzIsImxpbmsiOm51bGwsImxvY2tlZCI6ZmFsc2UsImZvbnRTaXplIjoyMCwiZm9udEZhbWlseSI6MSwidGV4dCI6IkNvbnRleHQgTWVudSIsImJhc2VsaW5lIjoxOSwidGV4dEFsaWduIjoiY2VudGVyIiwidmVydGljYWxBbGlnbiI6Im1pZGRsZSIsImNvbnRhaW5lcklkIjoiT29aNktDQUM2bVhSM0VJakJhVDNTIiwib3JpZ2luYWxUZXh0IjoiQ29udGV4dCBNZW51In0seyJ0eXBlIjoidGV4dCIsInZlcnNpb24iOjExOCwidmVyc2lvbk5vbmNlIjo0ODYxNDMyMzksImlzRGVsZXRlZCI6ZmFsc2UsImlkIjoiSGpMc25Ha0E2TWxSTWgyU1YxRU9XIiwiZmlsbFN0eWxlIjoiaGFjaHVyZSIsInN0cm9rZVdpZHRoIjoxLCJzdHJva2VTdHlsZSI6InNvbGlkIiwicm91Z2huZXNzIjoxLCJvcGFjaXR5IjoxMDAsImFuZ2xlIjowLCJ4IjoxMzcuNSwieSI6MzEzLCJzdHJva2VDb2xvciI6IiMwMDAwMDAiLCJiYWNrZ3JvdW5kQ29sb3IiOiIjNDBjMDU3Iiwid2lkdGgiOjE2NCwiaGVpZ2h0IjoyNywic2VlZCI6MjAxMDYyNDA3LCJncm91cElkcyI6W10sInJvdW5kbmVzcyI6bnVsbCwiYm91bmRFbGVtZW50cyI6W10sInVwZGF0ZWQiOjE2ODAxMjY0MjA0NzIsImxpbmsiOm51bGwsImxvY2tlZCI6ZmFsc2UsImZvbnRTaXplIjoyMCwiZm9udEZhbWlseSI6MSwidGV4dCI6Ii9zbGFzaCBjb21tYW5kcyIsImJhc2VsaW5lIjoxOSwidGV4dEFsaWduIjoiY2VudGVyIiwidmVydGljYWxBbGlnbiI6Im1pZGRsZSIsImNvbnRhaW5lcklkIjoiaFFNOHpUUHFzdGtIMjdqMWtDWHVDIiwib3JpZ2luYWxUZXh0IjoiL3NsYXNoIGNvbW1hbmRzIn0seyJ0eXBlIjoidGV4dCIsInZlcnNpb24iOjE0NiwidmVyc2lvbk5vbmNlIjoyMzQxOTI3LCJpc0RlbGV0ZWQiOmZhbHNlLCJpZCI6IjRsYmNQa2UyUFNwYWlSZmp1R2UxcyIsImZpbGxTdHlsZSI6ImhhY2h1cmUiLCJzdHJva2VXaWR0aCI6MSwic3Ryb2tlU3R5bGUiOiJzb2xpZCIsInJvdWdobmVzcyI6MSwib3BhY2l0eSI6MTAwLCJhbmdsZSI6MCwieCI6MTkyLjUsInkiOjQyNiwic3Ryb2tlQ29sb3IiOiIjMDAwMDAwIiwiYmFja2dyb3VuZENvbG9yIjoiIzQwYzA1NyIsIndpZHRoIjo1OCwiaGVpZ2h0IjoyNywic2VlZCI6Mzg3OTk2NTcsImdyb3VwSWRzIjpbXSwicm91bmRuZXNzIjpudWxsLCJib3VuZEVsZW1lbnRzIjpbXSwidXBkYXRlZCI6MTY4MDEyNjQyMDQ3MiwibGluayI6bnVsbCwibG9ja2VkIjpmYWxzZSwiZm9udFNpemUiOjIwLCJmb250RmFtaWx5IjoxLCJ0ZXh0IjoiL2RyYXciLCJiYXNlbGluZSI6MTksInRleHRBbGlnbiI6ImNlbnRlciIsInZlcnRpY2FsQWxpZ24iOiJtaWRkbGUiLCJjb250YWluZXJJZCI6IkZja2Zmek1BUEVISHJNM3NySG85ayIsIm9yaWdpbmFsVGV4dCI6Ii9kcmF3In0seyJ0eXBlIjoidGV4dCIsInZlcnNpb24iOjMsInZlcnNpb25Ob25jZSI6MjAwMDMyMzcxOSwiaXNEZWxldGVkIjp0cnVlLCJpZCI6IjJfSmx5WXZ0V081Nk1jT0tOdlkzaiIsImZpbGxTdHlsZSI6ImhhY2h1cmUiLCJzdHJva2VXaWR0aCI6MSwic3Ryb2tlU3R5bGUiOiJzb2xpZCIsInJvdWdobmVzcyI6MSwib3BhY2l0eSI6MTAwLCJhbmdsZSI6MCwieCI6MTAxLCJ5Ijo5Miwic3Ryb2tlQ29sb3IiOiIjMDAwMDAwIiwiYmFja2dyb3VuZENvbG9yIjoiIzQwYzA1NyIsIndpZHRoIjoxMiwiaGVpZ2h0IjoyNSwic2VlZCI6MTcxNzE5MzA2MywiZ3JvdXBJZHMiOltdLCJyb3VuZG5lc3MiOm51bGwsImJvdW5kRWxlbWVudHMiOltdLCJ1cGRhdGVkIjoxNjgwMTI2NDAwOTA5LCJsaW5rIjpudWxsLCJsb2NrZWQiOmZhbHNlLCJmb250U2l6ZSI6MjAsImZvbnRGYW1pbHkiOjEsInRleHQiOiIiLCJiYXNlbGluZSI6MTgsInRleHRBbGlnbiI6ImxlZnQiLCJ2ZXJ0aWNhbEFsaWduIjoidG9wIiwiY29udGFpbmVySWQiOm51bGwsIm9yaWdpbmFsVGV4dCI6IiJ9LHsidHlwZSI6InRleHQiLCJ2ZXJzaW9uIjozMywidmVyc2lvbk5vbmNlIjo5NTkyOTk2MSwiaXNEZWxldGVkIjpmYWxzZSwiaWQiOiJrRm93aTM0cU1qaTktQUxEN3I0cGciLCJmaWxsU3R5bGUiOiJoYWNodXJlIiwic3Ryb2tlV2lkdGgiOjEsInN0cm9rZVN0eWxlIjoic29saWQiLCJyb3VnaG5lc3MiOjEsIm9wYWNpdHkiOjEwMCwiYW5nbGUiOjAsIngiOjU0LCJ5IjoxMDMsInN0cm9rZUNvbG9yIjoiIzAwMDAwMCIsImJhY2tncm91bmRDb2xvciI6IiM0MGMwNTciLCJ3aWR0aCI6NTgsImhlaWdodCI6MjUsInNlZWQiOjMxODk3NDgyNSwiZ3JvdXBJZHMiOltdLCJyb3VuZG5lc3MiOm51bGwsImJvdW5kRWxlbWVudHMiOltdLCJ1cGRhdGVkIjoxNjgwMTI2NDIzOTk3LCJsaW5rIjpudWxsLCJsb2NrZWQiOmZhbHNlLCJmb250U2l6ZSI6MjAsImZvbnRGYW1pbHkiOjEsInRleHQiOiIvZHJhdyIsImJhc2VsaW5lIjoxOCwidGV4dEFsaWduIjoibGVmdCIsInZlcnRpY2FsQWxpZ24iOiJ0b3AiLCJjb250YWluZXJJZCI6bnVsbCwib3JpZ2luYWxUZXh0IjoiL2RyYXcifV0="\r
></svelte-excalidraw-component>\r
<p></p>\r
<h1><strong>YOU OWN ALL OF YOUR DATA, SEE BELOW  </strong></h1>\r
`;function n7(t){let e,n;return e=new sk({props:{$$slots:{default:[i7]},$$scope:{ctx:t}}}),e.$on("update",function(){Jy(t[1])&&t[1].apply(this,arguments)}),{c(){ya(e.$$.fragment)},l(r){ba(e.$$.fragment,r)},m(r,i){xa(e,r,i),n=!0},p(r,i){t=r;const o={};i&4&&(o.$$scope={dirty:i,ctx:t}),e.$set(o)},i(r){n||(tr(e.$$.fragment,r),n=!0)},o(r){gr(e.$$.fragment,r),n=!1},d(r){wa(e,r)}}}function r7(t){let e,n;return e=new sk({props:{content:t[0]}}),e.$on("update",function(){Jy(t[1])&&t[1].apply(this,arguments)}),{c(){ya(e.$$.fragment)},l(r){ba(e.$$.fragment,r)},m(r,i){xa(e,r,i),n=!0},p(r,i){t=r;const o={};i&1&&(o.content=t[0]),e.$set(o)},i(r){n||(tr(e.$$.fragment,r),n=!0)},o(r){gr(e.$$.fragment,r),n=!1},d(r){wa(e,r)}}}function i7(t){let e,n;return{c(){e=new qk(!1),n=_a(),this.h()},l(r){e=Qk(r,!1),n=_a(),this.h()},h(){e.a=n},m(r,i){e.m(t7,r,i),Kn(r,n,i)},p:jr,d(r){r&&qt(n),r&&e.d()}}}function o7(t){let e,n,r,i,o,s,c,u,x,O,Y,b,m,a,v,E;const h=[r7,n7],f=[];function D(k,R){return k[0]?0:1}return c=D(t),u=f[c]=h[c](t),{c(){e=Rn("div"),n=Rn("div"),r=Rn("h1"),i=Ho("TapMenu + Svelte + Tailwind"),o=no(),s=Rn("div"),u.c(),x=no(),O=Rn("div"),Y=Rn("h1"),b=Ho("Your content:"),m=no(),a=Rn("pre"),v=Ho(t[0]),this.h()},l(k){e=zn(k,"DIV",{class:!0});var R=jn(e);n=zn(R,"DIV",{class:!0});var d=jn(n);r=zn(d,"H1",{class:!0});var Z=jn(r);i=Wo(Z,"TapMenu + Svelte + Tailwind"),Z.forEach(qt),o=ro(d),s=zn(d,"DIV",{class:!0});var B=jn(s);u.l(B),B.forEach(qt),d.forEach(qt),x=ro(R),O=zn(R,"DIV",{class:!0});var ee=jn(O);Y=zn(ee,"H1",{class:!0});var he=jn(Y);b=Wo(he,"Your content:"),he.forEach(qt),m=ro(ee),a=zn(ee,"PRE",{class:!0});var N=jn(a);v=Wo(N,t[0]),N.forEach(qt),ee.forEach(qt),R.forEach(qt),this.h()},h(){un(r,"class","svelte-1h6jt2o"),un(s,"class","bg-neutral-200 p-2 svelte-1h6jt2o"),un(n,"class","border rounded p-2 my-6 svelte-1h6jt2o"),un(Y,"class","svelte-1h6jt2o"),un(a,"class","whitespace-pre-wrap svelte-1h6jt2o"),un(O,"class","border rounded p-2 svelte-1h6jt2o"),un(e,"class","p-8 svelte-1h6jt2o")},m(k,R){Kn(k,e,R),In(e,n),In(n,r),In(r,i),In(n,o),In(n,s),f[c].m(s,null),In(e,x),In(e,O),In(O,Y),In(Y,b),In(O,m),In(O,a),In(a,v),E=!0},p(k,[R]){let d=c;c=D(k),c===d?f[c].p(k,R):(dd(),gr(f[d],1,1,()=>{f[d]=null}),fd(),u=f[c],u?u.p(k,R):(u=f[c]=h[c](k),u.c()),tr(u,1),u.m(s,null)),(!E||R&1)&&Yy(v,k[0])},i(k){E||(tr(u),E=!0)},o(k){gr(u),E=!1},d(k){k&&qt(e),f[c].d()}}}const Hy="content";function a7(t,e,n){let r="",i=o=>n(0,r=o.detail);return Ef(()=>{n(1,i=s=>{n(0,r=s.detail),localStorage.setItem(Hy,s.detail)});const o=localStorage.getItem(Hy);o&&(n(0,r=o),console.log("Context set to ",{content:r}))}),[r,i]}class d7 extends To{constructor(e){super(),Ao(this,e,a7,o7,fo,{})}}export{d7 as default};
